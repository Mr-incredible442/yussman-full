function Q0(t,n){for(var s=0;s<n.length;s++){const r=n[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var J0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function X0(t){if(t.__esModule)return t;var n=t.default;if(typeof n=="function"){var s=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),s}var Wj={exports:{}},vd={},Vj={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=Symbol.for("react.element"),Z0=Symbol.for("react.portal"),eC=Symbol.for("react.fragment"),tC=Symbol.for("react.strict_mode"),nC=Symbol.for("react.profiler"),sC=Symbol.for("react.provider"),rC=Symbol.for("react.context"),aC=Symbol.for("react.forward_ref"),iC=Symbol.for("react.suspense"),oC=Symbol.for("react.memo"),lC=Symbol.for("react.lazy"),px=Symbol.iterator;function cC(t){return t===null||typeof t!="object"?null:(t=px&&t[px]||t["@@iterator"],typeof t=="function"?t:null)}var Qj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jj=Object.assign,Xj={};function Ji(t,n,s){this.props=t,this.context=n,this.refs=Xj,this.updater=s||Qj}Ji.prototype.isReactComponent={};Ji.prototype.setState=function(t,n){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,n,"setState")};Ji.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zj(){}Zj.prototype=Ji.prototype;function Sf(t,n,s){this.props=t,this.context=n,this.refs=Xj,this.updater=s||Qj}var bf=Sf.prototype=new Zj;bf.constructor=Sf;Jj(bf,Ji.prototype);bf.isPureReactComponent=!0;var jx=Array.isArray,eg=Object.prototype.hasOwnProperty,Cf={current:null},tg={key:!0,ref:!0,__self:!0,__source:!0};function ng(t,n,s){var r,a={},i=null,o=null;if(n!=null)for(r in n.ref!==void 0&&(o=n.ref),n.key!==void 0&&(i=""+n.key),n)eg.call(n,r)&&!tg.hasOwnProperty(r)&&(a[r]=n[r]);var c=arguments.length-2;if(c===1)a.children=s;else if(1<c){for(var u=Array(c),h=0;h<c;h++)u[h]=arguments[h+2];a.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)a[r]===void 0&&(a[r]=c[r]);return{$$typeof:Al,type:t,key:i,ref:o,props:a,_owner:Cf.current}}function dC(t,n){return{$$typeof:Al,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}function Nf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Al}function uC(t){var n={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return n[s]})}var gx=/\/+/g;function su(t,n){return typeof t=="object"&&t!==null&&t.key!=null?uC(""+t.key):n.toString(36)}function yc(t,n,s,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Al:case Z0:o=!0}}if(o)return o=t,a=a(o),t=r===""?"."+su(o,0):r,jx(a)?(s="",t!=null&&(s=t.replace(gx,"$&/")+"/"),yc(a,n,s,"",function(h){return h})):a!=null&&(Nf(a)&&(a=dC(a,s+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(gx,"$&/")+"/")+t)),n.push(a)),1;if(o=0,r=r===""?".":r+":",jx(t))for(var c=0;c<t.length;c++){i=t[c];var u=r+su(i,c);o+=yc(i,n,s,u,a)}else if(u=cC(t),typeof u=="function")for(t=u.call(t),c=0;!(i=t.next()).done;)i=i.value,u=r+su(i,c++),o+=yc(i,n,s,u,a);else if(i==="object")throw n=String(t),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return o}function Yl(t,n,s){if(t==null)return t;var r=[],a=0;return yc(t,r,"","",function(i){return n.call(s,i,a++)}),r}function hC(t){if(t._status===-1){var n=t._result;n=n(),n.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=n)}if(t._status===1)return t._result.default;throw t._result}var Xn={current:null},vc={transition:null},fC={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:vc,ReactCurrentOwner:Cf};at.Children={map:Yl,forEach:function(t,n,s){Yl(t,function(){n.apply(this,arguments)},s)},count:function(t){var n=0;return Yl(t,function(){n++}),n},toArray:function(t){return Yl(t,function(n){return n})||[]},only:function(t){if(!Nf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};at.Component=Ji;at.Fragment=eC;at.Profiler=nC;at.PureComponent=Sf;at.StrictMode=tC;at.Suspense=iC;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fC;at.cloneElement=function(t,n,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Jj({},t.props),a=t.key,i=t.ref,o=t._owner;if(n!=null){if(n.ref!==void 0&&(i=n.ref,o=Cf.current),n.key!==void 0&&(a=""+n.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in n)eg.call(n,u)&&!tg.hasOwnProperty(u)&&(r[u]=n[u]===void 0&&c!==void 0?c[u]:n[u])}var u=arguments.length-2;if(u===1)r.children=s;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Al,type:t.type,key:a,ref:i,props:r,_owner:o}};at.createContext=function(t){return t={$$typeof:rC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sC,_context:t},t.Consumer=t};at.createElement=ng;at.createFactory=function(t){var n=ng.bind(null,t);return n.type=t,n};at.createRef=function(){return{current:null}};at.forwardRef=function(t){return{$$typeof:aC,render:t}};at.isValidElement=Nf;at.lazy=function(t){return{$$typeof:lC,_payload:{_status:-1,_result:t},_init:hC}};at.memo=function(t,n){return{$$typeof:oC,type:t,compare:n===void 0?null:n}};at.startTransition=function(t){var n=vc.transition;vc.transition={};try{t()}finally{vc.transition=n}};at.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};at.useCallback=function(t,n){return Xn.current.useCallback(t,n)};at.useContext=function(t){return Xn.current.useContext(t)};at.useDebugValue=function(){};at.useDeferredValue=function(t){return Xn.current.useDeferredValue(t)};at.useEffect=function(t,n){return Xn.current.useEffect(t,n)};at.useId=function(){return Xn.current.useId()};at.useImperativeHandle=function(t,n,s){return Xn.current.useImperativeHandle(t,n,s)};at.useInsertionEffect=function(t,n){return Xn.current.useInsertionEffect(t,n)};at.useLayoutEffect=function(t,n){return Xn.current.useLayoutEffect(t,n)};at.useMemo=function(t,n){return Xn.current.useMemo(t,n)};at.useReducer=function(t,n,s){return Xn.current.useReducer(t,n,s)};at.useRef=function(t){return Xn.current.useRef(t)};at.useState=function(t){return Xn.current.useState(t)};at.useSyncExternalStore=function(t,n,s){return Xn.current.useSyncExternalStore(t,n,s)};at.useTransition=function(){return Xn.current.useTransition()};at.version="18.2.0";Vj.exports=at;var l=Vj.exports;const Pt=Qi(l),mC=Q0({__proto__:null,default:Pt},[l]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xC=l,pC=Symbol.for("react.element"),jC=Symbol.for("react.fragment"),gC=Object.prototype.hasOwnProperty,yC=xC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vC={key:!0,ref:!0,__self:!0,__source:!0};function sg(t,n,s){var r,a={},i=null,o=null;s!==void 0&&(i=""+s),n.key!==void 0&&(i=""+n.key),n.ref!==void 0&&(o=n.ref);for(r in n)gC.call(n,r)&&!vC.hasOwnProperty(r)&&(a[r]=n[r]);if(t&&t.defaultProps)for(r in n=t.defaultProps,n)a[r]===void 0&&(a[r]=n[r]);return{$$typeof:pC,type:t,key:i,ref:o,props:a,_owner:yC.current}}vd.Fragment=jC;vd.jsx=sg;vd.jsxs=sg;Wj.exports=vd;var e=Wj.exports,Ju={},rg={exports:{}},ys={},ag={exports:{}},ig={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function n(z,I){var M=z.length;z.push(I);e:for(;0<M;){var fe=M-1>>>1,je=z[fe];if(0<a(je,I))z[fe]=I,z[M]=je,M=fe;else break e}}function s(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var I=z[0],M=z.pop();if(M!==I){z[0]=M;e:for(var fe=0,je=z.length,Ae=je>>>1;fe<Ae;){var ce=2*(fe+1)-1,oe=z[ce],Pe=ce+1,Ze=z[Pe];if(0>a(oe,M))Pe<je&&0>a(Ze,oe)?(z[fe]=Ze,z[Pe]=M,fe=Pe):(z[fe]=oe,z[ce]=M,fe=ce);else if(Pe<je&&0>a(Ze,M))z[fe]=Ze,z[Pe]=M,fe=Pe;else break e}}return I}function a(z,I){var M=z.sortIndex-I.sortIndex;return M!==0?M:z.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],h=[],d=1,x=null,j=3,v=!1,f=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var I=s(h);I!==null;){if(I.callback===null)r(h);else if(I.startTime<=z)r(h),I.sortIndex=I.expirationTime,n(u,I);else break;I=s(h)}}function y(z){if(p=!1,E(z),!f)if(s(u)!==null)f=!0,te(w);else{var I=s(h);I!==null&&G(y,I.startTime-z)}}function w(z,I){f=!1,p&&(p=!1,k(S),S=-1),v=!0;var M=j;try{for(E(I),x=s(u);x!==null&&(!(x.expirationTime>I)||z&&!P());){var fe=x.callback;if(typeof fe=="function"){x.callback=null,j=x.priorityLevel;var je=fe(x.expirationTime<=I);I=t.unstable_now(),typeof je=="function"?x.callback=je:x===s(u)&&r(u),E(I)}else r(u);x=s(u)}if(x!==null)var Ae=!0;else{var ce=s(h);ce!==null&&G(y,ce.startTime-I),Ae=!1}return Ae}finally{x=null,j=M,v=!1}}var D=!1,C=null,S=-1,T=5,B=-1;function P(){return!(t.unstable_now()-B<T)}function R(){if(C!==null){var z=t.unstable_now();B=z;var I=!0;try{I=C(!0,z)}finally{I?$():(D=!1,C=null)}}else D=!1}var $;if(typeof N=="function")$=function(){N(R)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,W=F.port2;F.port1.onmessage=R,$=function(){W.postMessage(null)}}else $=function(){b(R,0)};function te(z){C=z,D||(D=!0,$())}function G(z,I){S=b(function(){z(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){f||v||(f=!0,te(w))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return s(u)},t.unstable_next=function(z){switch(j){case 1:case 2:case 3:var I=3;break;default:I=j}var M=j;j=I;try{return z()}finally{j=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,I){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var M=j;j=z;try{return I()}finally{j=M}},t.unstable_scheduleCallback=function(z,I,M){var fe=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?fe+M:fe):M=fe,z){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=M+je,z={id:d++,callback:I,priorityLevel:z,startTime:M,expirationTime:je,sortIndex:-1},M>fe?(z.sortIndex=M,n(h,z),s(u)===null&&z===s(h)&&(p?(k(S),S=-1):p=!0,G(y,M-fe))):(z.sortIndex=je,n(u,z),f||v||(f=!0,te(w))),z},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(z){var I=j;return function(){var M=j;j=I;try{return z.apply(this,arguments)}finally{j=M}}}})(ig);ag.exports=ig;var SC=ag.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og=l,js=SC;function ne(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lg=new Set,cl={};function ti(t,n){Fi(t,n),Fi(t+"Capture",n)}function Fi(t,n){for(cl[t]=n,t=0;t<n.length;t++)lg.add(n[t])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xu=Object.prototype.hasOwnProperty,bC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yx={},vx={};function CC(t){return Xu.call(vx,t)?!0:Xu.call(yx,t)?!1:bC.test(t)?vx[t]=!0:(yx[t]=!0,!1)}function NC(t,n,s,r){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wC(t,n,s,r){if(n===null||typeof n>"u"||NC(t,n,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Zn(t,n,s,r,a,i,o){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=t,this.type=n,this.sanitizeURL=i,this.removeEmptyString=o}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rn[t]=new Zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];Rn[n]=new Zn(n,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rn[t]=new Zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rn[t]=new Zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rn[t]=new Zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rn[t]=new Zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rn[t]=new Zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rn[t]=new Zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rn[t]=new Zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var wf=/[\-:]([a-z])/g;function kf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(wf,kf);Rn[n]=new Zn(n,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(wf,kf);Rn[n]=new Zn(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(wf,kf);Rn[n]=new Zn(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rn[t]=new Zn(t,1,!1,t.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new Zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rn[t]=new Zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lf(t,n,s,r){var a=Rn.hasOwnProperty(n)?Rn[n]:null;(a!==null?a.type!==0:r||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(wC(n,s,a,r)&&(s=null),r||a===null?CC(n)&&(s===null?t.removeAttribute(n):t.setAttribute(n,""+s)):a.mustUseProperty?t[a.propertyName]=s===null?a.type===3?!1:"":s:(n=a.attributeName,r=a.attributeNamespace,s===null?t.removeAttribute(n):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?t.setAttributeNS(r,n,s):t.setAttribute(n,s))))}var qr=og.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wl=Symbol.for("react.element"),yi=Symbol.for("react.portal"),vi=Symbol.for("react.fragment"),Ef=Symbol.for("react.strict_mode"),Zu=Symbol.for("react.profiler"),cg=Symbol.for("react.provider"),dg=Symbol.for("react.context"),Df=Symbol.for("react.forward_ref"),eh=Symbol.for("react.suspense"),th=Symbol.for("react.suspense_list"),$f=Symbol.for("react.memo"),na=Symbol.for("react.lazy"),ug=Symbol.for("react.offscreen"),Sx=Symbol.iterator;function ko(t){return t===null||typeof t!="object"?null:(t=Sx&&t[Sx]||t["@@iterator"],typeof t=="function"?t:null)}var Jt=Object.assign,ru;function qo(t){if(ru===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ru=n&&n[1]||""}return`
`+ru+t}var au=!1;function iu(t,n){if(!t||au)return"";au=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(h){var r=h}Reflect.construct(t,[],n)}else{try{n.call()}catch(h){r=h}t.call(n.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var a=h.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,c=i.length-1;1<=o&&0<=c&&a[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(a[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||a[o]!==i[c]){var u=`
`+a[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=c);break}}}finally{au=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?qo(t):""}function kC(t){switch(t.tag){case 5:return qo(t.type);case 16:return qo("Lazy");case 13:return qo("Suspense");case 19:return qo("SuspenseList");case 0:case 2:case 15:return t=iu(t.type,!1),t;case 11:return t=iu(t.type.render,!1),t;case 1:return t=iu(t.type,!0),t;default:return""}}function nh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vi:return"Fragment";case yi:return"Portal";case Zu:return"Profiler";case Ef:return"StrictMode";case eh:return"Suspense";case th:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dg:return(t.displayName||"Context")+".Consumer";case cg:return(t._context.displayName||"Context")+".Provider";case Df:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $f:return n=t.displayName||null,n!==null?n:nh(t.type)||"Memo";case na:n=t._payload,t=t._init;try{return nh(t(n))}catch{}}return null}function LC(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nh(n);case 8:return n===Ef?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function va(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hg(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function EC(t){var n=hg(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),r=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Vl(t){t._valueTracker||(t._valueTracker=EC(t))}function fg(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return t&&(r=hg(t)?t.checked?"true":"false":t.value),t=r,t!==s?(n.setValue(t),!0):!1}function Fc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sh(t,n){var s=n.checked;return Jt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function bx(t,n){var s=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;s=va(n.value!=null?n.value:s),t._wrapperState={initialChecked:r,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function mg(t,n){n=n.checked,n!=null&&Lf(t,"checked",n,!1)}function rh(t,n){mg(t,n);var s=va(n.value),r=n.type;if(s!=null)r==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?ah(t,n.type,s):n.hasOwnProperty("defaultValue")&&ah(t,n.type,va(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Cx(t,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,s||n===t.value||(t.value=n),t.defaultValue=n}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function ah(t,n,s){(n!=="number"||Fc(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Uo=Array.isArray;function Ti(t,n,s,r){if(t=t.options,n){n={};for(var a=0;a<s.length;a++)n["$"+s[a]]=!0;for(s=0;s<t.length;s++)a=n.hasOwnProperty("$"+t[s].value),t[s].selected!==a&&(t[s].selected=a),a&&r&&(t[s].defaultSelected=!0)}else{for(s=""+va(s),n=null,a=0;a<t.length;a++){if(t[a].value===s){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}n!==null||t[a].disabled||(n=t[a])}n!==null&&(n.selected=!0)}}function ih(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Jt({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nx(t,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(ne(92));if(Uo(s)){if(1<s.length)throw Error(ne(93));s=s[0]}n=s}n==null&&(n=""),s=n}t._wrapperState={initialValue:va(s)}}function xg(t,n){var s=va(n.value),r=va(n.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),n.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),r!=null&&(t.defaultValue=""+r)}function wx(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function pg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oh(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?pg(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ql,jg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,r,a){MSApp.execUnsafeLocalFunction(function(){return t(n,s,r,a)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Ql=Ql||document.createElement("div"),Ql.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ql.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function dl(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DC=["Webkit","ms","Moz","O"];Object.keys(Qo).forEach(function(t){DC.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Qo[n]=Qo[t]})});function gg(t,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Qo.hasOwnProperty(t)&&Qo[t]?(""+n).trim():n+"px"}function yg(t,n){t=t.style;for(var s in n)if(n.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=gg(s,n[s],r);s==="float"&&(s="cssFloat"),r?t.setProperty(s,a):t[s]=a}}var $C=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lh(t,n){if(n){if($C[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ne(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ne(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ne(62))}}function ch(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dh=null;function Tf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uh=null,Oi=null,Ai=null;function kx(t){if(t=Rl(t)){if(typeof uh!="function")throw Error(ne(280));var n=t.stateNode;n&&(n=wd(n),uh(t.stateNode,t.type,n))}}function vg(t){Oi?Ai?Ai.push(t):Ai=[t]:Oi=t}function Sg(){if(Oi){var t=Oi,n=Ai;if(Ai=Oi=null,kx(t),n)for(t=0;t<n.length;t++)kx(n[t])}}function bg(t,n){return t(n)}function Cg(){}var ou=!1;function Ng(t,n,s){if(ou)return t(n,s);ou=!0;try{return bg(t,n,s)}finally{ou=!1,(Oi!==null||Ai!==null)&&(Cg(),Sg())}}function ul(t,n){var s=t.stateNode;if(s===null)return null;var r=wd(s);if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(ne(231,n,typeof s));return s}var hh=!1;if(Fr)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){hh=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{hh=!1}function TC(t,n,s,r,a,i,o,c,u){var h=Array.prototype.slice.call(arguments,3);try{n.apply(s,h)}catch(d){this.onError(d)}}var Jo=!1,Pc=null,Mc=!1,fh=null,OC={onError:function(t){Jo=!0,Pc=t}};function AC(t,n,s,r,a,i,o,c,u){Jo=!1,Pc=null,TC.apply(OC,arguments)}function BC(t,n,s,r,a,i,o,c,u){if(AC.apply(this,arguments),Jo){if(Jo){var h=Pc;Jo=!1,Pc=null}else throw Error(ne(198));Mc||(Mc=!0,fh=h)}}function ni(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function wg(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Lx(t){if(ni(t)!==t)throw Error(ne(188))}function _C(t){var n=t.alternate;if(!n){if(n=ni(t),n===null)throw Error(ne(188));return n!==t?null:t}for(var s=t,r=n;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return Lx(a),t;if(i===r)return Lx(a),n;i=i.sibling}throw Error(ne(188))}if(s.return!==r.return)s=a,r=i;else{for(var o=!1,c=a.child;c;){if(c===s){o=!0,s=a,r=i;break}if(c===r){o=!0,r=a,s=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===s){o=!0,s=i,r=a;break}if(c===r){o=!0,r=i,s=a;break}c=c.sibling}if(!o)throw Error(ne(189))}}if(s.alternate!==r)throw Error(ne(190))}if(s.tag!==3)throw Error(ne(188));return s.stateNode.current===s?t:n}function kg(t){return t=_C(t),t!==null?Lg(t):null}function Lg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Lg(t);if(n!==null)return n;t=t.sibling}return null}var Eg=js.unstable_scheduleCallback,Ex=js.unstable_cancelCallback,RC=js.unstable_shouldYield,IC=js.unstable_requestPaint,an=js.unstable_now,FC=js.unstable_getCurrentPriorityLevel,Of=js.unstable_ImmediatePriority,Dg=js.unstable_UserBlockingPriority,zc=js.unstable_NormalPriority,PC=js.unstable_LowPriority,$g=js.unstable_IdlePriority,Sd=null,hr=null;function MC(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Sd,t,void 0,(t.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:KC,zC=Math.log,HC=Math.LN2;function KC(t){return t>>>=0,t===0?32:31-(zC(t)/HC|0)|0}var Jl=64,Xl=4194304;function Go(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hc(t,n){var s=t.pendingLanes;if(s===0)return 0;var r=0,a=t.suspendedLanes,i=t.pingedLanes,o=s&268435455;if(o!==0){var c=o&~a;c!==0?r=Go(c):(i&=o,i!==0&&(r=Go(i)))}else o=s&~a,o!==0?r=Go(o):i!==0&&(r=Go(i));if(r===0)return 0;if(n!==0&&n!==r&&!(n&a)&&(a=r&-r,i=n&-n,a>=i||a===16&&(i&4194240)!==0))return n;if(r&4&&(r|=s&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=r;0<n;)s=31-tr(n),a=1<<s,r|=t[s],n&=~a;return r}function qC(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UC(t,n){for(var s=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tr(i),c=1<<o,u=a[o];u===-1?(!(c&s)||c&r)&&(a[o]=qC(c,n)):u<=n&&(t.expiredLanes|=c),i&=~c}}function mh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tg(){var t=Jl;return Jl<<=1,!(Jl&4194240)&&(Jl=64),t}function lu(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Bl(t,n,s){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-tr(n),t[n]=s}function GC(t,n){var s=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<s;){var a=31-tr(s),i=1<<a;n[a]=0,r[a]=-1,t[a]=-1,s&=~i}}function Af(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var r=31-tr(s),a=1<<r;a&n|t[r]&n&&(t[r]|=n),s&=~a}}var yt=0;function Og(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ag,Bf,Bg,_g,Rg,xh=!1,Zl=[],da=null,ua=null,ha=null,hl=new Map,fl=new Map,aa=[],YC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dx(t,n){switch(t){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function Eo(t,n,s,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},n!==null&&(n=Rl(n),n!==null&&Bf(n)),t):(t.eventSystemFlags|=r,n=t.targetContainers,a!==null&&n.indexOf(a)===-1&&n.push(a),t)}function WC(t,n,s,r,a){switch(n){case"focusin":return da=Eo(da,t,n,s,r,a),!0;case"dragenter":return ua=Eo(ua,t,n,s,r,a),!0;case"mouseover":return ha=Eo(ha,t,n,s,r,a),!0;case"pointerover":var i=a.pointerId;return hl.set(i,Eo(hl.get(i)||null,t,n,s,r,a)),!0;case"gotpointercapture":return i=a.pointerId,fl.set(i,Eo(fl.get(i)||null,t,n,s,r,a)),!0}return!1}function Ig(t){var n=Ma(t.target);if(n!==null){var s=ni(n);if(s!==null){if(n=s.tag,n===13){if(n=wg(s),n!==null){t.blockedOn=n,Rg(t.priority,function(){Bg(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=ph(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);dh=r,s.target.dispatchEvent(r),dh=null}else return n=Rl(s),n!==null&&Bf(n),t.blockedOn=s,!1;n.shift()}return!0}function $x(t,n,s){Sc(t)&&s.delete(n)}function VC(){xh=!1,da!==null&&Sc(da)&&(da=null),ua!==null&&Sc(ua)&&(ua=null),ha!==null&&Sc(ha)&&(ha=null),hl.forEach($x),fl.forEach($x)}function Do(t,n){t.blockedOn===n&&(t.blockedOn=null,xh||(xh=!0,js.unstable_scheduleCallback(js.unstable_NormalPriority,VC)))}function ml(t){function n(a){return Do(a,t)}if(0<Zl.length){Do(Zl[0],t);for(var s=1;s<Zl.length;s++){var r=Zl[s];r.blockedOn===t&&(r.blockedOn=null)}}for(da!==null&&Do(da,t),ua!==null&&Do(ua,t),ha!==null&&Do(ha,t),hl.forEach(n),fl.forEach(n),s=0;s<aa.length;s++)r=aa[s],r.blockedOn===t&&(r.blockedOn=null);for(;0<aa.length&&(s=aa[0],s.blockedOn===null);)Ig(s),s.blockedOn===null&&aa.shift()}var Bi=qr.ReactCurrentBatchConfig,Kc=!0;function QC(t,n,s,r){var a=yt,i=Bi.transition;Bi.transition=null;try{yt=1,_f(t,n,s,r)}finally{yt=a,Bi.transition=i}}function JC(t,n,s,r){var a=yt,i=Bi.transition;Bi.transition=null;try{yt=4,_f(t,n,s,r)}finally{yt=a,Bi.transition=i}}function _f(t,n,s,r){if(Kc){var a=ph(t,n,s,r);if(a===null)gu(t,n,r,qc,s),Dx(t,r);else if(WC(a,t,n,s,r))r.stopPropagation();else if(Dx(t,r),n&4&&-1<YC.indexOf(t)){for(;a!==null;){var i=Rl(a);if(i!==null&&Ag(i),i=ph(t,n,s,r),i===null&&gu(t,n,r,qc,s),i===a)break;a=i}a!==null&&r.stopPropagation()}else gu(t,n,r,null,s)}}var qc=null;function ph(t,n,s,r){if(qc=null,t=Tf(r),t=Ma(t),t!==null)if(n=ni(t),n===null)t=null;else if(s=n.tag,s===13){if(t=wg(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return qc=t,null}function Fg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FC()){case Of:return 1;case Dg:return 4;case zc:case PC:return 16;case $g:return 536870912;default:return 16}default:return 16}}var oa=null,Rf=null,bc=null;function Pg(){if(bc)return bc;var t,n=Rf,s=n.length,r,a="value"in oa?oa.value:oa.textContent,i=a.length;for(t=0;t<s&&n[t]===a[t];t++);var o=s-t;for(r=1;r<=o&&n[s-r]===a[i-r];r++);return bc=a.slice(t,1<r?1-r:void 0)}function Cc(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ec(){return!0}function Tx(){return!1}function vs(t){function n(s,r,a,i,o){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(s=t[c],this[c]=s?s(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ec:Tx,this.isPropagationStopped=Tx,this}return Jt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},If=vs(Xi),_l=Jt({},Xi,{view:0,detail:0}),XC=vs(_l),cu,du,$o,bd=Jt({},_l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ff,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$o&&($o&&t.type==="mousemove"?(cu=t.screenX-$o.screenX,du=t.screenY-$o.screenY):du=cu=0,$o=t),cu)},movementY:function(t){return"movementY"in t?t.movementY:du}}),Ox=vs(bd),ZC=Jt({},bd,{dataTransfer:0}),eN=vs(ZC),tN=Jt({},_l,{relatedTarget:0}),uu=vs(tN),nN=Jt({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),sN=vs(nN),rN=Jt({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aN=vs(rN),iN=Jt({},Xi,{data:0}),Ax=vs(iN),oN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dN(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=cN[t])?!!n[t]:!1}function Ff(){return dN}var uN=Jt({},_l,{key:function(t){if(t.key){var n=oN[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Cc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ff,charCode:function(t){return t.type==="keypress"?Cc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hN=vs(uN),fN=Jt({},bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bx=vs(fN),mN=Jt({},_l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ff}),xN=vs(mN),pN=Jt({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),jN=vs(pN),gN=Jt({},bd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yN=vs(gN),vN=[9,13,27,32],Pf=Fr&&"CompositionEvent"in window,Xo=null;Fr&&"documentMode"in document&&(Xo=document.documentMode);var SN=Fr&&"TextEvent"in window&&!Xo,Mg=Fr&&(!Pf||Xo&&8<Xo&&11>=Xo),_x=String.fromCharCode(32),Rx=!1;function zg(t,n){switch(t){case"keyup":return vN.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Si=!1;function bN(t,n){switch(t){case"compositionend":return Hg(n);case"keypress":return n.which!==32?null:(Rx=!0,_x);case"textInput":return t=n.data,t===_x&&Rx?null:t;default:return null}}function CN(t,n){if(Si)return t==="compositionend"||!Pf&&zg(t,n)?(t=Pg(),bc=Rf=oa=null,Si=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mg&&n.locale!=="ko"?null:n.data;default:return null}}var NN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ix(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!NN[t.type]:n==="textarea"}function Kg(t,n,s,r){vg(r),n=Uc(n,"onChange"),0<n.length&&(s=new If("onChange","change",null,s,r),t.push({event:s,listeners:n}))}var Zo=null,xl=null;function wN(t){ey(t,0)}function Cd(t){var n=Ni(t);if(fg(n))return t}function kN(t,n){if(t==="change")return n}var qg=!1;if(Fr){var hu;if(Fr){var fu="oninput"in document;if(!fu){var Fx=document.createElement("div");Fx.setAttribute("oninput","return;"),fu=typeof Fx.oninput=="function"}hu=fu}else hu=!1;qg=hu&&(!document.documentMode||9<document.documentMode)}function Px(){Zo&&(Zo.detachEvent("onpropertychange",Ug),xl=Zo=null)}function Ug(t){if(t.propertyName==="value"&&Cd(xl)){var n=[];Kg(n,xl,t,Tf(t)),Ng(wN,n)}}function LN(t,n,s){t==="focusin"?(Px(),Zo=n,xl=s,Zo.attachEvent("onpropertychange",Ug)):t==="focusout"&&Px()}function EN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cd(xl)}function DN(t,n){if(t==="click")return Cd(n)}function $N(t,n){if(t==="input"||t==="change")return Cd(n)}function TN(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sr=typeof Object.is=="function"?Object.is:TN;function pl(t,n){if(sr(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!Xu.call(n,a)||!sr(t[a],n[a]))return!1}return!0}function Mx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zx(t,n){var s=Mx(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=n&&r>=n)return{node:s,offset:n-t};t=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Mx(s)}}function Gg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Gg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Yg(){for(var t=window,n=Fc();n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Fc(t.document)}return n}function Mf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function ON(t){var n=Yg(),s=t.focusedElem,r=t.selectionRange;if(n!==s&&s&&s.ownerDocument&&Gg(s.ownerDocument.documentElement,s)){if(r!==null&&Mf(s)){if(n=r.start,t=r.end,t===void 0&&(t=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(t,s.value.length);else if(t=(n=s.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var a=s.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!t.extend&&i>r&&(a=r,r=i,i=a),a=zx(s,i);var o=zx(s,r);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(n=n.createRange(),n.setStart(a.node,a.offset),t.removeAllRanges(),i>r?(t.addRange(n),t.extend(o.node,o.offset)):(n.setEnd(o.node,o.offset),t.addRange(n)))}}for(n=[],t=s;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)t=n[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AN=Fr&&"documentMode"in document&&11>=document.documentMode,bi=null,jh=null,el=null,gh=!1;function Hx(t,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;gh||bi==null||bi!==Fc(r)||(r=bi,"selectionStart"in r&&Mf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&pl(el,r)||(el=r,r=Uc(jh,"onSelect"),0<r.length&&(n=new If("onSelect","select",null,n,s),t.push({event:n,listeners:r}),n.target=bi)))}function tc(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ci={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},mu={},Wg={};Fr&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Nd(t){if(mu[t])return mu[t];if(!Ci[t])return t;var n=Ci[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Wg)return mu[t]=n[s];return t}var Vg=Nd("animationend"),Qg=Nd("animationiteration"),Jg=Nd("animationstart"),Xg=Nd("transitionend"),Zg=new Map,Kx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Na(t,n){Zg.set(t,n),ti(n,[t])}for(var xu=0;xu<Kx.length;xu++){var pu=Kx[xu],BN=pu.toLowerCase(),_N=pu[0].toUpperCase()+pu.slice(1);Na(BN,"on"+_N)}Na(Vg,"onAnimationEnd");Na(Qg,"onAnimationIteration");Na(Jg,"onAnimationStart");Na("dblclick","onDoubleClick");Na("focusin","onFocus");Na("focusout","onBlur");Na(Xg,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function qx(t,n,s){var r=t.type||"unknown-event";t.currentTarget=s,BC(r,n,void 0,t),t.currentTarget=null}function ey(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],a=r.event;r=r.listeners;e:{var i=void 0;if(n)for(var o=r.length-1;0<=o;o--){var c=r[o],u=c.instance,h=c.currentTarget;if(c=c.listener,u!==i&&a.isPropagationStopped())break e;qx(a,c,h),i=u}else for(o=0;o<r.length;o++){if(c=r[o],u=c.instance,h=c.currentTarget,c=c.listener,u!==i&&a.isPropagationStopped())break e;qx(a,c,h),i=u}}}if(Mc)throw t=fh,Mc=!1,fh=null,t}function Rt(t,n){var s=n[Ch];s===void 0&&(s=n[Ch]=new Set);var r=t+"__bubble";s.has(r)||(ty(n,t,2,!1),s.add(r))}function ju(t,n,s){var r=0;n&&(r|=4),ty(s,t,r,n)}var nc="_reactListening"+Math.random().toString(36).slice(2);function jl(t){if(!t[nc]){t[nc]=!0,lg.forEach(function(s){s!=="selectionchange"&&(RN.has(s)||ju(s,!1,t),ju(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[nc]||(n[nc]=!0,ju("selectionchange",!1,n))}}function ty(t,n,s,r){switch(Fg(n)){case 1:var a=QC;break;case 4:a=JC;break;default:a=_f}s=a.bind(null,n,s,t),a=void 0,!hh||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(n,s,{capture:!0,passive:a}):t.addEventListener(n,s,!0):a!==void 0?t.addEventListener(n,s,{passive:a}):t.addEventListener(n,s,!1)}function gu(t,n,s,r,a){var i=r;if(!(n&1)&&!(n&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;o=o.return}for(;c!==null;){if(o=Ma(c),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}c=c.parentNode}}r=r.return}Ng(function(){var h=i,d=Tf(s),x=[];e:{var j=Zg.get(t);if(j!==void 0){var v=If,f=t;switch(t){case"keypress":if(Cc(s)===0)break e;case"keydown":case"keyup":v=hN;break;case"focusin":f="focus",v=uu;break;case"focusout":f="blur",v=uu;break;case"beforeblur":case"afterblur":v=uu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ox;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=eN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=xN;break;case Vg:case Qg:case Jg:v=sN;break;case Xg:v=jN;break;case"scroll":v=XC;break;case"wheel":v=yN;break;case"copy":case"cut":case"paste":v=aN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Bx}var p=(n&4)!==0,b=!p&&t==="scroll",k=p?j!==null?j+"Capture":null:j;p=[];for(var N=h,E;N!==null;){E=N;var y=E.stateNode;if(E.tag===5&&y!==null&&(E=y,k!==null&&(y=ul(N,k),y!=null&&p.push(gl(N,y,E)))),b)break;N=N.return}0<p.length&&(j=new v(j,f,null,s,d),x.push({event:j,listeners:p}))}}if(!(n&7)){e:{if(j=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",j&&s!==dh&&(f=s.relatedTarget||s.fromElement)&&(Ma(f)||f[Pr]))break e;if((v||j)&&(j=d.window===d?d:(j=d.ownerDocument)?j.defaultView||j.parentWindow:window,v?(f=s.relatedTarget||s.toElement,v=h,f=f?Ma(f):null,f!==null&&(b=ni(f),f!==b||f.tag!==5&&f.tag!==6)&&(f=null)):(v=null,f=h),v!==f)){if(p=Ox,y="onMouseLeave",k="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(p=Bx,y="onPointerLeave",k="onPointerEnter",N="pointer"),b=v==null?j:Ni(v),E=f==null?j:Ni(f),j=new p(y,N+"leave",v,s,d),j.target=b,j.relatedTarget=E,y=null,Ma(d)===h&&(p=new p(k,N+"enter",f,s,d),p.target=E,p.relatedTarget=b,y=p),b=y,v&&f)t:{for(p=v,k=f,N=0,E=p;E;E=ui(E))N++;for(E=0,y=k;y;y=ui(y))E++;for(;0<N-E;)p=ui(p),N--;for(;0<E-N;)k=ui(k),E--;for(;N--;){if(p===k||k!==null&&p===k.alternate)break t;p=ui(p),k=ui(k)}p=null}else p=null;v!==null&&Ux(x,j,v,p,!1),f!==null&&b!==null&&Ux(x,b,f,p,!0)}}e:{if(j=h?Ni(h):window,v=j.nodeName&&j.nodeName.toLowerCase(),v==="select"||v==="input"&&j.type==="file")var w=kN;else if(Ix(j))if(qg)w=$N;else{w=EN;var D=LN}else(v=j.nodeName)&&v.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(w=DN);if(w&&(w=w(t,h))){Kg(x,w,s,d);break e}D&&D(t,j,h),t==="focusout"&&(D=j._wrapperState)&&D.controlled&&j.type==="number"&&ah(j,"number",j.value)}switch(D=h?Ni(h):window,t){case"focusin":(Ix(D)||D.contentEditable==="true")&&(bi=D,jh=h,el=null);break;case"focusout":el=jh=bi=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,Hx(x,s,d);break;case"selectionchange":if(AN)break;case"keydown":case"keyup":Hx(x,s,d)}var C;if(Pf)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Si?zg(t,s)&&(S="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(S="onCompositionStart");S&&(Mg&&s.locale!=="ko"&&(Si||S!=="onCompositionStart"?S==="onCompositionEnd"&&Si&&(C=Pg()):(oa=d,Rf="value"in oa?oa.value:oa.textContent,Si=!0)),D=Uc(h,S),0<D.length&&(S=new Ax(S,t,null,s,d),x.push({event:S,listeners:D}),C?S.data=C:(C=Hg(s),C!==null&&(S.data=C)))),(C=SN?bN(t,s):CN(t,s))&&(h=Uc(h,"onBeforeInput"),0<h.length&&(d=new Ax("onBeforeInput","beforeinput",null,s,d),x.push({event:d,listeners:h}),d.data=C))}ey(x,n)})}function gl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Uc(t,n){for(var s=n+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ul(t,s),i!=null&&r.unshift(gl(t,i,a)),i=ul(t,n),i!=null&&r.push(gl(t,i,a))),t=t.return}return r}function ui(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ux(t,n,s,r,a){for(var i=n._reactName,o=[];s!==null&&s!==r;){var c=s,u=c.alternate,h=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&h!==null&&(c=h,a?(u=ul(s,i),u!=null&&o.unshift(gl(s,u,c))):a||(u=ul(s,i),u!=null&&o.push(gl(s,u,c)))),s=s.return}o.length!==0&&t.push({event:n,listeners:o})}var IN=/\r\n?/g,FN=/\u0000|\uFFFD/g;function Gx(t){return(typeof t=="string"?t:""+t).replace(IN,`
`).replace(FN,"")}function sc(t,n,s){if(n=Gx(n),Gx(t)!==n&&s)throw Error(ne(425))}function Gc(){}var yh=null,vh=null;function Sh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bh=typeof setTimeout=="function"?setTimeout:void 0,PN=typeof clearTimeout=="function"?clearTimeout:void 0,Yx=typeof Promise=="function"?Promise:void 0,MN=typeof queueMicrotask=="function"?queueMicrotask:typeof Yx<"u"?function(t){return Yx.resolve(null).then(t).catch(zN)}:bh;function zN(t){setTimeout(function(){throw t})}function yu(t,n){var s=n,r=0;do{var a=s.nextSibling;if(t.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){t.removeChild(a),ml(n);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);ml(n)}function fa(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Wx(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),dr="__reactFiber$"+Zi,yl="__reactProps$"+Zi,Pr="__reactContainer$"+Zi,Ch="__reactEvents$"+Zi,HN="__reactListeners$"+Zi,KN="__reactHandles$"+Zi;function Ma(t){var n=t[dr];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Pr]||s[dr]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Wx(t);t!==null;){if(s=t[dr])return s;t=Wx(t)}return n}t=s,s=t.parentNode}return null}function Rl(t){return t=t[dr]||t[Pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ni(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function wd(t){return t[yl]||null}var Nh=[],wi=-1;function wa(t){return{current:t}}function Mt(t){0>wi||(t.current=Nh[wi],Nh[wi]=null,wi--)}function Dt(t,n){wi++,Nh[wi]=t.current,t.current=n}var Sa={},Gn=wa(Sa),as=wa(!1),Wa=Sa;function Pi(t,n){var s=t.type.contextTypes;if(!s)return Sa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=n[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=a),a}function is(t){return t=t.childContextTypes,t!=null}function Yc(){Mt(as),Mt(Gn)}function Vx(t,n,s){if(Gn.current!==Sa)throw Error(ne(168));Dt(Gn,n),Dt(as,s)}function ny(t,n,s){var r=t.stateNode;if(n=n.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in n))throw Error(ne(108,LC(t)||"Unknown",a));return Jt({},s,r)}function Wc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sa,Wa=Gn.current,Dt(Gn,t),Dt(as,as.current),!0}function Qx(t,n,s){var r=t.stateNode;if(!r)throw Error(ne(169));s?(t=ny(t,n,Wa),r.__reactInternalMemoizedMergedChildContext=t,Mt(as),Mt(Gn),Dt(Gn,t)):Mt(as),Dt(as,s)}var Dr=null,kd=!1,vu=!1;function sy(t){Dr===null?Dr=[t]:Dr.push(t)}function qN(t){kd=!0,sy(t)}function ka(){if(!vu&&Dr!==null){vu=!0;var t=0,n=yt;try{var s=Dr;for(yt=1;t<s.length;t++){var r=s[t];do r=r(!0);while(r!==null)}Dr=null,kd=!1}catch(a){throw Dr!==null&&(Dr=Dr.slice(t+1)),Eg(Of,ka),a}finally{yt=n,vu=!1}}return null}var ki=[],Li=0,Vc=null,Qc=0,$s=[],Ts=0,Va=null,Or=1,Ar="";function Fa(t,n){ki[Li++]=Qc,ki[Li++]=Vc,Vc=t,Qc=n}function ry(t,n,s){$s[Ts++]=Or,$s[Ts++]=Ar,$s[Ts++]=Va,Va=t;var r=Or;t=Ar;var a=32-tr(r)-1;r&=~(1<<a),s+=1;var i=32-tr(n)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Or=1<<32-tr(n)+a|s<<a|r,Ar=i+t}else Or=1<<i|s<<a|r,Ar=t}function zf(t){t.return!==null&&(Fa(t,1),ry(t,1,0))}function Hf(t){for(;t===Vc;)Vc=ki[--Li],ki[Li]=null,Qc=ki[--Li],ki[Li]=null;for(;t===Va;)Va=$s[--Ts],$s[Ts]=null,Ar=$s[--Ts],$s[Ts]=null,Or=$s[--Ts],$s[Ts]=null}var ps=null,xs=null,zt=!1,Zs=null;function ay(t,n){var s=As(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=t,n=t.deletions,n===null?(t.deletions=[s],t.flags|=16):n.push(s)}function Jx(t,n){switch(t.tag){case 5:var s=t.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,ps=t,xs=fa(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,ps=t,xs=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Va!==null?{id:Or,overflow:Ar}:null,t.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=As(18,null,null,0),s.stateNode=n,s.return=t,t.child=s,ps=t,xs=null,!0):!1;default:return!1}}function wh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kh(t){if(zt){var n=xs;if(n){var s=n;if(!Jx(t,n)){if(wh(t))throw Error(ne(418));n=fa(s.nextSibling);var r=ps;n&&Jx(t,n)?ay(r,s):(t.flags=t.flags&-4097|2,zt=!1,ps=t)}}else{if(wh(t))throw Error(ne(418));t.flags=t.flags&-4097|2,zt=!1,ps=t}}}function Xx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ps=t}function rc(t){if(t!==ps)return!1;if(!zt)return Xx(t),zt=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Sh(t.type,t.memoizedProps)),n&&(n=xs)){if(wh(t))throw iy(),Error(ne(418));for(;n;)ay(t,n),n=fa(n.nextSibling)}if(Xx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(n===0){xs=fa(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}t=t.nextSibling}xs=null}}else xs=ps?fa(t.stateNode.nextSibling):null;return!0}function iy(){for(var t=xs;t;)t=fa(t.nextSibling)}function Mi(){xs=ps=null,zt=!1}function Kf(t){Zs===null?Zs=[t]:Zs.push(t)}var UN=qr.ReactCurrentBatchConfig;function Qs(t,n){if(t&&t.defaultProps){n=Jt({},n),t=t.defaultProps;for(var s in t)n[s]===void 0&&(n[s]=t[s]);return n}return n}var Jc=wa(null),Xc=null,Ei=null,qf=null;function Uf(){qf=Ei=Xc=null}function Gf(t){var n=Jc.current;Mt(Jc),t._currentValue=n}function Lh(t,n,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),t===s)break;t=t.return}}function _i(t,n){Xc=t,qf=Ei=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&n&&(rs=!0),t.firstContext=null)}function Rs(t){var n=t._currentValue;if(qf!==t)if(t={context:t,memoizedValue:n,next:null},Ei===null){if(Xc===null)throw Error(ne(308));Ei=t,Xc.dependencies={lanes:0,firstContext:t}}else Ei=Ei.next=t;return n}var za=null;function Yf(t){za===null?za=[t]:za.push(t)}function oy(t,n,s,r){var a=n.interleaved;return a===null?(s.next=s,Yf(n)):(s.next=a.next,a.next=s),n.interleaved=s,Mr(t,r)}function Mr(t,n){t.lanes|=n;var s=t.alternate;for(s!==null&&(s.lanes|=n),s=t,t=t.return;t!==null;)t.childLanes|=n,s=t.alternate,s!==null&&(s.childLanes|=n),s=t,t=t.return;return s.tag===3?s.stateNode:null}var sa=!1;function Wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ly(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _r(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function ma(t,n,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var a=r.pending;return a===null?n.next=n:(n.next=a.next,a.next=n),r.pending=n,Mr(t,s)}return a=r.interleaved,a===null?(n.next=n,Yf(r)):(n.next=a.next,a.next=n),r.interleaved=n,Mr(t,s)}function Nc(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var r=n.lanes;r&=t.pendingLanes,s|=r,n.lanes=s,Af(t,s)}}function Zx(t,n){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?a=i=n:i=i.next=n}else a=i=n;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}function Zc(t,n,s,r){var a=t.updateQueue;sa=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var u=c,h=u.next;u.next=null,o===null?i=h:o.next=h,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==o&&(c===null?d.firstBaseUpdate=h:c.next=h,d.lastBaseUpdate=u))}if(i!==null){var x=a.baseState;o=0,d=h=u=null,c=i;do{var j=c.lane,v=c.eventTime;if((r&j)===j){d!==null&&(d=d.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var f=t,p=c;switch(j=n,v=s,p.tag){case 1:if(f=p.payload,typeof f=="function"){x=f.call(v,x,j);break e}x=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=p.payload,j=typeof f=="function"?f.call(v,x,j):f,j==null)break e;x=Jt({},x,j);break e;case 2:sa=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,j=a.effects,j===null?a.effects=[c]:j.push(c))}else v={eventTime:v,lane:j,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(h=d=v,u=x):d=d.next=v,o|=j;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;j=c,c=j.next,j.next=null,a.lastBaseUpdate=j,a.shared.pending=null}}while(1);if(d===null&&(u=x),a.baseState=u,a.firstBaseUpdate=h,a.lastBaseUpdate=d,n=a.shared.interleaved,n!==null){a=n;do o|=a.lane,a=a.next;while(a!==n)}else i===null&&(a.shared.lanes=0);Ja|=o,t.lanes=o,t.memoizedState=x}}function ep(t,n,s){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var r=t[n],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error(ne(191,a));a.call(r)}}}var cy=new og.Component().refs;function Eh(t,n,s,r){n=t.memoizedState,s=s(r,n),s=s==null?n:Jt({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ld={isMounted:function(t){return(t=t._reactInternals)?ni(t)===t:!1},enqueueSetState:function(t,n,s){t=t._reactInternals;var r=Jn(),a=pa(t),i=_r(r,a);i.payload=n,s!=null&&(i.callback=s),n=ma(t,i,a),n!==null&&(nr(n,t,a,r),Nc(n,t,a))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var r=Jn(),a=pa(t),i=_r(r,a);i.tag=1,i.payload=n,s!=null&&(i.callback=s),n=ma(t,i,a),n!==null&&(nr(n,t,a,r),Nc(n,t,a))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Jn(),r=pa(t),a=_r(s,r);a.tag=2,n!=null&&(a.callback=n),n=ma(t,a,r),n!==null&&(nr(n,t,r,s),Nc(n,t,r))}};function tp(t,n,s,r,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):n.prototype&&n.prototype.isPureReactComponent?!pl(s,r)||!pl(a,i):!0}function dy(t,n,s){var r=!1,a=Sa,i=n.contextType;return typeof i=="object"&&i!==null?i=Rs(i):(a=is(n)?Wa:Gn.current,r=n.contextTypes,i=(r=r!=null)?Pi(t,a):Sa),n=new n(s,i),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ld,t.stateNode=n,n._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),n}function np(t,n,s,r){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==t&&Ld.enqueueReplaceState(n,n.state,null)}function Dh(t,n,s,r){var a=t.stateNode;a.props=s,a.state=t.memoizedState,a.refs=cy,Wf(t);var i=n.contextType;typeof i=="object"&&i!==null?a.context=Rs(i):(i=is(n)?Wa:Gn.current,a.context=Pi(t,i)),a.state=t.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(Eh(t,n,i,s),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(n=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),n!==a.state&&Ld.enqueueReplaceState(a,a.state,null),Zc(t,s,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function To(t,n,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(ne(309));var r=s.stateNode}if(!r)throw Error(ne(147,t));var a=r,i=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===i?n.ref:(n=function(o){var c=a.refs;c===cy&&(c=a.refs={}),o===null?delete c[i]:c[i]=o},n._stringRef=i,n)}if(typeof t!="string")throw Error(ne(284));if(!s._owner)throw Error(ne(290,t))}return t}function ac(t,n){throw t=Object.prototype.toString.call(n),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function sp(t){var n=t._init;return n(t._payload)}function uy(t){function n(k,N){if(t){var E=k.deletions;E===null?(k.deletions=[N],k.flags|=16):E.push(N)}}function s(k,N){if(!t)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function r(k,N){for(k=new Map;N!==null;)N.key!==null?k.set(N.key,N):k.set(N.index,N),N=N.sibling;return k}function a(k,N){return k=ja(k,N),k.index=0,k.sibling=null,k}function i(k,N,E){return k.index=E,t?(E=k.alternate,E!==null?(E=E.index,E<N?(k.flags|=2,N):E):(k.flags|=2,N)):(k.flags|=1048576,N)}function o(k){return t&&k.alternate===null&&(k.flags|=2),k}function c(k,N,E,y){return N===null||N.tag!==6?(N=Lu(E,k.mode,y),N.return=k,N):(N=a(N,E),N.return=k,N)}function u(k,N,E,y){var w=E.type;return w===vi?d(k,N,E.props.children,y,E.key):N!==null&&(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===na&&sp(w)===N.type)?(y=a(N,E.props),y.ref=To(k,N,E),y.return=k,y):(y=$c(E.type,E.key,E.props,null,k.mode,y),y.ref=To(k,N,E),y.return=k,y)}function h(k,N,E,y){return N===null||N.tag!==4||N.stateNode.containerInfo!==E.containerInfo||N.stateNode.implementation!==E.implementation?(N=Eu(E,k.mode,y),N.return=k,N):(N=a(N,E.children||[]),N.return=k,N)}function d(k,N,E,y,w){return N===null||N.tag!==7?(N=Ga(E,k.mode,y,w),N.return=k,N):(N=a(N,E),N.return=k,N)}function x(k,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Lu(""+N,k.mode,E),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Wl:return E=$c(N.type,N.key,N.props,null,k.mode,E),E.ref=To(k,null,N),E.return=k,E;case yi:return N=Eu(N,k.mode,E),N.return=k,N;case na:var y=N._init;return x(k,y(N._payload),E)}if(Uo(N)||ko(N))return N=Ga(N,k.mode,E,null),N.return=k,N;ac(k,N)}return null}function j(k,N,E,y){var w=N!==null?N.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return w!==null?null:c(k,N,""+E,y);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Wl:return E.key===w?u(k,N,E,y):null;case yi:return E.key===w?h(k,N,E,y):null;case na:return w=E._init,j(k,N,w(E._payload),y)}if(Uo(E)||ko(E))return w!==null?null:d(k,N,E,y,null);ac(k,E)}return null}function v(k,N,E,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return k=k.get(E)||null,c(N,k,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wl:return k=k.get(y.key===null?E:y.key)||null,u(N,k,y,w);case yi:return k=k.get(y.key===null?E:y.key)||null,h(N,k,y,w);case na:var D=y._init;return v(k,N,E,D(y._payload),w)}if(Uo(y)||ko(y))return k=k.get(E)||null,d(N,k,y,w,null);ac(N,y)}return null}function f(k,N,E,y){for(var w=null,D=null,C=N,S=N=0,T=null;C!==null&&S<E.length;S++){C.index>S?(T=C,C=null):T=C.sibling;var B=j(k,C,E[S],y);if(B===null){C===null&&(C=T);break}t&&C&&B.alternate===null&&n(k,C),N=i(B,N,S),D===null?w=B:D.sibling=B,D=B,C=T}if(S===E.length)return s(k,C),zt&&Fa(k,S),w;if(C===null){for(;S<E.length;S++)C=x(k,E[S],y),C!==null&&(N=i(C,N,S),D===null?w=C:D.sibling=C,D=C);return zt&&Fa(k,S),w}for(C=r(k,C);S<E.length;S++)T=v(C,k,S,E[S],y),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?S:T.key),N=i(T,N,S),D===null?w=T:D.sibling=T,D=T);return t&&C.forEach(function(P){return n(k,P)}),zt&&Fa(k,S),w}function p(k,N,E,y){var w=ko(E);if(typeof w!="function")throw Error(ne(150));if(E=w.call(E),E==null)throw Error(ne(151));for(var D=w=null,C=N,S=N=0,T=null,B=E.next();C!==null&&!B.done;S++,B=E.next()){C.index>S?(T=C,C=null):T=C.sibling;var P=j(k,C,B.value,y);if(P===null){C===null&&(C=T);break}t&&C&&P.alternate===null&&n(k,C),N=i(P,N,S),D===null?w=P:D.sibling=P,D=P,C=T}if(B.done)return s(k,C),zt&&Fa(k,S),w;if(C===null){for(;!B.done;S++,B=E.next())B=x(k,B.value,y),B!==null&&(N=i(B,N,S),D===null?w=B:D.sibling=B,D=B);return zt&&Fa(k,S),w}for(C=r(k,C);!B.done;S++,B=E.next())B=v(C,k,S,B.value,y),B!==null&&(t&&B.alternate!==null&&C.delete(B.key===null?S:B.key),N=i(B,N,S),D===null?w=B:D.sibling=B,D=B);return t&&C.forEach(function(R){return n(k,R)}),zt&&Fa(k,S),w}function b(k,N,E,y){if(typeof E=="object"&&E!==null&&E.type===vi&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Wl:e:{for(var w=E.key,D=N;D!==null;){if(D.key===w){if(w=E.type,w===vi){if(D.tag===7){s(k,D.sibling),N=a(D,E.props.children),N.return=k,k=N;break e}}else if(D.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===na&&sp(w)===D.type){s(k,D.sibling),N=a(D,E.props),N.ref=To(k,D,E),N.return=k,k=N;break e}s(k,D);break}else n(k,D);D=D.sibling}E.type===vi?(N=Ga(E.props.children,k.mode,y,E.key),N.return=k,k=N):(y=$c(E.type,E.key,E.props,null,k.mode,y),y.ref=To(k,N,E),y.return=k,k=y)}return o(k);case yi:e:{for(D=E.key;N!==null;){if(N.key===D)if(N.tag===4&&N.stateNode.containerInfo===E.containerInfo&&N.stateNode.implementation===E.implementation){s(k,N.sibling),N=a(N,E.children||[]),N.return=k,k=N;break e}else{s(k,N);break}else n(k,N);N=N.sibling}N=Eu(E,k.mode,y),N.return=k,k=N}return o(k);case na:return D=E._init,b(k,N,D(E._payload),y)}if(Uo(E))return f(k,N,E,y);if(ko(E))return p(k,N,E,y);ac(k,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,N!==null&&N.tag===6?(s(k,N.sibling),N=a(N,E),N.return=k,k=N):(s(k,N),N=Lu(E,k.mode,y),N.return=k,k=N),o(k)):s(k,N)}return b}var zi=uy(!0),hy=uy(!1),Il={},fr=wa(Il),vl=wa(Il),Sl=wa(Il);function Ha(t){if(t===Il)throw Error(ne(174));return t}function Vf(t,n){switch(Dt(Sl,n),Dt(vl,t),Dt(fr,Il),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:oh(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=oh(n,t)}Mt(fr),Dt(fr,n)}function Hi(){Mt(fr),Mt(vl),Mt(Sl)}function fy(t){Ha(Sl.current);var n=Ha(fr.current),s=oh(n,t.type);n!==s&&(Dt(vl,t),Dt(fr,s))}function Qf(t){vl.current===t&&(Mt(fr),Mt(vl))}var Wt=wa(0);function ed(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Su=[];function Jf(){for(var t=0;t<Su.length;t++)Su[t]._workInProgressVersionPrimary=null;Su.length=0}var wc=qr.ReactCurrentDispatcher,bu=qr.ReactCurrentBatchConfig,Qa=0,Qt=null,wn=null,$n=null,td=!1,tl=!1,bl=0,GN=0;function Hn(){throw Error(ne(321))}function Xf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!sr(t[s],n[s]))return!1;return!0}function Zf(t,n,s,r,a,i){if(Qa=i,Qt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,wc.current=t===null||t.memoizedState===null?QN:JN,t=s(r,a),tl){i=0;do{if(tl=!1,bl=0,25<=i)throw Error(ne(301));i+=1,$n=wn=null,n.updateQueue=null,wc.current=XN,t=s(r,a)}while(tl)}if(wc.current=nd,n=wn!==null&&wn.next!==null,Qa=0,$n=wn=Qt=null,td=!1,n)throw Error(ne(300));return t}function em(){var t=bl!==0;return bl=0,t}function cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?Qt.memoizedState=$n=t:$n=$n.next=t,$n}function Is(){if(wn===null){var t=Qt.alternate;t=t!==null?t.memoizedState:null}else t=wn.next;var n=$n===null?Qt.memoizedState:$n.next;if(n!==null)$n=n,wn=t;else{if(t===null)throw Error(ne(310));wn=t,t={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},$n===null?Qt.memoizedState=$n=t:$n=$n.next=t}return $n}function Cl(t,n){return typeof n=="function"?n(t):n}function Cu(t){var n=Is(),s=n.queue;if(s===null)throw Error(ne(311));s.lastRenderedReducer=t;var r=wn,a=r.baseQueue,i=s.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,r=r.baseState;var c=o=null,u=null,h=i;do{var d=h.lane;if((Qa&d)===d)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var x={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(c=u=x,o=r):u=u.next=x,Qt.lanes|=d,Ja|=d}h=h.next}while(h!==null&&h!==i);u===null?o=r:u.next=c,sr(r,n.memoizedState)||(rs=!0),n.memoizedState=r,n.baseState=o,n.baseQueue=u,s.lastRenderedState=r}if(t=s.interleaved,t!==null){a=t;do i=a.lane,Qt.lanes|=i,Ja|=i,a=a.next;while(a!==t)}else a===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Nu(t){var n=Is(),s=n.queue;if(s===null)throw Error(ne(311));s.lastRenderedReducer=t;var r=s.dispatch,a=s.pending,i=n.memoizedState;if(a!==null){s.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);sr(i,n.memoizedState)||(rs=!0),n.memoizedState=i,n.baseQueue===null&&(n.baseState=i),s.lastRenderedState=i}return[i,r]}function my(){}function xy(t,n){var s=Qt,r=Is(),a=n(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,rs=!0),r=r.queue,tm(gy.bind(null,s,r,t),[t]),r.getSnapshot!==n||i||$n!==null&&$n.memoizedState.tag&1){if(s.flags|=2048,Nl(9,jy.bind(null,s,r,a,n),void 0,null),On===null)throw Error(ne(349));Qa&30||py(s,n,a)}return a}function py(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Qt.updateQueue,n===null?(n={lastEffect:null,stores:null},Qt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function jy(t,n,s,r){n.value=s,n.getSnapshot=r,yy(n)&&vy(t)}function gy(t,n,s){return s(function(){yy(n)&&vy(t)})}function yy(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!sr(t,s)}catch{return!0}}function vy(t){var n=Mr(t,1);n!==null&&nr(n,t,1,-1)}function rp(t){var n=cr();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:t},n.queue=t,t=t.dispatch=VN.bind(null,Qt,t),[n.memoizedState,t]}function Nl(t,n,s,r){return t={tag:t,create:n,destroy:s,deps:r,next:null},n=Qt.updateQueue,n===null?(n={lastEffect:null,stores:null},Qt.updateQueue=n,n.lastEffect=t.next=t):(s=n.lastEffect,s===null?n.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,n.lastEffect=t)),t}function Sy(){return Is().memoizedState}function kc(t,n,s,r){var a=cr();Qt.flags|=t,a.memoizedState=Nl(1|n,s,void 0,r===void 0?null:r)}function Ed(t,n,s,r){var a=Is();r=r===void 0?null:r;var i=void 0;if(wn!==null){var o=wn.memoizedState;if(i=o.destroy,r!==null&&Xf(r,o.deps)){a.memoizedState=Nl(n,s,i,r);return}}Qt.flags|=t,a.memoizedState=Nl(1|n,s,i,r)}function ap(t,n){return kc(8390656,8,t,n)}function tm(t,n){return Ed(2048,8,t,n)}function by(t,n){return Ed(4,2,t,n)}function Cy(t,n){return Ed(4,4,t,n)}function Ny(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function wy(t,n,s){return s=s!=null?s.concat([t]):null,Ed(4,4,Ny.bind(null,n,t),s)}function nm(){}function ky(t,n){var s=Is();n=n===void 0?null:n;var r=s.memoizedState;return r!==null&&n!==null&&Xf(n,r[1])?r[0]:(s.memoizedState=[t,n],t)}function Ly(t,n){var s=Is();n=n===void 0?null:n;var r=s.memoizedState;return r!==null&&n!==null&&Xf(n,r[1])?r[0]:(t=t(),s.memoizedState=[t,n],t)}function Ey(t,n,s){return Qa&21?(sr(s,n)||(s=Tg(),Qt.lanes|=s,Ja|=s,t.baseState=!0),n):(t.baseState&&(t.baseState=!1,rs=!0),t.memoizedState=s)}function YN(t,n){var s=yt;yt=s!==0&&4>s?s:4,t(!0);var r=bu.transition;bu.transition={};try{t(!1),n()}finally{yt=s,bu.transition=r}}function Dy(){return Is().memoizedState}function WN(t,n,s){var r=pa(t);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},$y(t))Ty(n,s);else if(s=oy(t,n,s,r),s!==null){var a=Jn();nr(s,t,r,a),Oy(s,n,r)}}function VN(t,n,s){var r=pa(t),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if($y(t))Ty(n,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=n.lastRenderedReducer,i!==null))try{var o=n.lastRenderedState,c=i(o,s);if(a.hasEagerState=!0,a.eagerState=c,sr(c,o)){var u=n.interleaved;u===null?(a.next=a,Yf(n)):(a.next=u.next,u.next=a),n.interleaved=a;return}}catch{}finally{}s=oy(t,n,a,r),s!==null&&(a=Jn(),nr(s,t,r,a),Oy(s,n,r))}}function $y(t){var n=t.alternate;return t===Qt||n!==null&&n===Qt}function Ty(t,n){tl=td=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Oy(t,n,s){if(s&4194240){var r=n.lanes;r&=t.pendingLanes,s|=r,n.lanes=s,Af(t,s)}}var nd={readContext:Rs,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},QN={readContext:Rs,useCallback:function(t,n){return cr().memoizedState=[t,n===void 0?null:n],t},useContext:Rs,useEffect:ap,useImperativeHandle:function(t,n,s){return s=s!=null?s.concat([t]):null,kc(4194308,4,Ny.bind(null,n,t),s)},useLayoutEffect:function(t,n){return kc(4194308,4,t,n)},useInsertionEffect:function(t,n){return kc(4,2,t,n)},useMemo:function(t,n){var s=cr();return n=n===void 0?null:n,t=t(),s.memoizedState=[t,n],t},useReducer:function(t,n,s){var r=cr();return n=s!==void 0?s(n):n,r.memoizedState=r.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},r.queue=t,t=t.dispatch=WN.bind(null,Qt,t),[r.memoizedState,t]},useRef:function(t){var n=cr();return t={current:t},n.memoizedState=t},useState:rp,useDebugValue:nm,useDeferredValue:function(t){return cr().memoizedState=t},useTransition:function(){var t=rp(!1),n=t[0];return t=YN.bind(null,t[1]),cr().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,s){var r=Qt,a=cr();if(zt){if(s===void 0)throw Error(ne(407));s=s()}else{if(s=n(),On===null)throw Error(ne(349));Qa&30||py(r,n,s)}a.memoizedState=s;var i={value:s,getSnapshot:n};return a.queue=i,ap(gy.bind(null,r,i,t),[t]),r.flags|=2048,Nl(9,jy.bind(null,r,i,s,n),void 0,null),s},useId:function(){var t=cr(),n=On.identifierPrefix;if(zt){var s=Ar,r=Or;s=(r&~(1<<32-tr(r)-1)).toString(32)+s,n=":"+n+"R"+s,s=bl++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=GN++,n=":"+n+"r"+s.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},JN={readContext:Rs,useCallback:ky,useContext:Rs,useEffect:tm,useImperativeHandle:wy,useInsertionEffect:by,useLayoutEffect:Cy,useMemo:Ly,useReducer:Cu,useRef:Sy,useState:function(){return Cu(Cl)},useDebugValue:nm,useDeferredValue:function(t){var n=Is();return Ey(n,wn.memoizedState,t)},useTransition:function(){var t=Cu(Cl)[0],n=Is().memoizedState;return[t,n]},useMutableSource:my,useSyncExternalStore:xy,useId:Dy,unstable_isNewReconciler:!1},XN={readContext:Rs,useCallback:ky,useContext:Rs,useEffect:tm,useImperativeHandle:wy,useInsertionEffect:by,useLayoutEffect:Cy,useMemo:Ly,useReducer:Nu,useRef:Sy,useState:function(){return Nu(Cl)},useDebugValue:nm,useDeferredValue:function(t){var n=Is();return wn===null?n.memoizedState=t:Ey(n,wn.memoizedState,t)},useTransition:function(){var t=Nu(Cl)[0],n=Is().memoizedState;return[t,n]},useMutableSource:my,useSyncExternalStore:xy,useId:Dy,unstable_isNewReconciler:!1};function Ki(t,n){try{var s="",r=n;do s+=kC(r),r=r.return;while(r);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:n,stack:a,digest:null}}function wu(t,n,s){return{value:t,source:null,stack:s??null,digest:n??null}}function $h(t,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var ZN=typeof WeakMap=="function"?WeakMap:Map;function Ay(t,n,s){s=_r(-1,s),s.tag=3,s.payload={element:null};var r=n.value;return s.callback=function(){rd||(rd=!0,Mh=r),$h(t,n)},s}function By(t,n,s){s=_r(-1,s),s.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=n.value;s.payload=function(){return r(a)},s.callback=function(){$h(t,n)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){$h(t,n),typeof r!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})}),s}function ip(t,n,s){var r=t.pingCache;if(r===null){r=t.pingCache=new ZN;var a=new Set;r.set(n,a)}else a=r.get(n),a===void 0&&(a=new Set,r.set(n,a));a.has(s)||(a.add(s),t=fw.bind(null,t,n,s),n.then(t,t))}function op(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function lp(t,n,s,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===n?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=_r(-1,1),n.tag=2,ma(s,n,1))),s.lanes|=1),t)}var ew=qr.ReactCurrentOwner,rs=!1;function Qn(t,n,s,r){n.child=t===null?hy(n,null,s,r):zi(n,t.child,s,r)}function cp(t,n,s,r,a){s=s.render;var i=n.ref;return _i(n,a),r=Zf(t,n,s,r,i,a),s=em(),t!==null&&!rs?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a,zr(t,n,a)):(zt&&s&&zf(n),n.flags|=1,Qn(t,n,r,a),n.child)}function dp(t,n,s,r,a){if(t===null){var i=s.type;return typeof i=="function"&&!dm(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=i,_y(t,n,i,r,a)):(t=$c(s.type,null,r,n,n.mode,a),t.ref=n.ref,t.return=n,n.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:pl,s(o,r)&&t.ref===n.ref)return zr(t,n,a)}return n.flags|=1,t=ja(i,r),t.ref=n.ref,t.return=n,n.child=t}function _y(t,n,s,r,a){if(t!==null){var i=t.memoizedProps;if(pl(i,r)&&t.ref===n.ref)if(rs=!1,n.pendingProps=r=i,(t.lanes&a)!==0)t.flags&131072&&(rs=!0);else return n.lanes=t.lanes,zr(t,n,a)}return Th(t,n,s,r,a)}function Ry(t,n,s){var r=n.pendingProps,a=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt($i,ms),ms|=s;else{if(!(s&1073741824))return t=i!==null?i.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Dt($i,ms),ms|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:s,Dt($i,ms),ms|=r}else i!==null?(r=i.baseLanes|s,n.memoizedState=null):r=s,Dt($i,ms),ms|=r;return Qn(t,n,a,s),n.child}function Iy(t,n){var s=n.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Th(t,n,s,r,a){var i=is(s)?Wa:Gn.current;return i=Pi(n,i),_i(n,a),s=Zf(t,n,s,r,i,a),r=em(),t!==null&&!rs?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a,zr(t,n,a)):(zt&&r&&zf(n),n.flags|=1,Qn(t,n,s,a),n.child)}function up(t,n,s,r,a){if(is(s)){var i=!0;Wc(n)}else i=!1;if(_i(n,a),n.stateNode===null)Lc(t,n),dy(n,s,r),Dh(n,s,r,a),r=!0;else if(t===null){var o=n.stateNode,c=n.memoizedProps;o.props=c;var u=o.context,h=s.contextType;typeof h=="object"&&h!==null?h=Rs(h):(h=is(s)?Wa:Gn.current,h=Pi(n,h));var d=s.getDerivedStateFromProps,x=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";x||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||u!==h)&&np(n,o,r,h),sa=!1;var j=n.memoizedState;o.state=j,Zc(n,r,o,a),u=n.memoizedState,c!==r||j!==u||as.current||sa?(typeof d=="function"&&(Eh(n,s,d,r),u=n.memoizedState),(c=sa||tp(n,s,c,r,j,u,h))?(x||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(n.flags|=4194308)):(typeof o.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=u),o.props=r,o.state=u,o.context=h,r=c):(typeof o.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{o=n.stateNode,ly(t,n),c=n.memoizedProps,h=n.type===n.elementType?c:Qs(n.type,c),o.props=h,x=n.pendingProps,j=o.context,u=s.contextType,typeof u=="object"&&u!==null?u=Rs(u):(u=is(s)?Wa:Gn.current,u=Pi(n,u));var v=s.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==x||j!==u)&&np(n,o,r,u),sa=!1,j=n.memoizedState,o.state=j,Zc(n,r,o,a);var f=n.memoizedState;c!==x||j!==f||as.current||sa?(typeof v=="function"&&(Eh(n,s,v,r),f=n.memoizedState),(h=sa||tp(n,s,h,r,j,f,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,f,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,f,u)),typeof o.componentDidUpdate=="function"&&(n.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=f),o.props=r,o.state=f,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),r=!1)}return Oh(t,n,s,r,i,a)}function Oh(t,n,s,r,a,i){Iy(t,n);var o=(n.flags&128)!==0;if(!r&&!o)return a&&Qx(n,s,!1),zr(t,n,i);r=n.stateNode,ew.current=n;var c=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return n.flags|=1,t!==null&&o?(n.child=zi(n,t.child,null,i),n.child=zi(n,null,c,i)):Qn(t,n,c,i),n.memoizedState=r.state,a&&Qx(n,s,!0),n.child}function Fy(t){var n=t.stateNode;n.pendingContext?Vx(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Vx(t,n.context,!1),Vf(t,n.containerInfo)}function hp(t,n,s,r,a){return Mi(),Kf(a),n.flags|=256,Qn(t,n,s,r),n.child}var Ah={dehydrated:null,treeContext:null,retryLane:0};function Bh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Py(t,n,s){var r=n.pendingProps,a=Wt.current,i=!1,o=(n.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(a&2)!==0),c?(i=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Dt(Wt,a&1),t===null)return kh(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(n.mode&1?t.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(o=r.children,t=r.fallback,i?(r=n.mode,i=n.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Td(o,r,0,null),t=Ga(t,r,s,null),i.return=n,t.return=n,i.sibling=t,n.child=i,n.child.memoizedState=Bh(s),n.memoizedState=Ah,t):sm(n,o));if(a=t.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return tw(t,n,o,r,c,a,s);if(i){i=r.fallback,o=n.mode,a=t.child,c=a.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&n.child!==a?(r=n.child,r.childLanes=0,r.pendingProps=u,n.deletions=null):(r=ja(a,u),r.subtreeFlags=a.subtreeFlags&14680064),c!==null?i=ja(c,i):(i=Ga(i,o,s,null),i.flags|=2),i.return=n,r.return=n,r.sibling=i,n.child=r,r=i,i=n.child,o=t.child.memoizedState,o=o===null?Bh(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~s,n.memoizedState=Ah,r}return i=t.child,t=i.sibling,r=ja(i,{mode:"visible",children:r.children}),!(n.mode&1)&&(r.lanes=s),r.return=n,r.sibling=null,t!==null&&(s=n.deletions,s===null?(n.deletions=[t],n.flags|=16):s.push(t)),n.child=r,n.memoizedState=null,r}function sm(t,n){return n=Td({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function ic(t,n,s,r){return r!==null&&Kf(r),zi(n,t.child,null,s),t=sm(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function tw(t,n,s,r,a,i,o){if(s)return n.flags&256?(n.flags&=-257,r=wu(Error(ne(422))),ic(t,n,o,r)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(i=r.fallback,a=n.mode,r=Td({mode:"visible",children:r.children},a,0,null),i=Ga(i,a,o,null),i.flags|=2,r.return=n,i.return=n,r.sibling=i,n.child=r,n.mode&1&&zi(n,t.child,null,o),n.child.memoizedState=Bh(o),n.memoizedState=Ah,i);if(!(n.mode&1))return ic(t,n,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(ne(419)),r=wu(i,r,void 0),ic(t,n,o,r)}if(c=(o&t.childLanes)!==0,rs||c){if(r=On,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Mr(t,a),nr(r,t,a,-1))}return cm(),r=wu(Error(ne(421))),ic(t,n,o,r)}return a.data==="$?"?(n.flags|=128,n.child=t.child,n=mw.bind(null,t),a._reactRetry=n,null):(t=i.treeContext,xs=fa(a.nextSibling),ps=n,zt=!0,Zs=null,t!==null&&($s[Ts++]=Or,$s[Ts++]=Ar,$s[Ts++]=Va,Or=t.id,Ar=t.overflow,Va=n),n=sm(n,r.children),n.flags|=4096,n)}function fp(t,n,s){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n),Lh(t.return,n,s)}function ku(t,n,s,r,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(i.isBackwards=n,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=s,i.tailMode=a)}function My(t,n,s){var r=n.pendingProps,a=r.revealOrder,i=r.tail;if(Qn(t,n,r.children,s),r=Wt.current,r&2)r=r&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fp(t,s,n);else if(t.tag===19)fp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Dt(Wt,r),!(n.mode&1))n.memoizedState=null;else switch(a){case"forwards":for(s=n.child,a=null;s!==null;)t=s.alternate,t!==null&&ed(t)===null&&(a=s),s=s.sibling;s=a,s===null?(a=n.child,n.child=null):(a=s.sibling,s.sibling=null),ku(n,!1,a,s,i);break;case"backwards":for(s=null,a=n.child,n.child=null;a!==null;){if(t=a.alternate,t!==null&&ed(t)===null){n.child=a;break}t=a.sibling,a.sibling=s,s=a,a=t}ku(n,!0,s,null,i);break;case"together":ku(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Lc(t,n){!(n.mode&1)&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function zr(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ja|=n.lanes,!(s&n.childLanes))return null;if(t!==null&&n.child!==t.child)throw Error(ne(153));if(n.child!==null){for(t=n.child,s=ja(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ja(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function nw(t,n,s){switch(n.tag){case 3:Fy(n),Mi();break;case 5:fy(n);break;case 1:is(n.type)&&Wc(n);break;case 4:Vf(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,a=n.memoizedProps.value;Dt(Jc,r._currentValue),r._currentValue=a;break;case 13:if(r=n.memoizedState,r!==null)return r.dehydrated!==null?(Dt(Wt,Wt.current&1),n.flags|=128,null):s&n.child.childLanes?Py(t,n,s):(Dt(Wt,Wt.current&1),t=zr(t,n,s),t!==null?t.sibling:null);Dt(Wt,Wt.current&1);break;case 19:if(r=(s&n.childLanes)!==0,t.flags&128){if(r)return My(t,n,s);n.flags|=128}if(a=n.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Dt(Wt,Wt.current),r)break;return null;case 22:case 23:return n.lanes=0,Ry(t,n,s)}return zr(t,n,s)}var zy,_h,Hy,Ky;zy=function(t,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};_h=function(){};Hy=function(t,n,s,r){var a=t.memoizedProps;if(a!==r){t=n.stateNode,Ha(fr.current);var i=null;switch(s){case"input":a=sh(t,a),r=sh(t,r),i=[];break;case"select":a=Jt({},a,{value:void 0}),r=Jt({},r,{value:void 0}),i=[];break;case"textarea":a=ih(t,a),r=ih(t,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gc)}lh(s,r);var o;s=null;for(h in a)if(!r.hasOwnProperty(h)&&a.hasOwnProperty(h)&&a[h]!=null)if(h==="style"){var c=a[h];for(o in c)c.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(cl.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var u=r[h];if(c=a!=null?a[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(u!=null||c!=null))if(h==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(s||(s={}),s[o]=u[o])}else s||(i||(i=[]),i.push(h,s)),s=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(cl.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Rt("scroll",t),i||c===u||(i=[])):(i=i||[]).push(h,u))}s&&(i=i||[]).push("style",s);var h=i;(n.updateQueue=h)&&(n.flags|=4)}};Ky=function(t,n,s,r){s!==r&&(n.flags|=4)};function Oo(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kn(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(n)for(var a=t.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=s,n}function sw(t,n,s){var r=n.pendingProps;switch(Hf(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(n),null;case 1:return is(n.type)&&Yc(),Kn(n),null;case 3:return r=n.stateNode,Hi(),Mt(as),Mt(Gn),Jf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rc(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Zs!==null&&(Kh(Zs),Zs=null))),_h(t,n),Kn(n),null;case 5:Qf(n);var a=Ha(Sl.current);if(s=n.type,t!==null&&n.stateNode!=null)Hy(t,n,s,r,a),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(n.stateNode===null)throw Error(ne(166));return Kn(n),null}if(t=Ha(fr.current),rc(n)){r=n.stateNode,s=n.type;var i=n.memoizedProps;switch(r[dr]=n,r[yl]=i,t=(n.mode&1)!==0,s){case"dialog":Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":case"embed":Rt("load",r);break;case"video":case"audio":for(a=0;a<Yo.length;a++)Rt(Yo[a],r);break;case"source":Rt("error",r);break;case"img":case"image":case"link":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"input":bx(r,i),Rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Rt("invalid",r);break;case"textarea":Nx(r,i),Rt("invalid",r)}lh(s,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&sc(r.textContent,c,t),a=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&sc(r.textContent,c,t),a=["children",""+c]):cl.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Rt("scroll",r)}switch(s){case"input":Vl(r),Cx(r,i,!0);break;case"textarea":Vl(r),wx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Gc)}r=a,n.updateQueue=r,r!==null&&(n.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pg(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(s,{is:r.is}):(t=o.createElement(s),s==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,s),t[dr]=n,t[yl]=r,zy(t,n,!1,!1),n.stateNode=t;e:{switch(o=ch(s,r),s){case"dialog":Rt("cancel",t),Rt("close",t),a=r;break;case"iframe":case"object":case"embed":Rt("load",t),a=r;break;case"video":case"audio":for(a=0;a<Yo.length;a++)Rt(Yo[a],t);a=r;break;case"source":Rt("error",t),a=r;break;case"img":case"image":case"link":Rt("error",t),Rt("load",t),a=r;break;case"details":Rt("toggle",t),a=r;break;case"input":bx(t,r),a=sh(t,r),Rt("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=Jt({},r,{value:void 0}),Rt("invalid",t);break;case"textarea":Nx(t,r),a=ih(t,r),Rt("invalid",t);break;default:a=r}lh(s,a),c=a;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?yg(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&jg(t,u)):i==="children"?typeof u=="string"?(s!=="textarea"||u!=="")&&dl(t,u):typeof u=="number"&&dl(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cl.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Rt("scroll",t):u!=null&&Lf(t,i,u,o))}switch(s){case"input":Vl(t),Cx(t,r,!1);break;case"textarea":Vl(t),wx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+va(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ti(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ti(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Gc)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Kn(n),null;case 6:if(t&&n.stateNode!=null)Ky(t,n,t.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(ne(166));if(s=Ha(Sl.current),Ha(fr.current),rc(n)){if(r=n.stateNode,s=n.memoizedProps,r[dr]=n,(i=r.nodeValue!==s)&&(t=ps,t!==null))switch(t.tag){case 3:sc(r.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sc(r.nodeValue,s,(t.mode&1)!==0)}i&&(n.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[dr]=n,n.stateNode=r}return Kn(n),null;case 13:if(Mt(Wt),r=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(zt&&xs!==null&&n.mode&1&&!(n.flags&128))iy(),Mi(),n.flags|=98560,i=!1;else if(i=rc(n),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ne(318));if(i=n.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ne(317));i[dr]=n}else Mi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Kn(n),i=!1}else Zs!==null&&(Kh(Zs),Zs=null),i=!0;if(!i)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(n.child.flags|=8192,n.mode&1&&(t===null||Wt.current&1?kn===0&&(kn=3):cm())),n.updateQueue!==null&&(n.flags|=4),Kn(n),null);case 4:return Hi(),_h(t,n),t===null&&jl(n.stateNode.containerInfo),Kn(n),null;case 10:return Gf(n.type._context),Kn(n),null;case 17:return is(n.type)&&Yc(),Kn(n),null;case 19:if(Mt(Wt),i=n.memoizedState,i===null)return Kn(n),null;if(r=(n.flags&128)!==0,o=i.rendering,o===null)if(r)Oo(i,!1);else{if(kn!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(o=ed(t),o!==null){for(n.flags|=128,Oo(i,!1),r=o.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=s,s=n.child;s!==null;)i=s,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Dt(Wt,Wt.current&1|2),n.child}t=t.sibling}i.tail!==null&&an()>qi&&(n.flags|=128,r=!0,Oo(i,!1),n.lanes=4194304)}else{if(!r)if(t=ed(o),t!==null){if(n.flags|=128,r=!0,s=t.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Oo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!zt)return Kn(n),null}else 2*an()-i.renderingStartTime>qi&&s!==1073741824&&(n.flags|=128,r=!0,Oo(i,!1),n.lanes=4194304);i.isBackwards?(o.sibling=n.child,n.child=o):(s=i.last,s!==null?s.sibling=o:n.child=o,i.last=o)}return i.tail!==null?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.renderingStartTime=an(),n.sibling=null,s=Wt.current,Dt(Wt,r?s&1|2:s&1),n):(Kn(n),null);case 22:case 23:return lm(),r=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(n.flags|=8192),r&&n.mode&1?ms&1073741824&&(Kn(n),n.subtreeFlags&6&&(n.flags|=8192)):Kn(n),null;case 24:return null;case 25:return null}throw Error(ne(156,n.tag))}function rw(t,n){switch(Hf(n),n.tag){case 1:return is(n.type)&&Yc(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Hi(),Mt(as),Mt(Gn),Jf(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 5:return Qf(n),null;case 13:if(Mt(Wt),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(ne(340));Mi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Mt(Wt),null;case 4:return Hi(),null;case 10:return Gf(n.type._context),null;case 22:case 23:return lm(),null;case 24:return null;default:return null}}var oc=!1,Un=!1,aw=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Di(t,n){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){en(t,n,r)}else s.current=null}function Rh(t,n,s){try{s()}catch(r){en(t,n,r)}}var mp=!1;function iw(t,n){if(yh=Kc,t=Yg(),Mf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,c=-1,u=-1,h=0,d=0,x=t,j=null;t:for(;;){for(var v;x!==s||a!==0&&x.nodeType!==3||(c=o+a),x!==i||r!==0&&x.nodeType!==3||(u=o+r),x.nodeType===3&&(o+=x.nodeValue.length),(v=x.firstChild)!==null;)j=x,x=v;for(;;){if(x===t)break t;if(j===s&&++h===a&&(c=o),j===i&&++d===r&&(u=o),(v=x.nextSibling)!==null)break;x=j,j=x.parentNode}x=v}s=c===-1||u===-1?null:{start:c,end:u}}else s=null}s=s||{start:0,end:0}}else s=null;for(vh={focusedElem:t,selectionRange:s},Kc=!1,pe=n;pe!==null;)if(n=pe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,pe=t;else for(;pe!==null;){n=pe;try{var f=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var p=f.memoizedProps,b=f.memoizedState,k=n.stateNode,N=k.getSnapshotBeforeUpdate(n.elementType===n.type?p:Qs(n.type,p),b);k.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var E=n.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(y){en(n,n.return,y)}if(t=n.sibling,t!==null){t.return=n.return,pe=t;break}pe=n.return}return f=mp,mp=!1,f}function nl(t,n,s){var r=n.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&Rh(n,s,i)}a=a.next}while(a!==r)}}function Dd(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var r=s.create;s.destroy=r()}s=s.next}while(s!==n)}}function Ih(t){var n=t.ref;if(n!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof n=="function"?n(t):n.current=t}}function qy(t){var n=t.alternate;n!==null&&(t.alternate=null,qy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[dr],delete n[yl],delete n[Ch],delete n[HN],delete n[KN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Uy(t){return t.tag===5||t.tag===3||t.tag===4}function xp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,n,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(t,s)):(n=s,n.appendChild(t)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Gc));else if(r!==4&&(t=t.child,t!==null))for(Fh(t,n,s),t=t.sibling;t!==null;)Fh(t,n,s),t=t.sibling}function Ph(t,n,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ph(t,n,s),t=t.sibling;t!==null;)Ph(t,n,s),t=t.sibling}var Bn=null,Js=!1;function Zr(t,n,s){for(s=s.child;s!==null;)Gy(t,n,s),s=s.sibling}function Gy(t,n,s){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Sd,s)}catch{}switch(s.tag){case 5:Un||Di(s,n);case 6:var r=Bn,a=Js;Bn=null,Zr(t,n,s),Bn=r,Js=a,Bn!==null&&(Js?(t=Bn,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):Bn.removeChild(s.stateNode));break;case 18:Bn!==null&&(Js?(t=Bn,s=s.stateNode,t.nodeType===8?yu(t.parentNode,s):t.nodeType===1&&yu(t,s),ml(t)):yu(Bn,s.stateNode));break;case 4:r=Bn,a=Js,Bn=s.stateNode.containerInfo,Js=!0,Zr(t,n,s),Bn=r,Js=a;break;case 0:case 11:case 14:case 15:if(!Un&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Rh(s,n,o),a=a.next}while(a!==r)}Zr(t,n,s);break;case 1:if(!Un&&(Di(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(c){en(s,n,c)}Zr(t,n,s);break;case 21:Zr(t,n,s);break;case 22:s.mode&1?(Un=(r=Un)||s.memoizedState!==null,Zr(t,n,s),Un=r):Zr(t,n,s);break;default:Zr(t,n,s)}}function pp(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new aw),n.forEach(function(r){var a=xw.bind(null,t,r);s.has(r)||(s.add(r),r.then(a,a))})}}function Vs(t,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var i=t,o=n,c=o;e:for(;c!==null;){switch(c.tag){case 5:Bn=c.stateNode,Js=!1;break e;case 3:Bn=c.stateNode.containerInfo,Js=!0;break e;case 4:Bn=c.stateNode.containerInfo,Js=!0;break e}c=c.return}if(Bn===null)throw Error(ne(160));Gy(i,o,a),Bn=null,Js=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(h){en(a,n,h)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Yy(n,t),n=n.sibling}function Yy(t,n){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vs(n,t),or(t),r&4){try{nl(3,t,t.return),Dd(3,t)}catch(p){en(t,t.return,p)}try{nl(5,t,t.return)}catch(p){en(t,t.return,p)}}break;case 1:Vs(n,t),or(t),r&512&&s!==null&&Di(s,s.return);break;case 5:if(Vs(n,t),or(t),r&512&&s!==null&&Di(s,s.return),t.flags&32){var a=t.stateNode;try{dl(a,"")}catch(p){en(t,t.return,p)}}if(r&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=s!==null?s.memoizedProps:i,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&mg(a,i),ch(c,o);var h=ch(c,i);for(o=0;o<u.length;o+=2){var d=u[o],x=u[o+1];d==="style"?yg(a,x):d==="dangerouslySetInnerHTML"?jg(a,x):d==="children"?dl(a,x):Lf(a,d,x,h)}switch(c){case"input":rh(a,i);break;case"textarea":xg(a,i);break;case"select":var j=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Ti(a,!!i.multiple,v,!1):j!==!!i.multiple&&(i.defaultValue!=null?Ti(a,!!i.multiple,i.defaultValue,!0):Ti(a,!!i.multiple,i.multiple?[]:"",!1))}a[yl]=i}catch(p){en(t,t.return,p)}}break;case 6:if(Vs(n,t),or(t),r&4){if(t.stateNode===null)throw Error(ne(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(p){en(t,t.return,p)}}break;case 3:if(Vs(n,t),or(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{ml(n.containerInfo)}catch(p){en(t,t.return,p)}break;case 4:Vs(n,t),or(t);break;case 13:Vs(n,t),or(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(im=an())),r&4&&pp(t);break;case 22:if(d=s!==null&&s.memoizedState!==null,t.mode&1?(Un=(h=Un)||d,Vs(n,t),Un=h):Vs(n,t),or(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(pe=t,d=t.child;d!==null;){for(x=pe=d;pe!==null;){switch(j=pe,v=j.child,j.tag){case 0:case 11:case 14:case 15:nl(4,j,j.return);break;case 1:Di(j,j.return);var f=j.stateNode;if(typeof f.componentWillUnmount=="function"){r=j,s=j.return;try{n=r,f.props=n.memoizedProps,f.state=n.memoizedState,f.componentWillUnmount()}catch(p){en(r,s,p)}}break;case 5:Di(j,j.return);break;case 22:if(j.memoizedState!==null){gp(x);continue}}v!==null?(v.return=j,pe=v):gp(x)}d=d.sibling}e:for(d=null,x=t;;){if(x.tag===5){if(d===null){d=x;try{a=x.stateNode,h?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=x.stateNode,u=x.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=gg("display",o))}catch(p){en(t,t.return,p)}}}else if(x.tag===6){if(d===null)try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(p){en(t,t.return,p)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===t)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;d===x&&(d=null),x=x.return}d===x&&(d=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Vs(n,t),or(t),r&4&&pp(t);break;case 21:break;default:Vs(n,t),or(t)}}function or(t){var n=t.flags;if(n&2){try{e:{for(var s=t.return;s!==null;){if(Uy(s)){var r=s;break e}s=s.return}throw Error(ne(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(dl(a,""),r.flags&=-33);var i=xp(t);Ph(t,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,c=xp(t);Fh(t,c,o);break;default:throw Error(ne(161))}}catch(u){en(t,t.return,u)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ow(t,n,s){pe=t,Wy(t)}function Wy(t,n,s){for(var r=(t.mode&1)!==0;pe!==null;){var a=pe,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||oc;if(!o){var c=a.alternate,u=c!==null&&c.memoizedState!==null||Un;c=oc;var h=Un;if(oc=o,(Un=u)&&!h)for(pe=a;pe!==null;)o=pe,u=o.child,o.tag===22&&o.memoizedState!==null?yp(a):u!==null?(u.return=o,pe=u):yp(a);for(;i!==null;)pe=i,Wy(i),i=i.sibling;pe=a,oc=c,Un=h}jp(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,pe=i):jp(t)}}function jp(t){for(;pe!==null;){var n=pe;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Un||Dd(5,n);break;case 1:var r=n.stateNode;if(n.flags&4&&!Un)if(s===null)r.componentDidMount();else{var a=n.elementType===n.type?s.memoizedProps:Qs(n.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=n.updateQueue;i!==null&&ep(n,i,r);break;case 3:var o=n.updateQueue;if(o!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}ep(n,o,s)}break;case 5:var c=n.stateNode;if(s===null&&n.flags&4){s=c;var u=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&s.focus();break;case"img":u.src&&(s.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var h=n.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var x=d.dehydrated;x!==null&&ml(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Un||n.flags&512&&Ih(n)}catch(j){en(n,n.return,j)}}if(n===t){pe=null;break}if(s=n.sibling,s!==null){s.return=n.return,pe=s;break}pe=n.return}}function gp(t){for(;pe!==null;){var n=pe;if(n===t){pe=null;break}var s=n.sibling;if(s!==null){s.return=n.return,pe=s;break}pe=n.return}}function yp(t){for(;pe!==null;){var n=pe;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Dd(4,n)}catch(u){en(n,s,u)}break;case 1:var r=n.stateNode;if(typeof r.componentDidMount=="function"){var a=n.return;try{r.componentDidMount()}catch(u){en(n,a,u)}}var i=n.return;try{Ih(n)}catch(u){en(n,i,u)}break;case 5:var o=n.return;try{Ih(n)}catch(u){en(n,o,u)}}}catch(u){en(n,n.return,u)}if(n===t){pe=null;break}var c=n.sibling;if(c!==null){c.return=n.return,pe=c;break}pe=n.return}}var lw=Math.ceil,sd=qr.ReactCurrentDispatcher,rm=qr.ReactCurrentOwner,Bs=qr.ReactCurrentBatchConfig,ct=0,On=null,un=null,_n=0,ms=0,$i=wa(0),kn=0,wl=null,Ja=0,$d=0,am=0,sl=null,ss=null,im=0,qi=1/0,Er=null,rd=!1,Mh=null,xa=null,lc=!1,la=null,ad=0,rl=0,zh=null,Ec=-1,Dc=0;function Jn(){return ct&6?an():Ec!==-1?Ec:Ec=an()}function pa(t){return t.mode&1?ct&2&&_n!==0?_n&-_n:UN.transition!==null?(Dc===0&&(Dc=Tg()),Dc):(t=yt,t!==0||(t=window.event,t=t===void 0?16:Fg(t.type)),t):1}function nr(t,n,s,r){if(50<rl)throw rl=0,zh=null,Error(ne(185));Bl(t,s,r),(!(ct&2)||t!==On)&&(t===On&&(!(ct&2)&&($d|=s),kn===4&&ia(t,_n)),os(t,r),s===1&&ct===0&&!(n.mode&1)&&(qi=an()+500,kd&&ka()))}function os(t,n){var s=t.callbackNode;UC(t,n);var r=Hc(t,t===On?_n:0);if(r===0)s!==null&&Ex(s),t.callbackNode=null,t.callbackPriority=0;else if(n=r&-r,t.callbackPriority!==n){if(s!=null&&Ex(s),n===1)t.tag===0?qN(vp.bind(null,t)):sy(vp.bind(null,t)),MN(function(){!(ct&6)&&ka()}),s=null;else{switch(Og(r)){case 1:s=Of;break;case 4:s=Dg;break;case 16:s=zc;break;case 536870912:s=$g;break;default:s=zc}s=nv(s,Vy.bind(null,t))}t.callbackPriority=n,t.callbackNode=s}}function Vy(t,n){if(Ec=-1,Dc=0,ct&6)throw Error(ne(327));var s=t.callbackNode;if(Ri()&&t.callbackNode!==s)return null;var r=Hc(t,t===On?_n:0);if(r===0)return null;if(r&30||r&t.expiredLanes||n)n=id(t,r);else{n=r;var a=ct;ct|=2;var i=Jy();(On!==t||_n!==n)&&(Er=null,qi=an()+500,Ua(t,n));do try{uw();break}catch(c){Qy(t,c)}while(1);Uf(),sd.current=i,ct=a,un!==null?n=0:(On=null,_n=0,n=kn)}if(n!==0){if(n===2&&(a=mh(t),a!==0&&(r=a,n=Hh(t,a))),n===1)throw s=wl,Ua(t,0),ia(t,r),os(t,an()),s;if(n===6)ia(t,r);else{if(a=t.current.alternate,!(r&30)&&!cw(a)&&(n=id(t,r),n===2&&(i=mh(t),i!==0&&(r=i,n=Hh(t,i))),n===1))throw s=wl,Ua(t,0),ia(t,r),os(t,an()),s;switch(t.finishedWork=a,t.finishedLanes=r,n){case 0:case 1:throw Error(ne(345));case 2:Pa(t,ss,Er);break;case 3:if(ia(t,r),(r&130023424)===r&&(n=im+500-an(),10<n)){if(Hc(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){Jn(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=bh(Pa.bind(null,t,ss,Er),n);break}Pa(t,ss,Er);break;case 4:if(ia(t,r),(r&4194240)===r)break;for(n=t.eventTimes,a=-1;0<r;){var o=31-tr(r);i=1<<o,o=n[o],o>a&&(a=o),r&=~i}if(r=a,r=an()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lw(r/1960))-r,10<r){t.timeoutHandle=bh(Pa.bind(null,t,ss,Er),r);break}Pa(t,ss,Er);break;case 5:Pa(t,ss,Er);break;default:throw Error(ne(329))}}}return os(t,an()),t.callbackNode===s?Vy.bind(null,t):null}function Hh(t,n){var s=sl;return t.current.memoizedState.isDehydrated&&(Ua(t,n).flags|=256),t=id(t,n),t!==2&&(n=ss,ss=s,n!==null&&Kh(n)),t}function Kh(t){ss===null?ss=t:ss.push.apply(ss,t)}function cw(t){for(var n=t;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ia(t,n){for(n&=~am,n&=~$d,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var s=31-tr(n),r=1<<s;t[s]=-1,n&=~r}}function vp(t){if(ct&6)throw Error(ne(327));Ri();var n=Hc(t,0);if(!(n&1))return os(t,an()),null;var s=id(t,n);if(t.tag!==0&&s===2){var r=mh(t);r!==0&&(n=r,s=Hh(t,r))}if(s===1)throw s=wl,Ua(t,0),ia(t,n),os(t,an()),s;if(s===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Pa(t,ss,Er),os(t,an()),null}function om(t,n){var s=ct;ct|=1;try{return t(n)}finally{ct=s,ct===0&&(qi=an()+500,kd&&ka())}}function Xa(t){la!==null&&la.tag===0&&!(ct&6)&&Ri();var n=ct;ct|=1;var s=Bs.transition,r=yt;try{if(Bs.transition=null,yt=1,t)return t()}finally{yt=r,Bs.transition=s,ct=n,!(ct&6)&&ka()}}function lm(){ms=$i.current,Mt($i)}function Ua(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,PN(s)),un!==null)for(s=un.return;s!==null;){var r=s;switch(Hf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yc();break;case 3:Hi(),Mt(as),Mt(Gn),Jf();break;case 5:Qf(r);break;case 4:Hi();break;case 13:Mt(Wt);break;case 19:Mt(Wt);break;case 10:Gf(r.type._context);break;case 22:case 23:lm()}s=s.return}if(On=t,un=t=ja(t.current,null),_n=ms=n,kn=0,wl=null,am=$d=Ja=0,ss=sl=null,za!==null){for(n=0;n<za.length;n++)if(s=za[n],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,i=s.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}s.pending=r}za=null}return t}function Qy(t,n){do{var s=un;try{if(Uf(),wc.current=nd,td){for(var r=Qt.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}td=!1}if(Qa=0,$n=wn=Qt=null,tl=!1,bl=0,rm.current=null,s===null||s.return===null){kn=1,wl=n,un=null;break}e:{var i=t,o=s.return,c=s,u=n;if(n=_n,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,d=c,x=d.tag;if(!(d.mode&1)&&(x===0||x===11||x===15)){var j=d.alternate;j?(d.updateQueue=j.updateQueue,d.memoizedState=j.memoizedState,d.lanes=j.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=op(o);if(v!==null){v.flags&=-257,lp(v,o,c,i,n),v.mode&1&&ip(i,h,n),n=v,u=h;var f=n.updateQueue;if(f===null){var p=new Set;p.add(u),n.updateQueue=p}else f.add(u);break e}else{if(!(n&1)){ip(i,h,n),cm();break e}u=Error(ne(426))}}else if(zt&&c.mode&1){var b=op(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),lp(b,o,c,i,n),Kf(Ki(u,c));break e}}i=u=Ki(u,c),kn!==4&&(kn=2),sl===null?sl=[i]:sl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,n&=-n,i.lanes|=n;var k=Ay(i,u,n);Zx(i,k);break e;case 1:c=u;var N=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof N.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(xa===null||!xa.has(E)))){i.flags|=65536,n&=-n,i.lanes|=n;var y=By(i,c,n);Zx(i,y);break e}}i=i.return}while(i!==null)}Zy(s)}catch(w){n=w,un===s&&s!==null&&(un=s=s.return);continue}break}while(1)}function Jy(){var t=sd.current;return sd.current=nd,t===null?nd:t}function cm(){(kn===0||kn===3||kn===2)&&(kn=4),On===null||!(Ja&268435455)&&!($d&268435455)||ia(On,_n)}function id(t,n){var s=ct;ct|=2;var r=Jy();(On!==t||_n!==n)&&(Er=null,Ua(t,n));do try{dw();break}catch(a){Qy(t,a)}while(1);if(Uf(),ct=s,sd.current=r,un!==null)throw Error(ne(261));return On=null,_n=0,kn}function dw(){for(;un!==null;)Xy(un)}function uw(){for(;un!==null&&!RC();)Xy(un)}function Xy(t){var n=tv(t.alternate,t,ms);t.memoizedProps=t.pendingProps,n===null?Zy(t):un=n,rm.current=null}function Zy(t){var n=t;do{var s=n.alternate;if(t=n.return,n.flags&32768){if(s=rw(s,n),s!==null){s.flags&=32767,un=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kn=6,un=null;return}}else if(s=sw(s,n,ms),s!==null){un=s;return}if(n=n.sibling,n!==null){un=n;return}un=n=t}while(n!==null);kn===0&&(kn=5)}function Pa(t,n,s){var r=yt,a=Bs.transition;try{Bs.transition=null,yt=1,hw(t,n,s,r)}finally{Bs.transition=a,yt=r}return null}function hw(t,n,s,r){do Ri();while(la!==null);if(ct&6)throw Error(ne(327));s=t.finishedWork;var a=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var i=s.lanes|s.childLanes;if(GC(t,i),t===On&&(un=On=null,_n=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||lc||(lc=!0,nv(zc,function(){return Ri(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=Bs.transition,Bs.transition=null;var o=yt;yt=1;var c=ct;ct|=4,rm.current=null,iw(t,s),Yy(s,t),ON(vh),Kc=!!yh,vh=yh=null,t.current=s,ow(s),IC(),ct=c,yt=o,Bs.transition=i}else t.current=s;if(lc&&(lc=!1,la=t,ad=a),i=t.pendingLanes,i===0&&(xa=null),MC(s.stateNode),os(t,an()),n!==null)for(r=t.onRecoverableError,s=0;s<n.length;s++)a=n[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(rd)throw rd=!1,t=Mh,Mh=null,t;return ad&1&&t.tag!==0&&Ri(),i=t.pendingLanes,i&1?t===zh?rl++:(rl=0,zh=t):rl=0,ka(),null}function Ri(){if(la!==null){var t=Og(ad),n=Bs.transition,s=yt;try{if(Bs.transition=null,yt=16>t?16:t,la===null)var r=!1;else{if(t=la,la=null,ad=0,ct&6)throw Error(ne(331));var a=ct;for(ct|=4,pe=t.current;pe!==null;){var i=pe,o=i.child;if(pe.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var h=c[u];for(pe=h;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var x=d.child;if(x!==null)x.return=d,pe=x;else for(;pe!==null;){d=pe;var j=d.sibling,v=d.return;if(qy(d),d===h){pe=null;break}if(j!==null){j.return=v,pe=j;break}pe=v}}}var f=i.alternate;if(f!==null){var p=f.child;if(p!==null){f.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}pe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,pe=o;else e:for(;pe!==null;){if(i=pe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var k=i.sibling;if(k!==null){k.return=i.return,pe=k;break e}pe=i.return}}var N=t.current;for(pe=N;pe!==null;){o=pe;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,pe=E;else e:for(o=N;pe!==null;){if(c=pe,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Dd(9,c)}}catch(w){en(c,c.return,w)}if(c===o){pe=null;break e}var y=c.sibling;if(y!==null){y.return=c.return,pe=y;break e}pe=c.return}}if(ct=a,ka(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(Sd,t)}catch{}r=!0}return r}finally{yt=s,Bs.transition=n}}return!1}function Sp(t,n,s){n=Ki(s,n),n=Ay(t,n,1),t=ma(t,n,1),n=Jn(),t!==null&&(Bl(t,1,n),os(t,n))}function en(t,n,s){if(t.tag===3)Sp(t,t,s);else for(;n!==null;){if(n.tag===3){Sp(n,t,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xa===null||!xa.has(r))){t=Ki(s,t),t=By(n,t,1),n=ma(n,t,1),t=Jn(),n!==null&&(Bl(n,1,t),os(n,t));break}}n=n.return}}function fw(t,n,s){var r=t.pingCache;r!==null&&r.delete(n),n=Jn(),t.pingedLanes|=t.suspendedLanes&s,On===t&&(_n&s)===s&&(kn===4||kn===3&&(_n&130023424)===_n&&500>an()-im?Ua(t,0):am|=s),os(t,n)}function ev(t,n){n===0&&(t.mode&1?(n=Xl,Xl<<=1,!(Xl&130023424)&&(Xl=4194304)):n=1);var s=Jn();t=Mr(t,n),t!==null&&(Bl(t,n,s),os(t,s))}function mw(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),ev(t,s)}function xw(t,n){var s=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(n),ev(t,s)}var tv;tv=function(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps||as.current)rs=!0;else{if(!(t.lanes&s)&&!(n.flags&128))return rs=!1,nw(t,n,s);rs=!!(t.flags&131072)}else rs=!1,zt&&n.flags&1048576&&ry(n,Qc,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;Lc(t,n),t=n.pendingProps;var a=Pi(n,Gn.current);_i(n,s),a=Zf(null,n,r,t,a,s);var i=em();return n.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,is(r)?(i=!0,Wc(n)):i=!1,n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Wf(n),a.updater=Ld,n.stateNode=a,a._reactInternals=n,Dh(n,r,t,s),n=Oh(null,n,r,!0,i,s)):(n.tag=0,zt&&i&&zf(n),Qn(null,n,a,s),n=n.child),n;case 16:r=n.elementType;e:{switch(Lc(t,n),t=n.pendingProps,a=r._init,r=a(r._payload),n.type=r,a=n.tag=jw(r),t=Qs(r,t),a){case 0:n=Th(null,n,r,t,s);break e;case 1:n=up(null,n,r,t,s);break e;case 11:n=cp(null,n,r,t,s);break e;case 14:n=dp(null,n,r,Qs(r.type,t),s);break e}throw Error(ne(306,r,""))}return n;case 0:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Qs(r,a),Th(t,n,r,a,s);case 1:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Qs(r,a),up(t,n,r,a,s);case 3:e:{if(Fy(n),t===null)throw Error(ne(387));r=n.pendingProps,i=n.memoizedState,a=i.element,ly(t,n),Zc(n,r,null,s);var o=n.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},n.updateQueue.baseState=i,n.memoizedState=i,n.flags&256){a=Ki(Error(ne(423)),n),n=hp(t,n,r,s,a);break e}else if(r!==a){a=Ki(Error(ne(424)),n),n=hp(t,n,r,s,a);break e}else for(xs=fa(n.stateNode.containerInfo.firstChild),ps=n,zt=!0,Zs=null,s=hy(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Mi(),r===a){n=zr(t,n,s);break e}Qn(t,n,r,s)}n=n.child}return n;case 5:return fy(n),t===null&&kh(n),r=n.type,a=n.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,Sh(r,a)?o=null:i!==null&&Sh(r,i)&&(n.flags|=32),Iy(t,n),Qn(t,n,o,s),n.child;case 6:return t===null&&kh(n),null;case 13:return Py(t,n,s);case 4:return Vf(n,n.stateNode.containerInfo),r=n.pendingProps,t===null?n.child=zi(n,null,r,s):Qn(t,n,r,s),n.child;case 11:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Qs(r,a),cp(t,n,r,a,s);case 7:return Qn(t,n,n.pendingProps,s),n.child;case 8:return Qn(t,n,n.pendingProps.children,s),n.child;case 12:return Qn(t,n,n.pendingProps.children,s),n.child;case 10:e:{if(r=n.type._context,a=n.pendingProps,i=n.memoizedProps,o=a.value,Dt(Jc,r._currentValue),r._currentValue=o,i!==null)if(sr(i.value,o)){if(i.children===a.children&&!as.current){n=zr(t,n,s);break e}}else for(i=n.child,i!==null&&(i.return=n);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=_r(-1,s&-s),u.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?u.next=u:(u.next=d.next,d.next=u),h.pending=u}}i.lanes|=s,u=i.alternate,u!==null&&(u.lanes|=s),Lh(i.return,s,n),c.lanes|=s;break}u=u.next}}else if(i.tag===10)o=i.type===n.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ne(341));o.lanes|=s,c=o.alternate,c!==null&&(c.lanes|=s),Lh(o,s,n),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===n){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Qn(t,n,a.children,s),n=n.child}return n;case 9:return a=n.type,r=n.pendingProps.children,_i(n,s),a=Rs(a),r=r(a),n.flags|=1,Qn(t,n,r,s),n.child;case 14:return r=n.type,a=Qs(r,n.pendingProps),a=Qs(r.type,a),dp(t,n,r,a,s);case 15:return _y(t,n,n.type,n.pendingProps,s);case 17:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Qs(r,a),Lc(t,n),n.tag=1,is(r)?(t=!0,Wc(n)):t=!1,_i(n,s),dy(n,r,a),Dh(n,r,a,s),Oh(null,n,r,!0,t,s);case 19:return My(t,n,s);case 22:return Ry(t,n,s)}throw Error(ne(156,n.tag))};function nv(t,n){return Eg(t,n)}function pw(t,n,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function As(t,n,s,r){return new pw(t,n,s,r)}function dm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jw(t){if(typeof t=="function")return dm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Df)return 11;if(t===$f)return 14}return 2}function ja(t,n){var s=t.alternate;return s===null?(s=As(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function $c(t,n,s,r,a,i){var o=2;if(r=t,typeof t=="function")dm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vi:return Ga(s.children,a,i,n);case Ef:o=8,a|=8;break;case Zu:return t=As(12,s,n,a|2),t.elementType=Zu,t.lanes=i,t;case eh:return t=As(13,s,n,a),t.elementType=eh,t.lanes=i,t;case th:return t=As(19,s,n,a),t.elementType=th,t.lanes=i,t;case ug:return Td(s,a,i,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cg:o=10;break e;case dg:o=9;break e;case Df:o=11;break e;case $f:o=14;break e;case na:o=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return n=As(o,s,n,a),n.elementType=t,n.type=r,n.lanes=i,n}function Ga(t,n,s,r){return t=As(7,t,r,n),t.lanes=s,t}function Td(t,n,s,r){return t=As(22,t,r,n),t.elementType=ug,t.lanes=s,t.stateNode={isHidden:!1},t}function Lu(t,n,s){return t=As(6,t,null,n),t.lanes=s,t}function Eu(t,n,s){return n=As(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function gw(t,n,s,r,a){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lu(0),this.expirationTimes=lu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lu(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function um(t,n,s,r,a,i,o,c,u){return t=new gw(t,n,s,c,u),n===1?(n=1,i===!0&&(n|=8)):n=0,i=As(3,null,null,n),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wf(i),t}function yw(t,n,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yi,key:r==null?null:""+r,children:t,containerInfo:n,implementation:s}}function sv(t){if(!t)return Sa;t=t._reactInternals;e:{if(ni(t)!==t||t.tag!==1)throw Error(ne(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(is(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(ne(171))}if(t.tag===1){var s=t.type;if(is(s))return ny(t,s,n)}return n}function rv(t,n,s,r,a,i,o,c,u){return t=um(s,r,!0,t,a,i,o,c,u),t.context=sv(null),s=t.current,r=Jn(),a=pa(s),i=_r(r,a),i.callback=n??null,ma(s,i,a),t.current.lanes=a,Bl(t,a,r),os(t,r),t}function Od(t,n,s,r){var a=n.current,i=Jn(),o=pa(a);return s=sv(s),n.context===null?n.context=s:n.pendingContext=s,n=_r(i,o),n.payload={element:t},r=r===void 0?null:r,r!==null&&(n.callback=r),t=ma(a,n,o),t!==null&&(nr(t,a,o,i),Nc(t,a,o)),o}function od(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function hm(t,n){bp(t,n),(t=t.alternate)&&bp(t,n)}function vw(){return null}var av=typeof reportError=="function"?reportError:function(t){console.error(t)};function fm(t){this._internalRoot=t}Ad.prototype.render=fm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(ne(409));Od(t,n,null,null)};Ad.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Xa(function(){Od(null,t,null,null)}),n[Pr]=null}};function Ad(t){this._internalRoot=t}Ad.prototype.unstable_scheduleHydration=function(t){if(t){var n=_g();t={blockedOn:null,target:t,priority:n};for(var s=0;s<aa.length&&n!==0&&n<aa[s].priority;s++);aa.splice(s,0,t),s===0&&Ig(t)}};function mm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cp(){}function Sw(t,n,s,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var h=od(o);i.call(h)}}var o=rv(n,r,t,0,null,!1,!1,"",Cp);return t._reactRootContainer=o,t[Pr]=o.current,jl(t.nodeType===8?t.parentNode:t),Xa(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var c=r;r=function(){var h=od(u);c.call(h)}}var u=um(t,0,!1,null,null,!1,!1,"",Cp);return t._reactRootContainer=u,t[Pr]=u.current,jl(t.nodeType===8?t.parentNode:t),Xa(function(){Od(n,u,s,r)}),u}function _d(t,n,s,r,a){var i=s._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var c=a;a=function(){var u=od(o);c.call(u)}}Od(n,o,t,a)}else o=Sw(s,n,t,a,r);return od(o)}Ag=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var s=Go(n.pendingLanes);s!==0&&(Af(n,s|1),os(n,an()),!(ct&6)&&(qi=an()+500,ka()))}break;case 13:Xa(function(){var r=Mr(t,1);if(r!==null){var a=Jn();nr(r,t,1,a)}}),hm(t,1)}};Bf=function(t){if(t.tag===13){var n=Mr(t,134217728);if(n!==null){var s=Jn();nr(n,t,134217728,s)}hm(t,134217728)}};Bg=function(t){if(t.tag===13){var n=pa(t),s=Mr(t,n);if(s!==null){var r=Jn();nr(s,t,n,r)}hm(t,n)}};_g=function(){return yt};Rg=function(t,n){var s=yt;try{return yt=t,n()}finally{yt=s}};uh=function(t,n,s){switch(n){case"input":if(rh(t,s),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==t&&r.form===t.form){var a=wd(r);if(!a)throw Error(ne(90));fg(r),rh(r,a)}}}break;case"textarea":xg(t,s);break;case"select":n=s.value,n!=null&&Ti(t,!!s.multiple,n,!1)}};bg=om;Cg=Xa;var bw={usingClientEntryPoint:!1,Events:[Rl,Ni,wd,vg,Sg,om]},Ao={findFiberByHostInstance:Ma,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Cw={bundleType:Ao.bundleType,version:Ao.version,rendererPackageName:Ao.rendererPackageName,rendererConfig:Ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kg(t),t===null?null:t.stateNode},findFiberByHostInstance:Ao.findFiberByHostInstance||vw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{Sd=cc.inject(Cw),hr=cc}catch{}}ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bw;ys.createPortal=function(t,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mm(n))throw Error(ne(200));return yw(t,n,null,s)};ys.createRoot=function(t,n){if(!mm(t))throw Error(ne(299));var s=!1,r="",a=av;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),n=um(t,1,!1,null,null,s,!1,r,a),t[Pr]=n.current,jl(t.nodeType===8?t.parentNode:t),new fm(n)};ys.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=kg(n),t=t===null?null:t.stateNode,t};ys.flushSync=function(t){return Xa(t)};ys.hydrate=function(t,n,s){if(!Bd(n))throw Error(ne(200));return _d(null,t,n,!0,s)};ys.hydrateRoot=function(t,n,s){if(!mm(t))throw Error(ne(405));var r=s!=null&&s.hydratedSources||null,a=!1,i="",o=av;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),n=rv(n,null,t,1,s??null,a,!1,i,o),t[Pr]=n.current,jl(t),r)for(t=0;t<r.length;t++)s=r[t],a=s._getVersion,a=a(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,a]:n.mutableSourceEagerHydrationData.push(s,a);return new Ad(n)};ys.render=function(t,n,s){if(!Bd(n))throw Error(ne(200));return _d(null,t,n,!1,s)};ys.unmountComponentAtNode=function(t){if(!Bd(t))throw Error(ne(40));return t._reactRootContainer?(Xa(function(){_d(null,null,t,!1,function(){t._reactRootContainer=null,t[Pr]=null})}),!0):!1};ys.unstable_batchedUpdates=om;ys.unstable_renderSubtreeIntoContainer=function(t,n,s,r){if(!Bd(s))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return _d(t,n,s,!1,r)};ys.version="18.2.0-next-9e3b772b8-20220608";function iv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iv)}catch(t){console.error(t)}}iv(),rg.exports=ys;var xm=rg.exports;const Ka=Qi(xm);var Np=xm;Ju.createRoot=Np.createRoot,Ju.hydrateRoot=Np.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kl(){return kl=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},kl.apply(this,arguments)}var ca;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ca||(ca={}));const wp="popstate";function Nw(t){t===void 0&&(t={});function n(r,a){let{pathname:i,search:o,hash:c}=r.location;return qh("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:ld(a)}return kw(n,s,null,t)}function on(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function pm(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function ww(){return Math.random().toString(36).substr(2,8)}function kp(t,n){return{usr:t.state,key:t.key,idx:n}}function qh(t,n,s,r){return s===void 0&&(s=null),kl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof n=="string"?eo(n):n,{state:s,key:n&&n.key||r||ww()})}function ld(t){let{pathname:n="/",search:s="",hash:r=""}=t;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function eo(t){let n={};if(t){let s=t.indexOf("#");s>=0&&(n.hash=t.substr(s),t=t.substr(0,s));let r=t.indexOf("?");r>=0&&(n.search=t.substr(r),t=t.substr(0,r)),t&&(n.pathname=t)}return n}function kw(t,n,s,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,c=ca.Pop,u=null,h=d();h==null&&(h=0,o.replaceState(kl({},o.state,{idx:h}),""));function d(){return(o.state||{idx:null}).idx}function x(){c=ca.Pop;let b=d(),k=b==null?null:b-h;h=b,u&&u({action:c,location:p.location,delta:k})}function j(b,k){c=ca.Push;let N=qh(p.location,b,k);s&&s(N,b),h=d()+1;let E=kp(N,h),y=p.createHref(N);try{o.pushState(E,"",y)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(y)}i&&u&&u({action:c,location:p.location,delta:1})}function v(b,k){c=ca.Replace;let N=qh(p.location,b,k);s&&s(N,b),h=d();let E=kp(N,h),y=p.createHref(N);o.replaceState(E,"",y),i&&u&&u({action:c,location:p.location,delta:0})}function f(b){let k=a.location.origin!=="null"?a.location.origin:a.location.href,N=typeof b=="string"?b:ld(b);return on(k,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,k)}let p={get action(){return c},get location(){return t(a,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(wp,x),u=b,()=>{a.removeEventListener(wp,x),u=null}},createHref(b){return n(a,b)},createURL:f,encodeLocation(b){let k=f(b);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:j,replace:v,go(b){return o.go(b)}};return p}var Lp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Lp||(Lp={}));function Lw(t,n,s){s===void 0&&(s="/");let r=typeof n=="string"?eo(n):n,a=jm(r.pathname||"/",s);if(a==null)return null;let i=ov(t);Ew(i);let o=null;for(let c=0;o==null&&c<i.length;++c)o=Iw(i[c],Mw(a));return o}function ov(t,n,s,r){n===void 0&&(n=[]),s===void 0&&(s=[]),r===void 0&&(r="");let a=(i,o,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(on(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=ga([r,u.relativePath]),d=s.concat(u);i.children&&i.children.length>0&&(on(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),ov(i.children,n,d,h)),!(i.path==null&&!i.index)&&n.push({path:h,score:_w(h,i.index),routesMeta:d})};return t.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,o);else for(let u of lv(i.path))a(i,o,u)}),n}function lv(t){let n=t.split("/");if(n.length===0)return[];let[s,...r]=n,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=lv(r.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),a&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function Ew(t){t.sort((n,s)=>n.score!==s.score?s.score-n.score:Rw(n.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const Dw=/^:\w+$/,$w=3,Tw=2,Ow=1,Aw=10,Bw=-2,Ep=t=>t==="*";function _w(t,n){let s=t.split("/"),r=s.length;return s.some(Ep)&&(r+=Bw),n&&(r+=Tw),s.filter(a=>!Ep(a)).reduce((a,i)=>a+(Dw.test(i)?$w:i===""?Ow:Aw),r)}function Rw(t,n){return t.length===n.length&&t.slice(0,-1).every((r,a)=>r===n[a])?t[t.length-1]-n[n.length-1]:0}function Iw(t,n){let{routesMeta:s}=t,r={},a="/",i=[];for(let o=0;o<s.length;++o){let c=s[o],u=o===s.length-1,h=a==="/"?n:n.slice(a.length)||"/",d=Fw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h);if(!d)return null;Object.assign(r,d.params);let x=c.route;i.push({params:r,pathname:ga([a,d.pathname]),pathnameBase:qw(ga([a,d.pathnameBase])),route:x}),d.pathnameBase!=="/"&&(a=ga([a,d.pathnameBase]))}return i}function Fw(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=Pw(t.path,t.caseSensitive,t.end),a=n.match(s);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((h,d,x)=>{if(d==="*"){let j=c[x]||"";o=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}return h[d]=zw(c[x]||"",d),h},{}),pathname:i,pathnameBase:o,pattern:t}}function Pw(t,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),pm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,c)=>(r.push(c),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,n?void 0:"i"),r]}function Mw(t){try{return decodeURI(t)}catch(n){return pm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),t}}function zw(t,n){try{return decodeURIComponent(t)}catch(s){return pm(!1,'The value for the URL param "'+n+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+s+").")),t}}function jm(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}function Hw(t,n){n===void 0&&(n="/");let{pathname:s,search:r="",hash:a=""}=typeof t=="string"?eo(t):t;return{pathname:s?s.startsWith("/")?s:Kw(s,n):n,search:Uw(r),hash:Gw(a)}}function Kw(t,n){let s=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function Du(t,n,s,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gm(t){return t.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function ym(t,n,s,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=eo(t):(a=kl({},t),on(!a.pathname||!a.pathname.includes("?"),Du("?","pathname","search",a)),on(!a.pathname||!a.pathname.includes("#"),Du("#","pathname","hash",a)),on(!a.search||!a.search.includes("#"),Du("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,c;if(r||o==null)c=s;else{let x=n.length-1;if(o.startsWith("..")){let j=o.split("/");for(;j[0]==="..";)j.shift(),x-=1;a.pathname=j.join("/")}c=x>=0?n[x]:"/"}let u=Hw(a,c),h=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}const ga=t=>t.join("/").replace(/\/\/+/g,"/"),qw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Uw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Gw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Yw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cv=["post","put","patch","delete"];new Set(cv);const Ww=["get",...cv];new Set(Ww);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},cd.apply(this,arguments)}const vm=l.createContext(null),Vw=l.createContext(null),to=l.createContext(null),Rd=l.createContext(null),Ur=l.createContext({outlet:null,matches:[],isDataRoute:!1}),dv=l.createContext(null);function Qw(t,n){let{relative:s}=n===void 0?{}:n;no()||on(!1);let{basename:r,navigator:a}=l.useContext(to),{hash:i,pathname:o,search:c}=hv(t,{relative:s}),u=o;return r!=="/"&&(u=o==="/"?r:ga([r,o])),a.createHref({pathname:u,search:c,hash:i})}function no(){return l.useContext(Rd)!=null}function Fl(){return no()||on(!1),l.useContext(Rd).location}function uv(t){l.useContext(to).static||l.useLayoutEffect(t)}function so(){let{isDataRoute:t}=l.useContext(Ur);return t?ck():Jw()}function Jw(){no()||on(!1);let t=l.useContext(vm),{basename:n,navigator:s}=l.useContext(to),{matches:r}=l.useContext(Ur),{pathname:a}=Fl(),i=JSON.stringify(gm(r).map(u=>u.pathnameBase)),o=l.useRef(!1);return uv(()=>{o.current=!0}),l.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){s.go(u);return}let d=ym(u,JSON.parse(i),a,h.relative==="path");t==null&&n!=="/"&&(d.pathname=d.pathname==="/"?n:ga([n,d.pathname])),(h.replace?s.replace:s.push)(d,h.state,h)},[n,s,i,a,t])}function In(){let{matches:t}=l.useContext(Ur),n=t[t.length-1];return n?n.params:{}}function hv(t,n){let{relative:s}=n===void 0?{}:n,{matches:r}=l.useContext(Ur),{pathname:a}=Fl(),i=JSON.stringify(gm(r).map(o=>o.pathnameBase));return l.useMemo(()=>ym(t,JSON.parse(i),a,s==="path"),[t,i,a,s])}function Xw(t,n){return Zw(t,n)}function Zw(t,n,s){no()||on(!1);let{navigator:r}=l.useContext(to),{matches:a}=l.useContext(Ur),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Fl(),h;if(n){var d;let p=typeof n=="string"?eo(n):n;c==="/"||(d=p.pathname)!=null&&d.startsWith(c)||on(!1),h=p}else h=u;let x=h.pathname||"/",j=c==="/"?x:x.slice(c.length)||"/",v=Lw(t,{pathname:j}),f=rk(v&&v.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:ga([c,r.encodeLocation?r.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:ga([c,r.encodeLocation?r.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),a,s);return n&&f?l.createElement(Rd.Provider,{value:{location:cd({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ca.Pop}},f):f}function ek(){let t=lk(),n=Yw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},n),s?l.createElement("pre",{style:a},s):null,i)}const tk=l.createElement(ek,null);class nk extends l.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error||s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error?l.createElement(Ur.Provider,{value:this.props.routeContext},l.createElement(dv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sk(t){let{routeContext:n,match:s,children:r}=t,a=l.useContext(vm);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),l.createElement(Ur.Provider,{value:n},r)}function rk(t,n,s){var r;if(n===void 0&&(n=[]),s===void 0&&(s=null),t==null){var a;if((a=s)!=null&&a.errors)t=s.matches;else return null}let i=t,o=(r=s)==null?void 0:r.errors;if(o!=null){let c=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id]));c>=0||on(!1),i=i.slice(0,Math.min(i.length,c+1))}return i.reduceRight((c,u,h)=>{let d=u.route.id?o==null?void 0:o[u.route.id]:null,x=null;s&&(x=u.route.errorElement||tk);let j=n.concat(i.slice(0,h+1)),v=()=>{let f;return d?f=x:u.route.Component?f=l.createElement(u.route.Component,null):u.route.element?f=u.route.element:f=c,l.createElement(sk,{match:u,routeContext:{outlet:c,matches:j,isDataRoute:s!=null},children:f})};return s&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?l.createElement(nk,{location:s.location,revalidation:s.revalidation,component:x,error:d,children:v(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):v()},null)}var fv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fv||{}),dd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dd||{});function ak(t){let n=l.useContext(vm);return n||on(!1),n}function ik(t){let n=l.useContext(Vw);return n||on(!1),n}function ok(t){let n=l.useContext(Ur);return n||on(!1),n}function mv(t){let n=ok(),s=n.matches[n.matches.length-1];return s.route.id||on(!1),s.route.id}function lk(){var t;let n=l.useContext(dv),s=ik(dd.UseRouteError),r=mv(dd.UseRouteError);return n||((t=s.errors)==null?void 0:t[r])}function ck(){let{router:t}=ak(fv.UseNavigateStable),n=mv(dd.UseNavigateStable),s=l.useRef(!1);return uv(()=>{s.current=!0}),l.useCallback(function(a,i){i===void 0&&(i={}),s.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,cd({fromRouteId:n},i)))},[t,n])}function nt(t){let{to:n,replace:s,state:r,relative:a}=t;no()||on(!1);let{matches:i}=l.useContext(Ur),{pathname:o}=Fl(),c=so(),u=ym(n,gm(i).map(d=>d.pathnameBase),o,a==="path"),h=JSON.stringify(u);return l.useEffect(()=>c(JSON.parse(h),{replace:s,state:r,relative:a}),[c,h,a,s,r]),null}function Je(t){on(!1)}function dk(t){let{basename:n="/",children:s=null,location:r,navigationType:a=ca.Pop,navigator:i,static:o=!1}=t;no()&&on(!1);let c=n.replace(/^\/*/,"/"),u=l.useMemo(()=>({basename:c,navigator:i,static:o}),[c,i,o]);typeof r=="string"&&(r=eo(r));let{pathname:h="/",search:d="",hash:x="",state:j=null,key:v="default"}=r,f=l.useMemo(()=>{let p=jm(h,c);return p==null?null:{location:{pathname:p,search:d,hash:x,state:j,key:v},navigationType:a}},[c,h,d,x,j,v,a]);return f==null?null:l.createElement(to.Provider,{value:u},l.createElement(Rd.Provider,{children:s,value:f}))}function xv(t){let{children:n,location:s}=t;return Xw(Uh(n),s)}new Promise(()=>{});function Uh(t,n){n===void 0&&(n=[]);let s=[];return l.Children.forEach(t,(r,a)=>{if(!l.isValidElement(r))return;let i=[...n,a];if(r.type===l.Fragment){s.push.apply(s,Uh(r.props.children,i));return}r.type!==Je&&on(!1),!r.props.index||!r.props.children||on(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Uh(r.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Gh.apply(this,arguments)}function uk(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}function hk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fk(t,n){return t.button===0&&(!n||n==="_self")&&!hk(t)}const mk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],xk="startTransition",Dp=mC[xk];function pk(t){let{basename:n,children:s,future:r,window:a}=t,i=l.useRef();i.current==null&&(i.current=Nw({window:a,v5Compat:!0}));let o=i.current,[c,u]=l.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},d=l.useCallback(x=>{h&&Dp?Dp(()=>u(x)):u(x)},[u,h]);return l.useLayoutEffect(()=>o.listen(d),[o,d]),l.createElement(dk,{basename:n,children:s,location:c.location,navigationType:c.action,navigator:o})}const jk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=l.forwardRef(function(n,s){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:c,target:u,to:h,preventScrollReset:d}=n,x=uk(n,mk),{basename:j}=l.useContext(to),v,f=!1;if(typeof h=="string"&&gk.test(h)&&(v=h,jk))try{let N=new URL(window.location.href),E=h.startsWith("//")?new URL(N.protocol+h):new URL(h),y=jm(E.pathname,j);E.origin===N.origin&&y!=null?h=y+E.search+E.hash:f=!0}catch{}let p=Qw(h,{relative:a}),b=yk(h,{replace:o,state:c,target:u,preventScrollReset:d,relative:a});function k(N){r&&r(N),N.defaultPrevented||b(N)}return l.createElement("a",Gh({},x,{href:v||p,onClick:f||i?r:k,ref:s,target:u}))});var $p;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})($p||($p={}));var Tp;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Tp||(Tp={}));function yk(t,n){let{target:s,replace:r,state:a,preventScrollReset:i,relative:o}=n===void 0?{}:n,c=so(),u=Fl(),h=hv(t,{relative:o});return l.useCallback(d=>{if(fk(d,s)){d.preventDefault();let x=r!==void 0?r:ld(u)===ld(h);c(t,{replace:x,state:a,preventScrollReset:i,relative:o})}},[u,c,h,r,a,s,t,i,o])}const se=l.createContext(),vk=(t,n)=>{switch(n.type){case"LOGIN":return{user:n.payload};case"LOGOUT":return{user:null};default:return t}},Sk=({children:t})=>{const[n,s]=l.useReducer(vk,{user:null}),[r,a]=l.useState(!0);return l.useEffect(()=>{(async()=>{try{const o=JSON.parse(localStorage.getItem("user"));o&&s({type:"LOGIN",payload:o})}catch(o){console.error(o)}finally{a(!1)}})()},[]),r?null:e.jsx(se.Provider,{value:{user:n.user,dispatch:s},children:t})};var pv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var n={}.hasOwnProperty;function s(){for(var r=[],a=0;a<arguments.length;a++){var i=arguments[a];if(i){var o=typeof i;if(o==="string"||o==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var c=s.apply(null,i);c&&r.push(c)}}else if(o==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var u in i)n.call(i,u)&&i[u]&&r.push(u)}}}return r.join(" ")}t.exports?(s.default=s,t.exports=s):window.classNames=s})()})(pv);var bk=pv.exports;const ie=Qi(bk),Ck=["xxl","xl","lg","md","sm","xs"],Nk="xs",Id=l.createContext({prefixes:{},breakpoints:Ck,minBreakpoint:Nk});function me(t,n){const{prefixes:s}=l.useContext(Id);return t||s[n]||n}function jv(){const{breakpoints:t}=l.useContext(Id);return t}function gv(){const{minBreakpoint:t}=l.useContext(Id);return t}function Fd(){const{dir:t}=l.useContext(Id);return t==="rtl"}const yv=l.forwardRef(({bsPrefix:t,fluid:n=!1,as:s="div",className:r,...a},i)=>{const o=me(t,"container"),c=typeof n=="string"?`-${n}`:"-fluid";return e.jsx(s,{ref:i,...a,className:ie(r,n?`${o}${c}`:o)})});yv.displayName="Container";const X=yv;var Op={exports:{}},Yh={exports:{}};(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;function s(r){function a(o,c,u,h,d,x){var j=h||"<<anonymous>>",v=x||u;if(c[u]==null)return o?new Error("Required "+d+" `"+v+"` was not specified "+("in `"+j+"`.")):null;for(var f=arguments.length,p=Array(f>6?f-6:0),b=6;b<f;b++)p[b-6]=arguments[b];return r.apply(void 0,[c,u,j,d,v].concat(p))}var i=a.bind(null,!1);return i.isRequired=a.bind(null,!0),i}t.exports=n.default})(Yh,Yh.exports);var wk=Yh.exports;(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var s=wk,r=a(s);function a(o){return o&&o.__esModule?o:{default:o}}function i(){for(var o=arguments.length,c=Array(o),u=0;u<o;u++)c[u]=arguments[u];function h(){for(var d=arguments.length,x=Array(d),j=0;j<d;j++)x[j]=arguments[j];var v=null;return c.forEach(function(f){if(v==null){var p=f.apply(void 0,x);p!=null&&(v=p)}}),v}return(0,r.default)(h)}t.exports=n.default})(Op,Op.exports);function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Wh.apply(this,arguments)}function vv(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}function Ap(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function kk(t){var n=Lk(t,"string");return typeof n=="symbol"?n:String(n)}function Lk(t,n){if(typeof t!="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,n||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Sv(t,n,s){var r=l.useRef(t!==void 0),a=l.useState(n),i=a[0],o=a[1],c=t!==void 0,u=r.current;return r.current=c,!c&&u&&i!==n&&o(n),[c?t:i,l.useCallback(function(h){for(var d=arguments.length,x=new Array(d>1?d-1:0),j=1;j<d;j++)x[j-1]=arguments[j];s&&s.apply(void 0,[h].concat(x)),o(h)},[s])]}function Pl(t,n){return Object.keys(n).reduce(function(s,r){var a,i=s,o=i[Ap(r)],c=i[r],u=vv(i,[Ap(r),r].map(kk)),h=n[r],d=Sv(c,o,t[h]),x=d[0],j=d[1];return Wh({},u,(a={},a[r]=x,a[h]=j,a))},t)}function Vh(t,n){return Vh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Vh(t,n)}function Ek(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,Vh(t,n)}var Dk=Function.prototype.bind.call(Function.prototype.call,[].slice);function $r(t,n){return Dk(t.querySelectorAll(n))}function bv(){const[,t]=l.useReducer(n=>!n,!1);return t}const Bp=t=>!t||typeof t=="function"?t:n=>{t.current=n};function $k(t,n){const s=Bp(t),r=Bp(n);return a=>{s&&s(a),r&&r(a)}}function vr(t,n){return l.useMemo(()=>$k(t,n),[t,n])}const Cv=l.createContext(null);Cv.displayName="NavContext";const Sm=Cv,Tk=l.createContext(null),ba=(t,n=null)=>t!=null?String(t):n||null,jr=Tk,Ok=l.createContext(null),ro=Ok,Ak="data-rr-ui-",Bk="rrUi";function ao(t){return`${Ak}${t}`}function _k(t){return`${Bk}${t}`}function Rk(t){const n=l.useRef(t);return l.useEffect(()=>{n.current=t},[t]),n}function It(t){const n=Rk(t);return l.useCallback(function(...s){return n.current&&n.current(...s)},[n])}const Ik=["as","disabled"];function Fk(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}function Pk(t){return!t||t.trim()==="#"}function bm({tagName:t,disabled:n,href:s,target:r,rel:a,role:i,onClick:o,tabIndex:c=0,type:u}){t||(s!=null||r!=null||a!=null?t="a":t="button");const h={tagName:t};if(t==="button")return[{type:u||"button",disabled:n},h];const d=j=>{if((n||t==="a"&&Pk(s))&&j.preventDefault(),n){j.stopPropagation();return}o==null||o(j)},x=j=>{j.key===" "&&(j.preventDefault(),d(j))};return t==="a"&&(s||(s="#"),n&&(s=void 0)),[{role:i??"button",disabled:void 0,tabIndex:n?void 0:c,href:s,target:t==="a"?r:void 0,"aria-disabled":n||void 0,rel:t==="a"?a:void 0,onClick:d,onKeyDown:x},h]}const Cm=l.forwardRef((t,n)=>{let{as:s,disabled:r}=t,a=Fk(t,Ik);const[i,{tagName:o}]=bm(Object.assign({tagName:s,disabled:r},a));return e.jsx(o,Object.assign({},a,i,{ref:n}))});Cm.displayName="Button";const Mk=["as","active","eventKey"];function zk(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}function Nm({key:t,onClick:n,active:s,id:r,role:a,disabled:i}){const o=l.useContext(jr),c=l.useContext(Sm),u=l.useContext(ro);let h=s;const d={role:a};if(c){!a&&c.role==="tablist"&&(d.role="tab");const x=c.getControllerId(t??null),j=c.getControlledId(t??null);d[ao("event-key")]=t,d.id=x||r,h=s==null&&t!=null?c.activeKey===t:s,(h||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(d["aria-controls"]=j)}return d.role==="tab"&&(d["aria-selected"]=h,h||(d.tabIndex=-1),i&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=It(x=>{i||(n==null||n(x),t!=null&&o&&!x.isPropagationStopped()&&o(t,x))}),[d,{isActive:h}]}const Nv=l.forwardRef((t,n)=>{let{as:s=Cm,active:r,eventKey:a}=t,i=zk(t,Mk);const[o,c]=Nm(Object.assign({key:ba(a,i.href),active:r},i));return o[ao("active")]=c.isActive,e.jsx(s,Object.assign({},i,o,{ref:n}))});Nv.displayName="NavItem";const Hk=Nv,Kk=["as","onSelect","activeKey","role","onKeyDown"];function qk(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}const _p=()=>{},Rp=ao("event-key"),wv=l.forwardRef((t,n)=>{let{as:s="div",onSelect:r,activeKey:a,role:i,onKeyDown:o}=t,c=qk(t,Kk);const u=bv(),h=l.useRef(!1),d=l.useContext(jr),x=l.useContext(ro);let j,v;x&&(i=i||"tablist",a=x.activeKey,j=x.getControlledId,v=x.getControllerId);const f=l.useRef(null),p=E=>{const y=f.current;if(!y)return null;const w=$r(y,`[${Rp}]:not([aria-disabled=true])`),D=y.querySelector("[aria-selected=true]");if(!D||D!==document.activeElement)return null;const C=w.indexOf(D);if(C===-1)return null;let S=C+E;return S>=w.length&&(S=0),S<0&&(S=w.length-1),w[S]},b=(E,y)=>{E!=null&&(r==null||r(E,y),d==null||d(E,y))},k=E=>{if(o==null||o(E),!x)return;let y;switch(E.key){case"ArrowLeft":case"ArrowUp":y=p(-1);break;case"ArrowRight":case"ArrowDown":y=p(1);break;default:return}y&&(E.preventDefault(),b(y.dataset[_k("EventKey")]||null,E),h.current=!0,u())};l.useEffect(()=>{if(f.current&&h.current){const E=f.current.querySelector(`[${Rp}][aria-selected=true]`);E==null||E.focus()}h.current=!1});const N=vr(n,f);return e.jsx(jr.Provider,{value:b,children:e.jsx(Sm.Provider,{value:{role:i,activeKey:ba(a),getControlledId:j||_p,getControllerId:v||_p},children:e.jsx(s,Object.assign({},c,{onKeyDown:k,ref:N,role:i}))})})});wv.displayName="Nav";const kv=Object.assign(wv,{Item:Hk}),Lv=l.createContext(null);Lv.displayName="NavbarContext";const si=Lv,Ev=l.createContext(null);Ev.displayName="CardHeaderContext";const Dv=Ev,$v=l.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=me(n,"nav-item"),e.jsx(s,{ref:a,className:ie(t,n),...r})));$v.displayName="NavItem";const Tv=$v;function ud(){return l.useState(null)}function Uk(t,n,s,r=!1){const a=It(s);l.useEffect(()=>{const i=typeof t=="function"?t():t;return i.addEventListener(n,a,r),()=>i.removeEventListener(n,a,r)},[t])}function wm(){const t=l.useRef(!0),n=l.useRef(()=>t.current);return l.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),n.current}function Ov(t){const n=l.useRef(null);return l.useEffect(()=>{n.current=t}),n.current}const Gk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Yk=typeof document<"u",Ll=Yk||Gk?l.useLayoutEffect:l.useEffect,Wk=["onKeyDown"];function Vk(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}function Qk(t){return!t||t.trim()==="#"}const Av=l.forwardRef((t,n)=>{let{onKeyDown:s}=t,r=Vk(t,Wk);const[a]=bm(Object.assign({tagName:"a"},r)),i=It(o=>{a.onKeyDown(o),s==null||s(o)});return Qk(r.href)||r.role==="button"?e.jsx("a",Object.assign({ref:n},r,a,{onKeyDown:i})):e.jsx("a",Object.assign({ref:n},r,{onKeyDown:s}))});Av.displayName="Anchor";const km=Av,Bv=l.forwardRef(({bsPrefix:t,className:n,as:s=km,active:r,eventKey:a,disabled:i=!1,...o},c)=>{t=me(t,"nav-link");const[u,h]=Nm({key:ba(a,o.href),active:r,disabled:i,...o});return e.jsx(s,{...o,...u,ref:c,disabled:i,className:ie(n,t,i&&"disabled",h.isActive&&"active")})});Bv.displayName="NavLink";const Lm=Bv,_v=l.forwardRef((t,n)=>{const{as:s="div",bsPrefix:r,variant:a,fill:i=!1,justify:o=!1,navbar:c,navbarScroll:u,className:h,activeKey:d,...x}=Pl(t,{activeKey:"onSelect"}),j=me(r,"nav");let v,f,p=!1;const b=l.useContext(si),k=l.useContext(Dv);return b?(v=b.bsPrefix,p=c??!0):k&&({cardHeaderBsPrefix:f}=k),e.jsx(kv,{as:s,ref:n,activeKey:d,className:ie(h,{[j]:!p,[`${v}-nav`]:p,[`${v}-nav-scroll`]:p&&u,[`${f}-${a}`]:!!f,[`${j}-${a}`]:!!a,[`${j}-fill`]:i,[`${j}-justified`]:o}),...x})});_v.displayName="Nav";const lr=Object.assign(_v,{Item:Tv,Link:Lm}),Rv=l.forwardRef(({bsPrefix:t,className:n,as:s,...r},a)=>{t=me(t,"navbar-brand");const i=s||(r.href?"a":"span");return e.jsx(i,{...r,ref:a,className:ie(n,t)})});Rv.displayName="NavbarBrand";const Jk=Rv;function io(t){return t&&t.ownerDocument||document}function Xk(t){var n=io(t);return n&&n.defaultView||window}function Zk(t,n){return Xk(t).getComputedStyle(t,n)}var e1=/([A-Z])/g;function t1(t){return t.replace(e1,"-$1").toLowerCase()}var n1=/^ms-/;function dc(t){return t1(t).replace(n1,"-ms-")}var s1=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function r1(t){return!!(t&&s1.test(t))}function Rr(t,n){var s="",r="";if(typeof n=="string")return t.style.getPropertyValue(dc(n))||Zk(t).getPropertyValue(dc(n));Object.keys(n).forEach(function(a){var i=n[a];!i&&i!==0?t.style.removeProperty(dc(a)):r1(a)?r+=a+"("+i+") ":s+=dc(a)+": "+i+";"}),r&&(s+="transform: "+r+";"),t.style.cssText+=";"+s}var Iv={exports:{}},a1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",i1=a1,o1=i1;function Fv(){}function Pv(){}Pv.resetWarningCache=Fv;var l1=function(){function t(r,a,i,o,c,u){if(u!==o1){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function n(){return t}var s={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:n,element:t,elementType:t,instanceOf:n,node:t,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:Pv,resetWarningCache:Fv};return s.PropTypes=s,s};Iv.exports=l1();var c1=Iv.exports;const qn=Qi(c1),Ip={disabled:!1},Mv=Pt.createContext(null);var d1=function(n){return n.scrollTop},Wo="unmounted",ra="exited",er="entering",Tr="entered",El="exiting",Gr=function(t){Ek(n,t);function n(r,a){var i;i=t.call(this,r,a)||this;var o=a,c=o&&!o.isMounting?r.enter:r.appear,u;return i.appearStatus=null,r.in?c?(u=ra,i.appearStatus=er):u=Tr:r.unmountOnExit||r.mountOnEnter?u=Wo:u=ra,i.state={status:u},i.nextCallback=null,i}n.getDerivedStateFromProps=function(a,i){var o=a.in;return o&&i.status===Wo?{status:ra}:null};var s=n.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(a){var i=null;if(a!==this.props){var o=this.state.status;this.props.in?o!==er&&o!==Tr&&(i=er):(o===er||o===Tr)&&(i=El)}this.updateStatus(!1,i)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var a=this.props.timeout,i,o,c;return i=o=c=a,a!=null&&typeof a!="number"&&(i=a.exit,o=a.enter,c=a.appear!==void 0?a.appear:o),{exit:i,enter:o,appear:c}},s.updateStatus=function(a,i){if(a===void 0&&(a=!1),i!==null)if(this.cancelNextCallback(),i===er){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ka.findDOMNode(this);o&&d1(o)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ra&&this.setState({status:Wo})},s.performEnter=function(a){var i=this,o=this.props.enter,c=this.context?this.context.isMounting:a,u=this.props.nodeRef?[c]:[Ka.findDOMNode(this),c],h=u[0],d=u[1],x=this.getTimeouts(),j=c?x.appear:x.enter;if(!a&&!o||Ip.disabled){this.safeSetState({status:Tr},function(){i.props.onEntered(h)});return}this.props.onEnter(h,d),this.safeSetState({status:er},function(){i.props.onEntering(h,d),i.onTransitionEnd(j,function(){i.safeSetState({status:Tr},function(){i.props.onEntered(h,d)})})})},s.performExit=function(){var a=this,i=this.props.exit,o=this.getTimeouts(),c=this.props.nodeRef?void 0:Ka.findDOMNode(this);if(!i||Ip.disabled){this.safeSetState({status:ra},function(){a.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:El},function(){a.props.onExiting(c),a.onTransitionEnd(o.exit,function(){a.safeSetState({status:ra},function(){a.props.onExited(c)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(a,i){i=this.setNextCallback(i),this.setState(a,i)},s.setNextCallback=function(a){var i=this,o=!0;return this.nextCallback=function(c){o&&(o=!1,i.nextCallback=null,a(c))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},s.onTransitionEnd=function(a,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Ka.findDOMNode(this),c=a==null&&!this.props.addEndListener;if(!o||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],h=u[0],d=u[1];this.props.addEndListener(h,d)}a!=null&&setTimeout(this.nextCallback,a)},s.render=function(){var a=this.state.status;if(a===Wo)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var c=vv(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Pt.createElement(Mv.Provider,{value:null},typeof o=="function"?o(a,c):Pt.cloneElement(Pt.Children.only(o),c))},n}(Pt.Component);Gr.contextType=Mv;Gr.propTypes={};function hi(){}Gr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:hi,onEntering:hi,onEntered:hi,onExit:hi,onExiting:hi,onExited:hi};Gr.UNMOUNTED=Wo;Gr.EXITED=ra;Gr.ENTERING=er;Gr.ENTERED=Tr;Gr.EXITING=El;const u1=Gr,oo=!!(typeof window<"u"&&window.document&&window.document.createElement);var Qh=!1,Jh=!1;try{var $u={get passive(){return Qh=!0},get once(){return Jh=Qh=!0}};oo&&(window.addEventListener("test",$u,$u),window.removeEventListener("test",$u,!0))}catch{}function Em(t,n,s,r){if(r&&typeof r!="boolean"&&!Jh){var a=r.once,i=r.capture,o=s;!Jh&&a&&(o=s.__once||function c(u){this.removeEventListener(n,c,i),s.call(this,u)},s.__once=o),t.addEventListener(n,o,Qh?r:i)}t.addEventListener(n,s,r)}function Xh(t,n,s,r){var a=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(n,s,a),s.__once&&t.removeEventListener(n,s.__once,a)}function Br(t,n,s,r){return Em(t,n,s,r),function(){Xh(t,n,s,r)}}function h1(t,n,s,r){if(s===void 0&&(s=!1),r===void 0&&(r=!0),t){var a=document.createEvent("HTMLEvents");a.initEvent(n,s,r),t.dispatchEvent(a)}}function f1(t){var n=Rr(t,"transitionDuration")||"",s=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*s}function m1(t,n,s){s===void 0&&(s=5);var r=!1,a=setTimeout(function(){r||h1(t,"transitionend",!0)},n+s),i=Br(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(a),i()}}function zv(t,n,s,r){s==null&&(s=f1(t)||0);var a=m1(t,s,r),i=Br(t,"transitionend",n);return function(){a(),i()}}function Fp(t,n){const s=Rr(t,n)||"",r=s.indexOf("ms")===-1?1e3:1;return parseFloat(s)*r}function Dm(t,n){const s=Fp(t,"transitionDuration"),r=Fp(t,"transitionDelay"),a=zv(t,i=>{i.target===t&&(a(),n(i))},s+r)}function Bo(...t){return t.filter(n=>n!=null).reduce((n,s)=>{if(typeof s!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===null?s:function(...a){n.apply(this,a),s.apply(this,a)}},null)}function Hv(t){t.offsetHeight}function hd(t){return t&&"setState"in t?Ka.findDOMNode(t):t??null}const x1=Pt.forwardRef(({onEnter:t,onEntering:n,onEntered:s,onExit:r,onExiting:a,onExited:i,addEndListener:o,children:c,childRef:u,...h},d)=>{const x=l.useRef(null),j=vr(x,u),v=D=>{j(hd(D))},f=D=>C=>{D&&x.current&&D(x.current,C)},p=l.useCallback(f(t),[t]),b=l.useCallback(f(n),[n]),k=l.useCallback(f(s),[s]),N=l.useCallback(f(r),[r]),E=l.useCallback(f(a),[a]),y=l.useCallback(f(i),[i]),w=l.useCallback(f(o),[o]);return e.jsx(u1,{ref:d,...h,onEnter:p,onEntered:k,onEntering:b,onExit:N,onExited:y,onExiting:E,addEndListener:w,nodeRef:x,children:typeof c=="function"?(D,C)=>c(D,{...C,ref:v}):Pt.cloneElement(c,{ref:v})})}),$m=x1,p1={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function j1(t,n){const s=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=n[s],a=p1[t];return r+parseInt(Rr(n,a[0]),10)+parseInt(Rr(n,a[1]),10)}const g1={[ra]:"collapse",[El]:"collapsing",[er]:"collapsing",[Tr]:"collapse show"},y1=Pt.forwardRef(({onEnter:t,onEntering:n,onEntered:s,onExit:r,onExiting:a,className:i,children:o,dimension:c="height",in:u=!1,timeout:h=300,mountOnEnter:d=!1,unmountOnExit:x=!1,appear:j=!1,getDimensionValue:v=j1,...f},p)=>{const b=typeof c=="function"?c():c,k=l.useMemo(()=>Bo(D=>{D.style[b]="0"},t),[b,t]),N=l.useMemo(()=>Bo(D=>{const C=`scroll${b[0].toUpperCase()}${b.slice(1)}`;D.style[b]=`${D[C]}px`},n),[b,n]),E=l.useMemo(()=>Bo(D=>{D.style[b]=null},s),[b,s]),y=l.useMemo(()=>Bo(D=>{D.style[b]=`${v(b,D)}px`,Hv(D)},r),[r,v,b]),w=l.useMemo(()=>Bo(D=>{D.style[b]=null},a),[b,a]);return e.jsx($m,{ref:p,addEndListener:Dm,...f,"aria-expanded":f.role?u:null,onEnter:k,onEntering:N,onEntered:E,onExit:y,onExiting:w,childRef:o.ref,in:u,timeout:h,mountOnEnter:d,unmountOnExit:x,appear:j,children:(D,C)=>Pt.cloneElement(o,{...C,className:ie(i,o.props.className,g1[D],b==="width"&&"collapse-horizontal")})})}),v1=y1,Kv=l.forwardRef(({children:t,bsPrefix:n,...s},r)=>{n=me(n,"navbar-collapse");const a=l.useContext(si);return e.jsx(v1,{in:!!(a&&a.expanded),...s,children:e.jsx("div",{ref:r,className:n,children:t})})});Kv.displayName="NavbarCollapse";const S1=Kv,qv=l.forwardRef(({bsPrefix:t,className:n,children:s,label:r="Toggle navigation",as:a="button",onClick:i,...o},c)=>{t=me(t,"navbar-toggler");const{onToggle:u,expanded:h}=l.useContext(si)||{},d=It(x=>{i&&i(x),u&&u()});return a==="button"&&(o.type="button"),e.jsx(a,{...o,ref:c,onClick:d,"aria-label":r,className:ie(n,t,!h&&"collapsed"),children:s||e.jsx("span",{className:`${t}-icon`})})});qv.displayName="NavbarToggle";const b1=qv,Zh=new WeakMap,Pp=(t,n)=>{if(!t||!n)return;const s=Zh.get(n)||new Map;Zh.set(n,s);let r=s.get(t);return r||(r=n.matchMedia(t),r.refCount=0,s.set(r.media,r)),r};function C1(t,n=typeof window>"u"?void 0:window){const s=Pp(t,n),[r,a]=l.useState(()=>s?s.matches:!1);return Ll(()=>{let i=Pp(t,n);if(!i)return a(!1);let o=Zh.get(n);const c=()=>{a(i.matches)};return i.refCount++,i.addListener(c),c(),()=>{i.removeListener(c),i.refCount--,i.refCount<=0&&(o==null||o.delete(i.media)),i=void 0}},[t]),r}function N1(t){const n=Object.keys(t);function s(c,u){return c===u?u:c?`${c} and ${u}`:u}function r(c){return n[Math.min(n.indexOf(c)+1,n.length-1)]}function a(c){const u=r(c);let h=t[u];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function i(c){let u=t[c];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function o(c,u,h){let d;typeof c=="object"?(d=c,h=u,u=!0):(u=u||!0,d={[c]:u});let x=l.useMemo(()=>Object.entries(d).reduce((j,[v,f])=>((f==="up"||f===!0)&&(j=s(j,i(v))),(f==="down"||f===!0)&&(j=s(j,a(v))),j),""),[JSON.stringify(d)]);return C1(x,h)}return o}const w1=N1({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Tu(t){t===void 0&&(t=io());try{var n=t.activeElement;return!n||!n.nodeName?null:n}catch{return t.body}}function Dl(t,n){if(t.contains)return t.contains(n);if(t.compareDocumentPosition)return t===n||!!(t.compareDocumentPosition(n)&16)}function k1(t){const n=l.useRef(t);return n.current=t,n}function Tm(t){const n=k1(t);l.useEffect(()=>()=>n.current(),[])}function L1(t=document){const n=t.defaultView;return Math.abs(n.innerWidth-t.documentElement.clientWidth)}const Mp=ao("modal-open");class E1{constructor({ownerDocument:n,handleContainerOverflow:s=!0,isRTL:r=!1}={}){this.handleContainerOverflow=s,this.isRTL=r,this.modals=[],this.ownerDocument=n}getScrollbarWidth(){return L1(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(n){}removeModalAttributes(n){}setContainerStyle(n){const s={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();n.style={overflow:a.style.overflow,[r]:a.style[r]},n.scrollBarWidth&&(s[r]=`${parseInt(Rr(a,r)||"0",10)+n.scrollBarWidth}px`),a.setAttribute(Mp,""),Rr(a,s)}reset(){[...this.modals].forEach(n=>this.remove(n))}removeContainerStyle(n){const s=this.getElement();s.removeAttribute(Mp),Object.assign(s.style,n.style)}add(n){let s=this.modals.indexOf(n);return s!==-1||(s=this.modals.length,this.modals.push(n),this.setModalAttributes(n),s!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),s}remove(n){const s=this.modals.indexOf(n);s!==-1&&(this.modals.splice(s,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(n))}isTopModal(n){return!!this.modals.length&&this.modals[this.modals.length-1]===n}}const Om=E1,Uv=l.createContext(oo?window:void 0);Uv.Provider;function Pd(){return l.useContext(Uv)}const Ou=(t,n)=>oo?t==null?(n||io()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function ef(t,n){const s=Pd(),[r,a]=l.useState(()=>Ou(t,s==null?void 0:s.document));if(!r){const i=Ou(t);i&&a(i)}return l.useEffect(()=>{n&&r&&n(r)},[n,r]),l.useEffect(()=>{const i=Ou(t);i!==r&&a(i)},[t,r]),r}function Am({children:t,in:n,onExited:s,mountOnEnter:r,unmountOnExit:a}){const i=l.useRef(null),o=l.useRef(n),c=It(s);l.useEffect(()=>{n?o.current=!0:c(i.current)},[n,c]);const u=vr(i,t.ref),h=l.cloneElement(t,{ref:u});return n?h:a||!o.current&&r?null:h}function D1({in:t,onTransition:n}){const s=l.useRef(null),r=l.useRef(!0),a=It(n);return Ll(()=>{if(!s.current)return;let i=!1;return a({in:t,element:s.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[t,a]),Ll(()=>(r.current=!1,()=>{r.current=!0}),[]),s}function $1({children:t,in:n,onExited:s,onEntered:r,transition:a}){const[i,o]=l.useState(!n);n&&i&&o(!1);const c=D1({in:!!n,onTransition:h=>{const d=()=>{h.isStale()||(h.in?r==null||r(h.element,h.initial):(o(!0),s==null||s(h.element)))};Promise.resolve(a(h)).then(d,x=>{throw h.in||o(!0),x})}}),u=vr(c,t.ref);return i&&!n?null:l.cloneElement(t,{ref:u})}function tf(t,n,s){return t?e.jsx(t,Object.assign({},s)):n?e.jsx($1,Object.assign({},s,{transition:n})):e.jsx(Am,Object.assign({},s))}function Gv(t){return t.code==="Escape"||t.keyCode===27}const T1=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function O1(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}let Au;function A1(t){return Au||(Au=new Om({ownerDocument:t==null?void 0:t.document})),Au}function B1(t){const n=Pd(),s=t||A1(n),r=l.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>s.add(r.current),remove:()=>s.remove(r.current),isTopModal:()=>s.isTopModal(r.current),setDialogRef:l.useCallback(a=>{r.current.dialog=a},[]),setBackdropRef:l.useCallback(a=>{r.current.backdrop=a},[])})}const Yv=l.forwardRef((t,n)=>{let{show:s=!1,role:r="dialog",className:a,style:i,children:o,backdrop:c=!0,keyboard:u=!0,onBackdropClick:h,onEscapeKeyDown:d,transition:x,runTransition:j,backdropTransition:v,runBackdropTransition:f,autoFocus:p=!0,enforceFocus:b=!0,restoreFocus:k=!0,restoreFocusOptions:N,renderDialog:E,renderBackdrop:y=$e=>e.jsx("div",Object.assign({},$e)),manager:w,container:D,onShow:C,onHide:S=()=>{},onExit:T,onExited:B,onExiting:P,onEnter:R,onEntering:$,onEntered:F}=t,W=O1(t,T1);const te=Pd(),G=ef(D),z=B1(w),I=wm(),M=Ov(s),[fe,je]=l.useState(!s),Ae=l.useRef(null);l.useImperativeHandle(n,()=>z,[z]),oo&&!M&&s&&(Ae.current=Tu(te==null?void 0:te.document)),s&&fe&&je(!1);const ce=It(()=>{if(z.add(),Kt.current=Br(document,"keydown",et),Ht.current=Br(document,"focus",()=>setTimeout(Pe),!0),C&&C(),p){var $e,tn;const kt=Tu(($e=(tn=z.dialog)==null?void 0:tn.ownerDocument)!=null?$e:te==null?void 0:te.document);z.dialog&&kt&&!Dl(z.dialog,kt)&&(Ae.current=kt,z.dialog.focus())}}),oe=It(()=>{if(z.remove(),Kt.current==null||Kt.current(),Ht.current==null||Ht.current(),k){var $e;($e=Ae.current)==null||$e.focus==null||$e.focus(N),Ae.current=null}});l.useEffect(()=>{!s||!G||ce()},[s,G,ce]),l.useEffect(()=>{fe&&oe()},[fe,oe]),Tm(()=>{oe()});const Pe=It(()=>{if(!b||!I()||!z.isTopModal())return;const $e=Tu(te==null?void 0:te.document);z.dialog&&$e&&!Dl(z.dialog,$e)&&z.dialog.focus()}),Ze=It($e=>{$e.target===$e.currentTarget&&(h==null||h($e),c===!0&&S())}),et=It($e=>{u&&Gv($e)&&z.isTopModal()&&(d==null||d($e),$e.defaultPrevented||S())}),Ht=l.useRef(),Kt=l.useRef(),ve=(...$e)=>{je(!0),B==null||B(...$e)};if(!G)return null;const Bt=Object.assign({role:r,ref:z.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},W,{style:i,className:a,tabIndex:-1});let _t=E?E(Bt):e.jsx("div",Object.assign({},Bt,{children:l.cloneElement(o,{role:"document"})}));_t=tf(x,j,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!s,onExit:T,onExiting:P,onExited:ve,onEnter:R,onEntering:$,onEntered:F,children:_t});let qe=null;return c&&(qe=y({ref:z.setBackdropRef,onClick:Ze}),qe=tf(v,f,{in:!!s,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:qe})),e.jsx(e.Fragment,{children:Ka.createPortal(e.jsxs(e.Fragment,{children:[qe,_t]}),G)})});Yv.displayName="Modal";const Wv=Object.assign(Yv,{Manager:Om}),_1={[er]:"show",[Tr]:"show"},Vv=l.forwardRef(({className:t,children:n,transitionClasses:s={},onEnter:r,...a},i)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},c=l.useCallback((u,h)=>{Hv(u),r==null||r(u,h)},[r]);return e.jsx($m,{ref:i,addEndListener:Dm,...o,onEnter:c,childRef:n.ref,children:(u,h)=>l.cloneElement(n,{...h,className:ie("fade",t,n.props.className,_1[u],s[u])})})});Vv.displayName="Fade";const Za=Vv,Qv=l.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=me(n,"offcanvas-body"),e.jsx(s,{ref:a,className:ie(t,n),...r})));Qv.displayName="OffcanvasBody";const R1=Qv,I1={[er]:"show",[Tr]:"show"},Jv=l.forwardRef(({bsPrefix:t,className:n,children:s,in:r=!1,mountOnEnter:a=!1,unmountOnExit:i=!1,appear:o=!1,...c},u)=>(t=me(t,"offcanvas"),e.jsx($m,{ref:u,addEndListener:Dm,in:r,mountOnEnter:a,unmountOnExit:i,appear:o,...c,childRef:s.ref,children:(h,d)=>l.cloneElement(s,{...d,className:ie(n,s.props.className,(h===er||h===El)&&`${t}-toggling`,I1[h])})})));Jv.displayName="OffcanvasToggling";const F1=Jv,P1=l.createContext({onHide(){}}),Bm=P1,M1={"aria-label":qn.string,onClick:qn.func,variant:qn.oneOf(["white"])},_m=l.forwardRef(({className:t,variant:n,"aria-label":s="Close",...r},a)=>e.jsx("button",{ref:a,type:"button",className:ie("btn-close",n&&`btn-close-${n}`,t),"aria-label":s,...r}));_m.displayName="CloseButton";_m.propTypes=M1;const z1=_m,H1=l.forwardRef(({closeLabel:t="Close",closeVariant:n,closeButton:s=!1,onHide:r,children:a,...i},o)=>{const c=l.useContext(Bm),u=It(()=>{c==null||c.onHide(),r==null||r()});return e.jsxs("div",{ref:o,...i,children:[a,s&&e.jsx(z1,{"aria-label":t,variant:n,onClick:u})]})}),Xv=H1,Zv=l.forwardRef(({bsPrefix:t,className:n,closeLabel:s="Close",closeButton:r=!1,...a},i)=>(t=me(t,"offcanvas-header"),e.jsx(Xv,{ref:i,...a,className:ie(n,t),closeLabel:s,closeButton:r})));Zv.displayName="OffcanvasHeader";const K1=Zv,Md=t=>l.forwardRef((n,s)=>e.jsx("div",{...n,ref:s,className:ie(n.className,t)})),q1=Md("h5"),eS=l.forwardRef(({className:t,bsPrefix:n,as:s=q1,...r},a)=>(n=me(n,"offcanvas-title"),e.jsx(s,{ref:a,className:ie(t,n),...r})));eS.displayName="OffcanvasTitle";const U1=eS;function nf(t,n){return t.classList?!!n&&t.classList.contains(n):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+n+" ")!==-1}function G1(t,n){t.classList?t.classList.add(n):nf(t,n)||(typeof t.className=="string"?t.className=t.className+" "+n:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+n))}function zp(t,n){return t.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Y1(t,n){t.classList?t.classList.remove(n):typeof t.className=="string"?t.className=zp(t.className,n):t.setAttribute("class",zp(t.className&&t.className.baseVal||"",n))}const fi={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class tS extends Om{adjustAndStore(n,s,r){const a=s.style[n];s.dataset[n]=a,Rr(s,{[n]:`${parseFloat(Rr(s,n))+r}px`})}restore(n,s){const r=s.dataset[n];r!==void 0&&(delete s.dataset[n],Rr(s,{[n]:r}))}setContainerStyle(n){super.setContainerStyle(n);const s=this.getElement();if(G1(s,"modal-open"),!n.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";$r(s,fi.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,n.scrollBarWidth)),$r(s,fi.STICKY_CONTENT).forEach(i=>this.adjustAndStore(a,i,-n.scrollBarWidth)),$r(s,fi.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(a,i,n.scrollBarWidth))}removeContainerStyle(n){super.removeContainerStyle(n);const s=this.getElement();Y1(s,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";$r(s,fi.FIXED_CONTENT).forEach(i=>this.restore(r,i)),$r(s,fi.STICKY_CONTENT).forEach(i=>this.restore(a,i)),$r(s,fi.NAVBAR_TOGGLER).forEach(i=>this.restore(a,i))}}let Bu;function nS(t){return Bu||(Bu=new tS(t)),Bu}const W1=tS;function V1(t){return e.jsx(F1,{...t})}function Q1(t){return e.jsx(Za,{...t})}const sS=l.forwardRef(({bsPrefix:t,className:n,children:s,"aria-labelledby":r,placement:a="start",responsive:i,show:o=!1,backdrop:c=!0,keyboard:u=!0,scroll:h=!1,onEscapeKeyDown:d,onShow:x,onHide:j,container:v,autoFocus:f=!0,enforceFocus:p=!0,restoreFocus:b=!0,restoreFocusOptions:k,onEntered:N,onExit:E,onExiting:y,onEnter:w,onEntering:D,onExited:C,backdropClassName:S,manager:T,renderStaticNode:B=!1,...P},R)=>{const $=l.useRef();t=me(t,"offcanvas");const{onToggle:F}=l.useContext(si)||{},[W,te]=l.useState(!1),G=w1(i||"xs","up");l.useEffect(()=>{te(i?o&&!G:o)},[o,i,G]);const z=It(()=>{F==null||F(),j==null||j()}),I=l.useMemo(()=>({onHide:z}),[z]);function M(){return T||(h?($.current||($.current=new W1({handleContainerOverflow:!1})),$.current):nS())}const fe=(oe,...Pe)=>{oe&&(oe.style.visibility="visible"),w==null||w(oe,...Pe)},je=(oe,...Pe)=>{oe&&(oe.style.visibility=""),C==null||C(...Pe)},Ae=l.useCallback(oe=>e.jsx("div",{...oe,className:ie(`${t}-backdrop`,S)}),[S,t]),ce=oe=>e.jsx("div",{...oe,...P,className:ie(n,i?`${t}-${i}`:t,`${t}-${a}`),"aria-labelledby":r,children:s});return e.jsxs(e.Fragment,{children:[!W&&(i||B)&&ce({}),e.jsx(Bm.Provider,{value:I,children:e.jsx(Wv,{show:W,ref:R,backdrop:c,container:v,keyboard:u,autoFocus:f,enforceFocus:p&&!h,restoreFocus:b,restoreFocusOptions:k,onEscapeKeyDown:d,onShow:x,onHide:z,onEnter:fe,onEntering:D,onEntered:N,onExit:E,onExiting:y,onExited:je,manager:M(),transition:V1,backdropTransition:Q1,renderBackdrop:Ae,renderDialog:ce})})]})});sS.displayName="Offcanvas";const J1=Object.assign(sS,{Body:R1,Header:K1,Title:U1}),rS=l.forwardRef((t,n)=>{const s=l.useContext(si);return e.jsx(J1,{ref:n,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0})});rS.displayName="NavbarOffcanvas";const X1=rS,aS=l.forwardRef(({className:t,bsPrefix:n,as:s="span",...r},a)=>(n=me(n,"navbar-text"),e.jsx(s,{ref:a,className:ie(t,n),...r})));aS.displayName="NavbarText";const Z1=aS,iS=l.forwardRef((t,n)=>{const{bsPrefix:s,expand:r=!0,variant:a="light",bg:i,fixed:o,sticky:c,className:u,as:h="nav",expanded:d,onToggle:x,onSelect:j,collapseOnSelect:v=!1,...f}=Pl(t,{expanded:"onToggle"}),p=me(s,"navbar"),b=l.useCallback((...E)=>{j==null||j(...E),v&&d&&(x==null||x(!1))},[j,v,d,x]);f.role===void 0&&h!=="nav"&&(f.role="navigation");let k=`${p}-expand`;typeof r=="string"&&(k=`${k}-${r}`);const N=l.useMemo(()=>({onToggle:()=>x==null?void 0:x(!d),bsPrefix:p,expanded:!!d,expand:r}),[p,d,r,x]);return e.jsx(si.Provider,{value:N,children:e.jsx(jr.Provider,{value:b,children:e.jsx(h,{ref:n,...f,className:ie(u,p,r&&k,a&&`${p}-${a}`,i&&`bg-${i}`,c&&`sticky-${c}`,o&&`fixed-${o}`)})})})});iS.displayName="Navbar";const uc=Object.assign(iS,{Brand:Jk,Collapse:S1,Offcanvas:X1,Text:Z1,Toggle:b1});function oS(t,n,s){const r=l.useRef(t!==void 0),[a,i]=l.useState(n),o=t!==void 0,c=r.current;return r.current=o,!o&&c&&a!==n&&i(n),[o?t:a,l.useCallback((...u)=>{const[h,...d]=u;let x=s==null?void 0:s(h,...d);return i(h),x},[s])]}const eL=l.createContext(null),zd=eL;var Hp=Object.prototype.hasOwnProperty;function Kp(t,n,s){for(s of t.keys())if(al(s,n))return s}function al(t,n){var s,r,a;if(t===n)return!0;if(t&&n&&(s=t.constructor)===n.constructor){if(s===Date)return t.getTime()===n.getTime();if(s===RegExp)return t.toString()===n.toString();if(s===Array){if((r=t.length)===n.length)for(;r--&&al(t[r],n[r]););return r===-1}if(s===Set){if(t.size!==n.size)return!1;for(r of t)if(a=r,a&&typeof a=="object"&&(a=Kp(n,a),!a)||!n.has(a))return!1;return!0}if(s===Map){if(t.size!==n.size)return!1;for(r of t)if(a=r[0],a&&typeof a=="object"&&(a=Kp(n,a),!a)||!al(r[1],n.get(a)))return!1;return!0}if(s===ArrayBuffer)t=new Uint8Array(t),n=new Uint8Array(n);else if(s===DataView){if((r=t.byteLength)===n.byteLength)for(;r--&&t.getInt8(r)===n.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===n.byteLength)for(;r--&&t[r]===n[r];);return r===-1}if(!s||typeof t=="object"){r=0;for(s in t)if(Hp.call(t,s)&&++r&&!Hp.call(n,s)||!(s in n)||!al(t[s],n[s]))return!1;return Object.keys(n).length===r}}return t!==t&&n!==n}function tL(t){const n=wm();return[t[0],l.useCallback(s=>{if(n())return t[1](s)},[n,t[1]])]}var ls="top",Fs="bottom",Ps="right",cs="left",Rm="auto",Ml=[ls,Fs,Ps,cs],Ui="start",$l="end",nL="clippingParents",lS="viewport",_o="popper",sL="reference",qp=Ml.reduce(function(t,n){return t.concat([n+"-"+Ui,n+"-"+$l])},[]),cS=[].concat(Ml,[Rm]).reduce(function(t,n){return t.concat([n,n+"-"+Ui,n+"-"+$l])},[]),rL="beforeRead",aL="read",iL="afterRead",oL="beforeMain",lL="main",cL="afterMain",dL="beforeWrite",uL="write",hL="afterWrite",fL=[rL,aL,iL,oL,lL,cL,dL,uL,hL];function mr(t){return t.split("-")[0]}function gs(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function ei(t){var n=gs(t).Element;return t instanceof n||t instanceof Element}function xr(t){var n=gs(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function Im(t){if(typeof ShadowRoot>"u")return!1;var n=gs(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}var Ya=Math.max,fd=Math.min,Gi=Math.round;function sf(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function dS(){return!/^((?!chrome|android).)*safari/i.test(sf())}function Yi(t,n,s){n===void 0&&(n=!1),s===void 0&&(s=!1);var r=t.getBoundingClientRect(),a=1,i=1;n&&xr(t)&&(a=t.offsetWidth>0&&Gi(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Gi(r.height)/t.offsetHeight||1);var o=ei(t)?gs(t):window,c=o.visualViewport,u=!dS()&&s,h=(r.left+(u&&c?c.offsetLeft:0))/a,d=(r.top+(u&&c?c.offsetTop:0))/i,x=r.width/a,j=r.height/i;return{width:x,height:j,top:d,right:h+x,bottom:d+j,left:h,x:h,y:d}}function Fm(t){var n=Yi(t),s=t.offsetWidth,r=t.offsetHeight;return Math.abs(n.width-s)<=1&&(s=n.width),Math.abs(n.height-r)<=1&&(r=n.height),{x:t.offsetLeft,y:t.offsetTop,width:s,height:r}}function uS(t,n){var s=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(s&&Im(s)){var r=n;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ca(t){return t?(t.nodeName||"").toLowerCase():null}function Hr(t){return gs(t).getComputedStyle(t)}function mL(t){return["table","td","th"].indexOf(Ca(t))>=0}function La(t){return((ei(t)?t.ownerDocument:t.document)||window.document).documentElement}function Hd(t){return Ca(t)==="html"?t:t.assignedSlot||t.parentNode||(Im(t)?t.host:null)||La(t)}function Up(t){return!xr(t)||Hr(t).position==="fixed"?null:t.offsetParent}function xL(t){var n=/firefox/i.test(sf()),s=/Trident/i.test(sf());if(s&&xr(t)){var r=Hr(t);if(r.position==="fixed")return null}var a=Hd(t);for(Im(a)&&(a=a.host);xr(a)&&["html","body"].indexOf(Ca(a))<0;){var i=Hr(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||n&&i.willChange==="filter"||n&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function zl(t){for(var n=gs(t),s=Up(t);s&&mL(s)&&Hr(s).position==="static";)s=Up(s);return s&&(Ca(s)==="html"||Ca(s)==="body"&&Hr(s).position==="static")?n:s||xL(t)||n}function Pm(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function il(t,n,s){return Ya(t,fd(n,s))}function pL(t,n,s){var r=il(t,n,s);return r>s?s:r}function hS(){return{top:0,right:0,bottom:0,left:0}}function fS(t){return Object.assign({},hS(),t)}function mS(t,n){return n.reduce(function(s,r){return s[r]=t,s},{})}var jL=function(n,s){return n=typeof n=="function"?n(Object.assign({},s.rects,{placement:s.placement})):n,fS(typeof n!="number"?n:mS(n,Ml))};function gL(t){var n,s=t.state,r=t.name,a=t.options,i=s.elements.arrow,o=s.modifiersData.popperOffsets,c=mr(s.placement),u=Pm(c),h=[cs,Ps].indexOf(c)>=0,d=h?"height":"width";if(!(!i||!o)){var x=jL(a.padding,s),j=Fm(i),v=u==="y"?ls:cs,f=u==="y"?Fs:Ps,p=s.rects.reference[d]+s.rects.reference[u]-o[u]-s.rects.popper[d],b=o[u]-s.rects.reference[u],k=zl(i),N=k?u==="y"?k.clientHeight||0:k.clientWidth||0:0,E=p/2-b/2,y=x[v],w=N-j[d]-x[f],D=N/2-j[d]/2+E,C=il(y,D,w),S=u;s.modifiersData[r]=(n={},n[S]=C,n.centerOffset=C-D,n)}}function yL(t){var n=t.state,s=t.options,r=s.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=n.elements.popper.querySelector(a),!a)||uS(n.elements.popper,a)&&(n.elements.arrow=a))}const vL={name:"arrow",enabled:!0,phase:"main",fn:gL,effect:yL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wi(t){return t.split("-")[1]}var SL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bL(t,n){var s=t.x,r=t.y,a=n.devicePixelRatio||1;return{x:Gi(s*a)/a||0,y:Gi(r*a)/a||0}}function Gp(t){var n,s=t.popper,r=t.popperRect,a=t.placement,i=t.variation,o=t.offsets,c=t.position,u=t.gpuAcceleration,h=t.adaptive,d=t.roundOffsets,x=t.isFixed,j=o.x,v=j===void 0?0:j,f=o.y,p=f===void 0?0:f,b=typeof d=="function"?d({x:v,y:p}):{x:v,y:p};v=b.x,p=b.y;var k=o.hasOwnProperty("x"),N=o.hasOwnProperty("y"),E=cs,y=ls,w=window;if(h){var D=zl(s),C="clientHeight",S="clientWidth";if(D===gs(s)&&(D=La(s),Hr(D).position!=="static"&&c==="absolute"&&(C="scrollHeight",S="scrollWidth")),D=D,a===ls||(a===cs||a===Ps)&&i===$l){y=Fs;var T=x&&D===w&&w.visualViewport?w.visualViewport.height:D[C];p-=T-r.height,p*=u?1:-1}if(a===cs||(a===ls||a===Fs)&&i===$l){E=Ps;var B=x&&D===w&&w.visualViewport?w.visualViewport.width:D[S];v-=B-r.width,v*=u?1:-1}}var P=Object.assign({position:c},h&&SL),R=d===!0?bL({x:v,y:p},gs(s)):{x:v,y:p};if(v=R.x,p=R.y,u){var $;return Object.assign({},P,($={},$[y]=N?"0":"",$[E]=k?"0":"",$.transform=(w.devicePixelRatio||1)<=1?"translate("+v+"px, "+p+"px)":"translate3d("+v+"px, "+p+"px, 0)",$))}return Object.assign({},P,(n={},n[y]=N?p+"px":"",n[E]=k?v+"px":"",n.transform="",n))}function CL(t){var n=t.state,s=t.options,r=s.gpuAcceleration,a=r===void 0?!0:r,i=s.adaptive,o=i===void 0?!0:i,c=s.roundOffsets,u=c===void 0?!0:c,h={placement:mr(n.placement),variation:Wi(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:a,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,Gp(Object.assign({},h,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:o,roundOffsets:u})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,Gp(Object.assign({},h,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const NL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:CL,data:{}};var hc={passive:!0};function wL(t){var n=t.state,s=t.instance,r=t.options,a=r.scroll,i=a===void 0?!0:a,o=r.resize,c=o===void 0?!0:o,u=gs(n.elements.popper),h=[].concat(n.scrollParents.reference,n.scrollParents.popper);return i&&h.forEach(function(d){d.addEventListener("scroll",s.update,hc)}),c&&u.addEventListener("resize",s.update,hc),function(){i&&h.forEach(function(d){d.removeEventListener("scroll",s.update,hc)}),c&&u.removeEventListener("resize",s.update,hc)}}const kL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wL,data:{}};var LL={left:"right",right:"left",bottom:"top",top:"bottom"};function Tc(t){return t.replace(/left|right|bottom|top/g,function(n){return LL[n]})}var EL={start:"end",end:"start"};function Yp(t){return t.replace(/start|end/g,function(n){return EL[n]})}function Mm(t){var n=gs(t),s=n.pageXOffset,r=n.pageYOffset;return{scrollLeft:s,scrollTop:r}}function zm(t){return Yi(La(t)).left+Mm(t).scrollLeft}function DL(t,n){var s=gs(t),r=La(t),a=s.visualViewport,i=r.clientWidth,o=r.clientHeight,c=0,u=0;if(a){i=a.width,o=a.height;var h=dS();(h||!h&&n==="fixed")&&(c=a.offsetLeft,u=a.offsetTop)}return{width:i,height:o,x:c+zm(t),y:u}}function $L(t){var n,s=La(t),r=Mm(t),a=(n=t.ownerDocument)==null?void 0:n.body,i=Ya(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Ya(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),c=-r.scrollLeft+zm(t),u=-r.scrollTop;return Hr(a||s).direction==="rtl"&&(c+=Ya(s.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:c,y:u}}function Hm(t){var n=Hr(t),s=n.overflow,r=n.overflowX,a=n.overflowY;return/auto|scroll|overlay|hidden/.test(s+a+r)}function xS(t){return["html","body","#document"].indexOf(Ca(t))>=0?t.ownerDocument.body:xr(t)&&Hm(t)?t:xS(Hd(t))}function ol(t,n){var s;n===void 0&&(n=[]);var r=xS(t),a=r===((s=t.ownerDocument)==null?void 0:s.body),i=gs(r),o=a?[i].concat(i.visualViewport||[],Hm(r)?r:[]):r,c=n.concat(o);return a?c:c.concat(ol(Hd(o)))}function rf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function TL(t,n){var s=Yi(t,!1,n==="fixed");return s.top=s.top+t.clientTop,s.left=s.left+t.clientLeft,s.bottom=s.top+t.clientHeight,s.right=s.left+t.clientWidth,s.width=t.clientWidth,s.height=t.clientHeight,s.x=s.left,s.y=s.top,s}function Wp(t,n,s){return n===lS?rf(DL(t,s)):ei(n)?TL(n,s):rf($L(La(t)))}function OL(t){var n=ol(Hd(t)),s=["absolute","fixed"].indexOf(Hr(t).position)>=0,r=s&&xr(t)?zl(t):t;return ei(r)?n.filter(function(a){return ei(a)&&uS(a,r)&&Ca(a)!=="body"}):[]}function AL(t,n,s,r){var a=n==="clippingParents"?OL(t):[].concat(n),i=[].concat(a,[s]),o=i[0],c=i.reduce(function(u,h){var d=Wp(t,h,r);return u.top=Ya(d.top,u.top),u.right=fd(d.right,u.right),u.bottom=fd(d.bottom,u.bottom),u.left=Ya(d.left,u.left),u},Wp(t,o,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function pS(t){var n=t.reference,s=t.element,r=t.placement,a=r?mr(r):null,i=r?Wi(r):null,o=n.x+n.width/2-s.width/2,c=n.y+n.height/2-s.height/2,u;switch(a){case ls:u={x:o,y:n.y-s.height};break;case Fs:u={x:o,y:n.y+n.height};break;case Ps:u={x:n.x+n.width,y:c};break;case cs:u={x:n.x-s.width,y:c};break;default:u={x:n.x,y:n.y}}var h=a?Pm(a):null;if(h!=null){var d=h==="y"?"height":"width";switch(i){case Ui:u[h]=u[h]-(n[d]/2-s[d]/2);break;case $l:u[h]=u[h]+(n[d]/2-s[d]/2);break}}return u}function Tl(t,n){n===void 0&&(n={});var s=n,r=s.placement,a=r===void 0?t.placement:r,i=s.strategy,o=i===void 0?t.strategy:i,c=s.boundary,u=c===void 0?nL:c,h=s.rootBoundary,d=h===void 0?lS:h,x=s.elementContext,j=x===void 0?_o:x,v=s.altBoundary,f=v===void 0?!1:v,p=s.padding,b=p===void 0?0:p,k=fS(typeof b!="number"?b:mS(b,Ml)),N=j===_o?sL:_o,E=t.rects.popper,y=t.elements[f?N:j],w=AL(ei(y)?y:y.contextElement||La(t.elements.popper),u,d,o),D=Yi(t.elements.reference),C=pS({reference:D,element:E,strategy:"absolute",placement:a}),S=rf(Object.assign({},E,C)),T=j===_o?S:D,B={top:w.top-T.top+k.top,bottom:T.bottom-w.bottom+k.bottom,left:w.left-T.left+k.left,right:T.right-w.right+k.right},P=t.modifiersData.offset;if(j===_o&&P){var R=P[a];Object.keys(B).forEach(function($){var F=[Ps,Fs].indexOf($)>=0?1:-1,W=[ls,Fs].indexOf($)>=0?"y":"x";B[$]+=R[W]*F})}return B}function BL(t,n){n===void 0&&(n={});var s=n,r=s.placement,a=s.boundary,i=s.rootBoundary,o=s.padding,c=s.flipVariations,u=s.allowedAutoPlacements,h=u===void 0?cS:u,d=Wi(r),x=d?c?qp:qp.filter(function(f){return Wi(f)===d}):Ml,j=x.filter(function(f){return h.indexOf(f)>=0});j.length===0&&(j=x);var v=j.reduce(function(f,p){return f[p]=Tl(t,{placement:p,boundary:a,rootBoundary:i,padding:o})[mr(p)],f},{});return Object.keys(v).sort(function(f,p){return v[f]-v[p]})}function _L(t){if(mr(t)===Rm)return[];var n=Tc(t);return[Yp(t),n,Yp(n)]}function RL(t){var n=t.state,s=t.options,r=t.name;if(!n.modifiersData[r]._skip){for(var a=s.mainAxis,i=a===void 0?!0:a,o=s.altAxis,c=o===void 0?!0:o,u=s.fallbackPlacements,h=s.padding,d=s.boundary,x=s.rootBoundary,j=s.altBoundary,v=s.flipVariations,f=v===void 0?!0:v,p=s.allowedAutoPlacements,b=n.options.placement,k=mr(b),N=k===b,E=u||(N||!f?[Tc(b)]:_L(b)),y=[b].concat(E).reduce(function(ce,oe){return ce.concat(mr(oe)===Rm?BL(n,{placement:oe,boundary:d,rootBoundary:x,padding:h,flipVariations:f,allowedAutoPlacements:p}):oe)},[]),w=n.rects.reference,D=n.rects.popper,C=new Map,S=!0,T=y[0],B=0;B<y.length;B++){var P=y[B],R=mr(P),$=Wi(P)===Ui,F=[ls,Fs].indexOf(R)>=0,W=F?"width":"height",te=Tl(n,{placement:P,boundary:d,rootBoundary:x,altBoundary:j,padding:h}),G=F?$?Ps:cs:$?Fs:ls;w[W]>D[W]&&(G=Tc(G));var z=Tc(G),I=[];if(i&&I.push(te[R]<=0),c&&I.push(te[G]<=0,te[z]<=0),I.every(function(ce){return ce})){T=P,S=!1;break}C.set(P,I)}if(S)for(var M=f?3:1,fe=function(oe){var Pe=y.find(function(Ze){var et=C.get(Ze);if(et)return et.slice(0,oe).every(function(Ht){return Ht})});if(Pe)return T=Pe,"break"},je=M;je>0;je--){var Ae=fe(je);if(Ae==="break")break}n.placement!==T&&(n.modifiersData[r]._skip=!0,n.placement=T,n.reset=!0)}}const IL={name:"flip",enabled:!0,phase:"main",fn:RL,requiresIfExists:["offset"],data:{_skip:!1}};function Vp(t,n,s){return s===void 0&&(s={x:0,y:0}),{top:t.top-n.height-s.y,right:t.right-n.width+s.x,bottom:t.bottom-n.height+s.y,left:t.left-n.width-s.x}}function Qp(t){return[ls,Ps,Fs,cs].some(function(n){return t[n]>=0})}function FL(t){var n=t.state,s=t.name,r=n.rects.reference,a=n.rects.popper,i=n.modifiersData.preventOverflow,o=Tl(n,{elementContext:"reference"}),c=Tl(n,{altBoundary:!0}),u=Vp(o,r),h=Vp(c,a,i),d=Qp(u),x=Qp(h);n.modifiersData[s]={referenceClippingOffsets:u,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:x},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":x})}const PL={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:FL};function ML(t,n,s){var r=mr(t),a=[cs,ls].indexOf(r)>=0?-1:1,i=typeof s=="function"?s(Object.assign({},n,{placement:t})):s,o=i[0],c=i[1];return o=o||0,c=(c||0)*a,[cs,Ps].indexOf(r)>=0?{x:c,y:o}:{x:o,y:c}}function zL(t){var n=t.state,s=t.options,r=t.name,a=s.offset,i=a===void 0?[0,0]:a,o=cS.reduce(function(d,x){return d[x]=ML(x,n.rects,i),d},{}),c=o[n.placement],u=c.x,h=c.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=u,n.modifiersData.popperOffsets.y+=h),n.modifiersData[r]=o}const HL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:zL};function KL(t){var n=t.state,s=t.name;n.modifiersData[s]=pS({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}const qL={name:"popperOffsets",enabled:!0,phase:"read",fn:KL,data:{}};function UL(t){return t==="x"?"y":"x"}function GL(t){var n=t.state,s=t.options,r=t.name,a=s.mainAxis,i=a===void 0?!0:a,o=s.altAxis,c=o===void 0?!1:o,u=s.boundary,h=s.rootBoundary,d=s.altBoundary,x=s.padding,j=s.tether,v=j===void 0?!0:j,f=s.tetherOffset,p=f===void 0?0:f,b=Tl(n,{boundary:u,rootBoundary:h,padding:x,altBoundary:d}),k=mr(n.placement),N=Wi(n.placement),E=!N,y=Pm(k),w=UL(y),D=n.modifiersData.popperOffsets,C=n.rects.reference,S=n.rects.popper,T=typeof p=="function"?p(Object.assign({},n.rects,{placement:n.placement})):p,B=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),P=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,R={x:0,y:0};if(D){if(i){var $,F=y==="y"?ls:cs,W=y==="y"?Fs:Ps,te=y==="y"?"height":"width",G=D[y],z=G+b[F],I=G-b[W],M=v?-S[te]/2:0,fe=N===Ui?C[te]:S[te],je=N===Ui?-S[te]:-C[te],Ae=n.elements.arrow,ce=v&&Ae?Fm(Ae):{width:0,height:0},oe=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:hS(),Pe=oe[F],Ze=oe[W],et=il(0,C[te],ce[te]),Ht=E?C[te]/2-M-et-Pe-B.mainAxis:fe-et-Pe-B.mainAxis,Kt=E?-C[te]/2+M+et+Ze+B.mainAxis:je+et+Ze+B.mainAxis,ve=n.elements.arrow&&zl(n.elements.arrow),Bt=ve?y==="y"?ve.clientTop||0:ve.clientLeft||0:0,_t=($=P==null?void 0:P[y])!=null?$:0,qe=G+Ht-_t-Bt,$e=G+Kt-_t,tn=il(v?fd(z,qe):z,G,v?Ya(I,$e):I);D[y]=tn,R[y]=tn-G}if(c){var kt,Fn=y==="x"?ls:cs,dt=y==="x"?Fs:Ps,qt=D[w],Ms=w==="y"?"height":"width",Vr=qt+b[Fn],zs=qt-b[dt],Hs=[ls,cs].indexOf(k)!==-1,O=(kt=P==null?void 0:P[w])!=null?kt:0,_=Hs?Vr:qt-C[Ms]-S[Ms]-O+B.altAxis,H=Hs?qt+C[Ms]+S[Ms]-O-B.altAxis:zs,U=v&&Hs?pL(_,qt,H):il(v?_:Vr,qt,v?H:zs);D[w]=U,R[w]=U-qt}n.modifiersData[r]=R}}const YL={name:"preventOverflow",enabled:!0,phase:"main",fn:GL,requiresIfExists:["offset"]};function WL(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function VL(t){return t===gs(t)||!xr(t)?Mm(t):WL(t)}function QL(t){var n=t.getBoundingClientRect(),s=Gi(n.width)/t.offsetWidth||1,r=Gi(n.height)/t.offsetHeight||1;return s!==1||r!==1}function JL(t,n,s){s===void 0&&(s=!1);var r=xr(n),a=xr(n)&&QL(n),i=La(n),o=Yi(t,a,s),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!s)&&((Ca(n)!=="body"||Hm(i))&&(c=VL(n)),xr(n)?(u=Yi(n,!0),u.x+=n.clientLeft,u.y+=n.clientTop):i&&(u.x=zm(i))),{x:o.left+c.scrollLeft-u.x,y:o.top+c.scrollTop-u.y,width:o.width,height:o.height}}function XL(t){var n=new Map,s=new Set,r=[];t.forEach(function(i){n.set(i.name,i)});function a(i){s.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(c){if(!s.has(c)){var u=n.get(c);u&&a(u)}}),r.push(i)}return t.forEach(function(i){s.has(i.name)||a(i)}),r}function ZL(t){var n=XL(t);return fL.reduce(function(s,r){return s.concat(n.filter(function(a){return a.phase===r}))},[])}function eE(t){var n;return function(){return n||(n=new Promise(function(s){Promise.resolve().then(function(){n=void 0,s(t())})})),n}}function tE(t){var n=t.reduce(function(s,r){var a=s[r.name];return s[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,s},{});return Object.keys(n).map(function(s){return n[s]})}var Jp={placement:"bottom",modifiers:[],strategy:"absolute"};function Xp(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return!n.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function nE(t){t===void 0&&(t={});var n=t,s=n.defaultModifiers,r=s===void 0?[]:s,a=n.defaultOptions,i=a===void 0?Jp:a;return function(c,u,h){h===void 0&&(h=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Jp,i),modifiersData:{},elements:{reference:c,popper:u},attributes:{},styles:{}},x=[],j=!1,v={state:d,setOptions:function(k){var N=typeof k=="function"?k(d.options):k;p(),d.options=Object.assign({},i,d.options,N),d.scrollParents={reference:ei(c)?ol(c):c.contextElement?ol(c.contextElement):[],popper:ol(u)};var E=ZL(tE([].concat(r,d.options.modifiers)));return d.orderedModifiers=E.filter(function(y){return y.enabled}),f(),v.update()},forceUpdate:function(){if(!j){var k=d.elements,N=k.reference,E=k.popper;if(Xp(N,E)){d.rects={reference:JL(N,zl(E),d.options.strategy==="fixed"),popper:Fm(E)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(B){return d.modifiersData[B.name]=Object.assign({},B.data)});for(var y=0;y<d.orderedModifiers.length;y++){if(d.reset===!0){d.reset=!1,y=-1;continue}var w=d.orderedModifiers[y],D=w.fn,C=w.options,S=C===void 0?{}:C,T=w.name;typeof D=="function"&&(d=D({state:d,options:S,name:T,instance:v})||d)}}}},update:eE(function(){return new Promise(function(b){v.forceUpdate(),b(d)})}),destroy:function(){p(),j=!0}};if(!Xp(c,u))return v;v.setOptions(h).then(function(b){!j&&h.onFirstUpdate&&h.onFirstUpdate(b)});function f(){d.orderedModifiers.forEach(function(b){var k=b.name,N=b.options,E=N===void 0?{}:N,y=b.effect;if(typeof y=="function"){var w=y({state:d,name:k,instance:v,options:E}),D=function(){};x.push(w||D)}})}function p(){x.forEach(function(b){return b()}),x=[]}return v}}const sE=nE({defaultModifiers:[PL,qL,NL,kL,HL,IL,YL,vL]}),rE=["enabled","placement","strategy","modifiers"];function aE(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}const iE={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},oE={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:n,popper:s}=t.elements;if("removeAttribute"in n){const r=(n.getAttribute("aria-describedby")||"").split(",").filter(a=>a.trim()!==s.id);r.length?n.setAttribute("aria-describedby",r.join(",")):n.removeAttribute("aria-describedby")}},fn:({state:t})=>{var n;const{popper:s,reference:r}=t.elements,a=(n=s.getAttribute("role"))==null?void 0:n.toLowerCase();if(s.id&&a==="tooltip"&&"setAttribute"in r){const i=r.getAttribute("aria-describedby");if(i&&i.split(",").indexOf(s.id)!==-1)return;r.setAttribute("aria-describedby",i?`${i},${s.id}`:s.id)}}},lE=[];function jS(t,n,s={}){let{enabled:r=!0,placement:a="bottom",strategy:i="absolute",modifiers:o=lE}=s,c=aE(s,rE);const u=l.useRef(o),h=l.useRef(),d=l.useCallback(()=>{var b;(b=h.current)==null||b.update()},[]),x=l.useCallback(()=>{var b;(b=h.current)==null||b.forceUpdate()},[]),[j,v]=tL(l.useState({placement:a,update:d,forceUpdate:x,attributes:{},styles:{popper:{},arrow:{}}})),f=l.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:b})=>{const k={},N={};Object.keys(b.elements).forEach(E=>{k[E]=b.styles[E],N[E]=b.attributes[E]}),v({state:b,styles:k,attributes:N,update:d,forceUpdate:x,placement:b.placement})}}),[d,x,v]),p=l.useMemo(()=>(al(u.current,o)||(u.current=o),u.current),[o]);return l.useEffect(()=>{!h.current||!r||h.current.setOptions({placement:a,strategy:i,modifiers:[...p,f,iE]})},[i,a,f,r,p]),l.useEffect(()=>{if(!(!r||t==null||n==null))return h.current=sE(t,n,Object.assign({},c,{placement:a,strategy:i,modifiers:[...p,oE,f]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,v(b=>Object.assign({},b,{attributes:{},styles:{popper:{}}})))}},[r,t,n]),j}var cE=function(){},dE=cE;const uE=Qi(dE),Zp=()=>{};function hE(t){return t.button===0}function fE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Oc=t=>t&&("current"in t?t.current:t),ej={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function gS(t,n=Zp,{disabled:s,clickTrigger:r="click"}={}){const a=l.useRef(!1),i=l.useRef(!1),o=l.useCallback(h=>{const d=Oc(t);uE(!!d,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),a.current=!d||fE(h)||!hE(h)||!!Dl(d,h.target)||i.current,i.current=!1},[t]),c=It(h=>{const d=Oc(t);d&&Dl(d,h.target)&&(i.current=!0)}),u=It(h=>{a.current||n(h)});l.useEffect(()=>{var h,d;if(s||t==null)return;const x=io(Oc(t)),j=x.defaultView||window;let v=(h=j.event)!=null?h:(d=j.parent)==null?void 0:d.event,f=null;ej[r]&&(f=Br(x,ej[r],c,!0));const p=Br(x,r,o,!0),b=Br(x,r,N=>{if(N===v){v=void 0;return}u(N)});let k=[];return"ontouchstart"in x.documentElement&&(k=[].slice.call(x.body.children).map(N=>Br(N,"mousemove",Zp))),()=>{f==null||f(),p(),b(),k.forEach(N=>N())}},[t,s,r,o,c,u])}function mE(t){const n={};return Array.isArray(t)?(t==null||t.forEach(s=>{n[s.name]=s}),n):t||n}function xE(t={}){return Array.isArray(t)?t:Object.keys(t).map(n=>(t[n].name=n,t[n]))}function yS({enabled:t,enableEvents:n,placement:s,flip:r,offset:a,fixed:i,containerPadding:o,arrowElement:c,popperConfig:u={}}){var h,d,x,j,v;const f=mE(u.modifiers);return Object.assign({},u,{placement:s,enabled:t,strategy:i?"fixed":u.strategy,modifiers:xE(Object.assign({},f,{eventListeners:{enabled:n,options:(h=f.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},f.preventOverflow,{options:o?Object.assign({padding:o},(d=f.preventOverflow)==null?void 0:d.options):(x=f.preventOverflow)==null?void 0:x.options}),offset:{options:Object.assign({offset:a},(j=f.offset)==null?void 0:j.options)},arrow:Object.assign({},f.arrow,{enabled:!!c,options:Object.assign({},(v=f.arrow)==null?void 0:v.options,{element:c})}),flip:Object.assign({enabled:!!r},f.flip)}))})}const pE=["children"];function jE(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}const gE=()=>{};function vS(t={}){const n=l.useContext(zd),[s,r]=ud(),a=l.useRef(!1),{flip:i,offset:o,rootCloseEvent:c,fixed:u=!1,placement:h,popperConfig:d={},enableEventListeners:x=!0,usePopper:j=!!n}=t,v=(n==null?void 0:n.show)==null?!!t.show:n.show;v&&!a.current&&(a.current=!0);const f=D=>{n==null||n.toggle(!1,D)},{placement:p,setMenu:b,menuElement:k,toggleElement:N}=n||{},E=jS(N,k,yS({placement:h||p||"bottom-start",enabled:j,enableEvents:x??v,offset:o,flip:i,fixed:u,arrowElement:s,popperConfig:d})),y=Object.assign({ref:b||gE,"aria-labelledby":N==null?void 0:N.id},E.attributes.popper,{style:E.styles.popper}),w={show:v,placement:p,hasShown:a.current,toggle:n==null?void 0:n.toggle,popper:j?E:null,arrowProps:j?Object.assign({ref:r},E.attributes.arrow,{style:E.styles.arrow}):{}};return gS(k,f,{clickTrigger:c,disabled:!v}),[y,w]}const yE={usePopper:!0};function Km(t){let{children:n}=t,s=jE(t,pE);const[r,a]=vS(s);return e.jsx(e.Fragment,{children:n(r,a)})}Km.displayName="DropdownMenu";Km.defaultProps=yE;const md={prefix:String(Math.round(Math.random()*1e10)),current:0},SS=Pt.createContext(md),vE=Pt.createContext(!1);let SE=!!(typeof window<"u"&&window.document&&window.document.createElement),_u=new WeakMap;function bE(t=!1){let n=l.useContext(SS),s=l.useRef(null);if(s.current===null&&!t){var r,a;let i=(r=Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(a=r.ReactCurrentOwner)===null||a===void 0?void 0:a.current;if(i){let o=_u.get(i);o==null?_u.set(i,{id:n.current,state:i.memoizedState}):i.memoizedState!==o.state&&(n.current=o.id,_u.delete(i))}s.current=++n.current}return s.current}function CE(t){let n=l.useContext(SS);n===md&&!SE&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let s=bE(!!t),r=`react-aria${n.prefix}`;return t||`${r}-${s}`}function NE(t){let n=Pt.useId(),[s]=l.useState(EE()),r=s?"react-aria":`react-aria${md.prefix}`;return t||`${r}-${n}`}const bS=typeof Pt.useId=="function"?NE:CE;function wE(){return!1}function kE(){return!0}function LE(t){return()=>{}}function EE(){return typeof Pt.useSyncExternalStore=="function"?Pt.useSyncExternalStore(LE,wE,kE):l.useContext(vE)}const CS=t=>{var n;return((n=t.getAttribute("role"))==null?void 0:n.toLowerCase())==="menu"},tj=()=>{};function NS(){const t=bS(),{show:n=!1,toggle:s=tj,setToggle:r,menuElement:a}=l.useContext(zd)||{},i=l.useCallback(c=>{s(!n,c)},[n,s]),o={id:t,ref:r||tj,onClick:i,"aria-expanded":!!n};return a&&CS(a)&&(o["aria-haspopup"]=!0),[o,{show:n,toggle:s}]}function wS({children:t}){const[n,s]=NS();return e.jsx(e.Fragment,{children:t(n,s)})}wS.displayName="DropdownToggle";const DE=["eventKey","disabled","onClick","active","as"];function $E(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}function kS({key:t,href:n,active:s,disabled:r,onClick:a}){const i=l.useContext(jr),o=l.useContext(Sm),{activeKey:c}=o||{},u=ba(t,n),h=s==null&&t!=null?ba(c)===u:s;return[{onClick:It(x=>{r||(a==null||a(x),i&&!x.isPropagationStopped()&&i(u,x))}),"aria-disabled":r||void 0,"aria-selected":h,[ao("dropdown-item")]:""},{isActive:h}]}const LS=l.forwardRef((t,n)=>{let{eventKey:s,disabled:r,onClick:a,active:i,as:o=Cm}=t,c=$E(t,DE);const[u]=kS({key:s,href:c.href,disabled:r,onClick:a,active:i});return e.jsx(o,Object.assign({},c,{ref:n},u))});LS.displayName="DropdownItem";function nj(){const t=bv(),n=l.useRef(null),s=l.useCallback(r=>{n.current=r,t()},[t]);return[n,s]}function Hl({defaultShow:t,show:n,onSelect:s,onToggle:r,itemSelector:a=`* [${ao("dropdown-item")}]`,focusFirstItemOnShow:i,placement:o="bottom-start",children:c}){const u=Pd(),[h,d]=oS(n,t,r),[x,j]=nj(),v=x.current,[f,p]=nj(),b=f.current,k=Ov(h),N=l.useRef(null),E=l.useRef(!1),y=l.useContext(jr),w=l.useCallback((P,R,$=R==null?void 0:R.type)=>{d(P,{originalEvent:R,source:$})},[d]),D=It((P,R)=>{s==null||s(P,R),w(!1,R,"select"),R.isPropagationStopped()||y==null||y(P,R)}),C=l.useMemo(()=>({toggle:w,placement:o,show:h,menuElement:v,toggleElement:b,setMenu:j,setToggle:p}),[w,o,h,v,b,j,p]);v&&k&&!h&&(E.current=v.contains(v.ownerDocument.activeElement));const S=It(()=>{b&&b.focus&&b.focus()}),T=It(()=>{const P=N.current;let R=i;if(R==null&&(R=x.current&&CS(x.current)?"keyboard":!1),R===!1||R==="keyboard"&&!/^key.+$/.test(P))return;const $=$r(x.current,a)[0];$&&$.focus&&$.focus()});l.useEffect(()=>{h?T():E.current&&(E.current=!1,S())},[h,E,S,T]),l.useEffect(()=>{N.current=null});const B=(P,R)=>{if(!x.current)return null;const $=$r(x.current,a);let F=$.indexOf(P)+R;return F=Math.max(0,Math.min(F,$.length)),$[F]};return Uk(l.useCallback(()=>u.document,[u]),"keydown",P=>{var R,$;const{key:F}=P,W=P.target,te=(R=x.current)==null?void 0:R.contains(W),G=($=f.current)==null?void 0:$.contains(W);if(/input|textarea/i.test(W.tagName)&&(F===" "||F!=="Escape"&&te||F==="Escape"&&W.type==="search")||!te&&!G||F==="Tab"&&(!x.current||!h))return;N.current=P.type;const I={originalEvent:P,source:P.type};switch(F){case"ArrowUp":{const M=B(W,-1);M&&M.focus&&M.focus(),P.preventDefault();return}case"ArrowDown":if(P.preventDefault(),!h)d(!0,I);else{const M=B(W,1);M&&M.focus&&M.focus()}return;case"Tab":Em(W.ownerDocument,"keyup",M=>{var fe;(M.key==="Tab"&&!M.target||!((fe=x.current)!=null&&fe.contains(M.target)))&&d(!1,I)},{once:!0});break;case"Escape":F==="Escape"&&(P.preventDefault(),P.stopPropagation()),d(!1,I);break}}),e.jsx(jr.Provider,{value:D,children:e.jsx(zd.Provider,{value:C,children:c})})}Hl.displayName="Dropdown";Hl.Menu=Km;Hl.Toggle=wS;Hl.Item=LS;const ES=l.createContext({});ES.displayName="DropdownContext";const DS=ES,$S=l.forwardRef(({className:t,bsPrefix:n,as:s="hr",role:r="separator",...a},i)=>(n=me(n,"dropdown-divider"),e.jsx(s,{ref:i,className:ie(t,n),role:r,...a})));$S.displayName="DropdownDivider";const TE=$S,TS=l.forwardRef(({className:t,bsPrefix:n,as:s="div",role:r="heading",...a},i)=>(n=me(n,"dropdown-header"),e.jsx(s,{ref:i,className:ie(t,n),role:r,...a})));TS.displayName="DropdownHeader";const OE=TS,OS=l.forwardRef(({bsPrefix:t,className:n,eventKey:s,disabled:r=!1,onClick:a,active:i,as:o=km,...c},u)=>{const h=me(t,"dropdown-item"),[d,x]=kS({key:s,href:c.href,disabled:r,onClick:a,active:i});return e.jsx(o,{...c,...d,ref:u,className:ie(n,h,x.isActive&&"active",r&&"disabled")})});OS.displayName="DropdownItem";const AE=OS,AS=l.forwardRef(({className:t,bsPrefix:n,as:s="span",...r},a)=>(n=me(n,"dropdown-item-text"),e.jsx(s,{ref:a,className:ie(t,n),...r})));AS.displayName="DropdownItemText";const BE=AS,BS=l.createContext(null);BS.displayName="InputGroupContext";const qm=BS;function _S(t,n){return t}function RS(t,n,s){const r=s?"top-end":"top-start",a=s?"top-start":"top-end",i=s?"bottom-end":"bottom-start",o=s?"bottom-start":"bottom-end",c=s?"right-start":"left-start",u=s?"right-end":"left-end",h=s?"left-start":"right-start",d=s?"left-end":"right-end";let x=t?o:i;return n==="up"?x=t?a:r:n==="end"?x=t?d:h:n==="start"?x=t?u:c:n==="down-centered"?x="bottom":n==="up-centered"&&(x="top"),x}const IS=l.forwardRef(({bsPrefix:t,className:n,align:s,rootCloseEvent:r,flip:a=!0,show:i,renderOnMount:o,as:c="div",popperConfig:u,variant:h,...d},x)=>{let j=!1;const v=l.useContext(si),f=me(t,"dropdown-menu"),{align:p,drop:b,isRTL:k}=l.useContext(DS);s=s||p;const N=l.useContext(qm),E=[];if(s)if(typeof s=="object"){const P=Object.keys(s);if(P.length){const R=P[0],$=s[R];j=$==="start",E.push(`${f}-${R}-${$}`)}}else s==="end"&&(j=!0);const y=RS(j,b,k),[w,{hasShown:D,popper:C,show:S,toggle:T}]=vS({flip:a,rootCloseEvent:r,show:i,usePopper:!v&&E.length===0,offset:[0,2],popperConfig:u,placement:y});if(w.ref=vr(_S(x),w.ref),Ll(()=>{S&&(C==null||C.update())},[S]),!D&&!o&&!N)return null;typeof c!="string"&&(w.show=S,w.close=()=>T==null?void 0:T(!1),w.align=s);let B=d.style;return C!=null&&C.placement&&(B={...d.style,...w.style},d["x-placement"]=C.placement),e.jsx(c,{...d,...w,style:B,...(E.length||v)&&{"data-bs-popper":"static"},className:ie(n,f,S&&"show",j&&`${f}-end`,h&&`${f}-${h}`,...E)})});IS.displayName="DropdownMenu";const _E=IS,FS=l.forwardRef(({as:t,bsPrefix:n,variant:s="primary",size:r,active:a=!1,disabled:i=!1,className:o,...c},u)=>{const h=me(n,"btn"),[d,{tagName:x}]=bm({tagName:t,disabled:i,...c}),j=x;return e.jsx(j,{...d,...c,ref:u,disabled:i,className:ie(o,h,a&&"active",s&&`${h}-${s}`,r&&`${h}-${r}`,c.href&&i&&"disabled")})});FS.displayName="Button";const L=FS,PS=l.forwardRef(({bsPrefix:t,split:n,className:s,childBsPrefix:r,as:a=L,...i},o)=>{const c=me(t,"dropdown-toggle"),u=l.useContext(zd);r!==void 0&&(i.bsPrefix=r);const[h]=NS();return h.ref=vr(h.ref,_S(o)),e.jsx(a,{className:ie(s,c,n&&`${c}-split`,(u==null?void 0:u.show)&&"show"),...h,...i})});PS.displayName="DropdownToggle";const RE=PS,MS=l.forwardRef((t,n)=>{const{bsPrefix:s,drop:r="down",show:a,className:i,align:o="start",onSelect:c,onToggle:u,focusFirstItemOnShow:h,as:d="div",navbar:x,autoClose:j=!0,...v}=Pl(t,{show:"onToggle"}),f=l.useContext(qm),p=me(s,"dropdown"),b=Fd(),k=C=>j===!1?C==="click":j==="inside"?C!=="rootClose":j==="outside"?C!=="select":!0,N=It((C,S)=>{S.originalEvent.currentTarget===document&&(S.source!=="keydown"||S.originalEvent.key==="Escape")&&(S.source="rootClose"),k(S.source)&&(u==null||u(C,S))}),y=RS(o==="end",r,b),w=l.useMemo(()=>({align:o,drop:r,isRTL:b}),[o,r,b]),D={down:p,"down-centered":`${p}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return e.jsx(DS.Provider,{value:w,children:e.jsx(Hl,{placement:y,show:a,onSelect:c,onToggle:N,focusFirstItemOnShow:h,itemSelector:`.${p}-item:not(.disabled):not(:disabled)`,children:f?v.children:e.jsx(d,{...v,ref:n,className:ie(i,a&&"show",D[r])})})})});MS.displayName="Dropdown";const qa=Object.assign(MS,{Toggle:RE,Menu:_E,Item:AE,ItemText:BE,Divider:TE,Header:OE}),zS=l.forwardRef(({id:t,title:n,children:s,bsPrefix:r,className:a,rootCloseEvent:i,menuRole:o,disabled:c,active:u,renderMenuOnMount:h,menuVariant:d,...x},j)=>{const v=me(void 0,"nav-item");return e.jsxs(qa,{ref:j,...x,className:ie(a,v),children:[e.jsx(qa.Toggle,{id:t,eventKey:null,active:u,disabled:c,childBsPrefix:r,as:Lm,children:n}),e.jsx(qa.Menu,{role:o,renderOnMount:h,rootCloseEvent:i,variant:d,children:s})]})});zS.displayName="NavDropdown";const ws=Object.assign(zS,{Item:qa.Item,ItemText:qa.ItemText,Divider:qa.Divider,Header:qa.Header});var HS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sj=Pt.createContext&&Pt.createContext(HS),ya=globalThis&&globalThis.__assign||function(){return ya=Object.assign||function(t){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ya.apply(this,arguments)},IE=globalThis&&globalThis.__rest||function(t,n){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(s[r[a]]=t[r[a]]);return s};function KS(t){return t&&t.map(function(n,s){return Pt.createElement(n.tag,ya({key:s},n.attr),KS(n.child))})}function lo(t){return function(n){return Pt.createElement(FE,ya({attr:ya({},t.attr)},n),KS(t.child))}}function FE(t){var n=function(s){var r=t.attr,a=t.size,i=t.title,o=IE(t,["attr","size","title"]),c=a||s.size||"1em",u;return s.className&&(u=s.className),t.className&&(u=(u?u+" ":"")+t.className),Pt.createElement("svg",ya({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,r,o,{className:u,style:ya(ya({color:t.color||s.color},s.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&Pt.createElement("title",null,i),t.children)};return sj!==void 0?Pt.createElement(sj.Consumer,null,function(s){return n(s)}):n(HS)}function PE(t){return lo({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"}}]})(t)}function ME(t){return lo({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"}}]})(t)}function zE(t){return lo({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"}}]})(t)}const qS=l.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=me(n,"card-body"),e.jsx(s,{ref:a,className:ie(t,n),...r})));qS.displayName="CardBody";const US=qS,GS=l.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=me(n,"card-footer"),e.jsx(s,{ref:a,className:ie(t,n),...r})));GS.displayName="CardFooter";const HE=GS,YS=l.forwardRef(({bsPrefix:t,className:n,as:s="div",...r},a)=>{const i=me(t,"card-header"),o=l.useMemo(()=>({cardHeaderBsPrefix:i}),[i]);return e.jsx(Dv.Provider,{value:o,children:e.jsx(s,{ref:a,...r,className:ie(n,i)})})});YS.displayName="CardHeader";const KE=YS,WS=l.forwardRef(({bsPrefix:t,className:n,variant:s,as:r="img",...a},i)=>{const o=me(t,"card-img");return e.jsx(r,{ref:i,className:ie(s?`${o}-${s}`:o,n),...a})});WS.displayName="CardImg";const qE=WS,VS=l.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=me(n,"card-img-overlay"),e.jsx(s,{ref:a,className:ie(t,n),...r})));VS.displayName="CardImgOverlay";const UE=VS,QS=l.forwardRef(({className:t,bsPrefix:n,as:s="a",...r},a)=>(n=me(n,"card-link"),e.jsx(s,{ref:a,className:ie(t,n),...r})));QS.displayName="CardLink";const GE=QS,YE=Md("h6"),JS=l.forwardRef(({className:t,bsPrefix:n,as:s=YE,...r},a)=>(n=me(n,"card-subtitle"),e.jsx(s,{ref:a,className:ie(t,n),...r})));JS.displayName="CardSubtitle";const WE=JS,XS=l.forwardRef(({className:t,bsPrefix:n,as:s="p",...r},a)=>(n=me(n,"card-text"),e.jsx(s,{ref:a,className:ie(t,n),...r})));XS.displayName="CardText";const VE=XS,QE=Md("h5"),ZS=l.forwardRef(({className:t,bsPrefix:n,as:s=QE,...r},a)=>(n=me(n,"card-title"),e.jsx(s,{ref:a,className:ie(t,n),...r})));ZS.displayName="CardTitle";const JE=ZS,eb=l.forwardRef(({bsPrefix:t,className:n,bg:s,text:r,border:a,body:i=!1,children:o,as:c="div",...u},h)=>{const d=me(t,"card");return e.jsx(c,{ref:h,...u,className:ie(n,d,s&&`bg-${s}`,r&&`text-${r}`,a&&`border-${a}`),children:i?e.jsx(US,{children:o}):o})});eb.displayName="Card";const Tn=Object.assign(eb,{Img:qE,Title:JE,Subtitle:WE,Body:US,Link:GE,Text:VE,Header:KE,Footer:HE,ImgOverlay:UE}),af=2**31-1;function tb(t,n,s){const r=s-Date.now();t.current=r<=af?setTimeout(n,r):setTimeout(()=>tb(t,n,s),af)}function XE(){const t=wm(),n=l.useRef();return Tm(()=>clearTimeout(n.current)),l.useMemo(()=>{const s=()=>clearTimeout(n.current);function r(a,i=0){t()&&(s(),i<=af?n.current=setTimeout(a,i):tb(n,a,Date.now()+i))}return{set:r,clear:s}},[])}function rj(t,n){let s=0;return l.Children.map(t,r=>l.isValidElement(r)?n(r,s++):r)}function ZE(t,n){let s=0;l.Children.forEach(t,r=>{l.isValidElement(r)&&n(r,s++)})}function eD(t,n){return l.Children.toArray(t).some(s=>l.isValidElement(s)&&s.type===n)}function tD({as:t,bsPrefix:n,className:s,...r}){n=me(n,"col");const a=jv(),i=gv(),o=[],c=[];return a.forEach(u=>{const h=r[u];delete r[u];let d,x,j;typeof h=="object"&&h!=null?{span:d,offset:x,order:j}=h:d=h;const v=u!==i?`-${u}`:"";d&&o.push(d===!0?`${n}${v}`:`${n}${v}-${d}`),j!=null&&c.push(`order${v}-${j}`),x!=null&&c.push(`offset${v}-${x}`)}),[{...r,className:ie(s,...o,...c)},{as:t,bsPrefix:n,spans:o}]}const nb=l.forwardRef((t,n)=>{const[{className:s,...r},{as:a="div",bsPrefix:i,spans:o}]=tD(t);return e.jsx(a,{...r,ref:n,className:ie(s,!o.length&&i)})});nb.displayName="Col";const q=nb,nD={type:qn.string,tooltip:qn.bool,as:qn.elementType},Um=l.forwardRef(({as:t="div",className:n,type:s="valid",tooltip:r=!1,...a},i)=>e.jsx(t,{...a,ref:i,className:ie(n,`${s}-${r?"tooltip":"feedback"}`)}));Um.displayName="Feedback";Um.propTypes=nD;const sb=Um,sD=l.createContext({}),Kr=sD,rb=l.forwardRef(({id:t,bsPrefix:n,className:s,type:r="checkbox",isValid:a=!1,isInvalid:i=!1,as:o="input",...c},u)=>{const{controlId:h}=l.useContext(Kr);return n=me(n,"form-check-input"),e.jsx(o,{...c,ref:u,type:r,id:t||h,className:ie(s,n,a&&"is-valid",i&&"is-invalid")})});rb.displayName="FormCheckInput";const Kd=rb,ab=l.forwardRef(({bsPrefix:t,className:n,htmlFor:s,...r},a)=>{const{controlId:i}=l.useContext(Kr);return t=me(t,"form-check-label"),e.jsx("label",{...r,ref:a,htmlFor:s||i,className:ie(n,t)})});ab.displayName="FormCheckLabel";const of=ab,ib=l.forwardRef(({id:t,bsPrefix:n,bsSwitchPrefix:s,inline:r=!1,reverse:a=!1,disabled:i=!1,isValid:o=!1,isInvalid:c=!1,feedbackTooltip:u=!1,feedback:h,feedbackType:d,className:x,style:j,title:v="",type:f="checkbox",label:p,children:b,as:k="input",...N},E)=>{n=me(n,"form-check"),s=me(s,"form-switch");const{controlId:y}=l.useContext(Kr),w=l.useMemo(()=>({controlId:t||y}),[y,t]),D=!b&&p!=null&&p!==!1||eD(b,of),C=e.jsx(Kd,{...N,type:f==="switch"?"checkbox":f,ref:E,isValid:o,isInvalid:c,disabled:i,as:k});return e.jsx(Kr.Provider,{value:w,children:e.jsx("div",{style:j,className:ie(x,D&&n,r&&`${n}-inline`,a&&`${n}-reverse`,f==="switch"&&s),children:b||e.jsxs(e.Fragment,{children:[C,D&&e.jsx(of,{title:v,children:p}),h&&e.jsx(sb,{type:d,tooltip:u,children:h})]})})})});ib.displayName="FormCheck";const xd=Object.assign(ib,{Input:Kd,Label:of}),ob=l.forwardRef(({bsPrefix:t,type:n,size:s,htmlSize:r,id:a,className:i,isValid:o=!1,isInvalid:c=!1,plaintext:u,readOnly:h,as:d="input",...x},j)=>{const{controlId:v}=l.useContext(Kr);return t=me(t,"form-control"),e.jsx(d,{...x,type:n,size:r,ref:j,readOnly:h,id:a||v,className:ie(i,u?`${t}-plaintext`:t,s&&`${t}-${s}`,n==="color"&&`${t}-color`,o&&"is-valid",c&&"is-invalid")})});ob.displayName="FormControl";const rD=Object.assign(ob,{Feedback:sb}),lb=l.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=me(n,"form-floating"),e.jsx(s,{ref:a,className:ie(t,n),...r})));lb.displayName="FormFloating";const aD=lb,cb=l.forwardRef(({controlId:t,as:n="div",...s},r)=>{const a=l.useMemo(()=>({controlId:t}),[t]);return e.jsx(Kr.Provider,{value:a,children:e.jsx(n,{...s,ref:r})})});cb.displayName="FormGroup";const db=cb,ub=l.forwardRef(({as:t="label",bsPrefix:n,column:s=!1,visuallyHidden:r=!1,className:a,htmlFor:i,...o},c)=>{const{controlId:u}=l.useContext(Kr);n=me(n,"form-label");let h="col-form-label";typeof s=="string"&&(h=`${h} ${h}-${s}`);const d=ie(a,n,r&&"visually-hidden",s&&h);return i=i||u,s?e.jsx(q,{ref:c,as:"label",className:d,htmlFor:i,...o}):e.jsx(t,{ref:c,className:d,htmlFor:i,...o})});ub.displayName="FormLabel";const iD=ub,hb=l.forwardRef(({bsPrefix:t,className:n,id:s,...r},a)=>{const{controlId:i}=l.useContext(Kr);return t=me(t,"form-range"),e.jsx("input",{...r,type:"range",ref:a,className:ie(n,t),id:s||i})});hb.displayName="FormRange";const oD=hb,fb=l.forwardRef(({bsPrefix:t,size:n,htmlSize:s,className:r,isValid:a=!1,isInvalid:i=!1,id:o,...c},u)=>{const{controlId:h}=l.useContext(Kr);return t=me(t,"form-select"),e.jsx("select",{...c,size:s,ref:u,className:ie(r,t,n&&`${t}-${n}`,a&&"is-valid",i&&"is-invalid"),id:o||h})});fb.displayName="FormSelect";const lD=fb,mb=l.forwardRef(({bsPrefix:t,className:n,as:s="small",muted:r,...a},i)=>(t=me(t,"form-text"),e.jsx(s,{...a,ref:i,className:ie(n,t,r&&"text-muted")})));mb.displayName="FormText";const cD=mb,xb=l.forwardRef((t,n)=>e.jsx(xd,{...t,ref:n,type:"switch"}));xb.displayName="Switch";const dD=Object.assign(xb,{Input:xd.Input,Label:xd.Label}),pb=l.forwardRef(({bsPrefix:t,className:n,children:s,controlId:r,label:a,...i},o)=>(t=me(t,"form-floating"),e.jsxs(db,{ref:o,className:ie(n,t),controlId:r,...i,children:[s,e.jsx("label",{htmlFor:r,children:a})]})));pb.displayName="FloatingLabel";const uD=pb,hD={_ref:qn.any,validated:qn.bool,as:qn.elementType},Gm=l.forwardRef(({className:t,validated:n,as:s="form",...r},a)=>e.jsx(s,{...r,ref:a,className:ie(t,n&&"was-validated")}));Gm.displayName="Form";Gm.propTypes=hD;const m=Object.assign(Gm,{Group:db,Control:rD,Floating:aD,Check:xd,Switch:dD,Label:iD,Text:cD,Range:oD,Select:lD,FloatingLabel:uD}),jb=l.forwardRef(({className:t,bsPrefix:n,as:s="span",...r},a)=>(n=me(n,"input-group-text"),e.jsx(s,{ref:a,className:ie(t,n),...r})));jb.displayName="InputGroupText";const Ym=jb,fD=t=>e.jsx(Ym,{children:e.jsx(Kd,{type:"checkbox",...t})}),mD=t=>e.jsx(Ym,{children:e.jsx(Kd,{type:"radio",...t})}),gb=l.forwardRef(({bsPrefix:t,size:n,hasValidation:s,className:r,as:a="div",...i},o)=>{t=me(t,"input-group");const c=l.useMemo(()=>({}),[]);return e.jsx(qm.Provider,{value:c,children:e.jsx(a,{ref:o,...i,className:ie(r,t,n&&`${t}-${n}`,s&&"has-validation")})})});gb.displayName="InputGroup";const Ea=Object.assign(gb,{Text:Ym,Radio:mD,Checkbox:fD}),yb=l.forwardRef(({bsPrefix:t,active:n,disabled:s,eventKey:r,className:a,variant:i,action:o,as:c,...u},h)=>{t=me(t,"list-group-item");const[d,x]=Nm({key:ba(r,u.href),active:n,...u}),j=It(f=>{if(s){f.preventDefault(),f.stopPropagation();return}d.onClick(f)});s&&u.tabIndex===void 0&&(u.tabIndex=-1,u["aria-disabled"]=!0);const v=c||(o?u.href?"a":"button":"div");return e.jsx(v,{ref:h,...u,...d,onClick:j,className:ie(a,t,x.isActive&&"active",s&&"disabled",i&&`${t}-${i}`,o&&`${t}-action`)})});yb.displayName="ListGroupItem";const xD=yb,vb=l.forwardRef((t,n)=>{const{className:s,bsPrefix:r,variant:a,horizontal:i,numbered:o,as:c="div",...u}=Pl(t,{activeKey:"onSelect"}),h=me(r,"list-group");let d;return i&&(d=i===!0?"horizontal":`horizontal-${i}`),e.jsx(kv,{ref:n,...u,as:c,className:ie(s,h,a&&`${h}-${a}`,d&&`${h}-${d}`,o&&`${h}-numbered`)})});vb.displayName="ListGroup";const _e=Object.assign(vb,{Item:xD});var fc;function aj(t){if((!fc&&fc!==0||t)&&oo){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),fc=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return fc}const Sb=l.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=me(n,"modal-body"),e.jsx(s,{ref:a,className:ie(t,n),...r})));Sb.displayName="ModalBody";const pD=Sb,bb=l.forwardRef(({bsPrefix:t,className:n,contentClassName:s,centered:r,size:a,fullscreen:i,children:o,scrollable:c,...u},h)=>{t=me(t,"modal");const d=`${t}-dialog`,x=typeof i=="string"?`${t}-fullscreen-${i}`:`${t}-fullscreen`;return e.jsx("div",{...u,ref:h,className:ie(d,n,a&&`${t}-${a}`,r&&`${d}-centered`,c&&`${d}-scrollable`,i&&x),children:e.jsx("div",{className:ie(`${t}-content`,s),children:o})})});bb.displayName="ModalDialog";const Cb=bb,Nb=l.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=me(n,"modal-footer"),e.jsx(s,{ref:a,className:ie(t,n),...r})));Nb.displayName="ModalFooter";const jD=Nb,wb=l.forwardRef(({bsPrefix:t,className:n,closeLabel:s="Close",closeButton:r=!1,...a},i)=>(t=me(t,"modal-header"),e.jsx(Xv,{ref:i,...a,className:ie(n,t),closeLabel:s,closeButton:r})));wb.displayName="ModalHeader";const gD=wb,yD=Md("h4"),kb=l.forwardRef(({className:t,bsPrefix:n,as:s=yD,...r},a)=>(n=me(n,"modal-title"),e.jsx(s,{ref:a,className:ie(t,n),...r})));kb.displayName="ModalTitle";const vD=kb;function SD(t){return e.jsx(Za,{...t,timeout:null})}function bD(t){return e.jsx(Za,{...t,timeout:null})}const Lb=l.forwardRef(({bsPrefix:t,className:n,style:s,dialogClassName:r,contentClassName:a,children:i,dialogAs:o=Cb,"aria-labelledby":c,"aria-describedby":u,"aria-label":h,show:d=!1,animation:x=!0,backdrop:j=!0,keyboard:v=!0,onEscapeKeyDown:f,onShow:p,onHide:b,container:k,autoFocus:N=!0,enforceFocus:E=!0,restoreFocus:y=!0,restoreFocusOptions:w,onEntered:D,onExit:C,onExiting:S,onEnter:T,onEntering:B,onExited:P,backdropClassName:R,manager:$,...F},W)=>{const[te,G]=l.useState({}),[z,I]=l.useState(!1),M=l.useRef(!1),fe=l.useRef(!1),je=l.useRef(null),[Ae,ce]=ud(),oe=vr(W,ce),Pe=It(b),Ze=Fd();t=me(t,"modal");const et=l.useMemo(()=>({onHide:Pe}),[Pe]);function Ht(){return $||nS({isRTL:Ze})}function Kt(O){if(!oo)return;const _=Ht().getScrollbarWidth()>0,H=O.scrollHeight>io(O).documentElement.clientHeight;G({paddingRight:_&&!H?aj():void 0,paddingLeft:!_&&H?aj():void 0})}const ve=It(()=>{Ae&&Kt(Ae.dialog)});Tm(()=>{Xh(window,"resize",ve),je.current==null||je.current()});const Bt=()=>{M.current=!0},_t=O=>{M.current&&Ae&&O.target===Ae.dialog&&(fe.current=!0),M.current=!1},qe=()=>{I(!0),je.current=zv(Ae.dialog,()=>{I(!1)})},$e=O=>{O.target===O.currentTarget&&qe()},tn=O=>{if(j==="static"){$e(O);return}if(fe.current||O.target!==O.currentTarget){fe.current=!1;return}b==null||b()},kt=O=>{v?f==null||f(O):(O.preventDefault(),j==="static"&&qe())},Fn=(O,_)=>{O&&Kt(O),T==null||T(O,_)},dt=O=>{je.current==null||je.current(),C==null||C(O)},qt=(O,_)=>{B==null||B(O,_),Em(window,"resize",ve)},Ms=O=>{O&&(O.style.display=""),P==null||P(O),Xh(window,"resize",ve)},Vr=l.useCallback(O=>e.jsx("div",{...O,className:ie(`${t}-backdrop`,R,!x&&"show")}),[x,R,t]),zs={...s,...te};zs.display="block";const Hs=O=>e.jsx("div",{role:"dialog",...O,style:zs,className:ie(n,t,z&&`${t}-static`,!x&&"show"),onClick:j?tn:void 0,onMouseUp:_t,"aria-label":h,"aria-labelledby":c,"aria-describedby":u,children:e.jsx(o,{...F,onMouseDown:Bt,className:r,contentClassName:a,children:i})});return e.jsx(Bm.Provider,{value:et,children:e.jsx(Wv,{show:d,ref:oe,backdrop:j,container:k,keyboard:!0,autoFocus:N,enforceFocus:E,restoreFocus:y,restoreFocusOptions:w,onEscapeKeyDown:kt,onShow:p,onHide:b,onEnter:Fn,onEntering:qt,onEntered:D,onExit:dt,onExiting:S,onExited:Ms,manager:Ht(),transition:x?SD:void 0,backdropTransition:x?bD:void 0,renderBackdrop:Vr,renderDialog:Hs})})});Lb.displayName="Modal";const g=Object.assign(Lb,{Body:pD,Header:gD,Title:vD,Footer:jD,Dialog:Cb,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),CD=()=>{};function ND(t,n,{disabled:s,clickTrigger:r}={}){const a=n||CD;gS(t,a,{disabled:s,clickTrigger:r});const i=It(o=>{Gv(o)&&a(o)});l.useEffect(()=>{if(s||t==null)return;const o=io(Oc(t));let c=(o.defaultView||window).event;const u=Br(o,"keyup",h=>{if(h===c){c=void 0;return}i(h)});return()=>{u()}},[t,s,i])}const Eb=l.forwardRef((t,n)=>{const{flip:s,offset:r,placement:a,containerPadding:i,popperConfig:o={},transition:c,runTransition:u}=t,[h,d]=ud(),[x,j]=ud(),v=vr(d,n),f=ef(t.container),p=ef(t.target),[b,k]=l.useState(!t.show),N=jS(p,h,yS({placement:a,enableEvents:!!t.show,containerPadding:i||5,flip:s,offset:r,arrowElement:x,popperConfig:o}));t.show&&b&&k(!1);const E=(...P)=>{k(!0),t.onExited&&t.onExited(...P)},y=t.show||!b;if(ND(h,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!y)return null;const{onExit:w,onExiting:D,onEnter:C,onEntering:S,onEntered:T}=t;let B=t.children(Object.assign({},N.attributes.popper,{style:N.styles.popper,ref:v}),{popper:N,placement:a,show:!!t.show,arrowProps:Object.assign({},N.attributes.arrow,{style:N.styles.arrow,ref:j})});return B=tf(c,u,{in:!!t.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:B,onExit:w,onExiting:D,onExited:E,onEnter:C,onEntering:S,onEntered:T}),f?Ka.createPortal(B,f):null});Eb.displayName="Overlay";const wD=Eb,Db=l.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=me(n,"popover-header"),e.jsx(s,{ref:a,className:ie(t,n),...r})));Db.displayName="PopoverHeader";const kD=Db,$b=l.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=me(n,"popover-body"),e.jsx(s,{ref:a,className:ie(t,n),...r})));$b.displayName="PopoverBody";const Tb=$b;function Ob(t,n){let s=t;return t==="left"?s=n?"end":"start":t==="right"&&(s=n?"start":"end"),s}function Ab(t="absolute"){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const LD=l.forwardRef(({bsPrefix:t,placement:n="right",className:s,style:r,children:a,body:i,arrowProps:o,hasDoneInitialMeasure:c,popper:u,show:h,...d},x)=>{const j=me(t,"popover"),v=Fd(),[f]=(n==null?void 0:n.split("-"))||[],p=Ob(f,v);let b=r;return h&&!c&&(b={...r,...Ab(u==null?void 0:u.strategy)}),e.jsxs("div",{ref:x,role:"tooltip",style:b,"x-placement":f,className:ie(s,j,f&&`bs-popover-${p}`),...d,children:[e.jsx("div",{className:"popover-arrow",...o}),i?e.jsx(Tb,{children:a}):a]})}),ED=Object.assign(LD,{Header:kD,Body:Tb,POPPER_OFFSET:[0,8]}),Bb=l.forwardRef(({bsPrefix:t,placement:n="right",className:s,style:r,children:a,arrowProps:i,hasDoneInitialMeasure:o,popper:c,show:u,...h},d)=>{t=me(t,"tooltip");const x=Fd(),[j]=(n==null?void 0:n.split("-"))||[],v=Ob(j,x);let f=r;return u&&!o&&(f={...r,...Ab(c==null?void 0:c.strategy)}),e.jsxs("div",{ref:d,style:f,role:"tooltip","x-placement":j,className:ie(s,t,`bs-tooltip-${v}`),...h,children:[e.jsx("div",{className:"tooltip-arrow",...i}),e.jsx("div",{className:`${t}-inner`,children:a})]})});Bb.displayName="Tooltip";const Wm=Object.assign(Bb,{TOOLTIP_OFFSET:[0,6]});function DD(t){const n=l.useRef(null),s=me(void 0,"popover"),r=me(void 0,"tooltip"),a=l.useMemo(()=>({name:"offset",options:{offset:()=>{if(t)return t;if(n.current){if(nf(n.current,s))return ED.POPPER_OFFSET;if(nf(n.current,r))return Wm.TOOLTIP_OFFSET}return[0,0]}}}),[t,s,r]);return[n,[a]]}function $D(t,n){const{ref:s}=t,{ref:r}=n;t.ref=s.__wrapped||(s.__wrapped=a=>s(hd(a))),n.ref=r.__wrapped||(r.__wrapped=a=>r(hd(a)))}const _b=l.forwardRef(({children:t,transition:n=Za,popperConfig:s={},rootClose:r=!1,placement:a="top",show:i=!1,...o},c)=>{const u=l.useRef({}),[h,d]=l.useState(null),[x,j]=DD(o.offset),v=vr(c,x),f=n===!0?Za:n||void 0,p=It(b=>{d(b),s==null||s.onFirstUpdate==null||s.onFirstUpdate(b)});return Ll(()=>{h&&o.target&&(u.current.scheduleUpdate==null||u.current.scheduleUpdate())},[h,o.target]),l.useEffect(()=>{i||d(null)},[i]),e.jsx(wD,{...o,ref:v,popperConfig:{...s,modifiers:j.concat(s.modifiers||[]),onFirstUpdate:p},transition:f,rootClose:r,placement:a,show:i,children:(b,{arrowProps:k,popper:N,show:E})=>{var y,w;$D(b,k);const D=N==null?void 0:N.placement,C=Object.assign(u.current,{state:N==null?void 0:N.state,scheduleUpdate:N==null?void 0:N.update,placement:D,outOfBoundaries:(N==null||(y=N.state)==null||(w=y.modifiersData.hide)==null?void 0:w.isReferenceHidden)||!1,strategy:s.strategy}),S=!!h;return typeof t=="function"?t({...b,placement:D,show:E,...!n&&E&&{className:"show"},popper:C,arrowProps:k,hasDoneInitialMeasure:S}):l.cloneElement(t,{...b,placement:D,arrowProps:k,popper:C,hasDoneInitialMeasure:S,className:ie(t.props.className,!n&&E&&"show"),style:{...t.props.style,...b.style}})}})});_b.displayName="Overlay";const TD=_b;function OD(t){return t&&typeof t=="object"?t:{show:t,hide:t}}function ij(t,n,s){const[r]=n,a=r.currentTarget,i=r.relatedTarget||r.nativeEvent[s];(!i||i!==a)&&!Dl(a,i)&&t(...n)}function Rb({trigger:t=["hover","focus"],overlay:n,children:s,popperConfig:r={},show:a,defaultShow:i=!1,onToggle:o,delay:c,placement:u,flip:h=u&&u.indexOf("auto")!==-1,...d}){const x=l.useRef(null),j=vr(x,s.ref),v=XE(),f=l.useRef(""),[p,b]=Sv(a,i,o),k=OD(c),{onFocus:N,onBlur:E,onClick:y}=typeof s!="function"?l.Children.only(s).props:{},w=W=>{j(hd(W))},D=l.useCallback(()=>{if(v.clear(),f.current="show",!k.show){b(!0);return}v.set(()=>{f.current==="show"&&b(!0)},k.show)},[k.show,b,v]),C=l.useCallback(()=>{if(v.clear(),f.current="hide",!k.hide){b(!1);return}v.set(()=>{f.current==="hide"&&b(!1)},k.hide)},[k.hide,b,v]),S=l.useCallback((...W)=>{D(),N==null||N(...W)},[D,N]),T=l.useCallback((...W)=>{C(),E==null||E(...W)},[C,E]),B=l.useCallback((...W)=>{b(!p),y==null||y(...W)},[y,b,p]),P=l.useCallback((...W)=>{ij(D,W,"fromElement")},[D]),R=l.useCallback((...W)=>{ij(C,W,"toElement")},[C]),$=t==null?[]:[].concat(t),F={ref:w};return $.indexOf("click")!==-1&&(F.onClick=B),$.indexOf("focus")!==-1&&(F.onFocus=S,F.onBlur=T),$.indexOf("hover")!==-1&&(F.onMouseOver=P,F.onMouseOut=R),e.jsxs(e.Fragment,{children:[typeof s=="function"?s(F):l.cloneElement(s,F),e.jsx(TD,{...d,show:p,onHide:C,flip:h,placement:u,popperConfig:r,target:x.current,children:n})]})}const Vm=l.forwardRef(({active:t=!1,disabled:n=!1,className:s,style:r,activeLabel:a="(current)",children:i,linkStyle:o,linkClassName:c,...u},h)=>{const d=t||n?"span":km;return e.jsx("li",{ref:h,style:r,className:ie(s,"page-item",{active:t,disabled:n}),children:e.jsxs(d,{className:ie("page-link",c),style:o,...u,children:[i,t&&a&&e.jsx("span",{className:"visually-hidden",children:a})]})})});Vm.displayName="PageItem";const AD=Vm;function Kl(t,n,s=t){const r=l.forwardRef(({children:a,...i},o)=>e.jsxs(Vm,{...i,ref:o,children:[e.jsx("span",{"aria-hidden":"true",children:a||n}),e.jsx("span",{className:"visually-hidden",children:s})]}));return r.displayName=t,r}const BD=Kl("First","«"),_D=Kl("Prev","‹","Previous"),RD=Kl("Ellipsis","…","More"),ID=Kl("Next","›"),FD=Kl("Last","»"),Ib=l.forwardRef(({bsPrefix:t,className:n,size:s,...r},a)=>{const i=me(t,"pagination");return e.jsx("ul",{ref:a,...r,className:ie(n,i,s&&`${i}-${s}`)})});Ib.displayName="Pagination";const yn=Object.assign(Ib,{First:BD,Prev:_D,Ellipsis:RD,Item:AD,Next:ID,Last:FD}),Fb=l.forwardRef(({bsPrefix:t,className:n,as:s="div",...r},a)=>{const i=me(t,"row"),o=jv(),c=gv(),u=`${i}-cols`,h=[];return o.forEach(d=>{const x=r[d];delete r[d];let j;x!=null&&typeof x=="object"?{cols:j}=x:j=x;const v=d!==c?`-${d}`:"";j!=null&&h.push(`${u}${v}-${j}`)}),e.jsx(s,{ref:a,...r,className:ie(n,i,...h)})});Fb.displayName="Row";const ye=Fb,Pb=l.forwardRef(({bsPrefix:t,variant:n,animation:s="border",size:r,as:a="div",className:i,...o},c)=>{t=me(t,"spinner");const u=`${t}-${s}`;return e.jsx(a,{ref:c,...o,className:ie(i,u,r&&`${u}-${r}`,n&&`text-${n}`)})});Pb.displayName="Spinner";const Mb=Pb,PD=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],MD=["activeKey","getControlledId","getControllerId"],zD=["as"];function lf(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}function zb(t){let{active:n,eventKey:s,mountOnEnter:r,transition:a,unmountOnExit:i,role:o="tabpanel",onEnter:c,onEntering:u,onEntered:h,onExit:d,onExiting:x,onExited:j}=t,v=lf(t,PD);const f=l.useContext(ro);if(!f)return[Object.assign({},v,{role:o}),{eventKey:s,isActive:n,mountOnEnter:r,transition:a,unmountOnExit:i,onEnter:c,onEntering:u,onEntered:h,onExit:d,onExiting:x,onExited:j}];const{activeKey:p,getControlledId:b,getControllerId:k}=f,N=lf(f,MD),E=ba(s);return[Object.assign({},v,{role:o,id:b(s),"aria-labelledby":k(s)}),{eventKey:s,isActive:n==null&&E!=null?ba(p)===E:n,transition:a||N.transition,mountOnEnter:r??N.mountOnEnter,unmountOnExit:i??N.unmountOnExit,onEnter:c,onEntering:u,onEntered:h,onExit:d,onExiting:x,onExited:j}]}const Hb=l.forwardRef((t,n)=>{let{as:s="div"}=t,r=lf(t,zD);const[a,{isActive:i,onEnter:o,onEntering:c,onEntered:u,onExit:h,onExiting:d,onExited:x,mountOnEnter:j,unmountOnExit:v,transition:f=Am}]=zb(r);return e.jsx(ro.Provider,{value:null,children:e.jsx(jr.Provider,{value:null,children:e.jsx(f,{in:i,onEnter:o,onEntering:c,onEntered:u,onExit:h,onExiting:d,onExited:x,mountOnEnter:j,unmountOnExit:v,children:e.jsx(s,Object.assign({},a,{ref:n,hidden:!i,"aria-hidden":!i}))})})})});Hb.displayName="TabPanel";const Kb=t=>{const{id:n,generateChildId:s,onSelect:r,activeKey:a,defaultActiveKey:i,transition:o,mountOnEnter:c,unmountOnExit:u,children:h}=t,[d,x]=oS(a,i,r),j=bS(n),v=l.useMemo(()=>s||((p,b)=>j?`${j}-${b}-${p}`:null),[j,s]),f=l.useMemo(()=>({onSelect:x,activeKey:d,transition:o,mountOnEnter:c||!1,unmountOnExit:u||!1,getControlledId:p=>v(p,"tabpane"),getControllerId:p=>v(p,"tab")}),[x,d,o,c,u,v]);return e.jsx(ro.Provider,{value:f,children:e.jsx(jr.Provider,{value:x||null,children:h})})};Kb.Panel=Hb;const qb=Kb;function Qm(t){return typeof t=="boolean"?t?Za:Am:t}const Ub=({transition:t,...n})=>e.jsx(qb,{...n,transition:Qm(t)});Ub.displayName="TabContainer";const HD=Ub,Gb=l.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=me(n,"tab-content"),e.jsx(s,{ref:a,className:ie(t,n),...r})));Gb.displayName="TabContent";const Yb=Gb,Wb=l.forwardRef(({bsPrefix:t,transition:n,...s},r)=>{const[{className:a,as:i="div",...o},{isActive:c,onEnter:u,onEntering:h,onEntered:d,onExit:x,onExiting:j,onExited:v,mountOnEnter:f,unmountOnExit:p,transition:b=Za}]=zb({...s,transition:Qm(n)}),k=me(t,"tab-pane");return e.jsx(ro.Provider,{value:null,children:e.jsx(jr.Provider,{value:null,children:e.jsx(b,{in:c,onEnter:u,onEntering:h,onEntered:d,onExit:x,onExiting:j,onExited:v,mountOnEnter:f,unmountOnExit:p,children:e.jsx(i,{...o,ref:r,className:ie(a,k,c&&"active")})})})})});Wb.displayName="TabPane";const Vb=Wb,KD={eventKey:qn.oneOfType([qn.string,qn.number]),title:qn.node.isRequired,disabled:qn.bool,tabClassName:qn.string,tabAttrs:qn.object},Qb=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Qb.propTypes=KD;const Y=Object.assign(Qb,{Container:HD,Content:Yb,Pane:Vb}),qD=l.forwardRef(({bsPrefix:t,className:n,striped:s,bordered:r,borderless:a,hover:i,size:o,variant:c,responsive:u,...h},d)=>{const x=me(t,"table"),j=ie(n,x,c&&`${x}-${c}`,o&&`${x}-${o}`,s&&`${x}-${typeof s=="string"?`striped-${s}`:"striped"}`,r&&`${x}-bordered`,a&&`${x}-borderless`,i&&`${x}-hover`),v=e.jsx("table",{...h,className:j,ref:d});if(u){let f=`${x}-responsive`;return typeof u=="string"&&(f=`${f}-${u}`),e.jsx("div",{className:f,children:v})}return v}),Q=qD;function UD(t){let n;return ZE(t,s=>{n==null&&(n=s.props.eventKey)}),n}function GD(t){const{title:n,eventKey:s,disabled:r,tabClassName:a,tabAttrs:i,id:o}=t.props;return n==null?null:e.jsx(Tv,{as:"li",role:"presentation",children:e.jsx(Lm,{as:"button",type:"button",eventKey:s,disabled:r,id:o,className:a,...i,children:n})})}const Jb=t=>{const{id:n,onSelect:s,transition:r,mountOnEnter:a=!1,unmountOnExit:i=!1,variant:o="tabs",children:c,activeKey:u=UD(c),...h}=Pl(t,{activeKey:"onSelect"});return e.jsxs(qb,{id:n,activeKey:u,onSelect:s,transition:Qm(r),mountOnEnter:a,unmountOnExit:i,children:[e.jsx(lr,{...h,role:"tablist",as:"ul",variant:o,children:rj(c,GD)}),e.jsx(Yb,{children:rj(c,d=>{const x={...d.props};return delete x.title,delete x.disabled,delete x.tabClassName,delete x.tabAttrs,e.jsx(Vb,{...x})})})]})};Jb.displayName="Tabs";const mt=Jb;function YD(){const[t,n]=l.useState("dark");document.body.dataset.bsTheme=t;const s=()=>{n(t==="dark"?"light":"dark"),document.body.dataset.bsTheme=t};return e.jsx(L,{variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center p-2",onClick:s,children:t==="light"?e.jsx(ME,{}):e.jsx(zE,{})})}function WD(){const{user:t,dispatch:n}=l.useContext(se),s=()=>{n({type:"LOGOUT"}),localStorage.removeItem("user"),localStorage.removeItem("accessToken")};return l.useEffect(()=>{let r;const a=()=>{clearTimeout(r),r=setTimeout(()=>{s()},12e5)},i=()=>{a()};return a(),window.addEventListener("mousemove",i),window.addEventListener("keypress",i),()=>{window.removeEventListener("mousemove",i),window.removeEventListener("keypress",i),clearTimeout(r)}},[]),e.jsx(uc,{expand:"lg",bg:"black","data-bs-theme":"dark",children:e.jsxs(X,{children:[e.jsx(uc.Brand,{children:e.jsx(lr.Link,{as:Oe,to:"/",children:"Yussman"})}),e.jsx(uc.Toggle,{"aria-controls":"basic-navbar-nav"}),t&&e.jsxs(uc.Collapse,{id:"basic-navbar-nav",children:[" ",e.jsxs(lr,{className:"me-auto",children:[e.jsx(lr.Link,{as:Oe,to:"/register",children:"Register"}),e.jsx(lr.Link,{as:Oe,to:"/store",children:"Store"}),e.jsx(lr.Link,{as:Oe,to:"/restaurant",children:"Restaurant"}),e.jsxs(ws,{title:"Shops",id:"basic-nav-dropdown",children:[e.jsx(ws.Item,{as:Oe,to:"/shopa1",children:"Shop A1"}),e.jsx(ws.Item,{as:Oe,to:"/shopa2",children:"Shop A2"}),e.jsx(ws.Item,{as:Oe,to:"/shopb",children:"Shop B"})]}),e.jsxs(ws,{title:"Chinsali",id:"basic-nav-dropdown",children:[e.jsx(ws.Item,{as:Oe,to:"/chinsalirestaurant",children:"Restaurant"}),e.jsx(ws.Item,{as:Oe,to:"/chinsalistore",children:"Store"}),e.jsx(ws.Item,{as:Oe,to:"/chinsaliregister",children:"Register"})]}),e.jsxs(ws,{title:"Chansa",id:"basic-nav-dropdown",children:[e.jsx(ws.Item,{as:Oe,to:"/chansarestaurant",children:"Restaurant"}),e.jsx(ws.Item,{as:Oe,to:"/chansastore",children:"Store"}),e.jsx(ws.Item,{as:Oe,to:"/chansaregister",children:"Register"})]}),e.jsx(lr.Link,{as:Oe,to:"/goat",children:"Goat"}),e.jsx(lr.Link,{as:Oe,to:"/credit",children:"Credit"}),e.jsx(lr.Link,{as:Oe,to:"/employees",children:"Employees"}),t.role==="admin"&&e.jsx(e.Fragment,{children:e.jsx(lr.Link,{as:Oe,to:"/users",children:"Users"})})]}),e.jsxs("div",{className:"d-flex align-items-center ",children:[e.jsx("span",{className:"me-2 text-capitalize",children:t.firstName}),e.jsx(L,{variant:"outline-info",className:"me-2",onClick:s,children:"Logout"})]})]}),e.jsx(YD,{})]})})}function VD(){return l.useEffect(()=>{document.title="Yussman"},[]),e.jsxs(X,{children:[e.jsx("h1",{children:"Dasboard"}),e.jsx(Oe,{to:"/store",children:"Store"}),e.jsx("hr",{}),e.jsx(Oe,{to:"/register",children:"Register"}),e.jsx("hr",{}),e.jsx(Oe,{to:"/restaurant",children:"Restaurant"}),e.jsx("hr",{}),e.jsx(Oe,{to:"/shopa1",children:"Shop A1"}),e.jsx("hr",{}),e.jsx(Oe,{to:"/shopa2",children:"Shop A2"}),e.jsx("hr",{}),e.jsx(Oe,{to:"/shopb",children:"Shop B"}),e.jsx("hr",{}),e.jsx(Oe,{to:"/chinsalirestaurant",children:"Chinsali"}),e.jsx("hr",{}),e.jsx(Oe,{to:"/chinsalistore",children:"Chinsali store"}),e.jsx("hr",{}),e.jsx(Oe,{to:"/chinsaliregister",children:"Chinsali Register"}),e.jsx("hr",{}),e.jsx(Oe,{to:"/goat",children:"Goat"}),e.jsx("hr",{}),e.jsx(Oe,{to:"/credit",children:"Credit"}),e.jsx("hr",{}),e.jsx(Oe,{to:"/employees",children:"Employees"})]})}function Xb(t,n){return function(){return t.apply(n,arguments)}}const{toString:QD}=Object.prototype,{getPrototypeOf:Jm}=Object,qd=(t=>n=>{const s=QD.call(n);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Sr=t=>(t=t.toLowerCase(),n=>qd(n)===t),Ud=t=>n=>typeof n===t,{isArray:co}=Array,Ol=Ud("undefined");function JD(t){return t!==null&&!Ol(t)&&t.constructor!==null&&!Ol(t.constructor)&&_s(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Zb=Sr("ArrayBuffer");function XD(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&Zb(t.buffer),n}const ZD=Ud("string"),_s=Ud("function"),e0=Ud("number"),Gd=t=>t!==null&&typeof t=="object",e$=t=>t===!0||t===!1,Ac=t=>{if(qd(t)!=="object")return!1;const n=Jm(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},t$=Sr("Date"),n$=Sr("File"),s$=Sr("Blob"),r$=Sr("FileList"),a$=t=>Gd(t)&&_s(t.pipe),i$=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||_s(t.append)&&((n=qd(t))==="formdata"||n==="object"&&_s(t.toString)&&t.toString()==="[object FormData]"))},o$=Sr("URLSearchParams"),l$=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ql(t,n,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),co(t))for(r=0,a=t.length;r<a;r++)n.call(null,t[r],r,t);else{const i=s?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let c;for(r=0;r<o;r++)c=i[r],n.call(null,t[c],c,t)}}function t0(t,n){n=n.toLowerCase();const s=Object.keys(t);let r=s.length,a;for(;r-- >0;)if(a=s[r],n===a.toLowerCase())return a;return null}const n0=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),s0=t=>!Ol(t)&&t!==n0;function cf(){const{caseless:t}=s0(this)&&this||{},n={},s=(r,a)=>{const i=t&&t0(n,a)||a;Ac(n[i])&&Ac(r)?n[i]=cf(n[i],r):Ac(r)?n[i]=cf({},r):co(r)?n[i]=r.slice():n[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&ql(arguments[r],s);return n}const c$=(t,n,s,{allOwnKeys:r}={})=>(ql(n,(a,i)=>{s&&_s(a)?t[i]=Xb(a,s):t[i]=a},{allOwnKeys:r}),t),d$=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),u$=(t,n,s,r)=>{t.prototype=Object.create(n.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),s&&Object.assign(t.prototype,s)},h$=(t,n,s,r)=>{let a,i,o;const c={};if(n=n||{},t==null)return n;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)o=a[i],(!r||r(o,t,n))&&!c[o]&&(n[o]=t[o],c[o]=!0);t=s!==!1&&Jm(t)}while(t&&(!s||s(t,n))&&t!==Object.prototype);return n},f$=(t,n,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=n.length;const r=t.indexOf(n,s);return r!==-1&&r===s},m$=t=>{if(!t)return null;if(co(t))return t;let n=t.length;if(!e0(n))return null;const s=new Array(n);for(;n-- >0;)s[n]=t[n];return s},x$=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&Jm(Uint8Array)),p$=(t,n)=>{const r=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=r.next())&&!a.done;){const i=a.value;n.call(t,i[0],i[1])}},j$=(t,n)=>{let s;const r=[];for(;(s=t.exec(n))!==null;)r.push(s);return r},g$=Sr("HTMLFormElement"),y$=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),oj=(({hasOwnProperty:t})=>(n,s)=>t.call(n,s))(Object.prototype),v$=Sr("RegExp"),r0=(t,n)=>{const s=Object.getOwnPropertyDescriptors(t),r={};ql(s,(a,i)=>{let o;(o=n(a,i,t))!==!1&&(r[i]=o||a)}),Object.defineProperties(t,r)},S$=t=>{r0(t,(n,s)=>{if(_s(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=t[s];if(_s(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},b$=(t,n)=>{const s={},r=a=>{a.forEach(i=>{s[i]=!0})};return co(t)?r(t):r(String(t).split(n)),s},C$=()=>{},N$=(t,n)=>(t=+t,Number.isFinite(t)?t:n),Ru="abcdefghijklmnopqrstuvwxyz",lj="0123456789",a0={DIGIT:lj,ALPHA:Ru,ALPHA_DIGIT:Ru+Ru.toUpperCase()+lj},w$=(t=16,n=a0.ALPHA_DIGIT)=>{let s="";const{length:r}=n;for(;t--;)s+=n[Math.random()*r|0];return s};function k$(t){return!!(t&&_s(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const L$=t=>{const n=new Array(10),s=(r,a)=>{if(Gd(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[a]=r;const i=co(r)?[]:{};return ql(r,(o,c)=>{const u=s(o,a+1);!Ol(u)&&(i[c]=u)}),n[a]=void 0,i}}return r};return s(t,0)},E$=Sr("AsyncFunction"),D$=t=>t&&(Gd(t)||_s(t))&&_s(t.then)&&_s(t.catch),V={isArray:co,isArrayBuffer:Zb,isBuffer:JD,isFormData:i$,isArrayBufferView:XD,isString:ZD,isNumber:e0,isBoolean:e$,isObject:Gd,isPlainObject:Ac,isUndefined:Ol,isDate:t$,isFile:n$,isBlob:s$,isRegExp:v$,isFunction:_s,isStream:a$,isURLSearchParams:o$,isTypedArray:x$,isFileList:r$,forEach:ql,merge:cf,extend:c$,trim:l$,stripBOM:d$,inherits:u$,toFlatObject:h$,kindOf:qd,kindOfTest:Sr,endsWith:f$,toArray:m$,forEachEntry:p$,matchAll:j$,isHTMLForm:g$,hasOwnProperty:oj,hasOwnProp:oj,reduceDescriptors:r0,freezeMethods:S$,toObjectSet:b$,toCamelCase:y$,noop:C$,toFiniteNumber:N$,findKey:t0,global:n0,isContextDefined:s0,ALPHABET:a0,generateString:w$,isSpecCompliantForm:k$,toJSONObject:L$,isAsyncFn:E$,isThenable:D$};function ot(t,n,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a)}V.inherits(ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const i0=ot.prototype,o0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{o0[t]={value:t}});Object.defineProperties(ot,o0);Object.defineProperty(i0,"isAxiosError",{value:!0});ot.from=(t,n,s,r,a,i)=>{const o=Object.create(i0);return V.toFlatObject(t,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),ot.call(o,t.message,n,s,r,a),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const $$=null;function df(t){return V.isPlainObject(t)||V.isArray(t)}function l0(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function cj(t,n,s){return t?t.concat(n).map(function(a,i){return a=l0(a),!s&&i?"["+a+"]":a}).join(s?".":""):n}function T$(t){return V.isArray(t)&&!t.some(df)}const O$=V.toFlatObject(V,{},null,function(n){return/^is[A-Z]/.test(n)});function Yd(t,n,s){if(!V.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,s=V.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,b){return!V.isUndefined(b[p])});const r=s.metaTokens,a=s.visitor||d,i=s.dots,o=s.indexes,u=(s.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(n);if(!V.isFunction(a))throw new TypeError("visitor must be a function");function h(f){if(f===null)return"";if(V.isDate(f))return f.toISOString();if(!u&&V.isBlob(f))throw new ot("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(f)||V.isTypedArray(f)?u&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function d(f,p,b){let k=f;if(f&&!b&&typeof f=="object"){if(V.endsWith(p,"{}"))p=r?p:p.slice(0,-2),f=JSON.stringify(f);else if(V.isArray(f)&&T$(f)||(V.isFileList(f)||V.endsWith(p,"[]"))&&(k=V.toArray(f)))return p=l0(p),k.forEach(function(E,y){!(V.isUndefined(E)||E===null)&&n.append(o===!0?cj([p],y,i):o===null?p:p+"[]",h(E))}),!1}return df(f)?!0:(n.append(cj(b,p,i),h(f)),!1)}const x=[],j=Object.assign(O$,{defaultVisitor:d,convertValue:h,isVisitable:df});function v(f,p){if(!V.isUndefined(f)){if(x.indexOf(f)!==-1)throw Error("Circular reference detected in "+p.join("."));x.push(f),V.forEach(f,function(k,N){(!(V.isUndefined(k)||k===null)&&a.call(n,k,V.isString(N)?N.trim():N,p,j))===!0&&v(k,p?p.concat(N):[N])}),x.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return v(t),n}function dj(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function Xm(t,n){this._pairs=[],t&&Yd(t,this,n)}const c0=Xm.prototype;c0.append=function(n,s){this._pairs.push([n,s])};c0.toString=function(n){const s=n?function(r){return n.call(this,r,dj)}:dj;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function A$(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function d0(t,n,s){if(!n)return t;const r=s&&s.encode||A$,a=s&&s.serialize;let i;if(a?i=a(n,s):i=V.isURLSearchParams(n)?n.toString():new Xm(n,s).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class B${constructor(){this.handlers=[]}use(n,s,r){return this.handlers.push({fulfilled:n,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){V.forEach(this.handlers,function(r){r!==null&&n(r)})}}const uj=B$,u0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_$=typeof URLSearchParams<"u"?URLSearchParams:Xm,R$=typeof FormData<"u"?FormData:null,I$=typeof Blob<"u"?Blob:null,F$=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),P$=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ur={isBrowser:!0,classes:{URLSearchParams:_$,FormData:R$,Blob:I$},isStandardBrowserEnv:F$,isStandardBrowserWebWorkerEnv:P$,protocols:["http","https","file","blob","url","data"]};function M$(t,n){return Yd(t,new ur.classes.URLSearchParams,Object.assign({visitor:function(s,r,a,i){return ur.isNode&&V.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},n))}function z$(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function H$(t){const n={},s=Object.keys(t);let r;const a=s.length;let i;for(r=0;r<a;r++)i=s[r],n[i]=t[i];return n}function h0(t){function n(s,r,a,i){let o=s[i++];const c=Number.isFinite(+o),u=i>=s.length;return o=!o&&V.isArray(a)?a.length:o,u?(V.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!c):((!a[o]||!V.isObject(a[o]))&&(a[o]=[]),n(s,r,a[o],i)&&V.isArray(a[o])&&(a[o]=H$(a[o])),!c)}if(V.isFormData(t)&&V.isFunction(t.entries)){const s={};return V.forEachEntry(t,(r,a)=>{n(z$(r),a,s,0)}),s}return null}function K$(t,n,s){if(V.isString(t))try{return(n||JSON.parse)(t),V.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(t)}const Zm={transitional:u0,adapter:["xhr","http"],transformRequest:[function(n,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,i=V.isObject(n);if(i&&V.isHTMLForm(n)&&(n=new FormData(n)),V.isFormData(n))return a&&a?JSON.stringify(h0(n)):n;if(V.isArrayBuffer(n)||V.isBuffer(n)||V.isStream(n)||V.isFile(n)||V.isBlob(n))return n;if(V.isArrayBufferView(n))return n.buffer;if(V.isURLSearchParams(n))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return M$(n,this.formSerializer).toString();if((c=V.isFileList(n))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Yd(c?{"files[]":n}:n,u&&new u,this.formSerializer)}}return i||a?(s.setContentType("application/json",!1),K$(n)):n}],transformResponse:[function(n){const s=this.transitional||Zm.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(n&&V.isString(n)&&(r&&!this.responseType||a)){const o=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(n)}catch(c){if(o)throw c.name==="SyntaxError"?ot.from(c,ot.ERR_BAD_RESPONSE,this,null,this.response):c}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ur.classes.FormData,Blob:ur.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{Zm.headers[t]={}});const ex=Zm,q$=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),U$=t=>{const n={};let s,r,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),s=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!s||n[s]&&q$[s])&&(s==="set-cookie"?n[s]?n[s].push(r):n[s]=[r]:n[s]=n[s]?n[s]+", "+r:r)}),n},hj=Symbol("internals");function Ro(t){return t&&String(t).trim().toLowerCase()}function Bc(t){return t===!1||t==null?t:V.isArray(t)?t.map(Bc):String(t)}function G$(t){const n=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(t);)n[r[1]]=r[2];return n}const Y$=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Iu(t,n,s,r,a){if(V.isFunction(r))return r.call(this,n,s);if(a&&(n=s),!!V.isString(n)){if(V.isString(r))return n.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(n)}}function W$(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,s,r)=>s.toUpperCase()+r)}function V$(t,n){const s=V.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+s,{value:function(a,i,o){return this[r].call(this,n,a,i,o)},configurable:!0})})}class Wd{constructor(n){n&&this.set(n)}set(n,s,r){const a=this;function i(c,u,h){const d=Ro(u);if(!d)throw new Error("header name must be a non-empty string");const x=V.findKey(a,d);(!x||a[x]===void 0||h===!0||h===void 0&&a[x]!==!1)&&(a[x||u]=Bc(c))}const o=(c,u)=>V.forEach(c,(h,d)=>i(h,d,u));return V.isPlainObject(n)||n instanceof this.constructor?o(n,s):V.isString(n)&&(n=n.trim())&&!Y$(n)?o(U$(n),s):n!=null&&i(s,n,r),this}get(n,s){if(n=Ro(n),n){const r=V.findKey(this,n);if(r){const a=this[r];if(!s)return a;if(s===!0)return G$(a);if(V.isFunction(s))return s.call(this,a,r);if(V.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,s){if(n=Ro(n),n){const r=V.findKey(this,n);return!!(r&&this[r]!==void 0&&(!s||Iu(this,this[r],r,s)))}return!1}delete(n,s){const r=this;let a=!1;function i(o){if(o=Ro(o),o){const c=V.findKey(r,o);c&&(!s||Iu(r,r[c],c,s))&&(delete r[c],a=!0)}}return V.isArray(n)?n.forEach(i):i(n),a}clear(n){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const i=s[r];(!n||Iu(this,this[i],i,n,!0))&&(delete this[i],a=!0)}return a}normalize(n){const s=this,r={};return V.forEach(this,(a,i)=>{const o=V.findKey(r,i);if(o){s[o]=Bc(a),delete s[i];return}const c=n?W$(i):String(i).trim();c!==i&&delete s[i],s[c]=Bc(a),r[c]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const s=Object.create(null);return V.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=n&&V.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,s])=>n+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...s){const r=new this(n);return s.forEach(a=>r.set(a)),r}static accessor(n){const r=(this[hj]=this[hj]={accessors:{}}).accessors,a=this.prototype;function i(o){const c=Ro(o);r[c]||(V$(a,o),r[c]=!0)}return V.isArray(n)?n.forEach(i):i(n),this}}Wd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(Wd.prototype,({value:t},n)=>{let s=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(r){this[s]=r}}});V.freezeMethods(Wd);const Ir=Wd;function Fu(t,n){const s=this||ex,r=n||s,a=Ir.from(r.headers);let i=r.data;return V.forEach(t,function(c){i=c.call(s,i,a.normalize(),n?n.status:void 0)}),a.normalize(),i}function f0(t){return!!(t&&t.__CANCEL__)}function Ul(t,n,s){ot.call(this,t??"canceled",ot.ERR_CANCELED,n,s),this.name="CanceledError"}V.inherits(Ul,ot,{__CANCEL__:!0});function Q$(t,n,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?t(s):n(new ot("Request failed with status code "+s.status,[ot.ERR_BAD_REQUEST,ot.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const J$=ur.isStandardBrowserEnv?function(){return{write:function(s,r,a,i,o,c){const u=[];u.push(s+"="+encodeURIComponent(r)),V.isNumber(a)&&u.push("expires="+new Date(a).toGMTString()),V.isString(i)&&u.push("path="+i),V.isString(o)&&u.push("domain="+o),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(s){const r=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function X$(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Z$(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}function m0(t,n){return t&&!X$(n)?Z$(t,n):n}const eT=ur.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let r;function a(i){let o=i;return n&&(s.setAttribute("href",o),o=s.href),s.setAttribute("href",o),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return r=a(window.location.href),function(o){const c=V.isString(o)?a(o):o;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}();function tT(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function nT(t,n){t=t||10;const s=new Array(t),r=new Array(t);let a=0,i=0,o;return n=n!==void 0?n:1e3,function(u){const h=Date.now(),d=r[i];o||(o=h),s[a]=u,r[a]=h;let x=i,j=0;for(;x!==a;)j+=s[x++],x=x%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),h-o<n)return;const v=d&&h-d;return v?Math.round(j*1e3/v):void 0}}function fj(t,n){let s=0;const r=nT(50,250);return a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,c=i-s,u=r(c),h=i<=o;s=i;const d={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&h?(o-i)/u:void 0,event:a};d[n?"download":"upload"]=!0,t(d)}}const sT=typeof XMLHttpRequest<"u",rT=sT&&function(t){return new Promise(function(s,r){let a=t.data;const i=Ir.from(t.headers).normalize(),o=t.responseType;let c;function u(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}let h;V.isFormData(a)&&(ur.isStandardBrowserEnv||ur.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.getContentType(/^\s*multipart\/form-data/)?V.isString(h=i.getContentType())&&i.setContentType(h.replace(/^\s*(multipart\/form-data);+/,"$1")):i.setContentType("multipart/form-data"));let d=new XMLHttpRequest;if(t.auth){const f=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(f+":"+p))}const x=m0(t.baseURL,t.url);d.open(t.method.toUpperCase(),d0(x,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function j(){if(!d)return;const f=Ir.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:f,config:t,request:d};Q$(function(N){s(N),u()},function(N){r(N),u()},b),d=null}if("onloadend"in d?d.onloadend=j:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(j)},d.onabort=function(){d&&(r(new ot("Request aborted",ot.ECONNABORTED,t,d)),d=null)},d.onerror=function(){r(new ot("Network Error",ot.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const b=t.transitional||u0;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),r(new ot(p,b.clarifyTimeoutError?ot.ETIMEDOUT:ot.ECONNABORTED,t,d)),d=null},ur.isStandardBrowserEnv){const f=(t.withCredentials||eT(x))&&t.xsrfCookieName&&J$.read(t.xsrfCookieName);f&&i.set(t.xsrfHeaderName,f)}a===void 0&&i.setContentType(null),"setRequestHeader"in d&&V.forEach(i.toJSON(),function(p,b){d.setRequestHeader(b,p)}),V.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),o&&o!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",fj(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",fj(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=f=>{d&&(r(!f||f.type?new Ul(null,t,d):f),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const v=tT(x);if(v&&ur.protocols.indexOf(v)===-1){r(new ot("Unsupported protocol "+v+":",ot.ERR_BAD_REQUEST,t));return}d.send(a||null)})},uf={http:$$,xhr:rT};V.forEach(uf,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const mj=t=>`- ${t}`,aT=t=>V.isFunction(t)||t===null||t===!1,x0={getAdapter:t=>{t=V.isArray(t)?t:[t];const{length:n}=t;let s,r;const a={};for(let i=0;i<n;i++){s=t[i];let o;if(r=s,!aT(s)&&(r=uf[(o=String(s)).toLowerCase()],r===void 0))throw new ot(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?i.length>1?`since :
`+i.map(mj).join(`
`):" "+mj(i[0]):"as no adapter specified";throw new ot("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:uf};function Pu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ul(null,t)}function xj(t){return Pu(t),t.headers=Ir.from(t.headers),t.data=Fu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),x0.getAdapter(t.adapter||ex.adapter)(t).then(function(r){return Pu(t),r.data=Fu.call(t,t.transformResponse,r),r.headers=Ir.from(r.headers),r},function(r){return f0(r)||(Pu(t),r&&r.response&&(r.response.data=Fu.call(t,t.transformResponse,r.response),r.response.headers=Ir.from(r.response.headers))),Promise.reject(r)})}const pj=t=>t instanceof Ir?t.toJSON():t;function Vi(t,n){n=n||{};const s={};function r(h,d,x){return V.isPlainObject(h)&&V.isPlainObject(d)?V.merge.call({caseless:x},h,d):V.isPlainObject(d)?V.merge({},d):V.isArray(d)?d.slice():d}function a(h,d,x){if(V.isUndefined(d)){if(!V.isUndefined(h))return r(void 0,h,x)}else return r(h,d,x)}function i(h,d){if(!V.isUndefined(d))return r(void 0,d)}function o(h,d){if(V.isUndefined(d)){if(!V.isUndefined(h))return r(void 0,h)}else return r(void 0,d)}function c(h,d,x){if(x in n)return r(h,d);if(x in t)return r(void 0,h)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,d)=>a(pj(h),pj(d),!0)};return V.forEach(Object.keys(Object.assign({},t,n)),function(d){const x=u[d]||a,j=x(t[d],n[d],d);V.isUndefined(j)&&x!==c||(s[d]=j)}),s}const p0="1.5.1",tx={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{tx[t]=function(r){return typeof r===t||"a"+(n<1?"n ":" ")+t}});const jj={};tx.transitional=function(n,s,r){function a(i,o){return"[Axios v"+p0+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,c)=>{if(n===!1)throw new ot(a(o," has been removed"+(s?" in "+s:"")),ot.ERR_DEPRECATED);return s&&!jj[o]&&(jj[o]=!0,console.warn(a(o," has been deprecated since v"+s+" and will be removed in the near future"))),n?n(i,o,c):!0}};function iT(t,n,s){if(typeof t!="object")throw new ot("options must be an object",ot.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const i=r[a],o=n[i];if(o){const c=t[i],u=c===void 0||o(c,i,t);if(u!==!0)throw new ot("option "+i+" must be "+u,ot.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ot("Unknown option "+i,ot.ERR_BAD_OPTION)}}const hf={assertOptions:iT,validators:tx},ea=hf.validators;class pd{constructor(n){this.defaults=n,this.interceptors={request:new uj,response:new uj}}request(n,s){typeof n=="string"?(s=s||{},s.url=n):s=n||{},s=Vi(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:i}=s;r!==void 0&&hf.assertOptions(r,{silentJSONParsing:ea.transitional(ea.boolean),forcedJSONParsing:ea.transitional(ea.boolean),clarifyTimeoutError:ea.transitional(ea.boolean)},!1),a!=null&&(V.isFunction(a)?s.paramsSerializer={serialize:a}:hf.assertOptions(a,{encode:ea.function,serialize:ea.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&V.merge(i.common,i[s.method]);i&&V.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),s.headers=Ir.concat(o,i);const c=[];let u=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(s)===!1||(u=u&&p.synchronous,c.unshift(p.fulfilled,p.rejected))});const h=[];this.interceptors.response.forEach(function(p){h.push(p.fulfilled,p.rejected)});let d,x=0,j;if(!u){const f=[xj.bind(this),void 0];for(f.unshift.apply(f,c),f.push.apply(f,h),j=f.length,d=Promise.resolve(s);x<j;)d=d.then(f[x++],f[x++]);return d}j=c.length;let v=s;for(x=0;x<j;){const f=c[x++],p=c[x++];try{v=f(v)}catch(b){p.call(this,b);break}}try{d=xj.call(this,v)}catch(f){return Promise.reject(f)}for(x=0,j=h.length;x<j;)d=d.then(h[x++],h[x++]);return d}getUri(n){n=Vi(this.defaults,n);const s=m0(n.baseURL,n.url);return d0(s,n.params,n.paramsSerializer)}}V.forEach(["delete","get","head","options"],function(n){pd.prototype[n]=function(s,r){return this.request(Vi(r||{},{method:n,url:s,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(n){function s(r){return function(i,o,c){return this.request(Vi(c||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}pd.prototype[n]=s(),pd.prototype[n+"Form"]=s(!0)});const _c=pd;class nx{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(c=>{r.subscribe(c),i=c}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},n(function(i,o,c){r.reason||(r.reason=new Ul(i,o,c),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}static source(){let n;return{token:new nx(function(a){n=a}),cancel:n}}}const oT=nx;function lT(t){return function(s){return t.apply(null,s)}}function cT(t){return V.isObject(t)&&t.isAxiosError===!0}const ff={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ff).forEach(([t,n])=>{ff[n]=t});const dT=ff;function j0(t){const n=new _c(t),s=Xb(_c.prototype.request,n);return V.extend(s,_c.prototype,n,{allOwnKeys:!0}),V.extend(s,n,null,{allOwnKeys:!0}),s.create=function(a){return j0(Vi(t,a))},s}const vn=j0(ex);vn.Axios=_c;vn.CanceledError=Ul;vn.CancelToken=oT;vn.isCancel=f0;vn.VERSION=p0;vn.toFormData=Yd;vn.AxiosError=ot;vn.Cancel=vn.CanceledError;vn.all=function(n){return Promise.all(n)};vn.spread=lT;vn.isAxiosError=cT;vn.mergeConfig=Vi;vn.AxiosHeaders=Ir;vn.formToJSON=t=>h0(V.isHTMLForm(t)?new FormData(t):t);vn.getAdapter=x0.getAdapter;vn.HttpStatusCode=dT;vn.default=vn;const A=vn;function uT({createNew:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(""),[i,o]=l.useState([0]),[c,u]=l.useState(""),[h,d]=l.useState(""),x={name:r.toLowerCase(),kgs:i,date:c,collectionDate:h},j=()=>{a(""),o([0]),u(""),d("")},v=()=>{const E=[...i,[]];o(E)},f=E=>{const y=[...i];y.splice(E,1),o(y)},p=(E,y)=>{const w=[...i];w[y]=E.target.value,o(w)},b=()=>{s(!1),j()},k=()=>s(!0),N=E=>{E.preventDefault(),t(x),j(),s(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:k,children:"New"}),e.jsxs(g,{show:n,onHide:b,backdrop:"static",keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:E=>N(E),children:[e.jsx(m.Group,{className:"mb-3",controlId:"formGroupName",children:e.jsx(m.Control,{type:"text",autoFocus:!0,placeholder:"Name",autoComplete:"off",value:r,onChange:E=>a(E.target.value),required:!0})}),i.map((E,y)=>e.jsxs(ye,{className:"mb-2",children:[e.jsx(q,{children:e.jsx(m.Control,{name:"kgs",min:0,type:"number",onChange:w=>p(w,y),required:!0})}),e.jsxs(q,{className:"d-flex justify-content-between align-items-center",children:[e.jsxs(m.Label,{className:"pt-1",children:["K",E>19?E*25:E*15]}),i.length>1&&e.jsx(L,{onClick:()=>f(y),size:"sm mx-1",variant:"outline-danger",children:"x"})]})]},y)),e.jsx(L,{onClick:v,size:"sm mx-1",variant:"outline-info",children:"Add Field"}),e.jsxs(m.Group,{className:"mb-3",controlId:"formGroupDate",children:[e.jsx(m.Label,{children:"Date"}),e.jsx(m.Control,{type:"date",value:c,onChange:E=>u(E.target.value),required:!0})]}),e.jsxs(m.Group,{className:"mb-3",controlId:"formGroupCollectionDate",children:[e.jsx(m.Label,{children:"Collection Date"}),e.jsx(m.Control,{type:"date",value:h,onChange:E=>d(E.target.value),required:!0})]}),e.jsx(L,{variant:"primary",type:"submit",children:"Submit"})]})})]})]})}const hT=t=>e.jsx(X,{className:"mb-2",fluid:!0,children:e.jsxs(ye,{children:[e.jsx(q,{children:e.jsx(uT,{createNew:t.createNew})}),e.jsx(q,{className:"text-center text-white",children:e.jsxs("h5",{children:["Amount Due : K",t.total.toLocaleString()]})})]})}),gr=Object.create(null);gr.open="0";gr.close="1";gr.ping="2";gr.pong="3";gr.message="4";gr.upgrade="5";gr.noop="6";const Rc=Object.create(null);Object.keys(gr).forEach(t=>{Rc[gr[t]]=t});const mf={type:"error",data:"parser error"},g0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",y0=typeof ArrayBuffer=="function",v0=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,sx=({type:t,data:n},s,r)=>g0&&n instanceof Blob?s?r(n):gj(n,r):y0&&(n instanceof ArrayBuffer||v0(n))?s?r(n):gj(new Blob([n]),r):r(gr[t]+(n||"")),gj=(t,n)=>{const s=new FileReader;return s.onload=function(){const r=s.result.split(",")[1];n("b"+(r||""))},s.readAsDataURL(t)};function yj(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Mu;function fT(t,n){if(g0&&t.data instanceof Blob)return t.data.arrayBuffer().then(yj).then(n);if(y0&&(t.data instanceof ArrayBuffer||v0(t.data)))return n(yj(t.data));sx(t,!1,s=>{Mu||(Mu=new TextEncoder),n(Mu.encode(s))})}const vj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<vj.length;t++)Vo[vj.charCodeAt(t)]=t;const mT=t=>{let n=t.length*.75,s=t.length,r,a=0,i,o,c,u;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);const h=new ArrayBuffer(n),d=new Uint8Array(h);for(r=0;r<s;r+=4)i=Vo[t.charCodeAt(r)],o=Vo[t.charCodeAt(r+1)],c=Vo[t.charCodeAt(r+2)],u=Vo[t.charCodeAt(r+3)],d[a++]=i<<2|o>>4,d[a++]=(o&15)<<4|c>>2,d[a++]=(c&3)<<6|u&63;return h},xT=typeof ArrayBuffer=="function",rx=(t,n)=>{if(typeof t!="string")return{type:"message",data:S0(t,n)};const s=t.charAt(0);return s==="b"?{type:"message",data:pT(t.substring(1),n)}:Rc[s]?t.length>1?{type:Rc[s],data:t.substring(1)}:{type:Rc[s]}:mf},pT=(t,n)=>{if(xT){const s=mT(t);return S0(s,n)}else return{base64:!0,data:t}},S0=(t,n)=>{switch(n){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},b0=String.fromCharCode(30),jT=(t,n)=>{const s=t.length,r=new Array(s);let a=0;t.forEach((i,o)=>{sx(i,!1,c=>{r[o]=c,++a===s&&n(r.join(b0))})})},gT=(t,n)=>{const s=t.split(b0),r=[];for(let a=0;a<s.length;a++){const i=rx(s[a],n);if(r.push(i),i.type==="error")break}return r};function yT(){return new TransformStream({transform(t,n){fT(t,s=>{const r=s.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(a[0]|=128),n.enqueue(a),n.enqueue(s)})}})}let zu;function mc(t){return t.reduce((n,s)=>n+s.length,0)}function xc(t,n){if(t[0].length===n)return t.shift();const s=new Uint8Array(n);let r=0;for(let a=0;a<n;a++)s[a]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),s}function vT(t,n){zu||(zu=new TextDecoder);const s=[];let r=0,a=-1,i=!1;return new TransformStream({transform(o,c){for(s.push(o);;){if(r===0){if(mc(s)<1)break;const u=xc(s,1);i=(u[0]&128)===128,a=u[0]&127,a<126?r=3:a===126?r=1:r=2}else if(r===1){if(mc(s)<2)break;const u=xc(s,2);a=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(mc(s)<8)break;const u=xc(s,8),h=new DataView(u.buffer,u.byteOffset,u.length),d=h.getUint32(0);if(d>Math.pow(2,53-32)-1){c.enqueue(mf);break}a=d*Math.pow(2,32)+h.getUint32(4),r=3}else{if(mc(s)<a)break;const u=xc(s,a);c.enqueue(rx(i?u:zu.decode(u),n)),r=0}if(a===0||a>t){c.enqueue(mf);break}}}})}const C0=4;function xn(t){if(t)return ST(t)}function ST(t){for(var n in xn.prototype)t[n]=xn.prototype[n];return t}xn.prototype.on=xn.prototype.addEventListener=function(t,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(n),this};xn.prototype.once=function(t,n){function s(){this.off(t,s),n.apply(this,arguments)}return s.fn=n,this.on(t,s),this};xn.prototype.off=xn.prototype.removeListener=xn.prototype.removeAllListeners=xn.prototype.removeEventListener=function(t,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+t];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,a=0;a<s.length;a++)if(r=s[a],r===n||r.fn===n){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+t],this};xn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+t],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(s){s=s.slice(0);for(var r=0,a=s.length;r<a;++r)s[r].apply(this,n)}return this};xn.prototype.emitReserved=xn.prototype.emit;xn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};xn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Os=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function N0(t,...n){return n.reduce((s,r)=>(t.hasOwnProperty(r)&&(s[r]=t[r]),s),{})}const bT=Os.setTimeout,CT=Os.clearTimeout;function Vd(t,n){n.useNativeTimers?(t.setTimeoutFn=bT.bind(Os),t.clearTimeoutFn=CT.bind(Os)):(t.setTimeoutFn=Os.setTimeout.bind(Os),t.clearTimeoutFn=Os.clearTimeout.bind(Os))}const NT=1.33;function wT(t){return typeof t=="string"?kT(t):Math.ceil((t.byteLength||t.size)*NT)}function kT(t){let n=0,s=0;for(let r=0,a=t.length;r<a;r++)n=t.charCodeAt(r),n<128?s+=1:n<2048?s+=2:n<55296||n>=57344?s+=3:(r++,s+=4);return s}function LT(t){let n="";for(let s in t)t.hasOwnProperty(s)&&(n.length&&(n+="&"),n+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return n}function ET(t){let n={},s=t.split("&");for(let r=0,a=s.length;r<a;r++){let i=s[r].split("=");n[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return n}class DT extends Error{constructor(n,s,r){super(n),this.description=s,this.context=r,this.type="TransportError"}}class ax extends xn{constructor(n){super(),this.writable=!1,Vd(this,n),this.opts=n,this.query=n.query,this.socket=n.socket}onError(n,s,r){return super.emitReserved("error",new DT(n,s,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const s=rx(n,this.socket.binaryType);this.onPacket(s)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,s={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const s=LT(n);return s.length?"?"+s:""}}const w0="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),xf=64,$T={};let Sj=0,pc=0,bj;function Cj(t){let n="";do n=w0[t%xf]+n,t=Math.floor(t/xf);while(t>0);return n}function k0(){const t=Cj(+new Date);return t!==bj?(Sj=0,bj=t):t+"."+Cj(Sj++)}for(;pc<xf;pc++)$T[w0[pc]]=pc;let L0=!1;try{L0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const TT=L0;function E0(t){const n=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||TT))return new XMLHttpRequest}catch{}if(!n)try{return new Os[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function OT(){}const AT=function(){return new E0({xdomain:!1}).responseType!=null}();class BT extends ax{constructor(n){if(super(n),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let a=location.port;a||(a=r?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||a!==n.port}const s=n&&n.forceBase64;this.supportsBinary=AT&&!s,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(n){this.readyState="pausing";const s=()=>{this.readyState="paused",n()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||s()})),this.writable||(r++,this.once("drain",function(){--r||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const s=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};gT(n,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,jT(n,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=k0()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(n,s)}request(n={}){return Object.assign(n,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new pr(this.uri(),n)}doWrite(n,s){const r=this.request({method:"POST",data:n});r.on("success",s),r.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(s,r)=>{this.onError("xhr poll error",s,r)}),this.pollXhr=n}}class pr extends xn{constructor(n,s){super(),Vd(this,s),this.opts=s,this.method=s.method||"GET",this.uri=n,this.data=s.data!==void 0?s.data:null,this.create()}create(){var n;const s=N0(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this.opts.xd;const r=this.xhr=new E0(s);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&r.setRequestHeader(a,this.opts.extraHeaders[a])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(n=this.opts.cookieJar)===null||n===void 0||n.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var a;r.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=pr.requestsCount++,pr.requests[this.index]=this)}onError(n){this.emitReserved("error",n,this.xhr),this.cleanup(!0)}cleanup(n){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=OT,n)try{this.xhr.abort()}catch{}typeof document<"u"&&delete pr.requests[this.index],this.xhr=null}}onLoad(){const n=this.xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}pr.requestsCount=0;pr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Nj);else if(typeof addEventListener=="function"){const t="onpagehide"in Os?"pagehide":"unload";addEventListener(t,Nj,!1)}}function Nj(){for(let t in pr.requests)pr.requests.hasOwnProperty(t)&&pr.requests[t].abort()}const ix=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,s)=>s(n,0))(),jc=Os.WebSocket||Os.MozWebSocket,wj=!0,_T="arraybuffer",kj=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class RT extends ax{constructor(n){super(n),this.supportsBinary=!n.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const n=this.uri(),s=this.opts.protocols,r=kj?{}:N0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=wj&&!kj?s?new jc(n,s):new jc(n):new jc(n,s,r)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const r=n[s],a=s===n.length-1;sx(r,this.supportsBinary,i=>{const o={};try{wj&&this.ws.send(i)}catch{}a&&ix(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=k0()),this.supportsBinary||(s.b64=1),this.createUri(n,s)}check(){return!!jc}}class IT extends ax{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(n=>{const s=vT(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=n.readable.pipeThrough(s).getReader(),a=yT();a.readable.pipeTo(n.writable),this.writer=a.writable.getWriter();const i=()=>{r.read().then(({done:c,value:u})=>{c||(this.onPacket(u),i())}).catch(c=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const r=n[s],a=s===n.length-1;this.writer.write(r).then(()=>{a&&ix(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this.transport)===null||n===void 0||n.close()}}const FT={websocket:RT,webtransport:IT,polling:BT},PT=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,MT=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function pf(t){const n=t,s=t.indexOf("["),r=t.indexOf("]");s!=-1&&r!=-1&&(t=t.substring(0,s)+t.substring(s,r).replace(/:/g,";")+t.substring(r,t.length));let a=PT.exec(t||""),i={},o=14;for(;o--;)i[MT[o]]=a[o]||"";return s!=-1&&r!=-1&&(i.source=n,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=zT(i,i.path),i.queryKey=HT(i,i.query),i}function zT(t,n){const s=/\/{2,9}/g,r=n.replace(s,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&r.splice(0,1),n.slice(-1)=="/"&&r.splice(r.length-1,1),r}function HT(t,n){const s={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,a,i){a&&(s[a]=i)}),s}let D0=class gi extends xn{constructor(n,s={}){super(),this.binaryType=_T,this.writeBuffer=[],n&&typeof n=="object"&&(s=n,n=null),n?(n=pf(n),s.hostname=n.host,s.secure=n.protocol==="https"||n.protocol==="wss",s.port=n.port,n.query&&(s.query=n.query)):s.host&&(s.hostname=pf(s.host).host),Vd(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ET(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(n){const s=Object.assign({},this.opts.query);s.EIO=C0,s.transport=n,this.id&&(s.sid=this.id);const r=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new FT[n](r)}open(){let n;if(this.opts.rememberUpgrade&&gi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)n="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else n=this.transports[0];this.readyState="opening";try{n=this.createTransport(n)}catch{this.transports.shift(),this.open();return}n.open(),this.setTransport(n)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(n){let s=this.createTransport(n),r=!1;gi.priorWebsocketSuccess=!1;const a=()=>{r||(s.send([{type:"ping",data:"probe"}]),s.once("packet",x=>{if(!r)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;gi.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const j=new Error("probe error");j.transport=s.name,this.emitReserved("upgradeError",j)}}))};function i(){r||(r=!0,d(),s.close(),s=null)}const o=x=>{const j=new Error("probe error: "+x);j.transport=s.name,i(),this.emitReserved("upgradeError",j)};function c(){o("transport closed")}function u(){o("socket closed")}function h(x){s&&x.name!==s.name&&i()}const d=()=>{s.removeListener("open",a),s.removeListener("error",o),s.removeListener("close",c),this.off("close",u),this.off("upgrading",h)};s.once("open",a),s.once("error",o),s.once("close",c),this.once("close",u),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{r||s.open()},200):s.open()}onOpen(){if(this.readyState="open",gi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let n=0;const s=this.upgrades.length;for(;n<s;n++)this.probe(this.upgrades[n])}}onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),this.resetPingTimeout(),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=n.data,this.onError(s);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this.getWritablePackets();this.transport.send(n),this.prevBufferLen=n.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let r=0;r<this.writeBuffer.length;r++){const a=this.writeBuffer[r].data;if(a&&(s+=wT(a)),r>0&&s>this.maxPayload)return this.writeBuffer.slice(0,r);s+=2}return this.writeBuffer}write(n,s,r){return this.sendPacket("message",n,s,r),this}send(n,s,r){return this.sendPacket("message",n,s,r),this}sendPacket(n,s,r,a){if(typeof s=="function"&&(a=s,s=void 0),typeof r=="function"&&(a=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:n,data:s,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const n=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),n()},r=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():n()}):this.upgrading?r():n()),this}onError(n){gi.priorWebsocketSuccess=!1,this.emitReserved("error",n),this.onClose("transport error",n)}onClose(n,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",n,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(n){const s=[];let r=0;const a=n.length;for(;r<a;r++)~this.transports.indexOf(n[r])&&s.push(n[r]);return s}};D0.protocol=C0;function KT(t,n="",s){let r=t;s=s||typeof location<"u"&&location,t==null&&(t=s.protocol+"//"+s.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=s.protocol+t:t=s.host+t),/^(https?|wss?):\/\//.test(t)||(typeof s<"u"?t=s.protocol+"//"+t:t="https://"+t),r=pf(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+n,r.href=r.protocol+"://"+i+(s&&s.port===r.port?"":":"+r.port),r}const qT=typeof ArrayBuffer=="function",UT=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,$0=Object.prototype.toString,GT=typeof Blob=="function"||typeof Blob<"u"&&$0.call(Blob)==="[object BlobConstructor]",YT=typeof File=="function"||typeof File<"u"&&$0.call(File)==="[object FileConstructor]";function ox(t){return qT&&(t instanceof ArrayBuffer||UT(t))||GT&&t instanceof Blob||YT&&t instanceof File}function Ic(t,n){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let s=0,r=t.length;s<r;s++)if(Ic(t[s]))return!0;return!1}if(ox(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ic(t.toJSON(),!0);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&Ic(t[s]))return!0;return!1}function WT(t){const n=[],s=t.data,r=t;return r.data=jf(s,n),r.attachments=n.length,{packet:r,buffers:n}}function jf(t,n){if(!t)return t;if(ox(t)){const s={_placeholder:!0,num:n.length};return n.push(t),s}else if(Array.isArray(t)){const s=new Array(t.length);for(let r=0;r<t.length;r++)s[r]=jf(t[r],n);return s}else if(typeof t=="object"&&!(t instanceof Date)){const s={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=jf(t[r],n));return s}return t}function VT(t,n){return t.data=gf(t.data,n),delete t.attachments,t}function gf(t,n){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<n.length)return n[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=gf(t[s],n);else if(typeof t=="object")for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=gf(t[s],n));return t}const QT=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],JT=5;var it;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(it||(it={}));class XT{constructor(n){this.replacer=n}encode(n){return(n.type===it.EVENT||n.type===it.ACK)&&Ic(n)?this.encodeAsBinary({type:n.type===it.EVENT?it.BINARY_EVENT:it.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let s=""+n.type;return(n.type===it.BINARY_EVENT||n.type===it.BINARY_ACK)&&(s+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(s+=n.nsp+","),n.id!=null&&(s+=n.id),n.data!=null&&(s+=JSON.stringify(n.data,this.replacer)),s}encodeAsBinary(n){const s=WT(n),r=this.encodeAsString(s.packet),a=s.buffers;return a.unshift(r),a}}function Lj(t){return Object.prototype.toString.call(t)==="[object Object]"}class lx extends xn{constructor(n){super(),this.reviver=n}add(n){let s;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(n);const r=s.type===it.BINARY_EVENT;r||s.type===it.BINARY_ACK?(s.type=r?it.EVENT:it.ACK,this.reconstructor=new ZT(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(ox(n)||n.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(n),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let s=0;const r={type:Number(n.charAt(0))};if(it[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===it.BINARY_EVENT||r.type===it.BINARY_ACK){const i=s+1;for(;n.charAt(++s)!=="-"&&s!=n.length;);const o=n.substring(i,s);if(o!=Number(o)||n.charAt(s)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(n.charAt(s+1)==="/"){const i=s+1;for(;++s&&!(n.charAt(s)===","||s===n.length););r.nsp=n.substring(i,s)}else r.nsp="/";const a=n.charAt(s+1);if(a!==""&&Number(a)==a){const i=s+1;for(;++s;){const o=n.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===n.length)break}r.id=Number(n.substring(i,s+1))}if(n.charAt(++s)){const i=this.tryParse(n.substr(s));if(lx.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,s){switch(n){case it.CONNECT:return Lj(s);case it.DISCONNECT:return s===void 0;case it.CONNECT_ERROR:return typeof s=="string"||Lj(s);case it.EVENT:case it.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&QT.indexOf(s[0])===-1);case it.ACK:case it.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ZT{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const s=VT(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const eO=Object.freeze(Object.defineProperty({__proto__:null,Decoder:lx,Encoder:XT,get PacketType(){return it},protocol:JT},Symbol.toStringTag,{value:"Module"}));function Xs(t,n,s){return t.on(n,s),function(){t.off(n,s)}}const tO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class T0 extends xn{constructor(n,s,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=s,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[Xs(n,"open",this.onopen.bind(this)),Xs(n,"packet",this.onpacket.bind(this)),Xs(n,"error",this.onerror.bind(this)),Xs(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...s){if(tO.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(s.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const r={type:it.EVENT,data:s};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const o=this.ids++,c=s.pop();this._registerAckCallback(o,c),r.id=o}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(n,s){var r;const a=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(a===void 0){this.acks[n]=s;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===n&&this.sendBuffer.splice(o,1);s.call(this,new Error("operation has timed out"))},a);this.acks[n]=(...o)=>{this.io.clearTimeoutFn(i),s.apply(this,[null,...o])}}emitWithAck(n,...s){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,i)=>{s.push((o,c)=>r?o?i(o):a(c):a(o)),this.emit(n,...s)})}_addToQueue(n){let s;typeof n[n.length-1]=="function"&&(s=n.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((a,...i)=>r!==this._queue[0]?void 0:(a!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(a)):(this._queue.shift(),s&&s(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!n||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:it.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,s)}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case it.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case it.EVENT:case it.BINARY_EVENT:this.onevent(n);break;case it.ACK:case it.BINARY_ACK:this.onack(n);break;case it.DISCONNECT:this.ondisconnect();break;case it.CONNECT_ERROR:this.destroy();const r=new Error(n.data.message);r.data=n.data.data,this.emitReserved("connect_error",r);break}}onevent(n){const s=n.data||[];n.id!=null&&s.push(this.ack(n.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const r of s)r.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const s=this;let r=!1;return function(...a){r||(r=!0,s.packet({type:it.ACK,id:n,data:a}))}}onack(n){const s=this.acks[n.id];typeof s=="function"&&(s.apply(this,n.data),delete this.acks[n.id])}onconnect(n,s){this.id=n,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:it.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const s=this._anyListeners;for(let r=0;r<s.length;r++)if(n===s[r])return s.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const s=this._anyOutgoingListeners;for(let r=0;r<s.length;r++)if(n===s[r])return s.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const r of s)r.apply(this,n.data)}}}function uo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}uo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),s=Math.floor(n*this.jitter*t);t=Math.floor(n*10)&1?t+s:t-s}return Math.min(t,this.max)|0};uo.prototype.reset=function(){this.attempts=0};uo.prototype.setMin=function(t){this.ms=t};uo.prototype.setMax=function(t){this.max=t};uo.prototype.setJitter=function(t){this.jitter=t};class yf extends xn{constructor(n,s){var r;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(s=n,n=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Vd(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((r=s.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new uo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=n;const a=s.parser||eO;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var s;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(s=this.backoff)===null||s===void 0||s.setMin(n),this)}randomizationFactor(n){var s;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(s=this.backoff)===null||s===void 0||s.setJitter(n),this)}reconnectionDelayMax(n){var s;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(s=this.backoff)===null||s===void 0||s.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new D0(this.uri,this.opts);const s=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const a=Xs(s,"open",function(){r.onopen(),n&&n()}),i=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),n?n(c):this.maybeReconnectOnOpen()},o=Xs(s,"error",i);if(this._timeout!==!1){const c=this._timeout,u=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),s.close()},c);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(a),this.subs.push(o),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(Xs(n,"ping",this.onping.bind(this)),Xs(n,"data",this.ondata.bind(this)),Xs(n,"error",this.onerror.bind(this)),Xs(n,"close",this.onclose.bind(this)),Xs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(s){this.onclose("parse error",s)}}ondecoded(n){ix(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,s){let r=this.nsps[n];return r?this._autoConnect&&!r.active&&r.connect():(r=new T0(this,n,s),this.nsps[n]=r),r}_destroy(n){const s=Object.keys(this.nsps);for(const r of s)if(this.nsps[r].active)return;this._close()}_packet(n){const s=this.encoder.encode(n);for(let r=0;r<s.length;r++)this.engine.write(s[r],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(n,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(a=>{a?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",a)):n.onreconnect()}))},s);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const Io={};function ln(t,n){typeof t=="object"&&(n=t,t=void 0),n=n||{};const s=KT(t,n.path||"/socket.io"),r=s.source,a=s.id,i=s.path,o=Io[a]&&i in Io[a].nsps,c=n.forceNew||n["force new connection"]||n.multiplex===!1||o;let u;return c?u=new yf(r,n):(Io[a]||(Io[a]=new yf(r,n)),u=Io[a]),s.query&&!n.query&&(n.query=s.queryKey),u.socket(s.path,n)}Object.assign(ln,{Manager:yf,Socket:T0,io:ln,connect:ln});const rt="https://yussman.net/",Qd=`${rt}api`,Hu=`${rt}api/goat`,At=`${rt}api/restaurant`,pn=`${rt}api/store`,hn=`${rt}api/register`,yr=`${rt}api/employee`,$t=`${rt}api/shopa1`,Tt=`${rt}api/shopa2`,Ot=`${rt}api/shopb`,Ft=`${rt}api/shopc`,Vt=`${rt}api/shopw`,ho=`${rt}api/credit`,Nt=`${rt}api/chinsali/restaurant`,jn=`${rt}api/chinsali/store`,fn=`${rt}api/chinsali/register`,wt=`${rt}api/chansa/restaurant`,gn=`${rt}api/chansa/store`,mn=`${rt}api/chansa/register`,cx=l.createContext(),nO=(t,n)=>{switch(n.type){case"SET_SUPPLIERS":return{suppliers:n.payload};default:return t}},sO=({children:t})=>{const[n,s]=l.useReducer(nO,{suppliers:null});return l.useEffect(()=>{ln(rt).on("suppliers",a=>{s({type:"SET_SUPPLIERS",payload:a})})},[]),e.jsx(cx.Provider,{value:[n.suppliers,s],children:t})};function De(t){return lo({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]})(t)}function rO({id:t,handleDelete:n}){const[s,r]=l.useState(!1),a=()=>r(!1),i=()=>r(!0),o=so();return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:i,children:e.jsx(De,{})}),e.jsxs(g,{show:s,onHide:a,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",onClick:()=>{n(t),a(),o("/goat")},children:"Yes"})]})]})]})}function aO({amount:t,id:n,handleUpdate:s,name:r}){const{user:a}=l.useContext(se),[i,o]=l.useState(!1),[c,u]=l.useState(""),[h,d]=l.useState(a.firstName),x=so(),j=()=>o(!1),v=()=>o(!0),f=p=>{p.preventDefault(),s(n,{collectionDate:c,paidBy:h,paid:!0}),x("/goat")};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"primary",onClick:v,children:"Pay"}),e.jsxs(g,{show:i,onHide:j,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:r})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:p=>f(p),children:[e.jsxs(g.Title,{children:["K ",t]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Collection Date"}),e.jsx(m.Control,{required:!0,type:"date",value:c,onChange:p=>u(p.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Paid By"}),e.jsx(m.Control,{autoFocus:!0,required:!0,type:"text",value:a.firstName,readOnly:!0,onChange:p=>d(p.target.value)})]}),e.jsx(L,{type:"submit",children:"Pay"})]})})]})]})}const iO=({handleDelete:t,handleUpdate:n})=>{const[s,r]=l.useState({}),[a,i]=l.useState(0),[o,c]=l.useState(0),[u,h]=l.useState(!0),[d]=l.useContext(cx),{user:x}=l.useContext(se);let{id:j}=In();l.useEffect(()=>{v(j)},[j]),l.useEffect(()=>{u||i(s.kgs.map(f=>f<20?f*15:f*25).reduce((f,p)=>f+p)),u||c(s.kgs.reduce((f,p)=>f+p))},[u,s]);const v=f=>{d!==null&&d.map(p=>{p._id===f&&(r(p),h(!1))})};if(d!==null)return e.jsxs("div",{children:[e.jsx(Oe,{to:"/goat",children:e.jsxs(L,{variant:"outline-secondary m-3",children:[e.jsx(PE,{}),"Back"]})}),u?e.jsx("div",{className:"text-center mt-5 pt-5",children:e.jsx(Mb,{variant:"light",className:"text-center",style:{width:"8rem",height:"8rem"}})}):e.jsx(X,{className:"mt-2",children:e.jsxs(Tn,{children:[e.jsx(Tn.Header,{as:"h2",children:s.name}),e.jsxs(Tn.Body,{children:[e.jsxs(Tn.Title,{children:["Total KGs : ",o]}),e.jsxs(Tn.Title,{children:["Total Amount : K ",a.toLocaleString()," "]}),e.jsxs(Tn.Text,{children:["Date : ",s.date]}),e.jsxs(Tn.Text,{children:["Collection Date : ",s.collectionDate]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx(aO,{id:j,amount:a,handleUpdate:n,name:s.name}),x!==null&&x.role==="admin"&&e.jsx(rO,{id:j,handleDelete:t})]})]})]})})]})};function Xe(t){return lo({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m7 17.013 4.413-.015 9.632-9.54c.378-.378.586-.88.586-1.414s-.208-1.036-.586-1.414l-1.586-1.586c-.756-.756-2.075-.752-2.825-.003L7 12.583v4.43zM18.045 4.458l1.589 1.583-1.597 1.582-1.586-1.585 1.594-1.58zM9 13.417l6.03-5.973 1.586 1.586-6.029 5.971L9 15.006v-1.589z"}},{tag:"path",attr:{d:"M5 21h14c1.103 0 2-.897 2-2v-8.668l-2 2V19H8.158c-.026 0-.053.01-.079.01-.033 0-.066-.009-.1-.01H5V5h6.847l2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2z"}}]})(t)}const oO=()=>{const[t,n]=l.useState("home"),[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState(0),[u]=l.useContext(cx);l.useEffect(()=>{document.title="Yussman - Goat"},[]),l.useEffect(()=>{u!==null&&r(u.map(j=>({...j,amount:j.kgs.map(v=>v<20?v*15:v*25)})))},[u]),l.useEffect(()=>{const j=s.map(v=>({...v,date:v.date=new Date(v.date)}));j.sort((v,f)=>f.date-v.date),j.map(v=>{const f=new Date(v.date);let p=f.getDate(),b=f.getMonth()+1;const k=f.getFullYear();p<10&&(p="0"+p),b<10&&(b="0"+b),v.date=`${k}-${b}-${p}`}),i(j)},[s]);async function h(j){A.post(Hu,j).then(()=>{})}const d=j=>{A.delete(Hu+"/"+j).then(()=>{}).catch(v=>{console.log(v.message),alert("Supplier nolonger exists")})},x=(j,v)=>{A.patch(Hu+"/"+j,v).then(()=>{}).catch(f=>{console.log(f.message),alert("Supplier nolonger exists")})};return l.useEffect(()=>{let j=0;s.map(v=>{v.paid===!1&&(j+=v.amount.reduce((f,p)=>f+p))}),c(j)},[s]),u===null?e.jsx("div",{className:"text-center mt-5 pt-5",children:e.jsx(Mb,{variant:"light",className:"text-center",style:{width:"8rem",height:"8rem"}})}):e.jsx("div",{children:e.jsxs(X,{className:"py-2",fluid:!0,children:[e.jsx(hT,{createNew:h,total:o}),e.jsxs(xv,{children:[e.jsx(Je,{path:"/",element:e.jsxs(mt,{id:"controlled-tab-example",activeKey:t,onSelect:j=>n(j),className:"mb-3",children:[e.jsx(Y,{eventKey:"home",title:"Home",children:e.jsxs(Q,{size:"sm",bordered:!0,className:"text-center text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"KGs"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Collection"}),e.jsx("th",{})]})}),e.jsx("tbody",{className:"table-group-divider",children:a.map(j=>j.paid===!1&&e.jsxs("tr",{children:[e.jsx("td",{children:j.date}),e.jsx("td",{children:j.name}),e.jsxs("td",{children:[a.length>0?j.kgs.reduce((v,f)=>v+f):"","Kgs"]}),e.jsxs("td",{children:["K",a.length>0?j.amount.reduce((v,f)=>v+f).toLocaleString():""]}),e.jsx("td",{children:j.collectionDate}),e.jsx("td",{children:e.jsx(Oe,{to:`/goat/details/${j._id}`,children:e.jsx(L,{variant:"outline-secondary",size:"sm",children:e.jsx(Xe,{})})})})]},j._id))})]})}),e.jsx(Y,{eventKey:"paid",title:"Paid",children:e.jsxs(Q,{size:"sm",bordered:!0,className:"text-center text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"KGs"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Collection"}),e.jsx("th",{children:"Paid By"})]})}),e.jsx("tbody",{className:"table-group-divider",children:a.map(j=>j.paid===!0&&e.jsxs("tr",{children:[e.jsx("td",{children:j.date}),e.jsx("td",{children:j.name}),e.jsx("td",{children:j>1?"":j.kgs.reduce((v,f)=>v+f)}),e.jsxs("td",{children:["K",j>1?"":j.amount.reduce((v,f)=>v+f).toLocaleString()]}),e.jsx("td",{children:j.collectionDate}),e.jsx("td",{children:j.paidBy})]},j._id))})]})})]})}),e.jsx(Je,{path:"/details/:id",element:e.jsx(iO,{handleDelete:d,handleUpdate:x})})]})]})})};function lO({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),[h,d]=l.useState(!1),x=()=>d(!1),j=()=>d(!0),v=()=>{s(""),a(""),o("")},f=p=>{p.preventDefault(),u(!0);const b={name:n.trim(),price:Number(r),section:i};A.post(`${At}/${t}/addtostock`,b).then(()=>{v(),x(),u(!1)}).catch(k=>{console.log(k),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:j,children:"New Product"}),e.jsxs(g,{show:h,onHide:()=>{x(),v()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:f,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:p=>s(p.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:p=>a(p.target.value)})]}),e.jsx(m.Label,{children:"Section"}),e.jsxs(m.Select,{className:"mb-3",required:!0,value:i,onChange:p=>o(p.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select section"}),e.jsx("option",{value:"drinks",children:"Drinks"}),e.jsx("option",{value:"food",children:"Food"}),e.jsx("option",{value:"bakery",children:"Bakery"})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:c?"Loading...":"Submit"})]})})]})]})}function Ku({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${At}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex mx-2  justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}function qu({id:t,stock:n}){const[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(!1);l.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[u,h]=l.useState(!1),d=()=>h(!1),x=()=>h(!0),j=()=>{r(""),i("")},v=f=>{f.preventDefault(),c(!0);const p={price:Number(s),name:a};A.post(`${At}/${t}/editname/${n._id}`,p).then(()=>{j(),d(),c(!1)}).catch(b=>{console.error(b),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:x,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:u,onHide:()=>{d()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:v,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}const ri=l.createContext(),cO=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},dO=({children:t})=>{const[n,s]=l.useReducer(cO,{shift:null}),[r,a]=l.useState({});l.useEffect(()=>{A.get(At).then(o=>{i(o.data)})},[]),l.useEffect(()=>{const o=ln(rt);return o.on("restaurant",c=>{s({type:"SET_SHIFT",payload:c})}),()=>{o.disconnect()}},[]);const i=o=>{if(o!==null){const c={};o.received&&Array.isArray(o.received)&&o.received.forEach(h=>{const d=h.code,x=h.amount;c[d]===void 0?c[d]=x:c[d]+=x});const u={...o,stock:o.stock.map(h=>{const d=h.code;return c[d]!==void 0?{...h,received:c[d]}:h})};u.stock.sort((h,d)=>h.name.localeCompare(d.name)),a(u)}};return l.useEffect(()=>{i(n.shift)},[n.shift]),e.jsx(ri.Provider,{value:{shift:r,dispatch:s},children:t})},Uu="deletestock";function uO(){const[t,n]=l.useState([]),[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState(0),[u,h]=l.useState(0),[d,x]=l.useState(0),[j,v]=l.useState(null),[f,p]=l.useState(""),[b,k]=l.useState(""),[N,E]=l.useState(""),[y,w]=l.useState(!1),D=l.useRef(null),{shift:C}=l.useContext(ri),{user:S}=l.useContext(se),T=$=>$.reduce((F,W)=>F+(W.ostock+W.received-W.damage-W.cstock)*W.price,0);l.useEffect(()=>{if(Object.keys(C).length!==0){const $=C.stock.filter(te=>te.section==="drinks"),F=C.stock.filter(te=>te.section==="food"),W=C.stock.filter(te=>te.section==="bakery");n($),r(F),i(W),c(T($)),h(T(F)),x(T(W))}},[C]),l.useEffect(()=>{D.current&&(D.current.focus(),D.current.select())},[j]);const B=$=>{v($);let F=t.find(W=>W._id===$);F||(F=s.find(W=>W._id===$)),F||(F=a.find(W=>W._id===$)),p(F.ostock.toString()),k(F.damage.toString()),E(F.cstock.toString())},P=($,F)=>{if($.preventDefault(),!F)return;if(!F||f<0||b<0||N<0){alert("Please ensure all values are non-negative.");return}w(!0);const W={ostock:Number(f),damage:Number(b),cstock:Number(N)};A.post(`${At}/${C._id}/editstock/${F}`,W).then(()=>{w(!1),p(""),k(""),E("");const te=[...t,...s,...a],G=te.findIndex(z=>z._id===F);if(G!==-1&&G<te.length-1){const z=te[G+1];v(z._id),p(z.ostock.toString()),k(z.damage.toString()),E(z.cstock.toString())}else v(null)}).catch(te=>{console.log(te),w(!1)})},R=()=>{v(null),p(""),k(""),E(""),w(!1)};return C===null?null:e.jsxs(m,{onSubmit:$=>P($,j),children:[S!==null&&S.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(lO,{id:C._id})}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),e.jsx("th",{style:{width:"8rem"},children:"Actions"})]})}),e.jsxs("tbody",{children:[t.map($=>e.jsxs("tr",{id:$.code,children:[e.jsx("td",{children:$.code}),e.jsx("td",{className:"text-capitalize",children:$.name}),e.jsxs("td",{children:["K",$.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:j===$._id?e.jsx(m.Control,{type:"number",size:"sm",readOnly:S.role!=="admin",value:f,className:"text-center",onChange:F=>p(F.target.value)}):$.ostock}),e.jsx("td",{className:$.received>0?"text-info":"",children:$.received}),e.jsx("td",{style:{width:"8rem"},children:j===$._id?e.jsx(m.Control,{type:"number",size:"sm",value:b,className:"text-center",onChange:F=>k(F.target.value)}):$.damage}),e.jsx("td",{style:{width:"8rem"},className:$.cstock<0?"text-danger":"",children:j===$._id?e.jsx(m.Control,{ref:D,type:"number",size:"sm",autoFocus:!0,value:N,className:"text-center",onChange:F=>E(F.target.value)}):$.cstock}),e.jsxs("td",{className:$.ostock+$.received-$.damage-$.cstock<0?"text-danger":$.ostock+$.received-$.damage-$.cstock===0?"text-muted":"",children:["K",(($.ostock+$.received-$.damage-$.cstock)*$.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:j===$._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(L,{size:"sm",disabled:y,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(L,{size:"sm",variant:"outline-danger",onClick:()=>R(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:"outline-secondary",onClick:()=>B($._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),S!==null&&S.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Ku,{endpoint:Uu,id:$._id,shiftId:C._id}),e.jsx(qu,{stock:$,id:C._id})]})]})})]},$.code)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:7,children:"Drinks Total"}),e.jsxs("td",{children:["K",o.toLocaleString()]}),e.jsx("td",{})]})]}),e.jsxs("tbody",{className:"table-group-divider",children:[s.map($=>e.jsxs("tr",{id:$.code,children:[e.jsx("td",{children:$.code}),e.jsx("td",{className:"text-capitalize",children:$.name}),e.jsxs("td",{children:["K",$.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:j===$._id?e.jsx(m.Control,{type:"number",size:"sm",readOnly:S.role!=="admin",value:f,className:"text-center",onChange:F=>p(F.target.value)}):$.ostock}),e.jsx("td",{className:$.received>0?"text-info":"",children:$.received}),e.jsx("td",{style:{width:"8rem"},children:j===$._id?e.jsx(m.Control,{type:"number",size:"sm",value:b,className:"text-center",onChange:F=>k(F.target.value)}):$.damage}),e.jsx("td",{style:{width:"8rem"},className:$.cstock<0?"text-danger":"",children:j===$._id?e.jsx(m.Control,{ref:D,type:"number",size:"sm",autoFocus:!0,value:N,className:"text-center",onChange:F=>E(F.target.value)}):$.cstock}),e.jsxs("td",{className:$.ostock+$.received-$.damage-$.cstock<0?"text-danger":$.ostock+$.received-$.damage-$.cstock===0?"text-muted":"",children:["K",(($.ostock+$.received-$.damage-$.cstock)*$.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:j===$._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(L,{size:"sm",disabled:y,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(L,{size:"sm",variant:"outline-danger",onClick:()=>R(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:"outline-secondary",onClick:()=>B($._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),S!==null&&S.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Ku,{endpoint:Uu,id:$._id,shiftId:C._id}),e.jsx(qu,{stock:$,id:C._id})]})]})})]},$.code)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:7,children:"Food Total"}),e.jsxs("td",{children:["K",u.toLocaleString()]}),e.jsx("td",{})]})]}),e.jsxs("tbody",{className:"table-group-divider",children:[a.map($=>e.jsxs("tr",{id:$.code,children:[e.jsx("td",{children:$.code}),e.jsx("td",{className:"text-capitalize",children:$.name}),e.jsxs("td",{children:["K",$.price>0&&$.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:j===$._id?e.jsx(m.Control,{type:"number",size:"sm",readOnly:S.role!=="admin",value:f,className:"text-center",onChange:F=>p(F.target.value)}):$.ostock}),e.jsx("td",{className:$.received>0?"text-info":"",children:$.received}),e.jsx("td",{style:{width:"8rem"},children:j===$._id?e.jsx(m.Control,{type:"number",size:"sm",value:b,className:"text-center",onChange:F=>k(F.target.value)}):$.damage}),e.jsx("td",{style:{width:"8rem"},className:$.cstock<0?"text-danger":"",children:j===$._id?e.jsx(m.Control,{ref:D,type:"number",size:"sm",autoFocus:!0,value:N,className:"text-center",onChange:F=>E(F.target.value)}):$.cstock}),e.jsxs("td",{className:$.ostock+$.received-$.damage-$.cstock<0?"text-danger":$.ostock+$.received-$.damage-$.cstock===0?"text-muted":"",children:["K",$.code>0&&(($.ostock+$.received-$.damage-$.cstock)*$.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:j===$._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(L,{size:"sm",disabled:y,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(L,{size:"sm",variant:"outline-danger",onClick:()=>R(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:"outline-secondary",onClick:()=>B($._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),S!==null&&S.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Ku,{endpoint:Uu,id:$._id,shiftId:C._id}),e.jsx(qu,{stock:$,id:C._id})]})]})})]},$.code)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:7,children:"Bakery Total"}),e.jsxs("td",{children:["K",d.toLocaleString()]}),e.jsx("td",{})]})]})]})]})}function hO({show:t,handleClose:n,result:s,id:r}){const[a,i]=l.useState({code:"",name:"",amount:""}),[o,c]=l.useState(!1);l.useEffect(()=>{s&&i({code:s.code,name:s.name,amount:""})},[s]);const u=j=>{const{name:v,value:f}=j.target;i(p=>({...p,[v]:f}))},d=fO(()=>{o||(c(!0),A.post(`${At}/${r}/addtoreceived`,a).then(()=>{n(),c(!1)}).catch(j=>{console.log(j),c(!1)}))},200),x=j=>{j.preventDefault(),d()};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:n,hidden:!0}),e.jsxs(g,{show:t,onHide:n,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Received"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:x,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{type:"number",autoComplete:"off",name:"code",value:a.code,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",name:"name",value:a.name,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Quantity"}),e.jsx(m.Control,{autoFocus:!0,type:"number",autoComplete:"off",name:"amount",value:a.amount,onChange:u,required:!0})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}function fO(t,n){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{t(...r)},n)}}function jd({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${At}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}const mO="deletereceived";function xO({activeTab:t}){const[n,s]=l.useState([]),[r,a]=l.useState([]),[i,o]=l.useState([]),[c,u]=l.useState(!1),[h,d]=l.useState(null),[x,j]=l.useState(""),[v,f]=l.useState(!1),[p,b]=l.useState(-1),{shift:k}=l.useContext(ri);l.useEffect(()=>{Object.keys(k).length!==0&&(s(k.received),a(k.stock),o(k.stock),f(!0))},[k]),l.useEffect(()=>{const C=S=>{const T=document.getElementById("searchInput"),B=document.getElementById("resultsList");T&&B&&!T.contains(S.target)&&!B.contains(S.target)&&u(!1)};return document.addEventListener("click",C),()=>{document.removeEventListener("click",C)}},[]);const N=C=>{const S=C.target.value.toLowerCase(),T=r.filter(B=>B.name.toLowerCase().includes(S)||B.code.toString().includes(S));o(T),u(!0),b(-1),u(!!S)},E=C=>{C.key==="ArrowDown"&&p<i.length-1?b(p+1):C.key==="ArrowUp"&&p>0?b(p-1):C.key==="Enter"&&p>=0&&(C.preventDefault(),y(i[p]))},y=C=>{d(C),u(!1),b(-1)},w=()=>{d(null),j(""),f(!0)},D=l.useCallback(()=>{const C=document.getElementById("searchInput");t==="received"&&C&&C.focus(),v&&t==="received"&&C&&(C.focus(),f(!1))},[t,v]);return l.useEffect(()=>{D()},[t,D]),l.useEffect(()=>{D()},[t,v,D]),e.jsxs(X,{children:[e.jsx("div",{className:"w-50",children:e.jsxs(m,{onSubmit:C=>C.preventDefault(),children:[e.jsxs(Ea,{className:"mb-3",children:[e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,placeholder:"Code",name:"search",id:"searchInput",onChange:C=>{N(C),j(C.target.value)},onKeyDown:E,value:x}),e.jsx(hO,{show:h!==null,result:h,handleClose:w,id:k._id})]}),c&&e.jsx("ul",{id:"resultsList",className:"list-group",style:{position:"absolute",zIndex:1,width:"50%",cursor:"pointer"},children:i.map((C,S)=>e.jsxs("li",{className:`list-group-item text-capitalize ${S===p?"active":""}`,onClick:()=>y(C),children:[C.code," - ",C.name]},C.code))})]})}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:n.map(C=>e.jsxs("tr",{id:C._id,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsx("td",{children:C.amount}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(jd,{endpoint:mO,id:C._id,shiftId:k._id})})]},C._id))})]})]})}function pO({shift:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),h=()=>s(!1),d=()=>s(!0),x=async j=>{j.preventDefault(),u(!0),await A.post(`${At}/${t._id}/addtocredit`,{description:r,amount:i}).then(()=>{a(""),o(""),h(),u(!1)}).catch(v=>{console.log(v),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:d,children:"New"}),e.jsxs(g,{show:n,onHide:()=>{h(),a(""),o("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Credit"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j=>x(j),children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Description"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:j=>o(j.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:c?"Loading...":"Submit"})]})})]})]})}const jO="deletecredit";function gO(){const[t,n]=l.useState([]),{shift:s}=l.useContext(ri);return l.useEffect(()=>{Object.keys(s).length!==0&&n(s.credit)},[s]),e.jsxs(X,{children:[e.jsx("div",{className:"d-flex justify-content-between py-2",children:e.jsx(pO,{shift:s})}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(r=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:r.description}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(jd,{endpoint:jO,id:r._id,shiftId:s._id})})]},Math.floor(Math.random()*1e5)))})]})]})}function yO({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(""),[h,d]=l.useState(!1),[x,j]=l.useState(!1),v=()=>j(!1),f=()=>j(!0),p=b=>{b.preventDefault(),d(!0);const k={name:n,driver:r,status:i,amount:c};A.post(`${At}/${t}/addtobus`,k).then(()=>{s(""),a(""),o(""),u(""),d(!1)}).catch(N=>{console.log(N),d(!1)}),v()};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:f,size:"sm",children:"New"}),e.jsxs(g,{show:x,onHide:v,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Bus"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:b=>p(b),children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Bus Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:b=>s(b.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Driver"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,value:r,onChange:b=>a(b.target.value)})]}),e.jsx(m.Label,{children:"Status"}),e.jsxs(m.Select,{className:"mb-3",value:i,onChange:b=>{o(b.target.value)},required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select an option"}),e.jsx("option",{value:"collected",children:"Collected"}),e.jsx("option",{value:"not collected",children:"Not Collected"})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:c,onChange:b=>u(b.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:h,children:h?"Loading...":"Submit"})]})})]})]})}function vO({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(!1),[c,u]=l.useState(!1),h=()=>u(!1),d=()=>u(!0),x=j=>{j.preventDefault(),o(!0);const v={name:n,amount:r};A.post(`${At}/${t}/addtotopup`,v).then(()=>{s(""),a(""),o(!1)}).catch(f=>{console.log(f),o(!1)}),h()};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:d,size:"sm",children:"New"}),e.jsxs(g,{show:c,onHide:h,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Topup"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j=>x(j),children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:j=>s(j.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}const SO="deletebus",bO="deletetopup";function CO(){const[t,n]=l.useState([]),[s,r]=l.useState([]),{shift:a}=l.useContext(ri);return l.useEffect(()=>{Object.keys(a).length!==0&&n(a.bus)},[a]),l.useEffect(()=>{Object.keys(a).length!==0&&r(a.topup)},[a]),e.jsx(X,{children:e.jsxs(ye,{children:[e.jsxs(q,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Busses"}),e.jsxs("h5",{children:["C Total: K"," ",t.reduce((i,o)=>o.status==="collected"?i+o.amount:i,0)]}),e.jsxs("h5",{children:["Not C Total: K"," ",t.reduce((i,o)=>o.status==="not collected"?i+o.amount:i,0)]}),e.jsx(yO,{id:a._id})]}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Driver"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(i=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:i.name}),e.jsx("td",{className:"text-capitalize",children:i.driver}),e.jsx("td",{className:"text-capitalize",children:i.status}),e.jsxs("td",{children:["K",i.amount]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(jd,{endpoint:SO,id:i._id,shiftId:a._id})})]},Math.floor(Math.random()*1e5)))})]})]}),e.jsxs(q,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Topup"}),e.jsxs("h5",{children:["Total: K ",s.reduce((i,o)=>i+o.amount,0)]}),e.jsx(vO,{id:a._id})]}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.map(i=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:i.name}),e.jsxs("td",{children:["K",i.amount]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(jd,{endpoint:bO,id:i._id,shiftId:a._id})})]},Math.floor(Math.random()*1e5)))})]})]})]})})}function NO({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${At}/${t}/addtocash`,{amount:n}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:u,size:"sm",children:"New"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function wO({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${At}/${t}/addtochange`,{amount:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:u,size:"sm",children:"New"}),e.jsxs(g,{show:i,onHide:c,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Change"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",autoFocus:!0,required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function Ej({endpoint:t,id:n,amount:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${At}/${n}/${t}/${s}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}const kO="deletecash",LO="deletechange";function EO(){const[t,n]=l.useState([]),[s,r]=l.useState([]),{shift:a}=l.useContext(ri),{user:i}=l.useContext(se);return l.useEffect(()=>{Object.keys(a).length!==0&&(n(a.cash),r(a.change))},[a]),e.jsx(X,{children:e.jsxs(ye,{children:[e.jsx(q,{children:i!==null&&i.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Cash"}),e.jsxs("h5",{children:["Total: K ",t.reduce((o,c)=>o+c,0).toLocaleString()]}),e.jsx(NO,{id:a._id})]}),e.jsx(Tn,{children:e.jsx(_e,{variant:"flush",children:t.map(o=>e.jsxs(_e.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",o.toLocaleString(),e.jsx(Ej,{endpoint:kO,id:a._id,amount:o})]},Math.floor(Math.random()*1e5)))})})]})}),e.jsxs(q,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Change"}),e.jsxs("h5",{children:["Total: K ",s.reduce((o,c)=>o+c,0).toLocaleString()]}),e.jsx(wO,{id:a._id})]}),e.jsx(Tn,{children:e.jsx(_e,{variant:"flush",children:s.map(o=>e.jsxs(_e.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",o.toLocaleString(),e.jsx(Ej,{endpoint:LO,id:a._id,amount:o})]},Math.floor(Math.random()*1e5)))})})]})]})})}function DO({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${At}/${t}/addcashier`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function $O({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${At}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function TO(){const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=()=>n(!1),i=()=>n(!0),o=c=>{c.preventDefault(),r(!0),A.post(`${At}/newshift`).then(()=>{a(),r(!1)}).catch(u=>{console.log(u),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(L,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(L,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading...":"Yes"})]})]})]})}function OO({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${At}/${t}/addshift`,{shift:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Shift"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsxs(m.Select,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Shift"}),e.jsx("option",{value:"day",children:"Day"}),e.jsx("option",{value:"night",children:"Night"})]})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function AO({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${At}/${t}/adddate`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function BO(){const[t,n]=l.useState([]),[s,r]=l.useState([]),[a,i]=l.useState(!0),{shift:o}=l.useContext(ri),{user:c}=l.useContext(se);let u=0,h=0,d=0;if(o!=null&&Object.keys(o).length>0){u=o.bus.filter(k=>k.status==="collected").reduce((k,N)=>k+N.amount,0),h=o.bus.filter(k=>k.status==="not collected").reduce((k,N)=>k+N.amount,0);const b=k=>(k.ostock+k.received-k.damage-k.cstock)*k.price;d=o.stock.reduce((k,N)=>k+b(N),0)}const x=l.useCallback(()=>{if(o!=null&&Object.keys(o).length>0){const b=o.cashier.length,k=o.acountant.length,N=o.date.length,E=o.shift.length,y=o.cash.reduce((w,D)=>w+D,0);b>0&&k>0&&N>0&&E>0&&y>0?i(!1):i(!0)}},[o]);l.useEffect(()=>{if(o!=null&&Object.keys(o).length>0){n(o.cash.reduce((N,E)=>N+E,0)+u+o.credit.reduce((N,E)=>N+E.amount,0)-o.change.reduce((N,E)=>N+E,0)-d);const b=[10082,10083,10084,10081,10098],k=o.stock.filter(N=>b.includes(N.code));r(k)}x()},[o,u,d,x]);const j=b=>{A.post(`${At}/${o._id}/removecashier`,{name:b.toLowerCase()}).then(()=>{x()})},v=()=>{A.post(`${At}/${o._id}/removeaccountant`).then(()=>{x()})},f=()=>{A.post(`${At}/${o._id}/deleteshift`).then(()=>{x()})},p=()=>{A.post(`${At}/${o._id}/deletedate`).then(()=>{x()})};return e.jsxs(X,{children:[o!=null&&Object.keys(o).length!==0&&e.jsxs(ye,{className:"mx-1",children:[e.jsxs(q,{className:"d-flex flex-column align-items-center border pt-3 me-1 ",children:[e.jsxs("p",{children:["Bus Not Collected: K",h.toLocaleString()]}),e.jsxs("p",{children:["Topup Total : K",o.topup.reduce((b,k)=>b+k.amount,0).toLocaleString()]}),e.jsx("hr",{className:" w-100 "}),!a&&c!==null&&c.role==="admin"&&e.jsxs("p",{children:["Cash : K",o.cash.reduce((b,k)=>b+k,0).toLocaleString()]}),e.jsxs("p",{children:["Change : K",o.change.reduce((b,k)=>b+k,0)]}),e.jsxs("p",{children:["Bus Collected: K",u.toLocaleString()]}),e.jsxs("p",{children:["Credit: K",o.credit.reduce((b,k)=>b+k.amount,0).toLocaleString()]}),c!==null&&c.role==="admin"&&e.jsxs("p",{children:["Sales Total : K",d.toLocaleString()]}),c!==null&&c.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:" w-100 "}),e.jsxs("p",{className:"display-6",children:["Result : K",e.jsx("span",{className:t<0?"text-danger":"",children:t.toLocaleString()})]})]})]}),e.jsxs(q,{className:"border pt-3 ms-1 ",children:[e.jsx("p",{className:"text-center text-muted ",children:"Double click on of the fields below to delete"}),e.jsxs("div",{className:"d-flex justify-content-around",children:[e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h4",{className:"me-1",children:"Date :"}),o.date.length>0?e.jsxs("h4",{onDoubleClick:p,style:{cursor:"pointer"},children:[" ",o.date]}):e.jsx(AO,{id:o._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h4",{children:"Shift :"}),o.shift.length>0?e.jsx("h4",{className:"ms-1 text-capitalize",onDoubleClick:f,style:{cursor:"pointer"},children:o.shift}):e.jsx(OO,{id:o._id})]})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex justify-content-evenly",children:[e.jsx("h5",{className:"d-flex align-items-center",children:"Cashiers : "}),o.cashier.map(b=>e.jsx("h6",{className:"pt-1 prevent-select text-capitalize ",style:{cursor:"pointer"},onDoubleClick:()=>j(b),children:b},b)),e.jsx(DO,{id:o._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h5",{children:"Accountant : "}),o.acountant.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>v(),children:o.acountant})}):e.jsx($O,{id:o._id})]}),e.jsx("div",{className:"d-flex justify-content-center mt-5 ",children:!a&&c!==null&&c.role==="admin"&&e.jsx(TO,{id:o._id})})]})]}),e.jsxs(ye,{className:"mx-1",children:[e.jsx(q,{className:"border mt-2  py-2",children:s&&s.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("h6",{className:"text-center",children:["Black Coffee :"," ",e.jsx("span",{children:s[0].ostock+s[0].received-s[0].cstock})]}),e.jsxs("h6",{className:"text-center",children:["Black Tea :"," ",e.jsx("span",{children:s[1].ostock+s[1].received-s[1].cstock})]}),e.jsxs("h6",{className:"text-center",children:["Coffee Milk :"," ",e.jsx("span",{children:s[2].ostock+s[2].received-s[2].cstock})]}),e.jsxs("h6",{className:"text-center",children:["Milk Tea :"," ",e.jsx("span",{children:s[4].ostock+s[4].received-s[4].cstock})]}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-center",children:["Total :",e.jsx("span",{children:s[0].ostock+s[0].received-s[0].cstock+(s[1].ostock+s[1].received-s[1].cstock)+(s[2].ostock+s[2].received-s[2].cstock)+(s[4].ostock+s[4].received-s[4].cstock)})]}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-center",children:["Cups :"," ",e.jsx("span",{children:s[3].ostock+s[3].received-(s[3].damage+s[3].cstock)})]})]})}),e.jsx(q,{className:"mt-2 mx-1"})]})]})}function _O({shiftId:t,fetchData:n,disableDeleteBtn:s,setDisableDeleteBtn:r}){const[a,i]=l.useState(!1),[o,c]=l.useState(!1),u=()=>i(!1),h=()=>i(!0),d=()=>{c(!0),A.delete(`${At}/${t}`).then(()=>{window.location.reload(),u(),c(!1)}).catch(x=>{console.error(x),c(!1),u()}),setTimeout(()=>{n(),c(!1),u()},50)};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:()=>{h(),r(!0)},disabled:s,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:a,onHide:u,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:o,onClick:()=>{d()},children:o?"Deleting...":"Yes"})]})]})]})}function RO(){const t=new Date,n=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getFullYear(),[r,a]=l.useState(null),[i,o]=l.useState(!1),[c,u]=l.useState(`/${s}/${n}`),[h,d]=l.useState(0),x=l.useCallback(()=>{A.get(`${At}/paginatedshifts${c}`).then(f=>{if(a(f.data),o(!1),f.data.shifts){const p=f.data.shifts.reduce((b,k)=>b+k.cash.reduce((N,E)=>N+E,0),0);d(p.toFixed(2))}}).catch(f=>{console.log(f)})},[c]);l.useEffect(()=>{x()},[c,x]),l.useEffect(()=>{r!==null&&r.current&&u(`/${r.current}`)},[r]);let j=null;r!==null&&(j=r.shifts.sort((f,p)=>new Date(p.date)-new Date(f.date)));const v=f=>{const p=f.split("/")[2],b=p<10?`0${p}`:p,k=`/${f.split("/")[1]}/${b}`;u(k)};return r===null?e.jsx("div",{children:"Loading..."}):e.jsxs(X,{children:[e.jsx("div",{className:"d-flex justify-content-end"}),e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx(yn,{size:"sm",children:r.distinctYearsMonths.map((f,p)=>{const b=f.month.toString().padStart(2,"0"),k=`/${f.year}/${b}`;return e.jsx(yn.Item,{onClick:()=>v(`/${f.year}/${f.month}`),active:k===c,children:`${f.year}/${f.month}`},p)})})}),e.jsxs(Q,{bordered:!0,className:"text-center text-capitalize",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date"}),e.jsx("th",{style:{width:"15%"},children:"Shift"}),e.jsx("th",{style:{width:"15%"},children:"Accountant"}),e.jsx("th",{children:"Cashiers"}),e.jsx("th",{style:{width:"15%"},children:"Cash"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsxs("tbody",{className:"table-group-divider",children:[j.map(f=>e.jsxs("tr",{children:[e.jsx("td",{children:f.date}),e.jsx("td",{children:f.shift}),e.jsx("td",{children:f.acountant}),e.jsx("td",{className:"d-flex flex-row gap-1 justify-content-center",children:f.cashier.map((p,b)=>e.jsxs("span",{className:"d-block",children:[p," "]},b))}),e.jsxs("td",{children:["K",f.cash.reduce((p,b)=>p+b,0).toLocaleString()]}),e.jsx("td",{children:f.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[f.status==="previous"&&e.jsx(Oe,{to:`/restaurant/${f._id}`,style:{textDecoration:"none"},target:"_blank",children:e.jsx(L,{variant:"outline-primary me-1",size:"sm",children:"V"})}),f.status==="current"&&e.jsx(_O,{shiftId:f._id,fetchData:x,disableDeleteBtn:i,setDisableDeleteBtn:o})]})]},f._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3}),e.jsx("th",{children:"Total"}),e.jsxs("td",{children:["K",Number(h).toLocaleString()]}),e.jsx("td",{colSpan:2})]})]})]})]})}function IO(){const[t,n]=l.useState("stock"),{user:s}=l.useContext(se);l.useEffect(()=>{document.title="Yussman - Restaurant"},[]);const r=i=>{n(i)},a=()=>{const i=document.getElementById("searchInput");i&&i.focus()};return e.jsx(e.Fragment,{children:e.jsx(X,{fluid:!0,className:"py-3",children:e.jsxs(mt,{activeKey:t,onSelect:r,id:"restaurant",className:"mb-3",justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsx(uO,{})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsx(xO,{activeTab:t,onModalClose:a})}),e.jsx(Y,{eventKey:"credit",title:"Credit",children:e.jsx(gO,{})}),e.jsx(Y,{eventKey:"busses",title:"Busses",children:e.jsx(CO,{})}),e.jsx(Y,{eventKey:"cash",title:"Cash / Change",children:e.jsx(EO,{})}),e.jsx(Y,{eventKey:"final",title:"Final",children:e.jsx(BO,{})}),s!==null&&s.role==="admin"&&e.jsx(Y,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(RO,{})})]})})})}var FO=({as:t="div",...n},s)=>e.jsx(t,{...n,ref:s}),PO=l.forwardRef(FO),MO="https://challenges.cloudflare.com/turnstile/v0/api.js",dx="cf-turnstile-script",zO="cf-turnstile",ux="onloadTurnstileCallback",O0=t=>!!document.getElementById(t),HO=({render:t="explicit",onLoadCallbackName:n=ux,scriptOptions:{nonce:s="",defer:r=!0,async:a=!0,id:i="",appendTo:o,onError:c,crossOrigin:u=""}={}})=>{let h=i||dx;if(O0(h))return;let d=document.createElement("script");d.id=h,d.src=`${MO}?onload=${n}&render=${t}`,!document.querySelector(`script[src="${d.src}"]`)&&(d.defer=!!r,d.async=!!a,s&&(d.nonce=s),u&&(d.crossOrigin=u),c&&(d.onerror=c,delete window[n]),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(d))},_a={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function KO(t){if(t!=="invisible"&&t!=="interactionOnly")return t}function qO(t=dx){let[n,s]=l.useState(!1);return l.useEffect(()=>{let r=()=>{O0(t)&&s(!0)},a=new MutationObserver(r);return a.observe(document,{childList:!0,subtree:!0}),r(),()=>{a.disconnect()}},[t]),n}var ll="unloaded",A0,UO=new Promise((t,n)=>{A0={resolve:t,reject:n},ll==="ready"&&t(void 0)}),GO=(t=ux)=>(ll==="unloaded"&&(ll="loading",window[t]=()=>{A0.resolve(),ll="ready",delete window[t]}),UO),B0=l.forwardRef((t,n)=>{let{scriptOptions:s,options:r={},siteKey:a,onWidgetLoad:i,onSuccess:o,onExpire:c,onError:u,onBeforeInteractive:h,onAfterInteractive:d,onUnsupported:x,onTimeout:j,onLoadScript:v,id:f,style:p,as:b="div",injectScript:k=!0,...N}=t,E=r.size,y=l.useCallback(()=>typeof E>"u"?{}:r.execution==="execute"?_a.invisible:r.appearance==="interaction-only"?_a.interactionOnly:_a[E],[r.execution,E,r.appearance]),[w,D]=l.useState(y()),C=l.useRef(null),[S,T]=l.useState(!1),B=l.useRef(),P=l.useRef(!1),R=f||zO,$=(s==null?void 0:s.id)||dx,F=qO($),W=(s==null?void 0:s.onLoadCallbackName)||ux,te=r.appearance||"always",G=l.useMemo(()=>({sitekey:a,action:r.action,cData:r.cData,callback:I=>{P.current=!0,o==null||o(I)},"error-callback":u,"expired-callback":c,"before-interactive-callback":h,"after-interactive-callback":d,"unsupported-callback":x,theme:r.theme||"auto",language:r.language||"auto",tabindex:r.tabIndex,"response-field":r.responseField,"response-field-name":r.responseFieldName,size:KO(E),retry:r.retry||"auto","retry-interval":r.retryInterval||8e3,"refresh-expired":r.refreshExpired||"auto","refresh-timeout":r.refreshTimeout||"auto",execution:r.execution||"render",appearance:r.appearance||"always","feedback-enabled":r.feedbackEnabled||!0,"timeout-callback":j}),[r.action,r.appearance,r.cData,r.execution,r.language,r.refreshExpired,r.responseField,r.responseFieldName,r.retry,r.retryInterval,r.tabIndex,r.theme,r.feedbackEnabled,r.refreshTimeout,a,E]),z=l.useCallback(()=>typeof window<"u"&&!!window.turnstile,[]);return l.useEffect(function(){k&&!S&&HO({onLoadCallbackName:W,scriptOptions:{...s,id:$}})},[k,S,s,$]),l.useEffect(function(){ll!=="ready"&&GO(W).then(()=>T(!0)).catch(console.error)},[]),l.useEffect(function(){if(!C.current||!S)return;let I=!1;return(async()=>{if(I||!C.current)return;let M=window.turnstile.render(C.current,G);B.current=M,B.current&&(i==null||i(B.current))})(),()=>{I=!0,B.current&&(window.turnstile.remove(B.current),P.current=!1)}},[R,S,G]),l.useImperativeHandle(n,()=>{let{turnstile:I}=window;return{getResponse(){if(!(I!=null&&I.getResponse)||!B.current||!z()){console.warn("Turnstile has not been loaded");return}return I.getResponse(B.current)},async getResponsePromise(M=3e4,fe=100){return new Promise((je,Ae)=>{let ce,oe=async()=>{if(P.current&&window.turnstile&&B.current)try{let Pe=window.turnstile.getResponse(B.current);return ce&&clearTimeout(ce),Pe?je(Pe):Ae(new Error("No response received"))}catch(Pe){return ce&&clearTimeout(ce),console.warn("Failed to get response",Pe),Ae(new Error("Failed to get response"))}ce||(ce=setTimeout(()=>{ce&&clearTimeout(ce),Ae(new Error("Timeout"))},M)),await new Promise(Pe=>setTimeout(Pe,fe)),await oe()};oe()})},reset(){if(!(I!=null&&I.reset)||!B.current||!z()){console.warn("Turnstile has not been loaded");return}r.execution==="execute"&&D(_a.invisible);try{P.current=!1,I.reset(B.current)}catch(M){console.warn(`Failed to reset Turnstile widget ${B}`,M)}},remove(){if(!(I!=null&&I.remove)||!B.current||!z()){console.warn("Turnstile has not been loaded");return}D(_a.invisible),P.current=!1,I.remove(B.current),B.current=null},render(){if(!(I!=null&&I.render)||!C.current||!z()||B.current){console.warn("Turnstile has not been loaded or container not found");return}let M=I.render(C.current,G);return B.current=M,B.current&&(i==null||i(B.current)),r.execution!=="execute"&&D(E?_a[E]:{}),M},execute(){if(r.execution!=="execute"){console.warn('Execution mode is not set to "execute"');return}if(!(I!=null&&I.execute)||!C.current||!B.current||!z()){console.warn("Turnstile has not been loaded or container not found");return}I.execute(C.current,G),D(E?_a[E]:{})},isExpired(){return!(I!=null&&I.isExpired)||!B.current||!z()?(console.warn("Turnstile has not been loaded"),!1):I.isExpired(B.current)}}},[B,r.execution,E,G,C,z,S,i]),l.useEffect(()=>{F&&!S&&window.turnstile&&T(!0)},[S,F]),l.useEffect(()=>{D(y())},[r.execution,E,te]),l.useEffect(()=>{!F||typeof v!="function"||v()},[F]),e.jsx(PO,{ref:C,as:b,id:R,style:{...w,...p},...N})});B0.displayName="Turnstile";function YO(){l.useEffect(()=>{document.title="Yussman - Login"},[]);const[t,n]=l.useState(""),[s,r]=l.useState(""),[a,i]=l.useState(null),[o,c]=l.useState(!1),[u,h]=l.useState(""),{dispatch:d}=l.useContext(se),x=j=>{if(j.preventDefault(),!u){i("Please complete the CAPTCHA");return}c(!0),A.post(`${Qd}/users/login`,{number:t,password:s,turnstileToken:u}).then(v=>{d({type:"LOGIN",payload:v.data.user}),localStorage.setItem("accessToken",v.data.accessToken),localStorage.setItem("user",JSON.stringify(v.data.user)),c(!1)}).catch(v=>{i(v.response.data.msg),c(!1)})};return e.jsx(X,{children:e.jsxs("div",{className:"w-50 mx-auto mt-5 border p-5 rounded ",children:[e.jsx("h2",{className:"text-center",children:"Login"}),e.jsxs("p",{className:"text-danger",children:[" ",a]}),e.jsxs(m,{onSubmit:x,children:[e.jsxs(m.Group,{className:"mb-3",controlId:"number",children:[e.jsx(m.Label,{children:"Number"}),e.jsx(m.Control,{type:"text",placeholder:"Enter  number",required:!0,autoFocus:!0,minLength:10,maxLength:10,value:t,autoComplete:"off",onChange:j=>n(j.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",controlId:"password",children:[e.jsx(m.Label,{children:"Password"}),e.jsx(m.Control,{type:"password",placeholder:"Enter password",required:!0,value:s,onChange:j=>r(j.target.value)})]}),e.jsx("div",{className:"mb-3",children:e.jsx(B0,{siteKey:"0x4AAAAAAA1VaDipmssLJgnP",onVerify:j=>h(j)})}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Login"})]})]})})}function WO({setUsers:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(""),[h,d]=l.useState(""),[x,j]=l.useState(!1),[v,f]=l.useState(""),p=localStorage.getItem("accessToken"),[b,k]=l.useState(!1),N=()=>k(!1),E=()=>k(!0),y=()=>{s(""),a(""),o(""),u(""),d("")},w=D=>{D.preventDefault(),j(!0),f(""),A.post(`${Qd}/users/signup`,{firstName:n.toLowerCase(),lastName:r.toLowerCase(),number:i,password:c,role:h},{headers:{authorization:`Bearer ${p}`}}).then(C=>{t(C.data.users),y(),N(),j(!1),f("")}).catch(C=>{f(C.response.data.msg),console.log(C.response.data.msg),j(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:E,children:"Add User"}),e.jsxs(g,{show:b,onHide:()=>{N(),y()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New User"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:w,children:[v&&e.jsx("p",{className:"text-danger",children:v}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"First Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:D=>s(D.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Last Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,value:r,onChange:D=>a(D.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Number"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,value:i,minLength:10,maxLength:10,onChange:D=>o(D.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Password"}),e.jsx(m.Control,{type:"password",autoComplete:"off",required:!0,value:c,minLength:5,onChange:D=>u(D.target.value)})]}),e.jsx(m.Label,{children:"Role"}),e.jsxs(m.Select,{className:"mb-3",required:!0,value:h,onChange:D=>d(D.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select role"}),e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"admin",children:"Admin"})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:x,children:x?"Loading...":"Submit"})]})})]})]})}function VO({id:t,getUsers:n}){const[s,r]=l.useState(!1),[a,i]=l.useState(!1),o=localStorage.getItem("accessToken"),c=()=>r(!1),u=()=>r(!0),h=()=>{i(!0),A.delete(`${Qd}/users/${t}`,{headers:{authorization:`Bearer ${o}`}}).then(()=>{n(),c(),i(!1)}).catch(d=>{console.log(d),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:s,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:a,onClick:()=>{h()},children:a?"Deleting...":"Yes"})]})]})]})}function QO(){const[t,n]=l.useState([]);l.useEffect(()=>{document.title="Yussman - Users"},[]);const s=l.useCallback(()=>{const r=localStorage.getItem("accessToken");A.get(`${Qd}/users`,{headers:{authorization:`Bearer ${r}`}}).then(a=>{n(a.data.users)}).catch(a=>{console.log(a.response.data.msg)})},[]);return l.useEffect(()=>{s()},[s]),e.jsxs(X,{children:[e.jsx("h2",{className:"text-center my-2 ",children:"Users Manager"}),e.jsx("div",{className:"d-flex justify-content-end align-items-center my-2",children:e.jsx(WO,{setUsers:n})}),e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Number"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Actons"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.length>0&&t.map(r=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-capitalize",children:r.firstName}),e.jsx("td",{className:"text-capitalize",children:r.lastName}),e.jsx("td",{children:r.number}),e.jsx("td",{className:"text-capitalize",children:r.role}),e.jsx("td",{className:"d-flex justify-content-center",children:r.number!=="0972278488"&&r.number!=="0967162444"&&e.jsx(VO,{id:r._id,getUsers:s})})]},r._id))})]})]})}function Gu({id:t,stock:n,getShift:s}){const[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(""),[h,d]=l.useState(!1),{user:x}=l.useContext(se);l.useEffect(()=>{Object.keys(n).length>0&&(a(n.ostock),o(n.damage),u(n.cstock))},[n]);const[j,v]=l.useState(!1),f=()=>v(!1),p=()=>v(!0),b=()=>{a(""),o(""),u("")},k=N=>{N.preventDefault(),d(!0);const E={ostock:Number(r),damage:Number(i),cstock:Number(c)};A.post(`${At}/${t}/editstock/${n._id}`,E).then(()=>{b(),f(),d(!1),s()}).catch(y=>{console.log(y),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:p,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:j,onHide:()=>{f()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:k,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Opening Stock"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,readOnly:x.role!=="admin",onChange:N=>a(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Damage"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:N=>o(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Closing Stock"}),e.jsx(m.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:c,onChange:N=>u(N.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:h,children:h?"Loading...":"Submit"})]})})]})]})}const JO=()=>{const[t,n]=l.useState({}),[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState([]),[u,h]=l.useState([]),[d,x]=l.useState([]),[j,v]=l.useState([]),{id:f}=In(),{user:p}=l.useContext(se);let b=0,k=0;if(Object.keys(t).length>0){b=t.bus.filter(D=>D.status==="collected").reduce((D,C)=>D+C.amount,0);const w=D=>(D.ostock+D.received-D.damage-D.cstock)*D.price;k=s.stock.reduce((D,C)=>D+w(C),0)}l.useEffect(()=>{document.title="Yussman  - Restaurant - Details"},[]);const N=l.useCallback(()=>{A.get(`${At}/${f}`).then(w=>{n(w.data),E(w.data)}).catch(w=>{console.log(w)})},[f]);l.useEffect(()=>{N()},[N]),l.useEffect(()=>{Object.keys(t).length>0&&(x(t.cash.reduce((w,D)=>w+D,0)+b+t.credit.reduce((w,D)=>w+D.amount,0)-t.change.reduce((w,D)=>w+D,0)-k),v(t.received))},[t,b,k]);const E=w=>{if(w!==null){const D={};w.received&&Array.isArray(w.received)&&w.received.forEach(S=>{const T=S.code,B=S.amount;D[T]===void 0?D[T]=B:D[T]+=B});const C={...w,stock:w.stock.map(S=>{const T=S.code;return D[T]!==void 0?{...S,received:D[T]}:S})};C.stock.sort((S,T)=>S.name.localeCompare(T.name)),r(C)}};l.useEffect(()=>{if(Object.keys(t).length!==0){const w=s.stock.filter(S=>S.section==="drinks"),D=s.stock.filter(S=>S.section==="food"),C=s.stock.filter(S=>S.section==="bakery");i(w),c(D),h(C)}},[s,t]);const y=w=>w.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return Object.keys(t).length===0?null:e.jsxs(X,{fluid:"xxl",children:[e.jsxs("div",{className:"d-flex justify-content-between mt-3 mx-3 text-capitalize",children:[e.jsxs("p",{children:["Date : ",t.date]}),e.jsxs("p",{children:["Shift : ",t.shift]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("p",{children:"Cashiers : "}),t.cashier.map(w=>e.jsx("p",{className:"mx-2 ",children:w},Math.floor(Math.random()*1e4)))]}),e.jsxs("p",{children:["Accountant : ",t.acountant]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between mx-3",children:[e.jsxs("p",{children:["Cash : K",y(t.cash.reduce((w,D)=>w+D,0))]}),e.jsxs("p",{children:["Change : K",y(t.change.reduce((w,D)=>w+D,0))]}),e.jsxs("p",{children:["Bus : K",y(b)]}),e.jsxs("p",{children:["Credit : K",y(t.credit.reduce((w,D)=>w+D.amount,0))]}),e.jsxs("p",{children:["Sales : K",y(k)]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("p",{className:"display-6 text-center ",children:["Result : K",e.jsx("span",{className:d<0?"text-danger":"",children:y(d)})]})}),e.jsx("hr",{}),e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsxs(Q,{className:"text-center mt-3",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),p&&p.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:a.map(w=>e.jsxs("tr",{id:w.code,children:[e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsxs("td",{children:["K",w.price]}),e.jsx("td",{children:w.ostock}),e.jsx("td",{className:w.received>0?"text-info":"",children:w.received}),e.jsx("td",{children:w.damage}),e.jsx("td",{className:w.cstock<0?"text-danger":"",children:w.cstock}),e.jsxs("td",{className:w.ostock+w.received-w.damage-w.cstock<0?"text-danger":"",children:["K",y((w.ostock+w.received-w.damage-w.cstock)*w.price)]}),p&&p.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Gu,{id:f,stock:w,getShift:N})})]},w.code))}),e.jsx("tbody",{className:"table-group-divider",children:o.map(w=>e.jsxs("tr",{id:w.code,children:[e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsxs("td",{children:["K",w.price]}),e.jsx("td",{children:w.ostock}),e.jsx("td",{className:w.received>0?"text-info":"",children:w.received}),e.jsx("td",{children:w.damage}),e.jsx("td",{className:w.cstock<0?"text-danger":"",children:w.cstock}),e.jsxs("td",{className:w.ostock+w.received-w.damage-w.cstock<0?"text-danger":"",children:["K",y((w.ostock+w.received-w.damage-w.cstock)*w.price)]}),p&&p.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Gu,{id:f,stock:w,getShift:N})})]},w.code))}),e.jsx("tbody",{className:"table-group-divider",children:u.map(w=>e.jsxs("tr",{id:w.code,children:[e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsxs("td",{children:["K",w.price]}),e.jsx("td",{children:w.ostock}),e.jsx("td",{className:w.received>0?"text-info":"",children:w.received}),e.jsx("td",{children:w.damage}),e.jsx("td",{className:w.cstock<0?"text-danger":"",children:w.cstock}),e.jsxs("td",{className:w.ostock+w.received-w.damage-w.cstock<0?"text-danger":"",children:["K",y((w.ostock+w.received-w.damage-w.cstock)*w.price)]}),p&&p.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Gu,{id:f,stock:w,getShift:N})})]},w.code))})]})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsxs(Q,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:j.map(w=>e.jsxs("tr",{id:w._id,children:[e.jsx("td",{children:w.code}),e.jsx("td",{className:"text-capitalize",children:w.name}),e.jsx("td",{children:w.amount})]},w._id))})]})}),e.jsx(Y,{eventKey:"busses",title:"Busses",children:e.jsxs(ye,{children:[e.jsxs(q,{children:[e.jsx("h3",{className:"text-center",children:"Busses"}),e.jsxs(Q,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Bus Name"}),e.jsx("th",{children:"Driver"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.bus.map(w=>e.jsxs("tr",{children:[e.jsx("td",{children:w.name}),e.jsx("td",{children:w.driver}),e.jsx("td",{children:w.status}),e.jsxs("td",{children:["K",w.amount]})]},w._id))})]})]}),e.jsxs(q,{children:[e.jsx("h3",{className:"text-center",children:"Topup"}),e.jsxs(Q,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.topup.map(w=>e.jsxs("tr",{children:[e.jsx("td",{children:w.name}),e.jsxs("td",{children:["K",w.amount]})]},w._id))})]})]})]})}),e.jsx(Y,{eventKey:"credit",title:"Credit",children:e.jsxs(Q,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.credit.map(w=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:w.description}),e.jsxs("td",{children:["K",w.amount.toLocaleString()]})]},Math.floor(Math.random()*1e5)))})]})})]})]})},ai=l.createContext(),XO=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},ZO=({children:t})=>{const[n,s]=l.useReducer(XO,{shift:null}),[r,a]=l.useState({});l.useEffect(()=>{A.get(pn).then(o=>{i(o.data)})},[]),l.useEffect(()=>{ln(rt).on("store",c=>{s({type:"SET_SHIFT",payload:c})})},[]);const i=o=>{if(o!==null){const c={},u={};o.received&&Array.isArray(o.received)&&o.received.forEach(d=>{const{code:x,quantity:j}=d;c[x]=(c[x]||0)+j}),o.issued&&Array.isArray(o.issued)&&o.issued.forEach(d=>{const{code:x,quantity:j}=d;u[x]=(u[x]||0)+j});let h={...o,stock:o.stock.map(d=>{const{code:x,ostock:j,damage:v}=d,f=c[x]||0,p=u[x]||0,b=j+f-v-p;return{...d,received:f,issued:p,cstock:b}})};h.stock.sort((d,x)=>d.name.localeCompare(x.name)),a(h)}};return l.useEffect(()=>{i(n.shift)},[n.shift]),r===null?null:e.jsx(ai.Provider,{value:{storeShift:r,dispatch:s},children:t})};function eA({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),[h,d]=l.useState(!1),x=()=>d(!1),j=()=>d(!0),v=()=>{s(""),a(""),o("")},f=p=>{p.preventDefault(),u(!0);const b={name:n,price:Number(r),section:i};A.post(`${pn}/${t}/addtostock`,b).then(()=>{v(),x(),u(!1)}).catch(k=>{console.log(k),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:j,children:"New Product"}),e.jsxs(g,{show:h,onHide:()=>{x(),v()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:f,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:p=>s(p.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:p=>a(p.target.value)})]}),e.jsx(m.Label,{children:"Section"}),e.jsxs(m.Select,{className:"mb-3",required:!0,value:i,onChange:p=>o(p.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select section"}),e.jsx("option",{value:"drinks",children:"Drinks"}),e.jsx("option",{value:"food",children:"Food"}),e.jsx("option",{value:"other",children:"Other"}),e.jsx("option",{value:"shopA1",children:"Shop A1"}),e.jsx("option",{value:"shopA2",children:"Shop A2"})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:c?"Loading...":"Submit"})]})})]})]})}function hx({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.post(`${pn}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}function tA({id:t,stock:n}){const[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(!1);l.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[u,h]=l.useState(!1),d=()=>h(!1),x=()=>h(!0),j=()=>{r(""),i("")},v=f=>{f.preventDefault(),c(!0);const p={price:Number(s),name:a};A.post(`${pn}/${t}/updatename/${n._id}`,p).then(()=>{j(),d(),c(!1)}).catch(b=>{console.error(b),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:x,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:u,onHide:()=>{d()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Price or Name"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:v,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}function nA({id:t,stock:n}){const[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(!1),{user:u}=l.useContext(se);l.useEffect(()=>{Object.keys(n).length>0&&(r(n.ostock),i(n.damage))},[n]);const[h,d]=l.useState(!1),x=()=>d(!1),j=()=>d(!0),v=()=>{r(""),i("")},f=p=>{p.preventDefault(),c(!0);const b={ostock:Number(s),damage:Number(a)};A.post(`${pn}/${t}/updatestock/${n._id}`,b).then(()=>{v(),x(),c(!1)}).catch(k=>{console.error(k),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:j,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:h,onHide:()=>{x()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit OStock or Damage"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:f,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"O Stock"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:s,readOnly:u.role!=="admin",onChange:p=>r(p.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Damage"}),e.jsx(m.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:p=>i(p.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}function sA(){const[t,n]=l.useState([]),[s,r]=l.useState(1),a=70,{storeShift:i}=l.useContext(ai),{user:o}=l.useContext(se),c=s*a,u=c-a;let h;return Object.keys(t).length!==0&&(h=t.slice(u,c)),l.useEffect(()=>{if(Object.keys(i).length!==0){const d=i.stock.filter(p=>p.section==="drinks"),x=i.stock.filter(p=>p.section==="food"),j=i.stock.filter(p=>p.section==="other"),v=i.stock.filter(p=>p.section==="shopa1"),f=i.stock.filter(p=>p.section==="shopa2");n([...d,...x,...j,...v,...f])}},[i]),e.jsxs(e.Fragment,{children:[o!==null&&o.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center mt-3 ",children:e.jsx(eA,{id:i._id})}),e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center my-3 text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),o!==null&&o.role==="admin"&&e.jsx("th",{children:"Price"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"OStock"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Issued"}),e.jsx("th",{children:"CStock"}),e.jsx("th",{children:"Action"}),o!==null&&o.role==="admin"&&e.jsx("th",{children:"Total"})]})}),e.jsx("tbody",{className:"table-group-divider",children:h!==void 0&&h.map(d=>e.jsxs("tr",{children:[e.jsx("td",{children:d.code}),o!==null&&o.role==="admin"&&e.jsxs("td",{children:["K",d.price]}),e.jsx("td",{children:d.name}),e.jsx("td",{className:d.ostock===0?"text-muted":"",children:d.ostock.toFixed(2)}),e.jsx("td",{className:d.damage===0?"text-muted":d.damage<0?"text-danger":d.damage>0?"text-primary":"",children:d.damage}),e.jsx("td",{className:d.received>0?"text-info":d.received===0?"text-muted":"",children:d.received}),e.jsx("td",{className:d.issued>0?"text-info":d.issued===0?"text-muted":"",children:d.issued}),e.jsx("td",{className:d.cstock<0?"text-danger":d.cstock===0?"text-muted":"",children:d.cstock.toFixed(2)}),e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(nA,{id:i._id,stock:d}),o!==null&&o.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(hx,{endpoint:"deleteStock",id:d._id,shiftId:i._id}),e.jsx(tA,{id:i._id,stock:d})]})]}),o!==null&&o.role==="admin"&&e.jsxs("td",{className:d.cstock<0?"text-danger":d.cstock===0?"text-muted":"",children:["K",(d.cstock*d.price).toLocaleString()]})]},d._id))})]}),Object.keys(i).length!==0&&e.jsx(yn,{className:"justify-content-center",children:Array.from({length:Math.ceil(i.stock.length/a)},(d,x)=>e.jsx(yn.Item,{active:x+1===s,onClick:()=>r(x+1),children:x+1},x+1))})]})}function rA({children:t,product:n,clear:s,storeShift:r}){const[a,i]=l.useState(!1),[o,c]=l.useState(""),[u,h]=l.useState(""),[d,x]=l.useState(!1),j=()=>{c(""),i(!1),s()},v=()=>i(!0);if(n===null)return;const f=async p=>{if(p.preventDefault(),x(!0),isNaN(Number(o)))return;const b={code:n.code,name:n.name,to:u,quantity:Number(o)};try{await A.post(`${pn}/${r._id}/addissued`,b).then(()=>{j(),x(!1)})}catch(k){console.error(k),x(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:v,className:"d-flex justify-content-center align-items-center",children:t}),e.jsxs(g,{show:a,onHide:j,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Issued "})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:f,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"code",children:"Code"}),e.jsx(m.Control,{type:"text",id:"code",value:n.code,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"name",children:"Name"}),e.jsx(m.Control,{type:"text",id:"name",value:n.name,readOnly:!0})]}),e.jsxs(m.Group,{children:[e.jsx(m.Label,{htmlFor:"to",children:"To"}),e.jsxs(m.Select,{id:"to",value:u,required:!0,autoFocus:!0,onChange:p=>h(p.target.value),children:[e.jsx("option",{value:"",children:"Select To"}),r.shops.map(p=>e.jsx("option",{value:p,children:p},p))]})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"quantity",children:"Quantity"}),e.jsx(m.Control,{type:"text",id:"quantity",value:o,required:!0,autoComplete:"off",onChange:p=>c(p.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:d,children:d?"Loading...":"Submit"})]})})]})]})}function aA(){const[t,n]=l.useState([]),[s,r]=l.useState(""),[a,i]=l.useState([]),{storeShift:o}=l.useContext(ai),{user:c}=l.useContext(se);l.useEffect(()=>{Object.keys(o).length!==0&&n(o.issued)},[o]);const u=d=>{const x=d.target.value;r(x);const j=o.stock.filter(v=>v.name.toLowerCase().includes(x.toLowerCase())||v.code.toString().includes(x));i(j)},h=()=>{r(""),i([])};return e.jsxs(X,{className:"my-3",children:[e.jsxs("div",{className:"pb-3 w-50 ",children:[e.jsx(m.Control,{type:"text",placeholder:"Search",value:s,onChange:u,autoFocus:!0}),s&&e.jsx(_e,{className:"position-absolute w-50 mt-1",children:a.map(d=>e.jsx(rA,{product:d,storeShift:o,clear:h,children:e.jsxs(_e.Item,{action:!0,children:[d.code," - ",d.name]},d._id)},d._id))})]}),e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"To"}),c&&c.role==="admin"&&e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(d=>e.jsxs("tr",{children:[e.jsx("td",{children:d.code}),e.jsx("td",{className:"text-capitalize",children:d.name}),e.jsx("td",{children:d.quantity}),e.jsx("td",{className:"text-capitalize",children:d.to}),c&&c.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(hx,{endpoint:"deleteissued",id:d._id,shiftId:o._id})})]},d._id))})]})]})}function iA({children:t,product:n,clear:s,storeShift:r}){const[a,i]=l.useState(!1),[o,c]=l.useState(""),[u,h]=l.useState(!1),d=()=>{c(""),i(!1),s()},x=()=>i(!0);if(n===null)return;const j=async v=>{if(v.preventDefault(),h(!0),isNaN(Number(o)))return;const f={code:n.code,name:n.name,quantity:Number(o)};try{await A.post(`${pn}/${r._id}/addreceived`,f).then(()=>{d(),h(!1)})}catch(p){console.error(p),h(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:x,className:"d-flex justify-content-center align-items-center",children:t}),e.jsxs(g,{show:a,onHide:d,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Receive"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"code",children:"Code"}),e.jsx(m.Control,{type:"text",id:"code",value:n.code,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"name",children:"Name"}),e.jsx(m.Control,{type:"text",id:"name",value:n.name,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"quantity",children:"Quantity"}),e.jsx(m.Control,{type:"text",id:"quantity",value:o,required:!0,autoFocus:!0,autoComplete:"off",onChange:v=>c(v.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:u,children:u?"Loading...":"Submit"})]})})]})]})}function oA(){const[t,n]=l.useState([]),[s,r]=l.useState(""),[a,i]=l.useState([]),{storeShift:o}=l.useContext(ai),{user:c}=l.useContext(se);l.useEffect(()=>{Object.keys(o).length!==0&&n(o.received)},[o]);const u=d=>{const x=d.target.value;r(x);const j=o.stock.filter(v=>v.name.toLowerCase().includes(x.toLowerCase())||v.code.toString().includes(x));i(j)},h=()=>{r(""),i([])};return e.jsxs(X,{className:"my-3",children:[e.jsxs("div",{className:"pb-3 w-50 ",children:[e.jsx(m.Control,{type:"text",placeholder:"Search",value:s,onChange:u,autoFocus:!0}),s&&e.jsx(_e,{className:"position-absolute w-50 mt-1",children:a.map(d=>e.jsx(iA,{product:d,storeShift:o,clear:h,children:e.jsxs(_e.Item,{action:!0,children:[d.code," - ",d.name]},d._id)},d._id))})]}),e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),c&&c.role==="admin"&&e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(d=>e.jsxs("tr",{children:[e.jsx("td",{children:d.code}),e.jsx("td",{className:"text-capitalize",children:d.name}),e.jsx("td",{children:d.quantity}),c&&c.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(hx,{endpoint:"deletereceived",id:d._id,shiftId:o._id})})]},d._id))})]})]})}function lA({shiftId:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(!1),i=()=>s(!1),o=()=>s(!0),c=()=>{a(!0),A.delete(`${pn}/${t}`).then(()=>{i(),a(!1),window.location.reload()}).catch(u=>{console.log(u),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:o,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:n,onHide:i,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:r,onClick:()=>{c()},children:r?"Loading...":"Yes"})]})]})]})}function cA(){const[t,n]=l.useState([]),s=()=>{A.get(`${pn}/shifts`).then(o=>{n(o.data)}).catch(o=>{console.log(o)})};l.useEffect(()=>{s()},[]);const r=()=>{const o={};t.forEach(u=>{const h=u.date?u.date.split("-")[1]:"undefined";o[h]||(o[h]=[]),o[h].push(u)});const c=Object.keys(o).sort((u,h)=>{var f,p;if(u==="undefined")return-1;if(h==="undefined")return 1;const d=(f=o[u][0])==null?void 0:f.date,x=(p=o[h][0])==null?void 0:p.date;if(!d||!x)return 0;const j=new Date(d);return new Date(x)-j});return c.forEach(u=>{o[u].sort((h,d)=>{const x=h.date?new Date(h.date).getTime():null,j=d.date?new Date(d.date).getTime():null;return!x&&!j?0:x?j?j-x:1:-1})}),{sortedMonths:c,groupedShifts:o}},{sortedMonths:a,groupedShifts:i}=r();return e.jsxs(X,{className:"my-3",children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(L,{variant:"outline-primary",onClick:s,className:"mb-3",children:"Refetch"})}),e.jsxs(Q,{bordered:!0,className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date"}),e.jsx("th",{style:{width:"15%"},children:"Acountant"}),e.jsx("th",{children:"Checked By"}),e.jsx("th",{style:{width:"15%"},children:"Keeper"}),e.jsx("th",{children:"Actions"})]})}),a.map((o,c)=>e.jsx("tbody",{className:"table-group-divider",children:i[o].map((u,h)=>e.jsxs("tr",{children:[e.jsx("td",{children:u.date}),e.jsx("td",{className:"text-capitalize",children:u.accountant}),e.jsx("td",{className:"text-capitalize",children:u.checkedBy}),e.jsx("td",{className:"text-capitalize",children:u.keeper}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Oe,{to:`/store/${u._id}`,style:{textDecoration:"none"},children:e.jsx(L,{variant:"outline-primary me-1",size:"sm",children:"V"})}),c===0&&h===0&&e.jsx(lA,{shiftId:u._id})]})]},u._id))},o))]})]})}function dA({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${pn}/${t}/adddate`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Date"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading…":"Submit"})]})})]})]})}function uA({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${pn}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Acountant"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function hA({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${pn}/${t}/addkeeper`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Keeper"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Adding...":"Submit"})]})})]})]})}function fA({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${pn}/${t}/addcheckedby`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Checked By"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function mA(){const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=()=>n(!1),i=()=>n(!0),o=c=>{c.preventDefault(),r(!0),A.post(`${pn}/newshift`).then(()=>{r(!1),a(),window.location.reload()}).catch(u=>{console.log(u),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want to proceed to the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(L,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(L,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading...":"Continue"})]})]})]})}function xA(){const[t,n]=l.useState(!0),{storeShift:s}=l.useContext(ai),{user:r}=l.useContext(se),a=s&&s.stock?s.stock.reduce((d,x)=>{const j=x.cstock*x.price;return d+j},0):0,i=l.useCallback(()=>{if(s!==null&&Object.keys(s).length>0){const d=s&&s.date?s.date.length:0,x=s&&s.accountant?s.accountant.length:0,j=s&&s.checkedBy?s.checkedBy.length:0,v=s&&s.keeper?s.keeper.length:0;j>0&&x>0&&d>0&&v>0?n(!1):n(!0)}},[s]);l.useEffect(()=>{i()},[i]);const o=()=>{A.post(`${pn}/${s._id}/deletedate`).then(()=>{i()})},c=()=>{A.post(`${pn}/${s._id}/deleteaccountant`).then(()=>{i()})},u=()=>{A.post(`${pn}/${s._id}/deletekeeper`).then(()=>{i()})},h=()=>{A.post(`${pn}/${s._id}/deletecheckedby`).then(()=>{i()})};return e.jsx(X,{className:"mt-3",children:e.jsxs(ye,{children:[e.jsxs(q,{className:"border mx-2 p-4 d-flex flex-column justify-content-center align-items-center",children:[e.jsx("p",{className:"fw-lighter",children:"Double click on names or date to delete."}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Date :"}),s&&s.date&&s.date.length>0?e.jsx("h4",{onDoubleClick:o,style:{cursor:"pointer"},children:s.date}):e.jsx(dA,{id:s._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Accountant :"}),s&&s.accountant&&s.accountant.length>0?e.jsx("h4",{className:"text-capitalize",onDoubleClick:c,style:{cursor:"pointer"},children:s.accountant}):e.jsx(uA,{id:s._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Chacked By :"}),s&&s.checkedBy&&s.checkedBy.length>0?e.jsx("h4",{className:"text-capitalize",onDoubleClick:h,style:{cursor:"pointer"},children:s.checkedBy}):r&&r.role==="admin"?e.jsx(fA,{id:s._id}):null]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Keeper :"}),s&&s.keeper&&s.keeper.length>0?e.jsx("h4",{className:"text-capitalize",onDoubleClick:u,style:{cursor:"pointer"},children:s.keeper}):e.jsx(hA,{id:s._id})]}),e.jsx("div",{className:"d-flex justify-content-center align-items-center my-3 pt-2",children:!t&&e.jsx(mA,{})})]}),r&&r.role==="admin"&&e.jsx(q,{className:"d-flex justify-content-center align-items-center border mx-2 p-4",children:e.jsxs("p",{className:"display-6",children:["Total :"," ",e.jsxs("span",{className:a<0?"text-danger":"",children:["K",a.toLocaleString()]})]})})]})})}function pA(){const{user:t}=l.useContext(se);return l.useEffect(()=>{document.title="Yussman - Store"},[]),e.jsx(e.Fragment,{children:e.jsx(X,{fluid:!0,className:"py-3",children:e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsx(sA,{})}),e.jsx(Y,{eventKey:"issued",title:"Issued / Out",children:e.jsx(aA,{})}),e.jsx(Y,{eventKey:"received",title:"Received / In",children:e.jsx(oA,{})}),e.jsx(Y,{eventKey:"final",title:"Final",children:e.jsx(xA,{})}),t&&t.role==="admin"&&e.jsx(Y,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(cA,{})})]})})})}const Jd=l.createContext(),jA=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},gA=({children:t})=>{const[n,s]=l.useReducer(jA,{shift:null}),[r,a]=l.useState({});l.useEffect(()=>{A.get(hn).then(o=>{i(o.data)})},[]),l.useEffect(()=>{ln(rt).on("register",c=>{s({type:"SET_SHIFT",payload:c})})},[]);const i=o=>{o!==null&&a(o)};return l.useEffect(()=>{i(n.shift)},[n.shift]),r===null?null:e.jsx(Jd.Provider,{value:{RegisterShift:r,dispatch:s},children:t})},Da=l.createContext(),yA=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},vA=({children:t})=>{const[n,s]=l.useReducer(yA,{shift:null}),[r,a]=l.useState({});l.useEffect(()=>{A.get($t).then(o=>{i(o.data)})},[]),l.useEffect(()=>{ln(rt).on("shopa1",c=>{s({type:"SET_SHIFT",payload:c})})},[]);const i=o=>{if(o!==null){const c={};o.received&&Array.isArray(o.received)&&o.received.forEach(h=>{const d=h.code,x=h.amount;c[d]===void 0?c[d]=x:c[d]+=x});const u={...o,stock:o.stock.map(h=>{const d=h.code;return c[d]!==void 0?{...h,received:c[d]}:h})};u.stock.sort((h,d)=>h.name.localeCompare(d.name)),a(u)}};return l.useEffect(()=>{i(n.shift)},[n.shift]),e.jsx(Da.Provider,{value:{shopA1Shift:r,dispatch:s},children:t})},$a=l.createContext(),SA=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},bA=({children:t})=>{const[n,s]=l.useReducer(SA,{shift:null}),[r,a]=l.useState({});l.useEffect(()=>{A.get(Tt).then(o=>{i(o.data)})},[]),l.useEffect(()=>{ln(rt).on("shopa2",c=>{s({type:"SET_SHIFT",payload:c})})},[]);const i=o=>{if(o!==null){const c={};o.received&&Array.isArray(o.received)&&o.received.forEach(h=>{const d=h.code,x=h.amount;c[d]===void 0?c[d]=x:c[d]+=x});const u={...o,stock:o.stock.map(h=>{const d=h.code;return c[d]!==void 0?{...h,received:c[d]}:h})};u.stock.sort((h,d)=>h.name.localeCompare(d.name)),a(u)}};return l.useEffect(()=>{i(n.shift)},[n.shift]),e.jsx($a.Provider,{value:{shopA2Shift:r,dispatch:s},children:t})},Ta=l.createContext(),CA=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},NA=({children:t})=>{const[n,s]=l.useReducer(CA,{shift:null}),[r,a]=l.useState({});l.useEffect(()=>{A.get(Ot).then(o=>{i(o.data)})},[]),l.useEffect(()=>{ln(rt).on("shopb",c=>{s({type:"SET_SHIFT",payload:c})})},[]);const i=o=>{if(o!==null){const c={};o.received&&Array.isArray(o.received)&&o.received.forEach(h=>{const d=h.code,x=h.amount;c[d]===void 0?c[d]=x:c[d]+=x});const u={...o,stock:o.stock.map(h=>{const d=h.code;return c[d]!==void 0?{...h,received:c[d]}:h})};u.stock.sort((h,d)=>h.name.localeCompare(d.name)),a(u)}};return l.useEffect(()=>{i(n.shift)},[n.shift]),e.jsx(Ta.Provider,{value:{shopBShift:r,dispatch:s},children:t})},ii=l.createContext(),wA=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},kA=({children:t})=>{const[n,s]=l.useReducer(wA,{shift:null}),[r,a]=l.useState({});l.useEffect(()=>{A.get(Vt).then(o=>{i(o.data)})},[]),l.useEffect(()=>{ln(rt).on("shopw",c=>{s({type:"SET_SHIFT",payload:c})})},[]);const i=o=>{if(o!==null){const c={};o.received&&Array.isArray(o.received)&&o.received.forEach(h=>{const d=h.code,x=h.amount;c[d]===void 0?c[d]=x:c[d]+=x});const u={...o,stock:o.stock.map(h=>{const d=h.code;return c[d]!==void 0?{...h,received:c[d]}:h})};u.stock.sort((h,d)=>h.name.localeCompare(d.name)),a(u)}};return l.useEffect(()=>{i(n.shift)},[n.shift]),e.jsx(ii.Provider,{value:{shopWShift:r,dispatch:s},children:t})};function LA({id:t}){const{shopA1Shift:n}=l.useContext(Da),{shopA2Shift:s}=l.useContext($a),{shopBShift:r}=l.useContext(Ta),{shopWShift:a}=l.useContext(ii),{storeShift:i}=l.useContext(ai),[o,c]=l.useState([]);l.useEffect(()=>{const M=Array.isArray(n.stock)?n.stock:[],fe=Array.isArray(s.stock)?s.stock:[],je=Array.isArray(r.stock)?r.stock:[],Ae=Array.isArray(a.stock)?a.stock:[],ce=Array.isArray(i.stock)?i.stock:[];c([...M,...fe,...je,...Ae,...ce])},[n,s,r,a,i]);const[u,h]=l.useState(!1),[d,x]=l.useState(!1),[j,v]=l.useState(""),[f,p]=l.useState([]),[b,k]=l.useState(null),[N,E]=l.useState(""),[y,w]=l.useState(""),[D,C]=l.useState(""),[S,T]=l.useState(""),[B,P]=l.useState(""),[R,$]=l.useState(""),F=()=>{h(!1),z()},W=()=>h(!0),te=M=>{const fe=M.target.value.toLowerCase();v(fe);const je=o.filter(Ae=>{const ce=Ae.code.toString().includes(fe),oe=Ae.name.toLowerCase().includes(fe);return ce||oe});p(je)},G=M=>{k(M),E(M.name),w(M.code),C(M.price)},z=()=>{k(null),E(""),w(""),C(""),P(""),T(""),$(""),v("")},I=M=>{if(M.preventDefault(),x(!0),d)return;const fe={name:N.toLowerCase(),code:Number(y),unitPrice:Number(D),quantity:Number(S),priceBought:Number(B),section:R.toLowerCase()};A.post(`${hn}/${t}/addtostock`,fe).then(()=>{F(),x(!1)}).catch(je=>{console.log(je),x(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"primary",onClick:W,size:"sm",children:"New"}),e.jsxs(g,{show:u,onHide:F,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New "})}),e.jsxs(g.Body,{children:[!b&&e.jsxs(e.Fragment,{children:[e.jsxs(m.Group,{className:" mb-3",children:[e.jsx(m.Label,{children:"Name or Code"}),e.jsx(m.Control,{autoFocus:!0,type:"text",placeholder:"Name or Code",value:j,onChange:M=>te(M)})]}),j&&e.jsx(_e,{children:f.map(M=>e.jsxs(_e.Item,{action:!0,className:" text-capitalize",onClick:()=>{G(M)},children:[M.code," - ",M.name," - ",`K${M.price}`]},M._id))})]}),b&&e.jsx(e.Fragment,{children:e.jsxs(m,{onSubmit:I,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{readOnly:!0,value:N})]}),e.jsxs(ye,{className:"mb-3",children:[e.jsxs(q,{children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{readOnly:!0,value:y})]}),e.jsxs(q,{children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{readOnly:!0,value:D})]})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Quantity"}),e.jsx(m.Control,{autoFocus:!0,required:!0,type:"number",placeholder:"Quantity",min:0,value:S,onChange:M=>T(M.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price Bought"}),e.jsx(m.Control,{required:!0,type:"number",placeholder:"Price Bought",min:0,value:B,onChange:M=>P(M.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"From"}),e.jsxs(m.Select,{required:!0,value:R,onChange:M=>$(M.target.value),children:[e.jsx("option",{value:"",children:"Open this select menu"}),e.jsx("option",{value:"local",children:"Local"}),e.jsx("option",{value:"mearaj",children:"Mearaj"}),e.jsx("option",{value:"ilyas",children:"Ilyas"}),e.jsx("option",{value:"outside",children:"Outside"}),e.jsx("option",{value:"chansa",children:"Chansa"})]})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:d,children:d?"Submitting...":"Submit"})]})})]})]})]})}function Fo({id:t,shiftId:n}){const[s,r]=l.useState(!1),[a,i]=l.useState(!1),o=()=>r(!1),c=()=>r(!0),u=()=>{i(!0),!a&&A.post(`${hn}/${n}/deletestock/${t}`).then(()=>{o(),i(!1)}).catch(h=>{console.log(h),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:c,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:a,onClick:()=>{u()},children:a?"Deleting...":"Yes"})]})]})]})}function Po({id:t,item:n}){const[s,r]=l.useState(!1),[a,i]=l.useState(!1),[o,c]=l.useState(""),[u,h]=l.useState(""),[d,x]=l.useState(""),[j,v]=l.useState(""),[f,p]=l.useState(""),[b,k]=l.useState("");l.useEffect(()=>{c(n.name),h(n.code),x(n.unitPrice),p(n.priceBought),v(n.quantity),k(n.section)},[n]);const N=()=>{r(!1)},E=()=>r(!0),y=w=>{if(w.preventDefault(),i(!0),a)return;const D={unitPrice:Number(d),quantity:Number(j),priceBought:Number(f),section:b.toLowerCase()};A.post(`${hn}/${t}/updatestock/${n._id}`,D).then(()=>{i(!1),N()}).catch(C=>{console.log(C),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-primary",size:"sm",onClick:E,className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:s,onHide:N,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New "})}),e.jsx(g.Body,{children:e.jsx(e.Fragment,{children:e.jsxs(m,{onSubmit:y,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{readOnly:!0,value:o})]}),e.jsxs(ye,{className:"mb-3",children:[e.jsxs(q,{children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{readOnly:!0,value:u})]}),e.jsxs(q,{children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{readOnly:!0,value:d})]})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Quantity"}),e.jsx(m.Control,{autoFocus:!0,required:!0,type:"number",placeholder:"Quantity",min:0,value:j,onChange:w=>v(w.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price Bought"}),e.jsx(m.Control,{required:!0,type:"number",placeholder:"Price Bought",min:0,value:f,onChange:w=>p(w.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"From"}),e.jsxs(m.Select,{required:!0,value:b,onChange:w=>k(w.target.value),children:[e.jsx("option",{value:"",children:"Open this select menu"}),e.jsx("option",{value:"local",children:"Local"}),e.jsx("option",{value:"mearaj",children:"Mearaj"}),e.jsx("option",{value:"ilyas",children:"Ilyas"}),e.jsx("option",{value:"outside",children:"Outside"}),e.jsx("option",{value:"chansa",children:"Chansa"})]})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:a,children:a?"Submitting...":"Submit"})]})})})]})]})}function EA(){const{shopA1Shift:t}=l.useContext(Da),{shopA2Shift:n}=l.useContext($a),{shopBShift:s}=l.useContext(Ta),{storeShift:r}=l.useContext(ai),[a,i]=l.useState([]);l.useEffect(()=>{const R=Array.isArray(t.stock)?t.stock.map(te=>({...te,source:"shopA1",shiftId:t._id})):[],$=Array.isArray(n.stock)?n.stock.map(te=>({...te,source:"shopA2",shiftId:n._id})):[],F=Array.isArray(s.stock)?s.stock.map(te=>({...te,source:"shopB",shiftId:s._id})):[],W=Array.isArray(r.stock)?r.stock.map(te=>({...te,source:"store",shiftId:r._id})):[];i([...R,...$,...F,...W])},[t,n,s,r]);const[o,c]=l.useState(!1),[u,h]=l.useState(!1),[d,x]=l.useState(""),[j,v]=l.useState([]),[f,p]=l.useState(null),[b,k]=l.useState(""),[N,E]=l.useState(""),[y,w]=l.useState(""),D=()=>{c(!1),B()},C=()=>c(!0),S=R=>{const $=R.target.value.toLowerCase();x($);const F=a.filter(W=>{const te=W.code.toString().includes($),G=W.name.toLowerCase().includes($);return te||G});v(F)},T=R=>{p(R),k(R.name),E(R.code),w(R.price)},B=()=>{p(null),k(""),E(""),w(""),x("")},P=R=>{if(R.preventDefault(),h(!0),!f){console.error("No product selected"),h(!1);return}const $={price:Number(y),name:b};let F;if(f.source==="store")F=`${pn}/${f.shiftId}/updatename/${f._id}`;else{let W;switch(f.source){case"shopA1":W=$t;break;case"shopA2":W=Tt;break;case"shopB":W=Ot;break;default:console.error("Invalid product source"),h(!1);return}F=`${W}/${f.shiftId}/editname/${f._id}`}A.post(F,$).then(()=>{B(),D(),h(!1)}).catch(W=>{console.error(W),h(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-primary",onClick:C,size:"sm",children:"Change Price"}),e.jsxs(g,{show:o,onHide:D,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New "})}),e.jsxs(g.Body,{children:[!f&&e.jsxs(e.Fragment,{children:[e.jsxs(m.Group,{className:" mb-3",children:[e.jsx(m.Label,{children:"Name or Code"}),e.jsx(m.Control,{autoFocus:!0,type:"text",placeholder:"Name or Code",value:d,onChange:R=>S(R)})]}),d&&e.jsx(_e,{children:j.map(R=>e.jsxs(_e.Item,{action:!0,className:" text-capitalize",onClick:()=>{T(R)},children:[R.code," - ",R.name," - ",`K${R.price}`]},R._id))})]}),f&&e.jsx(e.Fragment,{children:e.jsxs(m,{onSubmit:P,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{readOnly:!0,value:b})]}),e.jsxs(ye,{className:"mb-3",children:[e.jsxs(q,{children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{readOnly:!0,value:N})]}),e.jsxs(q,{children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{value:y,onChange:R=>w(R.target.value),autoFocus:!0})]})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:u,children:u?"Submitting...":"Submit"})]})})]})]})]})}function DA(){const[t,n]=l.useState([]),[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState([]),[u,h]=l.useState([]),[d,x]=l.useState(0),[j,v]=l.useState(0),[f,p]=l.useState(0),[b,k]=l.useState(0),[N,E]=l.useState(0),[y,w]=l.useState(0),{RegisterShift:D}=l.useContext(Jd),{user:C}=l.useContext(se);return l.useEffect(()=>{if(Object.keys(D).length!==0){const S=D.stock.filter(I=>I.section==="local"),T=D.stock.filter(I=>I.section==="outside"),B=D.stock.filter(I=>I.section==="mearaj"),P=D.stock.filter(I=>I.section==="ilyas"),R=D.stock.filter(I=>I.section==="chansa");n(S),r(T),i(B),c(P),h(R);const $=S.reduce((I,M)=>I+M.priceBought,0),F=T.reduce((I,M)=>I+M.priceBought,0),W=B.reduce((I,M)=>I+M.priceBought,0),te=P.reduce((I,M)=>I+M.priceBought,0),G=R.reduce((I,M)=>I+M.priceBought,0);x($),v(F),p(W),k(te),E(G);const z=D.stock.reduce((I,M)=>I+(M.quantity*M.unitPrice-M.priceBought),0);w(z)}},[D]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-around   align-items-center py-2",children:[e.jsx(LA,{id:D._id}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(EA,{}),e.jsxs("h6",{children:["Total Profit: K",y.toLocaleString()]})]})]}),e.jsxs(Q,{size:"sm",bordered:!0,className:" text-capitalize text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Price Bought"}),e.jsx("th",{children:"Unit Price"}),e.jsx("th",{children:"Price Sold"}),C&&C.role==="admin"&&e.jsx("th",{children:"Profit"}),C&&C.role==="admin"&&e.jsx("th",{children:"Profit %"}),e.jsx("th",{children:"From"}),C&&C.role==="admin"&&e.jsx("th",{children:"Action"})]})}),t.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[t==null?void 0:t.map((S,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:T+1}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.quantity}),e.jsxs("td",{children:["K",S.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",S.unitPrice]}),e.jsxs("td",{children:["K",(S.quantity*S.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:S.quantity*S.unitPrice-S.priceBought<0?"text-danger":"",children:["K",(S.quantity*S.unitPrice-S.priceBought).toLocaleString()]}),e.jsxs("td",{className:(S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100<30?"text-danger":"",children:[((S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:S.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(Po,{id:D._id,item:S}),e.jsx(Fo,{id:S._id,shiftId:D._id})]})]},S._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",d.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),s.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[s==null?void 0:s.map((S,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:T+1}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.quantity}),e.jsxs("td",{children:["K",S.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",S.unitPrice]}),e.jsxs("td",{children:["K",(S.quantity*S.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:S.quantity*S.unitPrice-S.priceBought<0?"text-danger":"",children:["K",(S.quantity*S.unitPrice-S.priceBought).toLocaleString()]}),e.jsxs("td",{className:(S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100<30?"text-danger":"",children:[((S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:S.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(Po,{id:D._id,item:S}),e.jsx(Fo,{id:S._id,shiftId:D._id})]})]},S._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",j.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),a.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[a==null?void 0:a.map((S,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:T+1}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.quantity}),e.jsxs("td",{children:["K",S.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",S.unitPrice]}),e.jsxs("td",{children:["K",(S.quantity*S.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:S.quantity*S.unitPrice-S.priceBought<0?"text-danger":"",children:["K",(S.quantity*S.unitPrice-S.priceBought).toLocaleString()]}),e.jsxs("td",{className:(S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100<30?"text-danger":"",children:[((S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:S.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(Po,{id:D._id,item:S}),e.jsx(Fo,{id:S._id,shiftId:D._id})]})]},S._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",f.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),o.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[o==null?void 0:o.map((S,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:T+1}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.quantity}),e.jsxs("td",{children:["K",S.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",S.unitPrice]}),e.jsxs("td",{children:["K",(S.quantity*S.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:S.quantity*S.unitPrice-S.priceBought<0?"text-danger":"",children:["K",(S.quantity*S.unitPrice-S.priceBought).toLocaleString()]}),e.jsxs("td",{className:(S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100<30?"text-danger":"",children:[((S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:S.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(Po,{id:D._id,item:S}),e.jsx(Fo,{id:S._id,shiftId:D._id})]})]},S._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",b.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),u.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[u==null?void 0:u.map((S,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:T+1}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.quantity}),e.jsxs("td",{children:["K",S.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",S.unitPrice]}),e.jsxs("td",{children:["K",(S.quantity*S.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:S.quantity*S.unitPrice-S.priceBought<0?"text-danger":"",children:["K",(S.quantity*S.unitPrice-S.priceBought).toLocaleString()]}),e.jsxs("td",{className:(S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100<30?"text-danger":"",children:[((S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:S.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(Po,{id:D._id,item:S}),e.jsx(Fo,{id:S._id,shiftId:D._id})]})]},S._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",N.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]})]})]})}function $A({id:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),h=()=>{s(!1),x()},d=()=>s(!0),x=()=>{a(""),o("")},j=v=>{v.preventDefault(),u(!0),!c&&A.post(`${hn}/${t}/addtoexpense`,{description:r.toLowerCase(),amount:Number(i)}).then(()=>{h(),u(!1)}).catch(f=>{console.log(f),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"primary",onClick:d,children:"New"}),e.jsxs(g,{show:n,onHide:h,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Modal heading"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Description"}),e.jsx(m.Control,{type:"text",placeholder:"Description",autoFocus:!0,value:r,onChange:v=>a(v.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",placeholder:"Amount",min:0,value:i,onChange:v=>o(v.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:c?"Submitting...":"Submit"})]})})]})]})}function TA({id:t,shiftId:n}){const[s,r]=l.useState(!1),[a,i]=l.useState(!1),o=()=>r(!1),c=()=>r(!0),u=()=>{i(!0),!a&&A.post(`${hn}/${n}/deleteexpense/${t}`).then(()=>{o(),i(!1)}).catch(h=>{console.log(h),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:c,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:a,onClick:()=>{u()},children:a?"Deleting...":"Yes"})]})]})]})}function OA(){const[t,n]=l.useState([]),{RegisterShift:s}=l.useContext(Jd),{user:r}=l.useContext(se);return l.useEffect(()=>{n(s.expense)},[s]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx($A,{id:s._id})}),e.jsxs(Q,{size:"sm",bordered:!0,className:"text-capitalize text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Decription"}),e.jsx("th",{children:"Amount"}),r&&r.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t==null?void 0:t.map((a,i)=>e.jsxs("tr",{children:[e.jsx("td",{children:i+1}),e.jsx("td",{children:a.description}),e.jsxs("td",{children:["K",a.amount]}),r&&r.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center ",children:e.jsx(TA,{id:a._id,shiftId:s._id})})]},a._id))})]})]})}function AA({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${hn}/${t}/adddate`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function BA({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${hn}/${t}/addname`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function _A({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${hn}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function RA({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${hn}/${t}/addcash`,{amount:n}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function IA({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${hn}/${t}/addchange`,{amount:n}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function FA(){const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=()=>n(!1),i=()=>n(!0),o=c=>{c.preventDefault(),r(!0),!s&&A.post(`${hn}/newshift`).then(()=>{a(),r(!1)}).catch(u=>{console.log(u),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"lg",variant:"primary",onClick:i,children:"Next"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(L,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(L,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading...":"Yes"})]})]})]})}function PA(){const[t,n]=l.useState(!0),{RegisterShift:s}=l.useContext(Jd);let r=0,a=0;Object.keys(s).length>0&&(r=s.stock.reduce((x,j)=>x+j.priceBought,0),a=s.expense.reduce((x,j)=>x+j.amount,0));const i=l.useCallback(()=>{if(s!=null&&Object.keys(s).length>0){const x=s.name.length,j=s.accountant.length,v=s.date.length,f=s.cash;x>0&&j>0&&v>0&&f>0?n(!1):n(!0)}},[s]);l.useEffect(()=>{i()},[i]);const o=()=>{A.post(`${hn}/${s._id}/deletedate`).then(()=>{i()})},c=()=>{A.post(`${hn}/${s._id}/deletename`).then(()=>{i()})},u=()=>{A.post(`${hn}/${s._id}/deleteaccountant`).then(()=>{i()})},h=()=>{A.post(`${hn}/${s._id}/deletecash`).then(()=>{i()})},d=()=>{A.post(`${hn}/${s._id}/deletechange`).then(()=>{i()})};return e.jsx(e.Fragment,{children:Object.keys(s).length>0&&e.jsxs(ye,{className:"m-3 text-capitalize prevent-select",children:[e.jsxs(q,{className:"border mx-2 p-3",children:[e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:o,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Date :"}),s.date.length>0?e.jsx("h5",{children:s.date}):e.jsx(AA,{id:s._id})]}),e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:c,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Name :"}),s.name.length>0?e.jsx("h5",{children:s.name}):e.jsx(BA,{id:s._id})]}),e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:u,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Accountant :"}),s.accountant.length>0?e.jsx("h5",{children:s.accountant}):e.jsx(_A,{id:s._id})]}),t?"":e.jsx("div",{className:"d-flex align-items-center justify-content-center h-50",children:e.jsx(FA,{id:s._id})})]}),e.jsxs(q,{className:"border mx-2 p-3",children:[e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:h,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Cash :"}),s.cash>0?e.jsxs("h5",{children:["K",s.cash.toLocaleString()]}):e.jsx(RA,{id:s._id})]}),e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:d,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Change :"}),s.change>0?e.jsxs("h5",{children:["K",s.change.toLocaleString()]}):e.jsx(IA,{id:s._id})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Total Bought :"}),e.jsxs("h5",{children:["K",r.toLocaleString()]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Expense :"}),e.jsxs("h5",{children:["K",a.toLocaleString()]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Total :"}),e.jsxs("h5",{children:["K",(r+a).toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("p",{className:r+a-s.cash+s.change<0?"text-danger display-6 text-center":"display-6 text-center",children:["Result : K",(r+a-s.cash+s.change).toLocaleString()]})]})]})})}function MA({shiftId:t,getShifts:n}){const[s,r]=l.useState(!1),[a,i]=l.useState(!1),o=()=>r(!1),c=()=>r(!0),u=()=>{i(!0),!a&&A.delete(`${hn}/${t}`).then(()=>{o(),i(!1),n()}).catch(h=>{console.log(h),i(!1),o()})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:c,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:a,onClick:()=>{u()},children:a?"Deleting...":"Yes"})]})]})]})}function zA(){const[t,n]=l.useState([]),{user:s}=l.useContext(se),r=()=>{A.get(`${hn}/all`).then(a=>{const i=a.data.sort((o,c)=>{const u=o.date?new Date(o.date).getTime():null,h=c.date?new Date(c.date).getTime():null;return!u&&!h?0:u?h?h-u:1:-1});n(i)}).catch(a=>{console.log(a)})};return l.useEffect(()=>{r()},[]),e.jsxs(X,{fluid:"xxl",children:[e.jsx("div",{className:"d-flex justify-content-end mt-2",children:e.jsx(L,{variant:"outline-primary",onClick:r,children:"Refresh"})}),e.jsxs(Q,{size:"sm",bordered:!0,className:"text-capitalize text-center my-3",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Accountant"}),e.jsx("th",{children:"Status"}),s&&s.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(a=>e.jsxs("tr",{children:[e.jsx("td",{children:a.date}),e.jsx("td",{children:a.name}),e.jsx("td",{children:a.accountant}),e.jsx("td",{children:a.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Oe,{to:`/register/${a._id}`,style:{textDecoration:"none"},children:e.jsx(L,{variant:"outline-primary",size:"sm",children:"V"})}),t.length>1&&a.status==="current"&&s&&s.role==="admin"&&e.jsx(MA,{shiftId:a._id,getShifts:r})]})]},a._id))})]})]})}function HA(){return l.useEffect(()=>{document.title="Yussman - Register"},[]),e.jsx(X,{className:"my-5",fluid:!0,children:e.jsxs(mt,{defaultActiveKey:"stock",justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsx(DA,{})}),e.jsx(Y,{eventKey:"expence",title:"Expence",children:e.jsx(OA,{})}),e.jsx(Y,{eventKey:"final",title:"Final",children:e.jsx(PA,{})}),e.jsx(Y,{eventKey:"all",title:"All",children:e.jsx(zA,{})})]})})}function KA(){const[t,n]=l.useState(!1),s=()=>{n(!1),N()},r=()=>n(!0),[a,i]=l.useState(!1),[o,c]=l.useState(""),[u,h]=l.useState(""),[d,x]=l.useState(""),[j,v]=l.useState(""),[f,p]=l.useState(""),[b,k]=l.useState(""),N=()=>{c(""),h(""),x(""),v(""),p(""),k("")},E=y=>{y.preventDefault(),!a&&(isNaN(parseFloat(f))||(i(!0),A.post(`${yr}/newemployee`,{nrc:o,firstName:u.toLowerCase().trim(),lastName:d.toLowerCase().trim(),number:j,dailySalary:Number(f),section:b}).then(()=>{s(),i(!1)}).catch(w=>{console.log(w),i(!1)})))};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:r,className:"d-flex justify-content-center align-items-center",children:"Add New Employee"}),e.jsxs(g,{show:t,onHide:s,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Employee"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:E,children:[e.jsxs(m.Group,{className:"mb-3",controlId:"formBasicNrc",children:[e.jsx(m.Label,{children:"NRC"}),e.jsx(m.Control,{type:"text",placeholder:"Enter NRC",required:!0,autoComplete:"off",onChange:y=>c(y.target.value),value:o,autoFocus:!0})]}),e.jsxs(m.Group,{className:"mb-3",controlId:"formBasicFirstName",children:[e.jsx(m.Label,{children:"First Name"}),e.jsx(m.Control,{type:"text",placeholder:"Enter first name",required:!0,autoComplete:"off",onChange:y=>h(y.target.value),value:u})]}),e.jsxs(m.Group,{className:"mb-3",controlId:"formBasicLastName",children:[e.jsx(m.Label,{children:"Last Name"}),e.jsx(m.Control,{type:"text",placeholder:"Enter last name",required:!0,autoComplete:"off",onChange:y=>x(y.target.value),value:d})]}),e.jsxs(m.Group,{className:"mb-3",controlId:"formBasicNumber",children:[e.jsx(m.Label,{children:"Number"}),e.jsx(m.Control,{type:"text",placeholder:"Enter number",required:!0,autoComplete:"off",maxLength:10,minLength:10,onChange:y=>v(y.target.value),value:j})]}),e.jsxs(m.Group,{className:"mb-3",controlId:"formBasicSalry",children:[e.jsx(m.Label,{children:"Daily Salary"}),e.jsx(m.Control,{type:"text",placeholder:"Enter salary",required:!0,autoComplete:"off",onChange:y=>p(y.target.value),value:f})]}),e.jsxs(m.Group,{className:"mb-3",id:"formBasicSection",children:[e.jsx(m.Label,{children:"Section"}),e.jsxs(m.Select,{onChange:y=>k(y.target.value),value:b,required:!0,children:[e.jsx("option",{value:"",children:"Select section"}),e.jsx("option",{value:"restaurant",children:"Restaurant"}),e.jsx("option",{value:"shops",children:"Shops"}),e.jsx("option",{value:"booths",children:"Booths"}),e.jsx("option",{value:"blocks",children:"Blocks"}),e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"construction",children:"Construction"})]})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:a,children:a?"Submitting...":"Submit"})]})})]})]})}const Gl=l.createContext(),qA=(t,n)=>{switch(n.type){case"SET_EMPLOYEES":return{employees:n.payload};default:return t}},UA=(t,n)=>{switch(n.type){case"SET_TRANSACTIONS":return{transactions:n.payload};default:return t}},GA=(t,n)=>t.map(s=>{const r=n.filter(c=>c.employeeId._id===s._id),a=r.filter(c=>c.status==="credit").reduce((c,u)=>c+u.amount,0),i=r.filter(c=>c.status==="shortage").reduce((c,u)=>c+u.amount,0),o=r.filter(c=>c.status==="salary").reduce((c,u)=>c+u.deduction,0);return{...s,creditOwed:a+i-o}}),YA=({children:t})=>{const[n,s]=l.useReducer(qA,{employees:null}),[r,a]=l.useReducer(UA,{transactions:null});l.useEffect(()=>{(async()=>{const{data:d}=await A.get(`${yr}/getemployees`);s({type:"SET_EMPLOYEES",payload:d})})()},[]),l.useEffect(()=>{(async()=>{const{data:d}=await A.get(`${yr}/gettransactions`);a({type:"SET_TRANSACTIONS",payload:d})})()},[]),l.useEffect(()=>{ln(rt).on("employees",d=>{s({type:"SET_EMPLOYEES",payload:d})})},[]),l.useEffect(()=>{ln(rt).on("employeeTransactions",d=>{a({type:"SET_TRANSACTIONS",payload:d})})},[]);const i=h=>{h=h||[];const d=[],x=[];h.forEach(f=>{f.paid?d.push(f):x.push(f)});const j=d.sort((f,p)=>{const b={benefit:1,credit:2,allowance:3,salary:4,shortage:5};return b[f.status]-b[p.status]}),v=x.sort((f,p)=>{const b={benefit:1,credit:2,allowance:3,salary:4,shortage:5};return b[f.status]-b[p.status]});return{groupedPaidTransactions:j,unpaidTransactions:v}},{groupedPaidTransactions:o,unpaidTransactions:c}=i(r.transactions),u=n.employees?GA(n.employees,r.transactions||[]):[];return e.jsx(Gl.Provider,{value:{employees:u,paidTransactions:o,unpaidTransactions:c},children:t})};function WA(){const[t,n]=l.useState([]),[s,r]=l.useState([]),{employees:a,paidTransactions:i,unpaidTransactions:o}=l.useContext(Gl),{user:c}=l.useContext(se),u=h=>{const d=s.filter(j=>j.employeeId._id===h),x=t.map(j=>(j._id===h&&(j.transactions=d),j));n(x)};if(l.useEffect(()=>{n(a),t&&t.length>0&&t.map(h=>{u(h._id)}),r([...i,...o])},[a,i,o]),l.useEffect(()=>{if(!a||!o||!i)return;const h=a.map(d=>{const x=s.filter(p=>p.employeeId._id===d._id),j=x.filter(p=>p.status==="credit").reduce((p,b)=>p+b.amount,0),v=(d.transactions||[]).filter(p=>p.status==="shortage").reduce((p,b)=>p+b.amount,0),f=x.filter(p=>p.status==="salary").reduce((p,b)=>p+b.deduction,0);return{...d,creditOwed:j+v-f}});n(h)},[a,o,i,s]),l.useEffect(()=>{if(!a||!o||!i)return;const h=a.map(d=>{const x=s.filter(p=>p.employeeId._id===d._id),j=x.filter(p=>p.status==="credit").reduce((p,b)=>p+b.amount,0),v=x.filter(p=>p.status==="shortage").reduce((p,b)=>p+b.amount,0),f=x.filter(p=>p.status==="salary").reduce((p,b)=>p+b.deduction,0);return{...d,creditOwed:j+v-f}});n(h)},[a,o,i,s]),t!==null)return e.jsxs(X,{children:[c&&c.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center align-items-center mt-3",children:e.jsx(KA,{})}),e.jsxs(Q,{className:"my-3 text-center text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"NRC"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Salary"}),e.jsx("th",{children:"Credit"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Section"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t&&t.length>0&&t.sort((h,d)=>h.status==="inactive"?1:d.status==="inactive"?-1:0).map(h=>e.jsxs("tr",{className:h.status==="inactive"?"border border-3 border-secondary-subtle text-decoration-line-through text-muted":"",children:[e.jsx("td",{children:h.code}),e.jsx("td",{children:h.nrc}),e.jsx("td",{children:h.number}),e.jsx("td",{children:h.firstName}),e.jsx("td",{children:h.lastName}),e.jsxs("td",{children:["K",(h.dailySalary!==null&&h.dailySalary!==void 0?h.dailySalary.toFixed(2):"0.00").replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),e.jsxs("td",{className:`border-2 ${h.creditOwed>0?"border border-3 border-info-subtle":h.creditOwed<0?"text-danger":""}`,children:["K",(h.creditOwed!==null&&h.creditOwed!==void 0?h.creditOwed.toFixed(2):"0.00").replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),e.jsx("td",{children:h.status}),e.jsx("td",{children:h.section}),e.jsx("td",{className:"d-flex justify-content-center",children:e.jsx(Oe,{to:`/employees/${h._id}`,style:{textDecoration:"none"},children:e.jsx(L,{variant:"outline-primary me-1",size:"sm",children:"V"})})})]},h._id))})]})]})}function VA(){const[t,n]=l.useState({}),{paidTransactions:s}=l.useContext(Gl);l.useEffect(()=>{const o=[...s].sort((c,u)=>new Date(u.date)-new Date(c.date)).reduce((c,u)=>{const h=u.date;return c[h]?c[h].push(u):c[h]=[u],c},{});n(o)},[s]);const r=i=>e.jsx("ul",{style:{listStyleType:"none",padding:"0",margin:"0"},children:i.map((o,c)=>{const u=new Date(o).toLocaleDateString();return e.jsx("li",{children:u},c)})}),a=(i,o)=>{if(o==="credit"||o==="benefit"||i.length===0)return"";const c=i.map(j=>new Date(j)).sort((j,v)=>j-v),u=c[0],h=c[c.length-1],d=u.toLocaleDateString(void 0,{day:"2-digit",month:"short"}),x=h.toLocaleDateString(void 0,{day:"2-digit",month:"short"});return c.length>1?`${d} - ${x}`:d};return e.jsx(X,{children:e.jsx("div",{children:e.jsxs(Q,{className:"my-3 text-capitalize text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Dates Worked"}),e.jsx("th",{children:"Days"}),e.jsx("th",{children:"Salary"}),e.jsx("th",{children:"Deduction"}),e.jsx("th",{children:"Total"}),e.jsx("th",{children:"Status"})]})}),Object.entries(t).map(([i,o])=>e.jsxs("tbody",{className:"table-group-divider",children:[e.jsxs("tr",{className:"border-bottom border-2",children:[e.jsx("td",{colSpan:6,className:"text-capitalize",children:i}),e.jsx("td",{children:"Total :"}),e.jsxs("td",{children:["K",o.reduce((c,u)=>u.status==="shortage"?c:c+(u.status==="benefit"||u.status==="credit"||u.status==="shortage"||u.status==="allowance"?u.amount:u.days*u.dailySalary-u.deduction),0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]})]}),o.map(c=>e.jsxs("tr",{children:[e.jsx("td",{children:c.date}),e.jsx("td",{children:c.employeeCode}),e.jsx("td",{children:c.firstName}),e.jsx("td",{children:c.lastName}),c.status==="shortage"?e.jsx("td",{colSpan:4,children:c.comment}):e.jsxs(e.Fragment,{children:[e.jsx("td",{children:c.datesWorked&&c.datesWorked.length>0?e.jsx(Rb,{placement:"top",overlay:e.jsx(Wm,{id:`tooltip-${c._id}`,children:r(c.datesWorked)}),children:e.jsx("span",{className:"initialism",children:a(c.datesWorked,c.status)})}):""}),e.jsx("td",{children:c.days}),e.jsx("td",{children:c.dailySalary>0?`K${c.dailySalary}`:""}),e.jsx("td",{children:c.deduction>-1?`K${c.deduction}`:""})]}),e.jsxs("td",{children:["K",c.amount>0?c.amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):(c.days*c.dailySalary-c.deduction).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),e.jsx("td",{className:c.status==="benefit"?"border-2 border-warning-subtle":c.status==="credit"?"border-2 border-info-subtle":c.status==="shortage"?"border-2 border-success-subtle":c.status==="allowance"?"border-2 border-primary-subtle":"",children:c.status})]},c._id))]},i))]})})})}var _0={},R0={exports:{}};(function(t,n){(function(s,r){t.exports=r(xm,l)})(J0,function(s,r){function a(b){return b&&typeof b=="object"&&"default"in b?b:{default:b}}var i=a(r);function o(b,k){var N=Object.keys(b);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(b);k&&(E=E.filter(function(y){return Object.getOwnPropertyDescriptor(b,y).enumerable})),N.push.apply(N,E)}return N}function c(b){for(var k=1;k<arguments.length;k++){var N=arguments[k]!=null?arguments[k]:{};k%2?o(Object(N),!0).forEach(function(E){u(b,E,N[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(N)):o(Object(N)).forEach(function(E){Object.defineProperty(b,E,Object.getOwnPropertyDescriptor(N,E))})}return b}function u(b,k,N){return k in b?Object.defineProperty(b,k,{value:N,enumerable:!0,configurable:!0,writable:!0}):b[k]=N,b}function h(b,k){return function(N){if(Array.isArray(N))return N}(b)||function(N,E){var y=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(y!=null){var w,D,C=[],S=!0,T=!1;try{for(y=y.call(N);!(S=(w=y.next()).done)&&(C.push(w.value),!E||C.length!==E);S=!0);}catch(B){T=!0,D=B}finally{try{S||y.return==null||y.return()}finally{if(T)throw D}}return C}}(b,k)||function(N,E){if(N){if(typeof N=="string")return d(N,E);var y=Object.prototype.toString.call(N).slice(8,-1);if(y==="Object"&&N.constructor&&(y=N.constructor.name),y==="Map"||y==="Set")return Array.from(N);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return d(N,E)}}(b,k)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d(b,k){(k==null||k>b.length)&&(k=b.length);for(var N=0,E=new Array(k);N<k;N++)E[N]=b[N];return E}function x(b,k){var N=b.element,E=b.popper,y=b.position,w=y===void 0?"bottom-center":y,D=b.containerStyle,C=b.containerClassName,S=C===void 0?"":C,T=b.arrow,B=b.arrowStyle,P=B===void 0?{}:B,R=b.arrowClassName,$=R===void 0?"":R,F=b.fixMainPosition,W=b.fixRelativePosition,te=b.offsetY,G=b.offsetX,z=b.animations,I=b.zIndex,M=I===void 0?0:I,fe=b.popperShadow,je=b.onChange,Ae=b.active,ce=Ae===void 0||Ae,oe=b.portal,Pe=b.portalTarget,Ze=typeof window<"u",et=Ze&&Pe instanceof HTMLElement,Ht=T===!0,Kt=E&&ce===!0,ve=r.useRef(),Bt=r.useRef(),_t=r.useRef(),qe=r.useRef(),$e=r.useMemo(function(){return{position:w,fixMainPosition:F,fixRelativePosition:W,offsetY:te,offsetX:G,defaultArrow:Ht,animations:z,zIndex:M,onChange:je}},[w,F,W,te,G,Ht,z,je,M]),tn=r.useCallback(function(){_t.current&&(_t.current.style.transition=""),Bt.current&&(Bt.current.parentNode.style.transition="")},[]),kt={element:c({display:"inline-block",height:"max-content"},D),arrow:c({visibility:"hidden",left:"0",top:"0",position:"absolute"},P),popper:{position:"absolute",left:"0",top:"0",willChange:"transform",visibility:"hidden",zIndex:M}};Ze&&!qe.current&&(qe.current=document.createElement("div"),qe.current.data={portal:oe,isValidPortalTarget:et}),r.useEffect(function(){if(oe&&!et){var dt=qe.current;return document.body.appendChild(dt),function(){document.body.contains(dt)&&document.body.removeChild(dt)}}},[oe,et]),r.useEffect(function(){if(!Kt)return tn(),Bt.current.parentNode.style.visibility="hidden",void(_t.current&&(_t.current.style.visibility="hidden"));function dt(qt){qt&&qt.type!=="resize"&&!qt.target.contains(ve.current)||(qt&&tn(),j(ve,Bt,_t,$e,qt))}return dt(),document.addEventListener("scroll",dt,!0),window.addEventListener("resize",dt),function(){document.removeEventListener("scroll",dt,!0),window.removeEventListener("resize",dt)}},[Kt,$e,tn]),r.useEffect(function(){var dt={portal:oe,isValidPortalTarget:et},qt=qe.current.data;JSON.stringify(dt)!==JSON.stringify(qt)&&(qe.current.data=dt,ve.current.refreshPosition())},[oe,et]);var Fn=i.default.createElement(i.default.Fragment,null,function(){if(!T||!Kt)return null;var dt=i.default.createElement("div",{ref:_t,style:kt.arrow}),qt=r.isValidElement(T)?{children:T}:{className:"ep-arrow ".concat(fe?"ep-shadow":""," ").concat($)};return r.cloneElement(dt,qt)}(),i.default.createElement("div",{className:fe?"ep-popper-shadow":"",style:kt.popper},i.default.createElement("div",{ref:Bt},E)));return i.default.createElement("div",{ref:function(dt){if(dt&&(dt.removeTransition=tn,dt.refreshPosition=function(){return setTimeout(function(){return j(ve,Bt,_t,$e,{})},10)}),ve.current=dt,k instanceof Function)return k(dt);k&&(k.current=dt)},className:S,style:kt.element},N,oe&&Ze?s.createPortal(Fn,et?Pe:qe.current):Fn)}function j(b,k,N,E,y){var w=E.position,D=E.fixMainPosition,C=E.fixRelativePosition,S=E.offsetY,T=S===void 0?0:S,B=E.offsetX,P=B===void 0?0:B,R=E.defaultArrow,$=E.animations,F=$===void 0?[]:$,W=E.zIndex,te=E.onChange;if(b.current&&k.current){var G,z,I,M,fe=(z=window.pageXOffset!==void 0,I=(document.compatMode||"")==="CSS1Compat",{scrollLeft:z?window.pageXOffset:I?document.documentElement.scrollLeft:document.body.scrollLeft,scrollTop:z?window.pageYOffset:I?document.documentElement.scrollTop:document.body.scrollTop}),je=fe.scrollLeft,Ae=fe.scrollTop,ce=v(b.current,je,Ae),oe=ce.top,Pe=ce.left,Ze=ce.height,et=ce.width,Ht=ce.right,Kt=ce.bottom,ve=v(k.current,je,Ae),Bt=ve.top,_t=ve.left,qe=ve.height,$e=ve.width,tn=document.documentElement,kt=tn.clientHeight,Fn=tn.clientWidth,dt=k.current.parentNode,qt=function(Re){if(!Re)return[0,0];var Le=h((Re.style.transform.match(/translate\((.*?)px,\s(.*?)px\)/)||[]).map(function(Ke){return Number(Ke)}),3),be=Le[1],Te=be===void 0?0:be,ze=Le[2];return[Te,ze===void 0?0:ze]}(dt),Ms=h(qt,2),Vr=Ms[0],zs=Ms[1],Hs=function(Re){var Le=h(Re.split("-"),2),be=Le[0],Te=be===void 0?"bottom":be,ze=Le[1],Ke=ze===void 0?"center":ze;Te==="auto"&&(Te="bottom"),Ke==="auto"&&(Ke="center");var Sn=Te==="top"||Te==="bottom",Xt=Te==="left"||Te==="right";return Xt&&(Ke==="start"&&(Ke="top"),Ke==="end"&&(Ke="bottom")),Sn&&(Ke==="start"&&(Ke="left"),Ke==="end"&&(Ke="right")),[Te,Ke,Sn,Xt]}(w),O=h(Hs,4),_=O[0],H=O[1],U=O[2],Z=O[3],J=_,ue=function(Re,Le){return"translate(".concat(Re,"px, ").concat(Le,"px)")},he=et-$e,xe=Ze-qe,ge=H==="left"?0:H==="right"?he:he/2,re=he-ge,Ce=H==="top"?0:H==="bottom"?xe:xe/2,ae=xe-Ce,Ee=Pe-_t+Vr,Ue=oe-Bt+zs,Me=0,Ie=0,Ge=f(b.current),ht=[],ut=N.current,pt=v(ut,je,Ae)||{},ft=pt.height,Fe=ft===void 0?0:ft,vt=pt.width,Ye=vt===void 0?0:vt,Ne=Ee,Se=Ue,we={top:"bottom",bottom:"top",left:"right",right:"left"};for(U&&(Ee+=ge,Ue+=_==="top"?-qe:Ze,R&&(Fe=11,Ye=20)),Z&&(Ee+=_==="left"?-$e:et,Ue+=Ce,R&&(Fe=20,Ye=11));Ge;)ht.push(Ge),He(v(Ge,je,Ae)),Ge=f(Ge.parentNode);He({top:Ae,bottom:Ae+kt,left:je,right:je+Fn,height:kt,width:Fn}),U&&(Ue+=J==="bottom"?T:-T),Z&&(Ee+=J==="right"?P:-P),Ee-=Me,Ue-=Ie,G=we[J],ut&&(U&&((M=et<$e)?Ne+=et/2:Ne=Ee+$e/2,Ne-=Ye/2,J==="bottom"&&(Se=Ue,Ue+=Fe),J==="top"&&(Se=(Ue-=Fe)+qe),Me<0&&Me-ge<0&&(M?Ne+=(ge-Me)/2:et-ge+Me<$e&&(Ne+=(et-ge+Me-$e)/2)),Me>0&&Me+re>0&&(M?Ne-=(Me+re)/2:et-Me-re<$e&&(Ne-=(et-Me-re-$e)/2))),Z&&((M=Ze<qe)?Se+=Ze/2:Se=Ue+qe/2,Se-=Fe/2,J==="left"&&(Ne=(Ee-=Ye)+$e),J==="right"&&(Ne=Ee,Ee+=Ye),Ie<0&&Ie-Ce<0&&(M?Se+=(Ce-Ie)/2:Ze-Ce+Ie<qe&&(Se+=(Ze-Ce+Ie-qe)/2)),Ie>0&&Ie+ae>0&&(M?Se-=(Ie+ae)/2:Ze-Ie-ae<qe&&(Se-=(Ze-Ie-ae-qe)/2))),ut.setAttribute("direction",G),ut.style.height=Fe+"px",ut.style.width=Ye+"px",ut.style.transform=ue(Ne,Se),ut.style.visibility="visible",ut.style.zIndex=W+1),dt.style.transform=ue(Ee,Ue);var ke={popper:{top:Ue,bottom:Ue+qe,left:Ee,right:Ee+$e,height:qe,width:$e},element:{top:oe,bottom:Kt,left:Pe,right:Ht,height:Ze,width:et},arrow:{top:Se,bottom:Se+Fe,left:Ne,right:Ne+Ye,height:Fe,width:Ye,direction:G},position:J+"-"+(Me!==0?"auto":H),scroll:{scrollLeft:je,scrollTop:Ae},scrollableParents:ht,event:y};y||F.forEach(function(Re){Re({popper:dt,arrow:ut,data:c(c({},ke),{},{getTransform:ue,mirror:we})})}),dt.style.visibility="visible",typeof te=="function"&&te(ke)}function He(Re){var Le=Re.top,be=Re.bottom,Te=Re.left,ze=Re.right,Ke=Re.height,Sn=Re.width;if(U){var Xt=Math.round(oe-Le+Ze/2),Ss=Math.round(Ke/2);D||(oe-(qe+T+Fe)<Le&&Xt<=Ss&&J==="top"?(Ue+=qe+Ze,J="bottom"):Kt+qe+T+Fe>Ke+Le&&Xt>=Ss&&J==="bottom"&&(Ue-=qe+Ze,J="top")),C||(Pe+ge<Te&&(Me=p(Ht-Ye>Te?Pe+ge-Te:-et+ge+Ye,Me)),Ht-re>ze&&(Me=p(Pe+Ye<ze?Ht-re-ze:et-re-Ye,Me)))}if(Z){var Qe=Math.round(Pe-Te+et/2),st=Math.round(Sn/2);D||(Pe-($e+P+Ye)<Te&&Qe<st&&J==="left"?(Ee+=et+$e,J="right"):Ht+$e+P+Ye>ze&&Qe>st&&J==="right"&&(Ee-=et+$e,J="left")),C||(oe+Ce<Le&&(Ie=p(Kt-Fe>Le?oe+Ce-Le:-Ze+Ce+Fe,Ie)),Kt-ae>be&&(Ie=p(oe+Fe<be?Kt-ae-be:Ze-ae-Fe,Ie)))}}}function v(b,k,N){if(b){var E=b.getBoundingClientRect(),y=E.top,w=E.left,D=E.width,C=E.height,S=y+N,T=w+k;return{top:S,bottom:S+C,left:T,right:T+D,width:D,height:C}}}function f(b){if(b&&b.tagName!=="HTML"){var k=window.getComputedStyle(b),N=function(E){return["auto","scroll"].includes(E)};return b.clientHeight<b.scrollHeight&&N(k.overflowX)||b.clientWidth<b.scrollWidth&&N(k.overflowY)?b:f(b.parentNode)}}function p(b,k){return Math.round(Math.abs(b))>Math.round(Math.abs(k))?b:k}return r.forwardRef(x)})})(R0);var QA=R0.exports;function Ii(t){return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ii(t)}function JA(t){return function(n){if(Array.isArray(n))return vf(n)}(t)||I0(t)||Xd(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function I0(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dj(t,n){var s=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=Xd(t))||n&&t&&typeof t.length=="number"){s&&(t=s);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,c=!1;return{s:function(){s=s.call(t)},n:function(){var u=s.next();return o=u.done,u},e:function(u){c=!0,i=u},f:function(){try{o||s.return==null||s.return()}finally{if(c)throw i}}}}function $j(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,r)}return s}function Tj(t){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?$j(Object(s),!0).forEach(function(r){XA(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):$j(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function XA(t,n,s){return(n=M0(n))in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}function Ra(t,n){return P0(t)||function(s,r){var a=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(a!=null){var i,o,c,u,h=[],d=!0,x=!1;try{if(c=(a=a.call(s)).next,r===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(i=c.call(a)).done)&&(h.push(i.value),h.length!==r);d=!0);}catch(j){x=!0,o=j}finally{try{if(!d&&a.return!=null&&(u=a.return(),Object(u)!==u))return}finally{if(x)throw o}}return h}}(t,n)||Xd(t,n)||F0()}function F0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xd(t,n){if(t){if(typeof t=="string")return vf(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?vf(t,n):void 0}}function vf(t,n){(n==null||n>t.length)&&(n=t.length);for(var s=0,r=new Array(n);s<n;s++)r[s]=t[s];return r}function P0(t){if(Array.isArray(t))return t}function ZA(t,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M0(r.key),r)}}function M0(t){var n=function(s,r){if(Ii(s)!=="object"||s===null)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var i=a.call(s,r||"default");if(Ii(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}(t,"string");return Ii(n)==="symbol"?n:String(n)}function Cn(t,n,s){(function(r,a){if(a.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.set(t,s)}function K(t,n){return function(s,r){return r.get?r.get.call(s):r.value}(t,z0(t,n,"get"))}function le(t,n,s){return function(r,a,i){if(a.set)a.set.call(r,i);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=i}}(t,z0(t,n,"set"),s),s}function z0(t,n,s){if(!n.has(t))throw new TypeError("attempted to "+s+" private field on non-instance");return n.get(t)}function eB(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tB(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Oj={name:"gregorian_en",months:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]],weekDays:[["Saturday","Sat"],["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"]],digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]},gc={name:"gregorian",startYear:1,yearLength:365,epoch:1721424,century:20,weekStartDayIndex:1,getMonthLengths:function(t){return[31,t?29:28,31,30,31,30,31,31,30,31,30,31]},isLeap:function(t){return t%4==0&&t%100!=0||t%400==0},getLeaps:function(t){if(t!==0){for(var n=t>0?1:-1,s=[];t>0?n<=t:t<=n;)this.isLeap(n)&&s.push(n),t>0?n++:n--;return s}},getDayOfYear:function(t){for(var n=t.year,s=t.month,r=t.day,a=this.getMonthLengths(this.isLeap(n)),i=0;i<s.index;i++)r+=a[i];return r},getAllDays:function(t){var n=t.year;return this.yearLength*(n-1)+this.leapsLength(n)+this.getDayOfYear(t)},leapsLength:function(t){return((t-1)/4|0)+(-(t-1)/100|0)+((t-1)/400|0)},guessYear:function(t,n){return~~(t/365.24)+(n>0?1:-1)}};function ta(t){return t&&t.constructor===Object}function ks(t){if(!isNaN(t))return parseInt(t)}function Ia(t){return Array.isArray(t)}function mi(t,n,s){return t===void 0||t<n||t>s}var Nn=new WeakMap,Gt=new WeakMap,Et=new WeakMap,Ls=new WeakMap,wr=new WeakMap,kr=new WeakMap,rn=new WeakMap,Lr=new WeakMap,An=new WeakMap,Yt=new WeakMap,xi=new WeakMap,Es=new WeakMap,Aj=new WeakMap,pi=new WeakMap,ji=new WeakMap,Bj=new WeakMap,Yu=new WeakMap,Ds=new WeakMap,Wu=new WeakMap,nB=function(){function t(r){var a=this;(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,t),Cn(this,Nn,{writable:!0,value:void 0}),Cn(this,Gt,{writable:!0,value:void 0}),Cn(this,Et,{writable:!0,value:void 0}),Cn(this,Ls,{writable:!0,value:void 0}),Cn(this,wr,{writable:!0,value:void 0}),Cn(this,kr,{writable:!0,value:void 0}),Cn(this,rn,{writable:!0,value:void 0}),Cn(this,Lr,{writable:!0,value:void 0}),Cn(this,An,{writable:!0,value:Oj}),Cn(this,Yt,{writable:!0,value:gc}),Cn(this,xi,{writable:!0,value:!1}),Cn(this,Es,{writable:!0,value:{}}),Cn(this,Aj,{writable:!0,value:/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ$/}),Cn(this,pi,{writable:!0,value:[]}),Cn(this,ji,{writable:!0,value:!0}),Cn(this,Bj,{writable:!0,value:function(u,h){switch(u){case"YYYY":return["year",h];case"YY":return["year","".concat(K(a,Yt).century).concat(h)];case"MMMM":case"MMM":return["month",a.months.findIndex(function(x){var j=x.name,v=x.shortName;return new RegExp(h,"i").test(j+v)})+1];case"MM":case"M":return["month",h];case"DD":case"D":return["day",h];case"HH":case"H":return["hour",h];case"hh":case"h":var d=ks(h);return["hour",d>12?d-12:d];case"mm":case"m":return["minute",h];case"ss":case"s":return["second",h];case"SSS":case"SS":case"S":return["millisecond",h];default:return[]}}}),Cn(this,Yu,{writable:!0,value:function(){return K(a,Nn)===0&&K(a,Yt).startYear!==0}}),Cn(this,Ds,{writable:!0,value:function(){if(K(a,ji)&&a.isValid){var u=Math.floor,h=function(p,b){return[(E=p,(E<0?-1:1)*Math.abs(u(p/b))),(k=p,N=b,(k<0&&u(k%N)!==-0?N:0)+u(p%b))];var k,N,E},d=function(){if(K(a,Gt)<0||K(a,Gt)>11){var p=K(a,Gt)<0?-1:1,b=Ra(h(K(a,Gt),12),2),k=b[0],N=b[1];le(a,Nn,K(a,Nn)+k),le(a,Gt,N),K(a,Yu).call(a)&&le(a,Nn,p)}};for(le(a,ji,!1),[["millisecond","second",1e3],["second","minute",60],["minute","hour",60],["hour","day",24]].forEach(function(p){var b=Ra(p,3),k=b[0],N=b[1],E=b[2];if(function(C,S){return C>=S||C<0}(a[k],E)){var y=Ra(h(a[k],E),2),w=y[0],D=y[1];a[N]+=w,a[k]=D}}),le(a,ji,!0),d();K(a,Et)<-K(a,Yt).yearLength||K(a,Et)>K(a,Yt).yearLength;){if(K(a,Gt)>0){for(var x=K(a,Yt).getMonthLengths(a.isLeap),j=0;j<K(a,Gt);j++)le(a,Et,K(a,Et)+x[j]);le(a,Gt,0)}var v=a.isLeap?a.calendar.yearLength+1:a.calendar.yearLength;le(a,Et,K(a,Et)+v*(K(a,Et)<0?1:-1)),le(a,Nn,K(a,Nn)+(K(a,Et)<0?-1:1))}for(;;){var f;for(d();K(a,Et)<1;)le(a,Gt,K(a,Gt)-1),d(),le(a,Et,a.month.length+K(a,Et));if(K(a,Et)<=a.month.length||isNaN(K(a,Et)))break;le(a,Et,K(a,Et)-a.month.length),le(a,Gt,(f=K(a,Gt),f++,f))}K(a,Ls)||le(a,Ls,0),K(a,wr)||le(a,wr,0),K(a,kr)||le(a,kr,0),K(a,rn)||le(a,rn,0)}}}),Cn(this,Wu,{writable:!0,value:function(){return(K(a,Es).weekDays||K(a,An).weekDays).map(function(u,h){var d=Ra(u,2),x=d[0],j=d[1],v=h-a.weekStartDayIndex;return v<0&&(v+=7),{name:x,shortName:j,index:v,number:v+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}})}});var i=ta(r)?Tj({},r):r,o=!0;if(i&&typeof i!="boolean"||(i={date:new Date}),ta(i)||(i={date:i}),Object.keys(i).length!==0){for(var c in ta(i.calendar)&&le(this,Yt,i.calendar),ta(i.locale)&&le(this,An,i.locale),isNaN(i.year)&&isNaN(i.month)&&isNaN(i.day)&&!i.date&&(i.date=new Date),i.date&&(typeof i.date=="string"&&i.format&&le(this,Lr,i.format),this.setDate(i.date),i.calendar&&this.convert(i.calendar),o=!1),delete i.calendar,delete i.locale,delete i.date,i)this.set(c,i[c]);K(this,Yu).call(this)&&le(this,Nn,-1),o&&K(this,Ds).call(this)}}var n,s;return n=t,s=[{key:"parse",value:function(r){if(!r)return this;var a,i,o=K(this,Lr),c=K(this,An).digits,u=Dj(c);try{for(u.s();!(a=u.n()).done;){var h=a.value;r=r.replace(new RegExp(h,"g"),c.indexOf(h))}}catch(P){u.e(P)}finally{u.f()}if(o)for(var d=o.split(/[^\w\u0600-\u06FF]/),x=r.split(/[^\w\u0600-\u06FF]/),j=0;j<d.length;j++)this.set.apply(this,JA(K(this,Bj).call(this,d[j],x[j])));else{var v=r.match(/(-?\d{2,4})?\W?([A-z]{3,9}|\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,3})?\W?(am|pm)?/),f=(P0(i=v)||I0(i)||Xd(i)||F0()).slice(1),p=f[1];p&&(p=/\d+/.test(p)?ks(p)-1:this.months.findIndex(function(P){return new RegExp(p,"i").test(P.name)})),f[1]=p;var b=Ra(f.map(ks),7),k=b[0],N=b[1],E=b[2],y=b[3],w=b[4],D=b[5],C=b[6];le(this,Nn,k),le(this,Gt,N),le(this,Et,E),le(this,Ls,y),le(this,wr,w),le(this,kr,D),le(this,rn,C)}var S=Ra(K(this,An).meridiems[1],2),T=S[0],B=S[1];return K(this,Ls)<12&&(r.includes(T)||r.includes(B))&&le(this,Ls,K(this,Ls)+12),K(this,Ds).call(this),this}},{key:"convert",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gc,a=arguments.length>1?arguments[1]:void 0;if(ta(a)&&le(this,An,a),!ta(r)||r.name===K(this,Yt).name)return this;var i=this.toJulianDay()-r.epoch,o=new t({calendar:r,year:r.guessYear(i,K(this,Nn)),month:1,day:1});return o.day+=i-o.toDays(),le(this,Nn,o.year),le(this,Gt,o.month.index),le(this,Et,o.day),le(this,Yt,r),this}},{key:"format",value:function(r,a){if(!this.isValid||r&&typeof r!="string")return"";r||(r=K(this,Lr)||"YYYY/MM/DD"),Ia(a)||(a=[]),a=(a=a.concat(K(this,pi))).filter(function(j){return typeof j=="string"||(console.warn("type of all items in the ignore list must be string, found",Ii(j)),!1)}).map(function(j){return j.replace(/[*/+\-()[\]{}\s$^]/g,function(v){return"\\"+v})});var i,o=new RegExp("".concat(a.join("|")).concat(a.length>0?"|":"","YYYY|YY|MMMM|MMM|MM|M|WW|W|DDDD|DDD|DD|D|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|SSS|SS|S|A|a|."),"g"),c="",u=Dj(r.match(o)||[]);try{for(u.s();!(i=u.n()).done;){var h=i.value,d=this.getValue(h);c+=a.includes(h)?h:d===0?d:d||h}}catch(j){u.e(j)}finally{u.f()}var x=this.digits;return c.replace(/[0-9]/g,function(j){return x[j]})}},{key:"getProperty",value:function(r){return this.getValue(r)}},{key:"getValue",value:function(r){var a=function(i){return i<10?"0"+i:i};switch(r){case"YYYY":return this.year;case"YY":return this.year.toString().substring(2,4);case"MMMM":return this.month.name;case"MMM":return this.month.shortName;case"MM":return a(this.month.number);case"M":return this.month.number;case"WW":return a(this.weekOfYear);case"W":return this.weekOfYear;case"DDDD":case"DDD":return this.dayOfYear;case"DD":return a(this.day);case"D":return this.day;case"HH":return a(this.hour);case"H":return this.hour;case"dddd":return this.weekDay.name;case"ddd":return this.weekDay.shortName;case"dd":return a(this.weekDay.number);case"d":return this.weekDay.number;case"hh":return a(this.hour>12?this.hour-12:this.hour||12);case"h":return this.hour>12?this.hour-12:this.hour||12;case"mm":return a(this.minute);case"m":return this.minute;case"ss":return a(this.second);case"s":return this.second;case"SSS":return K(this,rn)<10?"00".concat(K(this,rn)):K(this,rn)<100?"0".concat(K(this,rn)):K(this,rn);case"SS":return K(this,rn)<10?"00":K(this,rn)<100?("0"+K(this,rn)).substring(2,0):K(this,rn).toString().substring(0,2);case"S":return K(this,rn)<10||K(this,rn)<100?"0":K(this,rn).toString().substring(0,1);case"a":return this.hour>=12?K(this,An).meridiems[1][1]:K(this,An).meridiems[0][1];case"A":return this.hour>=12?K(this,An).meridiems[1][0]:K(this,An).meridiems[0][0];default:return""}}},{key:"setYear",value:function(r){return this.year=r,this}},{key:"setMonths",value:function(r){return this.months=r,this}},{key:"setMonth",value:function(r){return this.month=r,this}},{key:"setWeekDays",value:function(r){return this.weekDays=r,this}},{key:"setDigits",value:function(r){return this.digits=r,this}},{key:"setDay",value:function(r){return this.day=r,this}},{key:"setHour",value:function(r){return this.hour=r,this}},{key:"setMinute",value:function(r){return this.minute=r,this}},{key:"setSecond",value:function(r){return this.second=r,this}},{key:"setMillisecond",value:function(r){return this.millisecond=r,this}},{key:"setFormat",value:function(r){return le(this,Lr,r),this}},{key:"setLocale",value:function(r){return this.locale=r,this}},{key:"setCalendar",value:function(r){return this.calendar=r,this}},{key:"setDate",value:function(r){if(typeof r=="string"){if(!K(this,Aj).test(r))return this.parse(r);r=new Date(r)}return typeof r=="number"&&(r=new Date(r)),r instanceof Date&&(le(this,Yt,gc),le(this,Nn,r.getFullYear()),le(this,Gt,r.getMonth()),le(this,Et,r.getDate()),le(this,Ls,r.getHours()),le(this,wr,r.getMinutes()),le(this,kr,r.getSeconds()),le(this,rn,r.getMilliseconds()),le(this,xi,!1)),r instanceof t&&(le(this,Nn,r.year),le(this,Gt,r.month.index),le(this,Et,r.day),le(this,Ls,r.hour),le(this,wr,r.minute),le(this,kr,r.second),le(this,rn,r.millisecond),le(this,An,r.locale),le(this,Lr,r._format),le(this,Yt,r.calendar),le(this,xi,r.isUTC),le(this,pi,r.ignoreList),le(this,Es,r.custom)),this}},{key:"setIgnoreList",value:function(r){return this.ignoreList=r,this}},{key:"set",value:function(r,a){if(r==null)return this;if(ta(r)){var i=Tj({},r);for(var o in i.date&&(this.setDate(i.date),delete i.date),i.calendar&&(this.convert(i.calendar),delete i.calendar),i.locale&&(this.setLocale(i.locale),delete i.locale),le(this,ji,!1),i)this.set(o,i[o]);return le(this,ji,!0),K(this,Ds).call(this),this}r==="format"&&(r="_format");try{this[r]=a}catch{}return this}},{key:"add",value:function(r,a){if(!(r=ks(r))||!a)return this;switch(a){case"years":case"y":a="year";break;case"months":case"M":a="month";break;case"days":case"d":a="day";break;case"hours":case"h":a="hour";break;case"minutes":case"m":a="minute";break;case"seconds":case"s":a="second";break;case"milliseconds":case"ms":a="millisecond"}return this[a]+=r,this}},{key:"subtract",value:function(r,a){return this.add(-r,a)}},{key:"toFirstOfYear",value:function(){return this.month=1,this.day=1,this}},{key:"toLastOfYear",value:function(){return this.day>=29&&(this.day=29),this.month=12,this.toLastOfMonth(),this}},{key:"toFirstOfMonth",value:function(){return le(this,Et,1),this}},{key:"toLastOfMonth",value:function(){return le(this,Et,0),le(this,Gt,K(this,Gt)+1),K(this,Ds).call(this),this}},{key:"toFirstOfWeek",value:function(){return this.day-=this.weekDay.index,this}},{key:"toLastOfWeek",value:function(){return this.day+=6-this.weekDay.index,this}},{key:"toFirstWeekOfYear",value:function(){return this.toFirstOfYear(),this.weekDay.index===0?this:this.toLastOfWeek().setDay(this.day+1)}},{key:"toLastWeekOfYear",value:function(){return this.toLastOfYear().toFirstOfWeek()}},{key:"toString",value:function(){return this.format()}},{key:"toDate",value:function(){var r=new t(this);return K(this,Yt).name!=="gregorian"&&r.convert(gc),new Date(r.year,r.month.index,r.day,r.hour,r.minute,r.second,r.millisecond)}},{key:"toUTC",value:function(){return K(this,xi)||(this.minute+=this.toDate().getTimezoneOffset(),le(this,xi,!0)),this}},{key:"toUnix",value:function(){return this.unix}},{key:"toJulianDay",value:function(){return this.toDays()+K(this,Yt).epoch}},{key:"toObject",value:function(){return{year:K(this,Nn),month:this.month,day:K(this,Et),weekDay:this.weekDay,hour:K(this,Ls),minute:K(this,wr),second:K(this,kr),millisecond:K(this,rn),weekOfYear:this.weekOfYear,dayOfYear:this.dayOfYear,daysLeft:this.daysLeft,calendar:K(this,Yt),locale:K(this,An),format:K(this,Lr)||"YYYY/MM/DD",ignoreList:K(this,pi)}}},{key:"toJSON",value:function(){return this.valueOf()}},{key:"valueOf",value:function(){return this.toDate().valueOf()}},{key:"toDays",value:function(){if(this.isValid)return K(this,Yt).getAllDays(this)}},{key:"dayOfBeginning",get:function(){return this.toDays()}},{key:"dayOfYear",get:function(){if(this.isValid)return K(this,Yt).getDayOfYear(this)}},{key:"weekOfYear",get:function(){if(this.isValid)return 1+~~(this.dayOfYear/7)}},{key:"daysLeft",get:function(){if(this.isValid){var r=K(this,Yt).yearLength;return(this.isLeap?r+1:r)-this.dayOfYear}}},{key:"year",get:function(){return K(this,Nn)},set:function(r){le(this,Nn,ks(r)),K(this,Ds).call(this)}},{key:"month",get:function(){return this.months[K(this,Gt)]||{}},set:function(r){var a;r=(a=ks(r.valueOf())-1)!==null&&a!==void 0?a:void 0,le(this,Gt,r),mi(r,0,11)&&K(this,Ds).call(this)}},{key:"monthIndex",get:function(){return K(this,Gt)}},{key:"day",get:function(){return K(this,Et)},set:function(r){r=ks(r),le(this,Et,r),mi(r,1,28)&&K(this,Ds).call(this)}},{key:"weekDay",get:function(){if(!this.isValid)return{};var r=(this.toJulianDay()+3)%7;return K(this,Wu).call(this)[r]}},{key:"hour",get:function(){return K(this,Ls)},set:function(r){r=ks(r),le(this,Ls,r),mi(r,0,23)&&K(this,Ds).call(this)}},{key:"minute",get:function(){return K(this,wr)},set:function(r){r=ks(r),le(this,wr,r),mi(r,0,59)&&K(this,Ds).call(this)}},{key:"second",get:function(){return K(this,kr)},set:function(r){r=ks(r),le(this,kr,r),mi(r,0,59)&&K(this,Ds).call(this)}},{key:"millisecond",get:function(){return K(this,rn)},set:function(r){r=ks(r),le(this,rn,r),mi(r,0,999)&&K(this,Ds).call(this)}},{key:"months",get:function(){var r=K(this,Yt).getMonthLengths(this.isLeap),a=(K(this,Es).months||K(this,An).months).map(function(i,o){var c=Ra(i,2);return{name:c[0],shortName:c[1],length:r[o],index:o,number:o+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}});return a},set:function(r){if(!r)return delete K(this,Es).months;Ia(r)&&r.length===12&&r.every(function(a){return Ia(a)&&a.length===2&&a.every(function(i){return typeof i=="string"})})&&(K(this,Es).months=r)}},{key:"weekDays",get:function(){return K(this,Wu).call(this).sort(function(r,a){return r.index-a.index})},set:function(r){if(!r)return delete K(this,Es).weekDays;Ia(r)&&r.length===7&&r.every(function(a){return Ia(a)&&a.length===2&&a.every(function(i){return typeof i=="string"})})&&(K(this,Es).weekDays=r)}},{key:"leaps",get:function(){return K(this,Yt).getLeaps(K(this,Nn))}},{key:"calendar",get:function(){return K(this,Yt)},set:function(r){this.convert(r)}},{key:"locale",get:function(){return K(this,An)},set:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Oj;ta(r)&&le(this,An,r)}},{key:"custom",get:function(){return K(this,Es)}},{key:"meridiems",get:function(){return K(this,An).meridiems}},{key:"digits",get:function(){return K(this,Es).digits||K(this,An).digits},set:function(r){if(!r)return delete K(this,Es).digits;Ia(r)&&r.length===10&&(K(this,Es).digits=r)}},{key:"_format",get:function(){return K(this,Lr)},set:function(r){typeof r=="string"&&le(this,Lr,r)}},{key:"isLeap",get:function(){return K(this,Yt).isLeap(K(this,Nn))}},{key:"isValid",get:function(){return!isNaN(K(this,Nn))&&!isNaN(K(this,Gt))&&!isNaN(K(this,Et))}},{key:"isUTC",get:function(){return K(this,xi)}},{key:"unix",get:function(){return(this.valueOf()-this.millisecond)/1e3}},{key:"ignoreList",get:function(){return K(this,pi)},set:function(r){Ia(r)&&le(this,pi,r)}},{key:"weekStartDayIndex",get:function(){return K(this,Yt).weekStartDayIndex},set:function(r){(r=ks(r))!==void 0&&(K(this,Yt).weekStartDayIndex=Math.abs(r)%7)}},{key:"date",set:function(r){this.setDate(r)}}],s&&ZA(n.prototype,s),Object.defineProperty(n,"prototype",{writable:!1}),t}(),sB=eB(tB(nB));const rB=Object.freeze(Object.defineProperty({__proto__:null,default:sB},Symbol.toStringTag,{value:"Module"})),aB=X0(rB);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var n=l,s=QA,r=aB;function a(O){return O&&typeof O=="object"&&"default"in O?O:{default:O}}var i=a(n),o=a(s),c=a(r);function u(O,_){var H=Object.keys(O);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(O);_&&(U=U.filter(function(Z){return Object.getOwnPropertyDescriptor(O,Z).enumerable})),H.push.apply(H,U)}return H}function h(O){for(var _=1;_<arguments.length;_++){var H=arguments[_]!=null?arguments[_]:{};_%2?u(Object(H),!0).forEach(function(U){d(O,U,H[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(H)):u(Object(H)).forEach(function(U){Object.defineProperty(O,U,Object.getOwnPropertyDescriptor(H,U))})}return O}function d(O,_,H){return(_=function(U){var Z=function(J,ue){if(typeof J!="object"||J===null)return J;var he=J[Symbol.toPrimitive];if(he!==void 0){var xe=he.call(J,ue||"default");if(typeof xe!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ue==="string"?String:Number)(J)}(U,"string");return typeof Z=="symbol"?Z:String(Z)}(_))in O?Object.defineProperty(O,_,{value:H,enumerable:!0,configurable:!0,writable:!0}):O[_]=H,O}function x(){return x=Object.assign?Object.assign.bind():function(O){for(var _=1;_<arguments.length;_++){var H=arguments[_];for(var U in H)Object.prototype.hasOwnProperty.call(H,U)&&(O[U]=H[U])}return O},x.apply(this,arguments)}function j(O,_){if(O==null)return{};var H,U,Z=function(ue,he){if(ue==null)return{};var xe,ge,re={},Ce=Object.keys(ue);for(ge=0;ge<Ce.length;ge++)xe=Ce[ge],he.indexOf(xe)>=0||(re[xe]=ue[xe]);return re}(O,_);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(O);for(U=0;U<J.length;U++)H=J[U],_.indexOf(H)>=0||Object.prototype.propertyIsEnumerable.call(O,H)&&(Z[H]=O[H])}return Z}function v(O,_){return function(H){if(Array.isArray(H))return H}(O)||function(H,U){var Z=H==null?null:typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(Z!=null){var J,ue,he,xe,ge=[],re=!0,Ce=!1;try{if(he=(Z=Z.call(H)).next,U===0){if(Object(Z)!==Z)return;re=!1}else for(;!(re=(J=he.call(Z)).done)&&(ge.push(J.value),ge.length!==U);re=!0);}catch(ae){Ce=!0,ue=ae}finally{try{if(!re&&Z.return!=null&&(xe=Z.return(),Object(xe)!==xe))return}finally{if(Ce)throw ue}}return ge}}(O,_)||p(O,_)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(O){return function(_){if(Array.isArray(_))return b(_)}(O)||function(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}(O)||p(O)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(O,_){if(O){if(typeof O=="string")return b(O,_);var H=Object.prototype.toString.call(O).slice(8,-1);return H==="Object"&&O.constructor&&(H=O.constructor.name),H==="Map"||H==="Set"?Array.from(O):H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?b(O,_):void 0}}function b(O,_){(_==null||_>O.length)&&(_=O.length);for(var H=0,U=new Array(_);H<_;H++)U[H]=O[H];return U}function k(O,_){var H=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!H){if(Array.isArray(O)||(H=p(O))||_&&O&&typeof O.length=="number"){H&&(O=H);var U=0,Z=function(){};return{s:Z,n:function(){return U>=O.length?{done:!0}:{done:!1,value:O[U++]}},e:function(xe){throw xe},f:Z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var J,ue=!0,he=!1;return{s:function(){H=H.call(O)},n:function(){var xe=H.next();return ue=xe.done,xe},e:function(xe){he=!0,J=xe},f:function(){try{ue||H.return==null||H.return()}finally{if(he)throw J}}}}function N(O){return Array.isArray(O)}function E(O){var _=O.state.date,H=_.calendar,U=_.locale,Z=O.customWeekDays,J=O.weekStartDayIndex,ue=O.displayWeekNumbers,he=O.weekNumber,xe=n.useMemo(function(){var ge=Z;return N(ge)&&ge.length>=7?(ge.length=7,ge=ge.map(function(re){return N(re)&re.length>1?re=re[1]:N(re)&&(re=re[0]),re})):ge=new c.default({year:1,calendar:H,locale:U}).weekDays.map(function(re){return re.shortName}),ge},[H,U,Z]);return xe=f(xe).slice(J).concat(f(xe).splice(0,J)),i.default.createElement("div",{className:"rmdp-week"},ue&&i.default.createElement("div",{className:"rmdp-week-day"},he),xe.map(function(ge,re){return i.default.createElement("div",{key:re,className:"rmdp-week-day"},ge)}))}function y(O,_){var H=arguments.length>2&&arguments[2]!==void 0&&arguments[2],U=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!O||!_)return!1;if(O.year===_.year){if(U)return!0;if(O.monthIndex===_.monthIndex)return!!H||O.day===_.day}}function w(O){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY/MM/DD";return O.format(_)}function D(O,_,H){var U=H.multiple,Z=H.range,J=H.selectedDate,ue=H.onlyMonthPicker,he=H.onlyYearPicker,xe=H.format,ge=H.focused,re=H.weekPicker;O.setFormat(xe);var Ce=new c.default(O);return J=U&&Z?function(){var ae=!0;N(J)||(J=[[J]]);var Ee=J.find(function(Ge){return Ge.length===1}),Ue=ue?"YYYY/MM":"YYYY/MM/DD",Me=J;if(Ee){var Ie=Ee[0];Me=Me.filter(function(Ge){if(Ge.length===1)return!0;var ht=v(Ge,2),ut=ht[0],pt=ht[1],ft=v([Ie,Ce].sort(function(ke,He){return ke-He}),2),Fe=[ut,pt,ft[0],ft[1]].map(function(ke){return w(ke,Ue)}),vt=v(Fe,4),Ye=vt[0],Ne=vt[1],Se=vt[2],we=vt[3];return!(Se<=Ye&&we>=Ne||Se>=Ye&&we>=Ne&&Se<=Ne||Se<=Ye&&we<=Ne&&we>=Ye)})}else Me=Me.filter(function(Ge){if(!N(Ge))return!0;if(Ge.length===0)return!1;var ht=v(Ge,2),ut=[ht[0],ht[1],Ce].map(function(Ye){return w(Ye,Ue)}),pt=v(ut,3),ft=pt[0],Fe=pt[1],vt=pt[2];return!(vt>=ft&&vt<=Fe)});return Me=Me.map(function(Ge){var ht;return N(Ge)?Ge.length===1?(ae=!1,ht=Ge.concat(Ce)):ht=Ge:(ae=!1,ht=[Ge,Ce]),ht.sort(function(ut,pt){return ut-pt})}),ae&&(Me=[].concat(f(Me),[[Ce]])),Me}():U?function(){var ae=J.filter(function(Ee){return!y(O,Ee,ue,he)});return ae.length===J.length?ae.push(Ce):Ce=ae.find(function(Ee){return y(Ee,ge)}),_&&ae.sort(function(Ee,Ue){return Ee-Ue}),ae}():Z?function(){if(re)return[new c.default(Ce).toFirstOfWeek(),new c.default(Ce).toLastOfWeek()];if(J.length===2||J.length===0)return[Ce];if(J.length===1)return[J[0],Ce].sort(function(ae,Ee){return ae-Ee})}():Ce,[J,Ce]}function C(O,_,H,U){var Z=[],J=H?"YYYY/MM":"YYYY/MM/DD",ue=w(O,J);function he(xe){var ge=xe[0],re=xe[1];if(xe.length===1)y(O,ge,H)&&Z.push("rmdp-range");else if(xe.length===2){var Ce=[ge,re].map(function(Me){return w(Me,J)}),ae=v(Ce,2),Ee=ae[0],Ue=ae[1];ue>=Ee&&ue<=Ue&&Z.push("rmdp-range"),ue===Ee&&Z.push("start"),ue===Ue&&Z.push("end")}}return U?(N(_)?_:[[_]]).forEach(he):he(_),Z.join(" ")}function S(O,_,H,U){var Z=arguments.length>5?arguments[5]:void 0,J=[];if(U&&H){var ue,he=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:"day")==="day"?"YYYY/MM/DD":"YYYY/MM",xe=H.format(he),ge=O.format(he);if(Z||(_==null?void 0:_.length)!==1){if(Z&&N(_)){var re,Ce=k(_);try{for(Ce.s();!(re=Ce.n()).done;){var ae=re.value;if(N(ae)&&ae.length===1){ue=ae[0].format(he);break}}}catch(Ee){Ce.e(Ee)}finally{Ce.f()}}}else ue=_[0].format(he);(ge>ue&&ge<=xe||ge<ue&&ge>=xe)&&(J.push("rmdp-range-hover"),ge===xe&&J.push(xe>ue?"end":"start"),N(_)&&_.flat().some(function(Ee){return Ee.format(he)===ge})&&J.push("force"))}return J}function T(O,_,H){if(O){var U=B(O);return H?Array.from(U.querySelectorAll(_)):U.querySelector(_)}}function B(O){return O.closest(".rmdp-calendar")}var P=["selected","today","day:not(.rmdp-day-hidden):not(.rmdp-disabled)"];function R(O,_,H){var U=H.type,Z=U===void 0?"day":U,J=H.format;O.preventDefault();var ue=O.currentTarget,he=O.key,xe=O.code,ge=Z==="day"?7:3,re=B(ue),Ce=re&&re.classList.contains("rmdp-rtl"),ae={ArrowRight:Ce?-1:1,ArrowLeft:Ce?1:-1,ArrowUp:-ge,ArrowDown:ge};if(xe==="Space"||he===" ")ue.click();else if(Object.keys(ae).includes(he)){var Ee=function(){if(Z==="month")return $(re,[P[2]]);var Ge=T(ue,Ue<0?".rmdp-left":".rmdp-right");Ge&&(Ge.click(),$(re))},Ue=ae[he],Me=new c.default(_.date).add(Ue,Z);(function(Ge){if(!Ge)return Ee();var ht=Ge.getAttribute("class");ht.includes("hidden")||ht.includes("disabled")?R(O,h(h({},_),{},{date:Me}),{type:Z,format:J}):Ge.focus()})(T(ue,'[aria-label*="'.concat(_.year?"year ".concat(_.year+Ue):Me.format(J),'"]')))}else{var Ie=T(ue,".rmdp-arrow-container");Ie&&Ie.focus()}}function $(O){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P,H=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],U="[data-active='true']";O.querySelectorAll("".concat(U," [tabindex='0']")).forEach(function(Z){return Z.setAttribute("tabindex","-1")}),setTimeout(function(){var Z,J=k(_);try{for(J.s();!(Z=J.n()).done;){var ue=Z.value,he=O.querySelector("".concat(U," .rmdp-").concat(ue));if(he){he.setAttribute("tabindex","0"),H&&he.focus();break}}}catch(xe){J.e(xe)}finally{J.f()}},10)}var F="dddd MMMM DD of YYYY";function W(O){var _=O.state,H=O.onChange,U=O.showOtherDays,Z=U!==void 0&&U,J=O.mapDays,ue=O.onlyShowInRangeDates,he=O.customWeekDays,xe=O.sort,ge=O.numberOfMonths,re=O.isRTL,Ce=O.weekStartDayIndex,ae=O.handleFocusedDate,Ee=O.hideWeekDays,Ue=O.fullYear,Me=v(O.monthAndYears,1)[0],Ie=O.displayWeekNumbers,Ge=O.weekNumber,ht=Ge===void 0?"":Ge,ut=O.rangeHover,pt=O.highlightToday,ft=n.useRef({}),Fe=n.useRef(),vt=_.today,Ye=_.minDate,Ne=_.maxDate,Se=_.range,we=_.multiple,ke=_.date,He=_.selectedDate,Re=_.onlyMonthPicker,Le=_.onlyYearPicker,be=_.mustShowMonthPicker,Te=_.mustShowYearPicker,ze=!Re&&!Le,Ke=v(n.useState(),2),Sn=Ke[0],Xt=Ke[1];ft.current.date=ke;var Ss=n.useMemo(function(){return ze?function(st,Ut,Lt,Yn){if(!st)return[];for(var jt=[],bs=0;bs<Lt;bs++){var Pn=(st=new c.default(st).toFirstOfMonth()).monthIndex,es=[];st.toFirstOfWeek().add(Yn,"day"),st.monthIndex===Pn&&st.day>1&&st.subtract(7,"days");for(var Ln=0;Ln<6;Ln++){for(var Mn=[],cn=0;cn<7;cn++)Mn.push({date:new c.default(st),day:st.format("D"),current:st.monthIndex===Pn}),st.day+=1;if(es.push(Mn),Ln>2&&st.monthIndex!==Pn)break}jt.push(es)}return jt}(ft.current.date,0,ge,Ce):[]},[ke.monthIndex,ke.year,ke.calendar,ke.locale,ze,Z,ge,Ce]);return ze&&i.default.createElement("div",{ref:Fe,className:"rmdp-day-picker ".concat(Ue?"rmdp-full-year":""),style:{display:Ue?"grid":"flex"},onMouseLeave:function(){return ut&&Xt()},"data-active":ze&&!be&&!Te},Ss.map(function(st,Ut){return i.default.createElement("div",{key:Ut,style:d({},re?"marginLeft":"marginRight",Ut+(Ue?0:1)<ge?"10px":"")},Ue&&i.default.createElement("div",{className:"rmdp-month-name"},Me[Ut]),!Ee&&i.default.createElement(E,{state:_,customWeekDays:he,weekStartDayIndex:Ce,displayWeekNumbers:Ie,weekNumber:ht}),st.map(function(Lt,Yn){return i.default.createElement("div",{key:Yn,className:"rmdp-week"},Ie&&i.default.createElement("div",{className:"rmdp-day rmdp-disabled"},i.default.createElement("span",null,Lt[0].date.format("WW"))),Lt.map(function(jt,bs){var Pn=function(gt){if(!gt.current&&!Z)return{};var St={};return J.forEach(function(nn){var bn,sn=nn({date:gt.date,today:vt,currentMonth:_.date.month,selectedDate:_.selectedDate,isSameDate:y});((bn=sn)===null||bn===void 0?void 0:bn.constructor)!==Object&&(sn={}),(sn.disabled||sn.hidden)&&(gt.disabled=!0),sn.hidden&&(gt.hidden=!0),St=h(h({},St),sn)}),delete St.disabled,delete St.hidden,St}(jt={date:jt.date,day:jt.day,current:jt.current}),es=Qe(jt)&&!jt.disabled,Ln="".concat(es?"sd":""),Mn=Pn.children;es&&(Ln="".concat(Ln," ").concat(Pn.className||"")),delete Pn.className,delete Pn.children;var cn=function(gt,St){var nn=["rmdp-day"],bn=gt.date,sn=gt.hidden,Ks=gt.current;if(!Qe(gt)||sn)nn.push("rmdp-day-hidden");else{(Ye&&bn<Ye||Ne&&bn>Ne||gt.disabled)&&(nn.push("rmdp-disabled"),gt.disabled||(gt.disabled=!0)),Ks||nn.push("rmdp-deactive");var Cs=St>1&&Ks||St===1;gt.disabled&&ue||(y(bn,vt)&&pt&&nn.push("rmdp-today"),Ns=bn,[].concat(He).some(function(ds){return y(ds,Ns)})&&Cs&&!Se&&nn.push("rmdp-selected")),Se&&!gt.disabled&&Cs&&(nn.push(C(bn,He,void 0,we)),nn=nn.concat(S(bn,He,Sn,ut,void 0,we)))}var Ns;return nn.join(" ")}(jt,ge);return(jt.hidden||jt.disabled)&&(Ln=Ln.replace("sd","")),i.default.createElement("div",{key:bs,tabIndex:-1,"aria-label":"Choose ".concat(jt.date.format(F)),className:cn,onMouseEnter:function(){return ut&&Xt(jt.date)},onKeyDown:function(gt){return R(gt,jt,{format:F})},onClick:function(){Qe(jt)&&!jt.disabled&&function(gt,St,nn){var bn,sn,Ks,Cs=gt.date,Ns=gt.current,ds=_.selectedDate,Qr=_.focused,ts=_.date,Jr=ts,Oa=Jr.hour,mo=Jr.minute,Aa=Jr.second;Cs.set({hour:((bn=ds)===null||bn===void 0?void 0:bn.hour)||Oa,minute:((sn=ds)===null||sn===void 0?void 0:sn.minute)||mo,second:((Ks=ds)===null||Ks===void 0?void 0:Ks.second)||Aa}),nn!==1||Ns?nn>1&&!Ns&&(St===0&&Cs<ts&&(ts=new c.default(ts).toFirstOfMonth()),St>0&&Cs.monthIndex>ts.monthIndex+St&&St+1===nn&&(ts=new c.default(ts).toFirstOfMonth().add(1,"month"))):ts=new c.default(ts).toFirstOfMonth();var Xr=v(D(Cs,xe,_),2);ds=Xr[0],Qr=Xr[1],H(ds,h(h({},_),{},{date:ts,focused:Qr,selectedDate:ds})),ae(Qr,Cs)}(jt,Ut,ge)}},i.default.createElement("span",x({className:Ln},Pn),Qe(jt)&&!jt.hidden?Mn??jt.day:""))}))}))}));function Qe(st){return!!st.current||Z}}function te(O){var _=O.direction,H=O.onClick,U=O.disabled,Z=O.onKeyDown;return i.default.createElement("button",{type:"button",className:"rmdp-arrow-container ".concat(_," ").concat(U?"disabled":""),onClick:H,onKeyDown:Z,"aria-roledescription":"button to navigate ".concat(_.replace("rmdp-",""))},i.default.createElement("i",{className:"rmdp-arrow"}))}function G(O){var _=O.state,H=O.setState,U=O.disableYearPicker,Z=O.disableMonthPicker,J=O.buttons,ue=O.renderButton,he=O.handleMonthChange,xe=O.disabled,ge=O.hideMonth,re=O.hideYear,Ce=O.isRTL,ae=O.fullYear,Ee=v(O.monthAndYears,2),Ue=Ee[0],Me=Ee[1],Ie=O.monthYearSeparator,Ge=O.formatMonth,ht=O.formatYear,ut=O.headerOrder,pt=O.onYearChange,ft={},Fe=_.date,vt=_.onlyMonthPicker,Ye=_.onlyYearPicker,Ne=_.mustShowYearPicker,Se=_.minDate,we=_.maxDate,ke=_.year,He=_.today,Re=Se&&Fe.year<=Se.year&&Se.monthIndex>Fe.monthIndex-1,Le=we&&Fe.year>=we.year&&we.monthIndex<Fe.monthIndex+1,be=He.year+7;if(be-=12*Math.floor((be-ke)/12),(ge||ae)&&re&&!J)return null;if((vt||ae)&&(Se&&Se.year>=Fe.year&&(Re=!0),we&&we.year<=Fe.year&&(Le=!0)),Ne||Ye){var Te=be-11;Re=Se&&Se.year>Te,Le=we&&we.year<be}return xe&&(Re=!0,Le=!0),i.default.createElement("div",{className:"rmdp-header"},i.default.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},Array.from(new Set(ut)).map(function(Qe,st){return i.default.createElement(n.Fragment,{key:st},function(Ut){switch(Ut){case"LEFT_BUTTON":return J&&Sn("left");case"RIGHT_BUTTON":return J&&Sn("right");case"MONTH_YEAR":case"YEAR_MONTH":if(ae)return i.default.createElement("div",{className:"rmdp-header-values",style:ft},!re&&Fe.format("YYYY"));var Lt=Ut.split("_").filter(function(Yn){return Yn==="MONTH"&&!ge||Yn==="YEAR"&&!re});return Lt.length>1&&(Lt=[Lt[0],Ke(),Lt[1]]),Ue.map(function(Yn,jt){return i.default.createElement("div",{key:jt,className:"rmdp-header-values",style:ft},Lt.map(function(bs,Pn){return i.default.createElement(n.Fragment,{key:Pn},function(es,Ln,Mn){switch(es){case"MONTH":return i.default.createElement("span",{tabIndex:0,onKeyDown:ze,style:{cursor:xe||Z||vt?"default":"pointer"},onClick:function(cn){return!Z&&Ss("mustShowMonthPicker",cn)}},function(cn,gt){return typeof Ge=="function"?Ge(cn,gt):cn}(Ln,Me[Mn]));case"YEAR":return i.default.createElement("span",{tabIndex:0,onKeyDown:ze,style:{cursor:xe||U||Ye?"default":"pointer"},onClick:function(cn){return!U&&Ss("mustShowYearPicker",cn)}},function(cn,gt){return typeof Ge=="function"?ht(cn,gt):cn}(Me[Mn],Ln));default:return es}}(bs,Yn,jt))}))});default:return}}(Qe))})));function ze(Qe){var st=Qe.currentTarget,Ut=Qe.key,Lt=Qe.code;Lt==="Space"||Ut===" "?(Qe.preventDefault(),st.click()):Lt==="ArrowDown"&&(Qe.preventDefault(),$(B(Qe.target)))}function Ke(){return Ie?i.default.createElement("span",null,Ie):Ce?"،":","}function Sn(Qe){var st=function(Lt){Lt.preventDefault(),Xt(Qe==="right"?1:-1,Lt)},Ut=Qe==="left"&&Re||Qe==="right"&&Le;return ue instanceof Function?ue(Qe,st,Ut,ze):n.isValidElement(ue)?n.cloneElement(ue,{direction:Qe,handleClick:st,disabled:Ut,onKeyDown:ze}):i.default.createElement(te,{direction:"rmdp-".concat(Qe),onClick:st,onKeyDown:ze,disabled:Ut})}function Xt(Qe,st){xe||Qe<0&&Re||Qe>0&&Le||(ae?(Fe.year+=Qe,pt==null||pt(new c.default(Fe))):Ne||Ye?(ke+=12*Qe,Qe<0&&Se&&ke<Se.year&&(ke=Se.year),Qe>0&&we&&ke>we.year&&(ke=we.year)):(Fe.toFirstOfMonth(),vt?Fe.year+=Qe:(Fe.month+=Qe,he(Fe))),H(h(h({},_),{},{date:Fe,year:ke})),$(B(st.target),void 0,!1))}function Ss(Qe,st){if(!xe){var Ut={mustShowMonthPicker:!1,mustShowYearPicker:!1};Ut[Qe]=!_[Qe],H(h(h({},_),Ut)),$(B(st.target),void 0,!1)}}}function z(O){return N(O)||(O=[]),JSON.stringify(O)}var I="MMMM of YYYY";function M(O){var _=O.state,H=O.onChange,U=O.customMonths,Z=O.sort,J=O.handleMonthChange,ue=O.handleFocusedDate,he=O.rangeHover,xe=O.highlightToday,ge=O.numberOfMonths,re=_.date,Ce=_.today,ae=_.minDate,Ee=_.maxDate,Ue=_.calendar,Me=_.locale,Ie=_.onlyMonthPicker,Ge=_.onlyYearPicker,ht=_.range,ut=_.onlyShowInRangeDates,pt=(_.mustShowMonthPicker||Ie)&&!Ge,ft=v(n.useState(),2),Fe=ft[0],vt=ft[1];U=U&&z(U);var Ye=n.useMemo(function(){var we=[],ke=Ie?ge:1,He=U&&JSON.parse(U),Re=new c.default({calendar:Ue,locale:Me,format:_.date._format,year:_.date.year,month:1,day:1});N(He)&&He.length>=12?(He.length=12,He=He.map(function(Xt){return N(Xt)?Xt[0]:Xt})):He=Re.locale.months.map(function(Xt){return v(Xt,1)[0]});for(var Le=0;Le<ke;Le++){for(var be=[],Te=0,ze=0;ze<4;ze++){for(var Ke=[],Sn=0;Sn<3;Sn++)Ke.push({date:new c.default(Re),name:He[Te]}),Te++,Re.add(1,"month");be.push(Ke)}we.push(be)}return we},[Ue,Me,U,_.date.year,_.date._format,ge,Ie]);return i.default.createElement("div",{className:"".concat(Ie?"only ":"","rmdp-month-picker"),style:{display:pt?"flex":"none"},"data-active":pt,onMouseLeave:function(){return he&&vt()}},Ye.map(function(we,ke){return i.default.createElement("div",{key:ke,style:{margin:"0 5px",flex:1}},we.map(function(He,Re){return i.default.createElement("div",{key:Re,className:"rmdp-ym"},He.map(function(Le,be){var Te=Le.date,ze=Le.name;return i.default.createElement("div",{key:be,"aria-label":"Select ".concat(Te.format(I)),tabIndex:-1,onKeyDown:function(Ke){return R(Ke,{date:Te},{format:I,type:"month"})},className:Se(Te),onClick:function(Ke){return Ne(Te,Ke)},onMouseEnter:function(){return he&&vt(Te)}},i.default.createElement("span",{className:Ie?"sd":""},ze))}))}))}));function Ne(we,ke){var He=_.selectedDate,Re=_.focused,Le=we.year,be=we.monthIndex;if(!(ae&&Le<=ae.year&&be<ae.monthIndex||Ee&&Le>=Ee.year&&be>Ee.monthIndex)){if(re.setMonth(be+1),Ie){var Te=v(D(we,Z,_),2);He=Te[0],Re=Te[1]}else J(re),$(B(ke.target));H(Ie?He:void 0,h(h({},_),{},{date:re,focused:Re,selectedDate:He,mustShowMonthPicker:!1})),Ie&&ue(Re,we)}}function Se(we){var ke=["rmdp-day"],He=we.year,Re=we.monthIndex,Le=_.selectedDate,be=_.multiple;if((ae&&(He<ae.year||He===ae.year&&Re<ae.monthIndex)||Ee&&(He>Ee.year||He===Ee.year&&Re>Ee.monthIndex))&&ke.push("rmdp-disabled"),!ke.includes("rmdp-disabled")||!ut)return y(Ce,we,!0)&&xe&&ke.push("rmdp-today"),Ie?ht?(ke.push(C(we,Le,!0,be)),ke=ke.concat(S(we,Le,Fe,he,"month",be))):[].concat(Le).some(function(Te){return y(Te,we,!0)})&&ke.push("rmdp-selected"):re.monthIndex===Re&&ke.push("rmdp-selected"),ke.join(" ")}}function fe(O,_){return O.replace(/[0-9]/g,function(H){return _[H]})}var je="YYYY";function Ae(O){var _=O.state,H=O.onChange,U=O.sort,Z=O.handleFocusedDate,J=O.onYearChange,ue=O.rangeHover,he=O.highlightToday,xe=_.date,ge=_.today,re=_.minDate,Ce=_.maxDate,ae=_.onlyYearPicker,Ee=_.range,Ue=_.onlyShowInRangeDates,Me=_.year,Ie=_.mustShowYearPicker||ae,Ge=xe.digits,ht=v(n.useState(),2),ut=ht[0],pt=ht[1],ft=ge.year-4;ft-=12*Math.ceil((ft-Me)/12);var Fe=n.useMemo(function(){for(var Ne=[],Se=ft,we=0;we<4;we++){for(var ke=[],He=0;He<3;He++)ke.push(Se),Se++;Ne.push(ke)}return Ne},[ft]);return i.default.createElement("div",{className:"".concat(ae?"only ":"","rmdp-year-picker"),style:{display:Ie?"block":"none"},"data-active":Ie},Fe.map(function(Ne,Se){return i.default.createElement("div",{key:Se,className:"rmdp-ym",onMouseLeave:function(){return ue&&pt()}},Ne.map(function(we,ke){return i.default.createElement("div",{key:ke,"aria-label":"Select year ".concat(we),tabIndex:-1,onKeyDown:function(He){return R(He,{year:we,date:xe},{format:je,type:"year"})},className:vt(we),onClick:function(He){return function(Re,Le){if(!Ye(Re)){var be=new c.default(_.date).setYear(Re),Te=_.selectedDate,ze=_.focused;if(ae){var Ke=v(D(be,U,_),2);Te=Ke[0],ze=Ke[1]}else re&&be.monthIndex<re.monthIndex?be=be.setMonth(re.monthIndex+1):Ce&&be.monthIndex>Ce.monthIndex&&(be=be.setMonth(Ce.monthIndex+1)),J==null||J(be),$(B(Le.target));H(ae?Te:void 0,h(h({},_),{},{date:be,focused:ze,selectedDate:Te,mustShowYearPicker:!1})),ae&&Z(ze,be)}}(we,He)},onMouseEnter:function(){return ue&&pt(we)}},i.default.createElement("span",{className:ae?"sd":""},fe(we.toString(),Ge)))}))}));function vt(Ne){var Se=["rmdp-day"],we=_.date,ke=_.selectedDate,He=_.multiple;if(Ye(Ne)&&Se.push("rmdp-disabled"),!Se.includes("rmdp-disabled")||!Ue){if(ge.year===Ne&&he&&Se.push("rmdp-today"),ae)if(Ee){var Re=function(Le){var be=Le[0],Te=Le[1];if(Le.length===1){if(Ne===be.year&&Se.push("rmdp-range"),ue){var ze=Le[0].year;(Ne>ze&&Ne<=ut||Ne<ze&&Ne>=ut)&&(Se.push("rmdp-range-hover"),Ne===ut&&Se.push(ut>ze?"end":"start"))}}else Le.length===2&&(Ne>=be.year&&Ne<=Te.year&&Se.push("rmdp-range"),Ne===be.year&&Se.push("start"),Ne===Te.year&&Se.push("end"))};He?(N(ke)?ke:[[ke]]).forEach(function(Le){return Re(Le)}):Re(ke)}else[].concat(ke).some(function(Le){return Le&&Le.year===Ne})&&Se.push("rmdp-selected");else Ne===we.year&&Se.push("rmdp-selected");return Se.join(" ")}}function Ye(Ne){return re&&Ne<re.year||Ce&&Ne>Ce.year}}function ce(O,_,H){return H||(O?"MM/YYYY":_?"YYYY":"YYYY/MM/DD")}function oe(O,_){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY/MM/DD";return O instanceof c.default?O.set({calendar:_,format:H}):O=new c.default({date:O,calendar:_,format:H}),O}function Pe(O){"_self"in i.default.createElement("div")&&console.warn(O.join(`
`))}var Ze=new c.default,et=Ze.calendar,Ht=Ze.locale;function Kt(O,_){return O&&O.constructor!==Object&&(Pe(ve("calendar")),O=void 0),_&&_.constructor!==Object&&(Pe(ve("locale")),_=void 0),[O||et,_||Ht]}function ve(O){return["".concat(O," must be an object"),"https://shahabyazdi.github.io/react-multi-date-picker/calendars/"]}function Bt(O){return O&&O.name?O.name.split("_")[1]:""}function _t(O){return["fa","ar"].includes(Bt(O))}function qe(O,_){_===void 0&&(_={});var H=_.insertAt;if(O&&typeof document<"u"){var U=document.head||document.getElementsByTagName("head")[0],Z=document.createElement("style");Z.type="text/css",H==="top"&&U.firstChild?U.insertBefore(Z,U.firstChild):U.appendChild(Z),Z.styleSheet?Z.styleSheet.cssText=O:Z.appendChild(document.createTextNode(O))}}qe(".rmdp-wrapper{background-color:#fff;border-radius:5px;direction:ltr;text-align:center;width:max-content}.rmdp-shadow{box-shadow:0 0 5px #8798ad}.rmdp-border{border:1px solid #cfd8e2}.rmdp-calendar{height:max-content;padding:4px}.rmdp-border-top{border-top:1px solid #cfd8e2}.rmdp-border-bottom{border-bottom:1px solid #cfd8e2}.rmdp-border-left{border-left:1px solid #cfd8e2}.rmdp-border-right{border-right:1px solid #cfd8e2}.rmdp-week,.rmdp-ym{display:flex;justify-content:space-between}.rmdp-ym{height:25%}.rmdp-day,.rmdp-week-day{color:#000;cursor:pointer;height:34px;position:relative;width:34px}.rmdp-calendar :focus{outline-color:#00539c}.rmdp-day:not(.rmdp-range):focus{border-radius:50%}.rmdp-ym .rmdp-day:not(.rmdp-range):focus{border-radius:15px}.rmdp-week-day{color:#0074d9;cursor:default;font-size:13px;font-weight:500}.rmdp-day span,.rmdp-week-day{display:flex;flex-direction:column;justify-content:center}.rmdp-day span{border-radius:50%;bottom:3px;font-size:14px;left:3px;position:absolute;right:3px;top:3px}.rmdp-day.rmdp-today span{background-color:#7fdbff;color:#fff}.rmdp-day.rmdp-selected span:not(.highlight){background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-day.rmdp-deactive,.rmdp-day.rmdp-disabled{color:#8798ad}.rmdp-day.rmdp-deactive.rmdp-selected span{background-color:#4ca6f5;box-shadow:0 0 3px #bac5d3}.rmdp-ym .rmdp-day{flex:1;margin:auto}.rmdp-ym .rmdp-day span{border-radius:12px;padding:2px 0}.rmdp-range{background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-range-hover{background-color:#7ea6f0;color:#fff}.rmdp-range-hover.start:not(.force),.rmdp-range.start:not(.force){border-bottom-left-radius:50%;border-top-left-radius:50%}.rmdp-range-hover.end:not(.force),.rmdp-range.end:not(.force){border-bottom-right-radius:50%;border-top-right-radius:50%}.rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-ym .rmdp-range.start:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-ym .rmdp-range.end:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}@media (hover:hover){.rmdp-day:not(.rmdp-disabled,.rmdp-day-hidden) span:hover{background-color:#7ea6f0;color:#fff}}.rmdp-day-picker{padding:5px}.rmdp-header{font-size:14px;margin-top:5px;padding:9px 0}.rmdp-month-picker,.rmdp-year-picker{background-color:#fff;border-radius:0 0 5px 5px;bottom:2px;left:2px;position:absolute;right:2px;top:2px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:240px;position:static;width:240px}.rmdp-header-values{color:#000;margin:auto}.rmdp-header-values span{padding:0 0 0 5px}.rmdp-arrow{border:solid #0074d9;border-width:0 2px 2px 0;display:inline-block;height:3px;margin-top:5px;padding:2px;width:3px}.rmdp-right i{margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-left i{margin-left:3px;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-left{left:0}.rmdp-right{right:0}.rmdp-arrow-container{background:transparent;border:none;border-radius:50%;cursor:pointer;display:flex;height:20px;justify-content:center;margin:0 5px;padding:0;width:20px}.rmdp-arrow-container:hover{background-color:#0074d9;box-shadow:0 0 3px #8798ad}.rmdp-arrow-container:hover .rmdp-arrow{border:solid #fff;border-width:0 2px 2px 0}.rmdp-arrow-container.disabled{cursor:default}.rmdp-arrow-container.disabled:hover{background-color:inherit;box-shadow:inherit}.rmdp-arrow-container.disabled .rmdp-arrow,.rmdp-arrow-container.disabled:hover .rmdp-arrow{border:solid gray;border-width:0 2px 2px 0}.rmdp-rtl{direction:rtl}.rmdp-rtl .rmdp-left i{margin-left:0;margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-rtl .rmdp-right i{margin-left:3px;margin-right:0;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-rtl .rmdp-right{left:0;right:auto}.rmdp-rtl .rmdp-left{left:auto;right:0}.rmdp-rtl .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-range.start:not(.force){border-bottom-left-radius:unset;border-bottom-right-radius:50%;border-top-left-radius:unset;border-top-right-radius:50%}.rmdp-rtl .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-range.end:not(.force){border-bottom-left-radius:50%;border-bottom-right-radius:unset;border-top-left-radius:50%;border-top-right-radius:unset}.rmdp-rtl .rmdp-range.start.end:not(.force){border-radius:50%}.rmdp-rtl .rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.start:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-rtl .rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.end:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-day-hidden,.rmdp-day.rmdp-disabled{cursor:default}.rmdp-selected .highlight{box-shadow:0 0 3px #8798ad}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-red:hover{background-color:#ff6687}.rmdp-day:not(.rmdp-deactive) .highlight-red{color:#cc0303}.rmdp-day.rmdp-deactive .highlight-red{color:#e08e8e}.rmdp-day.rmdp-selected .highlight-red{background-color:#ea0034;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-red{background-color:#e4b0ba;color:#fff}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-green:hover{background-color:#4db6ac}.rmdp-day:not(.rmdp-deactive) .highlight-green{color:#00796b}.rmdp-day.rmdp-deactive .highlight-green{color:#7ab3ac}.rmdp-day.rmdp-selected .highlight-green{background-color:#009688;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-green{background-color:#749c98;color:#fff}.rmdp-day-hidden,.rmdp-day-hidden:hover span{background-color:unset;color:transparent}.rmdp-month-name{cursor:default;font-size:14px;margin:3px 0}.rmdp-full-year{grid-template-columns:1fr 1fr 1fr}@media (max-height:450px),(max-width:450px){.rmdp-day,.rmdp-week-day{height:28px;width:28px}.rmdp-day span{font-size:12px;padding-left:.5px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:200px;width:230px}.rmdp-header{padding:3px 0 0}.rmdp-header,.rmdp-month-name{font-size:12px}.rmdp-full-year{grid-template-columns:1fr 1fr}}");var $e=["datePickerProps","DatePicker"];function tn(O,_){var H,U=O.value,Z=O.calendar,J=O.locale,ue=O.format,he=O.onlyMonthPicker,xe=O.onlyYearPicker,ge=O.range,re=ge!==void 0&&ge,Ce=O.multiple,ae=Ce!==void 0&&Ce,Ee=O.className,Ue=O.role,Me=O.weekDays,Ie=O.months,Ge=O.children,ht=O.onChange,ut=O.showOtherDays,pt=O.minDate,ft=O.maxDate,Fe=O.mapDays,vt=O.disableMonthPicker,Ye=O.disableYearPicker,Ne=O.formattingIgnoreList,Se=O.onReady,we=O.onlyShowInRangeDates,ke=we===void 0||we,He=O.zIndex,Re=He===void 0?100:He,Le=O.plugins,be=Le===void 0?[]:Le,Te=O.sort,ze=O.numberOfMonths,Ke=ze===void 0?1:ze,Sn=O.currentDate,Xt=O.digits,Ss=O.buttons,Qe=Ss===void 0||Ss,st=O.renderButton,Ut=O.weekStartDayIndex,Lt=Ut===void 0?0:Ut,Yn=O.disableDayPicker,jt=O.onPropsChange,bs=O.onMonthChange,Pn=O.onYearChange,es=O.onFocusedDateChange,Ln=O.readOnly,Mn=O.disabled,cn=O.hideMonth,gt=O.hideYear,St=O.hideWeekDays,nn=O.shadow,bn=nn===void 0||nn,sn=O.fullYear,Ks=O.displayWeekNumbers,Cs=O.weekNumber,Ns=O.weekPicker,ds=O.rangeHover,Qr=O.monthYearSeparator,ts=O.formatMonth,Jr=O.formatYear,Oa=O.highlightToday,mo=Oa===void 0||Oa,Aa=O.headerOrder,Xr=Aa===void 0?["LEFT_BUTTON","MONTH_YEAR","RIGHT_BUTTON"]:Aa,xo=O.style,nu=xo===void 0?{}:xo,po=O.autoFocus,jo=po!==void 0&&po;!Sn||Sn instanceof c.default||(console.warn("currentDate must be instance of DateObject"),Sn=void 0),(typeof Lt!="number"||Lt<0||Lt>6)&&(Lt=0),(typeof Ke!="number"||Ke<1||xe)&&(Ke=1),!(ae||re||N(U))||re||ae||(ae=!0),Ns&&(re=!0,ae=!1),sn&&(Ke=12,he=!1,xe=!1),xe&&!cn&&(cn=!0);var Ba=v(Kt(Z,J),2);Z=Ba[0],J=Ba[1],ue=ce(he,xe,ue),Ne=z(Ne),Fe=[].concat(Fe).filter(Boolean),be=[].concat.apply([],be);var go=v(n.useState({}),2),ns=go[0],qs=go[1],rr={},Wn=n.useRef({mustCallOnReady:!0,currentDate:Sn});n.useEffect(function(){qs(function(de){var tt=Wn.current.currentDate,Ve=de.date,We=de.selectedDate,dn=de.initialValue,Zt=de.focused,bt=de.mustSortDates;function En(ee){if(ee)return ee.calendar.name!==Z.name&&ee.setCalendar(Z),ee.locale.name!==J.name&&ee.setLocale(J),ee._format!==ue&&ee.setFormat(ue),ee.digits=Xt,ee.ignoreList=JSON.parse(Ne),ee}function Vn(ee){return new c.default(tt||ee)}if(U)if(N(We=Fn(U,Z,J,ue)))Ve||(Ve=Vn(We.flat()[0]));else if(Ve&&Ke!==1){var Ys=new c.default(Ve).toFirstOfMonth(),ir=new c.default(Ve).add(Ke-1,he?"years":"months").toLastOfMonth();(We<Ys||We>ir)&&(Ve=new c.default(We))}else Ve=Vn(We);else Ve||(Ve=Vn({calendar:Z,locale:J,format:ue})),dn&&(We=void 0);if([].concat(We).flat().forEach(En),En(Ve),ae||re||N(U)){if(We||(We=[]),N(We)||(We=ae&&re?[[We]]:[We]),re&&!ae&&We.length>2){var Ws=We[We.length-1];We=[We[0],Ws],Zt=Ws}ae&&!re&&Te&&!bt?(bt=!0,We.sort(function(ee,Be){return ee-Be})):re&&!ae&&We.sort(function(ee,Be){return ee-Be})}else N(We)&&(We=We.flat()[We.length-1]);return sn&&Ve.toFirstOfYear(),delete Wn.current.currentDate,h(h({},de),{},{date:Ve,selectedDate:We,multiple:ae,range:re,onlyMonthPicker:he,onlyYearPicker:xe,initialValue:de.initialValue||U,value:U,focused:Zt,calendar:Z,locale:J,format:ue,mustSortDates:bt,year:Ve.year,today:En(de.today)||new c.default({calendar:Z}),weekPicker:Ns})})},[U,Z,J,ue,he,xe,re,ae,Te,Ke,Xt,Ne,sn,Ns]),n.useEffect(function(){(pt||ft)&&qs(function(de){var tt=de.calendar,Ve=de.locale,We=de.format,dn=function(Ys,ir,Ws,ee,Be){return ir&&(ir=oe(ir,ee,Be).set({hour:0,minute:0,second:0,millisecond:0})),Ws&&(Ws=oe(Ws,ee,Be).set({hour:23,minute:59,second:59,millisecond:999})),N(Ys)&&(Ys=Ys.filter(function(xt){return!(ir&&xt<ir)&&!(Ws&&xt>Ws)})),[Ys,ir,Ws]}(Fn(U,tt,Ve,We),pt,ft,tt,We),Zt=v(dn,3),bt=Zt[0],En=Zt[1],Vn=Zt[2];return h(h({},de),{},{inRangeDates:ke?bt:de.selectedDate,minDate:En,maxDate:Vn})})},[pt,ft,ke,U]),ns.today&&!Wn.current.isReady&&(Wn.current.isReady=!0),n.useEffect(function(){Wn.current.isReady&&Wn.current.mustCallOnReady&&Se instanceof Function&&(Wn.current.mustCallOnReady=!1,Se())},[Wn.current.isReady,Se]);var br="rmdp-top-class "+Gs(["top","bottom"]),us={top:[],bottom:[],left:[],right:[]},yo=_t((H=ns.date)===null||H===void 0?void 0:H.locale),Us={state:ns,setState:qs,onChange:Cr,sort:Te,handleFocusedDate:Nr,isRTL:yo,fullYear:sn,monthAndYears:function(){var de=ns.date;if(!de)return[];for(var tt=[],Ve=[],We=de.digits,dn=0;dn<Ke;dn++){var Zt=void 0,bt=de.year,En=de.monthIndex+dn;if(he&&(bt+=dn),En>11&&(En-=12,he||bt++),N(Ie)&&Ie.length>=12){var Vn=Ie[En];Zt=N(Vn)?Vn[0]:Vn}else Zt=de.months[En].name;bt=fe(bt.toString(),We),tt.push(Zt),Ve.push(bt)}return[tt,Ve]}(),rangeHover:ds,highlightToday:mo,numberOfMonths:Ke},ci=arguments[0],vo=ci.datePickerProps,di=ci.DatePicker,So=j(ci,$e);return n.useEffect(function(){var de=Wn.current.Calendar;de&&$(de,void 0,jo&&!di)},[jo,ns.today,di]),function(){if(!(!Wn.current.isReady||!N(be))){var de={state:ns,setState:qs,registerListener:bo,calendarProps:So,datePickerProps:vo,handleChange:Cr,Calendar:Wn.current.Calendar,DatePicker:di,handlePropsChange:ar,handleFocusedDate:function(Ve){return Nr(Ve)},minDate:pt,maxDate:ft},tt=function(Ve){return Yn?"bottom":Ve.props.position||"right"};be.forEach(function(Ve,We){if(typeof Ve.type!="string"){var dn={},Zt=tt(Ve);if(us[Zt]&&!Ve.props.disabled){for(var bt=0;bt<be.length;bt++)if(typeof be[bt].type!="string"&&!be[bt].props.disabled){if(Object.keys(dn).length===4)break;var En=tt(be[bt]);["top","bottom"].includes(Zt)?(En===Zt&&bt>We&&(dn.bottom=!0),En===Zt&&bt<We&&(dn.top=!0)):(br.includes("border-top")&&(dn.top=!0),br.includes("border-bottom")&&(dn.bottom=!0),En===Zt&&bt>We&&(dn.right=!0),En===Zt&&bt<We&&(dn.left=!0))}us[Zt].push(n.cloneElement(Ve,h({key:We,position:Zt,nodes:dn},de)))}}else Ve.type==="mapDays"&&Fe.push(Ve.fn(de))})}}(),ns.today?i.default.createElement("div",{ref:function(de){if(de&&(de.date=ns.date,de.set=function(tt,Ve){Mn||qs(h(h({},ns),{},{date:new c.default(ns.date.set(tt,Ve))}))}),Wn.current.Calendar=de,_ instanceof Function)return _(de);_&&(_.current=de)},role:Ue||"dialog",className:"rmdp-wrapper rmdp-".concat(bn?"shadow":"border"," ").concat(Ee||""),style:h({zIndex:Re},nu)},us.top,i.default.createElement("div",{style:{display:"flex"},className:br},us.left,!Yn&&i.default.createElement("div",{className:"rmdp-calendar ".concat(yo?"rmdp-rtl":""," ").concat(Gs(["left","right"]))},i.default.createElement(G,h(h({},Us),{},{disableYearPicker:Ye,disableMonthPicker:vt,buttons:Qe,renderButton:st,handleMonthChange:lt,disabled:Mn,hideMonth:cn,hideYear:gt,monthYearSeparator:Qr,formatMonth:ts,formatYear:Jr,headerOrder:Xr,onYearChange:Pn})),i.default.createElement("div",{style:{position:"relative"}},i.default.createElement(W,h(h({},Us),{},{showOtherDays:ut,mapDays:Fe,onlyShowInRangeDates:ke,customWeekDays:Me,weekStartDayIndex:Lt,hideWeekDays:St,displayWeekNumbers:Ks,weekNumber:Cs})),!sn&&i.default.createElement(i.default.Fragment,null,!vt&&i.default.createElement(M,x({},Us,{customMonths:Ie,handleMonthChange:lt})),!Ye&&i.default.createElement(Ae,x({},Us,{onYearChange:Pn}))))),us.right),us.bottom,Ge):null;function Cr(de,tt){if(de instanceof c.default&&(de=new c.default(de)),!Mn){if(de||de===null){if(Ln)return;rr.change&&rr.change.forEach(function(We){return We(de)})}if(de||de===null){var Ve=ht==null?void 0:ht(de);tt&&Ve!==!1&&qs(tt)}else tt&&qs(tt);ar({value:de})}}function ar(){var de,tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Ln&&!Mn){var Ve=h(h(h(h({},So),vo),tt),{},{value:(de=tt.value)!==null&&de!==void 0?de:ns.selectedDate});delete Ve.onPropsChange,jt==null||jt(Ve)}}function Nr(de,tt){Ln||Mn||es==null||es(de,tt)}function lt(de){bs==null||bs(de)}function Gs(de){return Yn||!N(be)?"":Array.from(new Set(be.map(function(tt){if(!tt.props)return"";var Ve=tt.props.position||"right";return de.includes(Ve)&&!tt.props.disabled?"rmdp-border-"+Ve:""}))).join(" ")}function bo(de,tt){rr[de]||(rr[de]=[]),rr[de].push(tt)}}var kt=n.forwardRef(tn);function Fn(O,_,H,U){var Z=[].concat(O).map(function(he){return N(he)?he.map(J).filter(ue):J(he)}).filter(ue);return N(O)?Z:Z.flat()[0];function J(he){return he?he instanceof c.default?he:new c.default({date:he,calendar:_,locale:H,format:U}):{}}function ue(he){return N(he)||he.isValid}}qe('.rmdp-visible{visibility:visible}.rmdp-invisible{visibility:hidden}.rmdp-input{border:1px solid #c0c4d6;border-radius:5px;height:22px;margin:1px 0;padding:2px 5px}.rmdp-input:focus{border:1px solid #a4b3c5;box-shadow:0 0 2px #a4b3c5;outline:none!important}.rmdp-button{background-color:#0074d9;border:none;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;padding:7px 16px;text-align:center;text-decoration:none;transition:.3s}.rmdp-button:hover{background-color:#143ac5;transition:.4s}.rmdp-button:disabled{background-color:#8798ad}.rmdp-action-button{border-radius:unset;color:#2682d3;float:right;font-weight:700;margin:15px 10px 15px 0}.rmdp-action-button,.rmdp-action-button:hover{background-color:transparent}.rmdp-ep-arrow{overflow:hidden;will-change:transform}.rmdp-ep-arrow:after{background-color:#fff;content:"";height:12px;position:absolute;transform:rotate(45deg);width:12px}.rmdp-ep-shadow:after{box-shadow:0 0 6px #8798ad}.rmdp-ep-border:after{border:1px solid #cfd8e2}.rmdp-ep-arrow[direction=top]{border-bottom:1px solid #fff}.rmdp-ep-arrow[direction=left]{border-right:1px solid #fff}.rmdp-ep-arrow[direction=right]{border-left:1px solid #fff;margin-left:-1px}.rmdp-ep-arrow[direction=bottom]{border-top:1px solid #fff;margin-top:-1.5px}.rmdp-ep-arrow[direction=top]:after{left:4px;top:5px}.rmdp-ep-arrow[direction=bottom]:after{left:4px;top:-6px}.rmdp-ep-arrow[direction=left]:after{left:5px;top:3px}.rmdp-ep-arrow[direction=right]:after{left:-6px;top:3px}');var dt=["value","calendar","locale","format","onlyMonthPicker","onlyYearPicker","onChange","range","multiple","name","id","title","placeholder","required","style","className","inputClass","disabled","render","weekDays","months","children","inputMode","scrollSensitive","hideOnScroll","minDate","maxDate","formattingIgnoreList","containerClassName","calendarPosition","editable","onOpen","onClose","arrowClassName","zIndex","arrow","fixMainPosition","onPositionChange","onPropsChange","digits","readOnly","shadow","onFocusedDateChange","type","weekPicker","mobileLabels","onOpenPickNewDate","mobileButtons","dateSeparator","multipleRangeSeparator","typingTimeout"],qt=["label"];function Ms(O,_){var H=O.value,U=O.calendar,Z=O.locale,J=O.format,ue=O.onlyMonthPicker,he=O.onlyYearPicker,xe=O.onChange,ge=O.range,re=ge!==void 0&&ge,Ce=O.multiple,ae=Ce!==void 0&&Ce,Ee=O.name,Ue=O.id,Me=O.title,Ie=O.placeholder,Ge=O.required,ht=O.style,ut=ht===void 0?{}:ht,pt=O.className,ft=pt===void 0?"":pt,Fe=O.inputClass,vt=O.disabled,Ye=O.render,Ne=O.weekDays,Se=O.months,we=O.children,ke=O.inputMode,He=O.scrollSensitive,Re=He===void 0||He,Le=O.hideOnScroll,be=O.minDate,Te=O.maxDate,ze=O.formattingIgnoreList,Ke=O.containerClassName,Sn=Ke===void 0?"":Ke,Xt=O.calendarPosition,Ss=Xt===void 0?"bottom-left":Xt,Qe=O.editable,st=Qe===void 0||Qe,Ut=O.onOpen,Lt=O.onClose,Yn=O.arrowClassName,jt=Yn===void 0?"":Yn,bs=O.zIndex,Pn=bs===void 0?100:bs,es=O.arrow,Ln=es===void 0||es,Mn=O.fixMainPosition,cn=O.onPositionChange,gt=O.onPropsChange,St=O.digits,nn=O.readOnly,bn=O.shadow,sn=bn===void 0||bn,Ks=O.onFocusedDateChange,Cs=O.type,Ns=O.weekPicker,ds=O.mobileLabels,Qr=O.onOpenPickNewDate,ts=Qr===void 0||Qr,Jr=O.mobileButtons,Oa=Jr===void 0?[]:Jr,mo=O.dateSeparator,Aa=O.multipleRangeSeparator,Xr=Aa===void 0?",":Aa,xo=O.typingTimeout,nu=xo===void 0?700:xo,po=j(O,dt),jo=v(n.useState(),2),Ba=jo[0],go=jo[1],ns=v(n.useState(),2),qs=ns[0],rr=ns[1],Wn=v(n.useState(""),2),br=Wn[0],us=Wn[1],yo=v(n.useState(!1),2),Us=yo[0],ci=yo[1],vo=v(n.useState(!1),2),di=vo[0],So=vo[1],Cr=n.useRef(),ar=n.useRef(),Nr=n.useRef(),lt=n.useRef({isTyping:!1}),Gs=mo||(re||Ns?" ~ ":", "),bo=arguments[0],de=typeof ft=="string"&&ft.includes("rmdp-mobile"),tt=n.useCallback(function(){if((Lt==null?void 0:Lt())!==!1){var ee=Hs(ar);if(ee&&ee.forEach(function(xt){return xt.blur()}),lt.current.mobile){var Be=Nr.current.parentNode.parentNode;Be.classList.remove("rmdp-calendar-container-mobile"),Be.style.position="absolute",Be.style.visibility="hidden"}lt.current.validInputValue!==void 0&&(us(lt.current.validInputValue),lt.current.validInputValue=void 0),ci(!1),So(!1)}},[Lt]),Ve=[{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){rr(void 0),tt()},label:Zt("CANCEL")},{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){qs&&(Vn(qs,!0),rr(void 0)),tt()},label:Zt("OK")}];de&&!lt.current.mobile&&(lt.current=h(h({},lt.current),{},{mobile:!0})),!de&&lt.current.mobile&&(lt.current=h(h({},lt.current),{},{mobile:!1})),ze=z(ze),J=ce(ue,he,J);var We,dn=v(Kt(U,Z),2);return U=dn[0],Z=dn[1],n.useEffect(function(){function ee(xt){if(Us&&!lt.current.mobile){var zn=[];if([ar.current,Nr.current].forEach(function(hs){var Dn,fs;!hs||hs.contains(xt.target)||xt.target.classList.contains("b-deselect")||(Dn=xt.target.parentNode)!==null&&Dn!==void 0&&(Dn=Dn.classList)!==null&&Dn!==void 0&&(fs=Dn.contains)!==null&&fs!==void 0&&fs.call(Dn,"b-deselect")||zn.push(hs)}),zn.length===2)return tt();Nr.current&&Nr.current.contains(xt.target)&&(Cr.current.removeTransition(),Cr.current.refreshPosition())}}function Be(){Le&&Us&&tt()}return document.addEventListener("click",ee,!1),document.addEventListener("scroll",Be,!0),function(){document.removeEventListener("click",ee,!1),document.removeEventListener("scroll",Be,!0)}},[tt,_,Us,Le]),n.useEffect(function(){var ee=H,Be=lt.current,xt=Be.date,zn=Be.initialValue,hs=function(){return ee[ee.length-1]};function Dn(Ct){if(Ct)return Ct instanceof c.default||(Ct=new c.default({date:Ct,calendar:U,locale:Z,format:J})),Ct.calendar!==U&&Ct.setCalendar(U),Ct.set({weekDays:Ne,months:Se,digits:St,locale:Z,format:J,ignoreList:JSON.parse(ze)}),Ct}H||zn||!xt?zn&&!H&&(zn=void 0):ee=xt;var fs="";if(re||ae||N(ee)){var Co=function(Ct){return Ct=Ct.map(Dn).filter(function(wo){return wo!==void 0}),re&&Ct.length>2&&(Ct=[Ct[0],hs()]),[Ct,zs(Ct,Gs)]};if(N(ee)||(ee=re&&ae?ee?[[ee]]:[]:[ee]),ae&&re)ee=ee.map(function(Ct,wo){var xx=v(Co(N(Ct)?Ct:[Ct]),2),W0=xx[0],V0=xx[1];return fs+=V0+(wo<ee.length-1?" ".concat(Xr," "):""),W0});else{var No=v(Co(ee),2);ee=No[0],fs=No[1]}fs=fs.toString().replace(/\s,\s$/,"")}else N(ee)&&(ee=hs()),(ee=Dn(ee))&&(fs=ee.format());lt.current.isTyping||us(fs),lt.current=h(h({},lt.current),{},{date:ee,separator:Gs,initialValue:zn||H}),lt.current.mobile&&Cr.current.isOpen?rr(ee):(lt.current.validInputValue=void 0,go(ee))},[H,U,Z,J,re,ae,Gs,ue,he,Ne,Se,St,ze]),n.useEffect(function(){var ee=lt.current.selection;if(ee){var Be=Hs(ar);Be.length!==0&&(Be.forEach(function(xt){document.activeElement===xt&&(xt.setSelectionRange(ee,ee),lt.current.selection=void 0)}),Cr.current.refreshPosition())}},[br]),(ae||re||N(Ba)||!st)&&(ke="none"),i.default.createElement(o.default,x({ref:function(ee){if(ee&&(ee.openCalendar=function(){return setTimeout(function(){return bt()},10)},ee.closeCalendar=tt,ee.isOpen=Us&&di),Cr.current=ee,_ instanceof Function)return _(ee);_&&(_.current=ee)},element:Ye?i.default.createElement("div",{ref:ar},n.isValidElement(Ye)?n.cloneElement(Ye,{value:br,openCalendar:bt,onFocus:bt,handleValueChange:Ys,onChange:Ys,locale:Z,separator:Gs}):Ye instanceof Function?Ye(br,bt,Ys,Z,Gs):null):i.default.createElement("input",{ref:ar,type:Cs||"text",name:Ee,id:Ue,title:Me,required:Ge,onFocus:bt,className:Fe||"rmdp-input",placeholder:Ie,value:br,onChange:Ys,style:ut,autoComplete:"off",disabled:!!vt,inputMode:ke||(de?"none":void 0),readOnly:nn}),popper:Us&&i.default.createElement(kt,x({ref:Nr,value:qs||Ba,onChange:Vn,range:re,multiple:ae,calendar:U,locale:Z,format:J,onlyMonthPicker:ue,onlyYearPicker:he,className:ft+(de?" rmdp-mobile":""),weekDays:Ne,months:Se,digits:St,minDate:be,maxDate:Te,formattingIgnoreList:JSON.parse(ze),onPropsChange:gt,shadow:sn,onReady:ir,DatePicker:Cr.current,datePickerProps:bo,onFocusedDateChange:Ws,weekPicker:Ns},po),we,de&&(We=[].concat.apply([],bo.plugins||[]).some(function(ee){var Be=ee.props;return!(Be===void 0?{}:Be).disabled}),N(Oa)&&i.default.createElement("div",{className:"rmdp-action-buttons ".concat(_t(Z)?"rmdp-rtl":""," ").concat(We?"rmdp-border-top":"")},Oa.concat(Ve).map(function(ee,Be){var xt=ee.label,zn=j(ee,qt);return i.default.createElement("button",x({key:Be},zn),xt)})))),active:!de&&di,position:Ss,arrow:!de&&Ln,fixMainPosition:!Re||Mn,zIndex:Pn,onChange:!de&&cn,containerClassName:"rmdp-container ".concat(Sn),arrowClassName:["rmdp-ep-arrow","rmdp-ep-".concat(sn?"shadow":"border"),ft,jt].join(" ")},po));function Zt(ee){var Be,xt=Z||new c.default().locale;return typeof xt.name!="string"?ee:(ds==null?void 0:ds[ee])||((Be={en:{OK:"OK",CANCEL:"CANCEL"},fa:{OK:"تأیید",CANCEL:"لغو"},ar:{OK:"تأكيد",CANCEL:"الغاء"},hi:{OK:"पुष्टि",CANCEL:"रद्द करें"}}[Bt(xt)])===null||Be===void 0?void 0:Be[ee])||ee}function bt(){if(!vt&&!nn&&(Ut==null?void 0:Ut())!==!1){if(ts&&!H&&!lt.current.date&&!re&&!ae&&!de){var ee=new c.default({calendar:U,locale:Z,format:J,months:Se,weekDays:Ne,digits:St,ignoreList:JSON.parse(ze)});(!be||ee>oe(be,U,J))&&(!Te||ee<oe(Te,U,J))&&(Vn(ee),gt==null||gt(h(h({},bo),{},{value:ee})),lt.current.date=ee)}var Be=Hs(ar);de&&Be.length>0&&Be.forEach(function(xt){return xt.blur()}),Be.length>0||!Us?ci(!0):tt()}}function En(ee){var Be="";return ee&&(Be=ae&&re&&N(ee)?ee.map(function(xt){return zs(xt,Gs)}).join(" ".concat(Xr," ")):zs(ee,Gs)),Be}function Vn(ee,Be,xt){if(de&&!Be)return rr(ee);var zn=En(ee),hs=xt||zn.toString().replace(/\s,\s$/,"");return ee&&[].concat(ee).flat().some(function(Dn){return be&&Dn<oe(be,U,J)||Te&&Dn>oe(Te,U,J)})?(lt.current.validInputValue=En(H||lt.current.date),us(hs)):(lt.current.validInputValue=zn,(xe==null?void 0:xe(ee,{validatedValue:zn,input:ar.current,isTyping:!!xt}))===!1?(us(br),!1):(go(ee),us(hs),void(lt.current=h(h({},lt.current),{},{date:ee}))))}function Ys(ee){if(st){lt.current.isTyping=!0,setTimeout(function(){lt.current.isTyping=!1},nu),lt.current.selection=ee.target.selectionStart;var Be=ee.target.value,xt={calendar:U,locale:Z,format:J,ignoreList:JSON.parse(ze)};if(St=N(St)?St:Z.digits,!Be)return us(""),Vn(null);if(St){var zn,hs,Dn=k(St);try{for(Dn.s();!(zn=Dn.n()).done;){var fs=zn.value;Be=Be.replace(new RegExp(fs,"g"),St.indexOf(fs))}}catch(Ct){Dn.e(Ct)}finally{Dn.f()}hs=N(Ba)?ae&&re?(Be||"").split(Xr).filter(Boolean).map(No):No(Be):Co(Be),Vn(N(Ba)||hs.isValid?hs:null,void 0,fe(Be,St))}}function Co(Ct){return/(?=.*Y)(?=.*M)(?=.*D)/.test(J)?new c.default(h(h({},xt),{},{date:Ct})):new c.default(xt).parse(Ct)}function No(Ct){return(Ct||"").split(Gs).filter(Boolean).map(function(wo){return Co(wo.trim())})}}function ir(){if(So(!0),de){var ee=Nr.current.parentNode.parentNode;ee.className="rmdp-calendar-container-mobile",ee.style.position="fixed",ee.style.transform="",setTimeout(function(){ee.style.visibility="visible"},50)}}function Ws(ee,Be){N(lt.current.date)||!Be||de||tt(),Ks==null||Ks(ee,Be)}}var Vr=n.forwardRef(Ms);function zs(O,_){var H=[].concat(O).map(function(U){return U!=null&&U.isValid?U.format():""});return H.toString=function(){return this.filter(Boolean).join(_)},H}function Hs(O){return O.current?O.current.tagName==="INPUT"?[O.current]:Array.from(O.current.querySelectorAll("input")):[]}Object.defineProperty(t,"DateObject",{enumerable:!0,get:function(){return c.default}}),t.Calendar=kt,t.default=Vr,t.getAllDatesInRange=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(O))return[];var H=O[0],U=O[O.length-1],Z=[];if(!(H instanceof c.default&&U instanceof c.default&&H.isValid&&U.isValid&&!(H>U)))return[];for(H=new c.default(H),U=new c.default(U);H<=U;H.day++)Z.push(_?H.toDate():new c.default(H));return Z},t.toDateObject=oe})(_0);const _j=Qi(_0);function iB(){const[t,n]=l.useState(!1),[s,r]=l.useState(!1),[a,i]=l.useState(""),[o,c]=l.useState(""),[u,h]=l.useState([]),[d,x]=l.useState({}),[j,v]=l.useState(""),[f,p]=l.useState(""),[b,k]=l.useState("salary"),[N,E]=l.useState(""),[y,w]=l.useState(""),[D,C]=l.useState(0),[S,T]=l.useState(""),[B,P]=l.useState(""),[R,$]=l.useState(0),[F,W]=l.useState([]),[te,G]=l.useState(""),[z,I]=l.useState([]),[M,fe]=l.useState(""),[je,Ae]=l.useState(""),ce=()=>{n(!1),Kt()},oe=()=>n(!0),{employees:Pe}=l.useContext(Gl),Ze=ve=>{const Bt=ve.target.value.toLowerCase();c(Bt);const _t=Pe.filter(qe=>{const $e=qe.code.toString().includes(Bt),tn=qe.firstName.toLowerCase().includes(Bt),kt=qe.lastName.toLowerCase().includes(Bt),Fn=qe.status.toLowerCase()==="active";return($e||tn||kt)&&Fn});h(_t)},et=ve=>{if(ve.preventDefault(),b==="salary"&&F.length===0){i("Please select at least one in dates worked.");return}if(i(""),s)return;r(!0);const Bt=F.map(kt=>new Date(kt).toISOString().split("T")[0]),_t=z.map(kt=>new Date(kt).toISOString().split("T")[0]),tn=b==="salary"?{datesWorked:Bt,date:N,employeeId:je,employeeCode:M,status:b,dailySalary:S,days:B,deduction:R}:{date:N,employeeId:je,employeeCode:M,status:b,amount:y,comment:te,months:_t};A.post(`${yr}/transaction`,tn).then(()=>{ce()}).catch(kt=>{console.error("Error submitting form:",kt)}).finally(()=>{r(!1)})},Ht=ve=>{x(ve),v(ve.firstName),p(ve.lastName),fe(ve.code),Ae(ve._id),T(ve.dailySalary),C(ve.creditOwed),c("")},Kt=()=>{v(""),p(""),fe(""),Ae(""),T(""),c(""),w(""),E(""),P(""),$(0),G(""),h([]),x({}),r(!1),k("salary"),W([]),i("")};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"primary",onClick:oe,children:"New"}),e.jsxs(g,{show:t,centered:!0,onHide:ce,backdrop:"static",keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Payment"})}),e.jsxs(g.Body,{children:[d&&Object.keys(d).length!==0?"":e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Search"}),e.jsx(m.Control,{type:"text",placeholder:"Enter code or name",autoComplete:"off",onChange:ve=>Ze(ve),value:o,autoFocus:!0})]}),o&&e.jsx(_e,{className:"w-75",style:{position:"absolute",top:"90px",left:"15px",right:"0",zIndex:"1000"},children:u.map(ve=>e.jsxs(_e.Item,{action:!0,className:"text-capitalize",onClick:()=>Ht(ve),children:[ve.firstName," ",ve.lastName," - ",ve.code]},ve._id))}),Object.keys(d).length!==0&&e.jsxs(m,{onSubmit:et,children:[a&&e.jsx("div",{className:"text-danger",children:a}),e.jsxs(ye,{className:"mb-3",children:[e.jsx(q,{children:e.jsx(m.Control,{type:"text",placeholder:"First name",readOnly:!0,value:j})}),e.jsx(q,{children:e.jsx(m.Control,{type:"text",placeholder:"Last name",readOnly:!0,value:f})})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Status"}),e.jsxs(m.Select,{value:b,onChange:ve=>k(ve.target.value),children:[e.jsx("option",{value:"salary",children:"Salary"}),e.jsx("option",{value:"credit",children:"Credit"}),e.jsx("option",{value:"benefit",children:"Benefit"}),e.jsx("option",{value:"shortage",children:"Shortage"}),e.jsx("option",{value:"allowance",children:"Housing . A"})]})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Date"}),e.jsx(m.Control,{type:"date",value:N,required:!0,onChange:ve=>E(ve.target.value)})]}),(b==="benefit"||b==="credit"||b==="shortage"||b==="allowance")&&e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",placeholder:"amount",value:y,required:!0,onChange:ve=>w(ve.target.value)})]}),b==="salary"?e.jsxs(e.Fragment,{children:[D>0?e.jsxs(ye,{children:[e.jsx(q,{children:e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Credit"}),e.jsx(m.Control,{type:"number",readOnly:!0,value:D})]})}),e.jsx(q,{children:e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Credit Balance"}),e.jsx(m.Control,{type:"number",readOnly:!0,value:D-R})]})})]}):null,e.jsxs(ye,{children:[e.jsxs(q,{children:[e.jsx(m.Label,{children:"Dates Worked"}),e.jsx(m.Group,{className:"mb-3",children:e.jsx(_j,{multiple:!0,value:F,onChange:ve=>{W(ve),P(ve.length)},format:"YYYY/MM/DD",inputClass:"form-control",className:"bg-gray"})})]}),e.jsx(q,{children:e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Salary"}),e.jsx(m.Control,{type:"number",placeholder:"salary",readOnly:!0,value:S})]})})]}),e.jsxs(ye,{children:[e.jsx(q,{children:e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Days"}),e.jsx(m.Control,{type:"number",placeholder:"Days",value:B,readOnly:!0,required:!0,onChange:ve=>P(ve.target.value)})]})}),e.jsx(q,{children:e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Days × Salary"}),e.jsx(m.Control,{type:"text",readOnly:!0,value:S*B})]})})]}),e.jsxs(ye,{children:[e.jsx(q,{children:e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Deduction"}),e.jsx(m.Control,{type:"number",placeholder:"Deduction",value:R,max:S*B,onChange:ve=>$(ve.target.value)})]})}),e.jsxs(q,{children:[e.jsx(m.Label,{children:"Final Total"}),e.jsx(m.Group,{className:"mb-3",children:e.jsx(m.Control,{type:"text",readOnly:!0,value:S*B-R})})]})]})]}):b==="shortage"?e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Comment"}),e.jsx(m.Control,{as:"textarea",value:te,onChange:ve=>G(ve.target.value)})]}):b==="allowance"?e.jsx(ye,{children:e.jsxs(q,{children:[e.jsx(m.Label,{children:"Months"}),e.jsx(m.Group,{className:"mb-3",children:e.jsx(_j,{multiple:!0,onlyMonthPicker:!0,format:"YYYY/MM/DD",inputClass:"form-control",value:z,onChange:ve=>{I(ve)}})})]})}):null,e.jsx(L,{variant:"primary",type:"submit",disabled:s,children:s?"Submitting...":"Submit"})]})]})]})]})}function oB({id:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(!1),i=()=>s(!1),o=()=>s(!0),c=()=>{a(!0),A.delete(`${yr}/deletetransaction/${t}`).then(()=>{i(),a(!1)}).catch(u=>{console.log(u),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:o,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:n,onHide:i,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:r,onClick:()=>{c()},children:r?"Loading...":"Yes"})]})]})]})}function lB({unpaidTransactions:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(!1),i=()=>s(!1),o=()=>s(!0),c=async()=>{a(!0);try{const u=t.map(h=>h._id);await A.post(`${yr}/updatetransaction/paid`,{transactionIds:u}).then(()=>{i(),a(!1)})}catch(u){console.error("Error updating paid status:",u),a(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-primary",onClick:o,disabled:t.length<1,className:"d-flex justify-content-center align-items-center",children:"Pay"}),e.jsxs(g,{show:n,onHide:i,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Pay"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to proceed ?"}),e.jsx(L,{variant:"outline-success",disabled:r,onClick:()=>{c()},children:r?"Loading...":"Confirm"})]})]})]})}function cB(){const{unpaidTransactions:t}=l.useContext(Gl),[n,s]=l.useState(0),{user:r}=l.useContext(se);l.useEffect(()=>{const c=t.reduce((u,h)=>h.status==="benefit"||h.status==="credit"||h.status==="allowance"?u+h.amount:h.status==="salary"?u+h.days*h.dailySalary-h.deduction:u,0);s(c)},[t]);const a=c=>e.jsx("ul",{style:{listStyleType:"none",padding:"0",margin:"0"},children:c.map((u,h)=>{const d=new Date(u).toLocaleDateString();return e.jsx("li",{children:d},h)})}),i=(c,u)=>{if(u==="credit"||u==="benefit"||c.length===0)return"";const h=c.map(f=>new Date(f)).sort((f,p)=>f-p),d=h[0],x=h[h.length-1],j=d.toLocaleDateString(void 0,{day:"2-digit",month:"short"}),v=x.toLocaleDateString(void 0,{day:"2-digit",month:"short"});return h.length>1?`${j} - ${v}`:j};function o(c){return c.map(h=>new Date(h).toLocaleString("default",{month:"short",year:"numeric"})).join(", ")}return e.jsxs(X,{children:[e.jsxs("div",{className:"my-2 d-flex justify-content-around align-items-center ",children:[e.jsx(iB,{}),r&&r.role==="admin"&&e.jsx(lB,{unpaidTransactions:t})]}),e.jsxs(Q,{bordered:!0,className:"my-3 text-capitalize text-center",children:[e.jsxs("thead",{children:[e.jsx("tr",{children:e.jsxs("th",{colSpan:10,className:"text-info",children:["K",n.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]})}),e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Dates Worked"}),e.jsx("th",{children:"Days"}),e.jsx("th",{children:"Salary"}),e.jsx("th",{children:"Deduction"}),e.jsx("th",{children:"Total"}),e.jsx("th",{children:"Status"}),r&&r.role==="admin"&&e.jsx("th",{children:"Actions"})]})]}),e.jsx("tbody",{className:"table-group-divider",children:t.length>0?t.map(c=>e.jsxs("tr",{className:c.status==="shortage"?"border border-3 border-primary-subtle":"",children:[e.jsx("td",{children:c.date}),e.jsx("td",{children:c.employeeCode}),e.jsx("td",{children:c.firstName}),e.jsx("td",{children:c.lastName}),c.status==="shortage"?e.jsx("td",{colSpan:4,children:c.comment}):c.status==="allowance"?e.jsx("td",{colSpan:4,children:o(c.months)}):c.status==="credit"||c.status==="benefit"?e.jsx("td",{colSpan:4}):e.jsxs(e.Fragment,{children:[e.jsx("td",{children:c.datesWorked.length>0&&c.status!=="credit"&&c.status!=="benefit"?e.jsx(Rb,{placement:"top",overlay:e.jsx(Wm,{id:`tooltip-${c._id}`,children:a(c.datesWorked)}),children:e.jsx("span",{className:"initialism",children:i(c.datesWorked)})}):""}),e.jsx("td",{children:c.days}),e.jsx("td",{children:c.dailySalary>0?`K${c.dailySalary}`:""}),e.jsx("td",{children:c.deduction>-1?`K${c.deduction}`:""})]}),e.jsxs("td",{children:["K",c.amount>0?c.amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):(c.days*c.dailySalary-c.deduction).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),e.jsx("td",{className:c.status==="benefit"?"border-2 border-warning-subtle":c.status==="credit"?"border-2 border-info-subtle":c.status==="allowance"?"border-2 border-primary-subtle":"",children:c.status==="allowance"?"H .Allowance":c.status}),r&&r.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center gap-2 align-items-center",children:e.jsx(oB,{id:c._id})})]},c._id)):null})]})]})}function dB(){return l.useEffect(()=>{document.title="Yussman - Employees"},[]),e.jsx(X,{fluid:!0,className:"py-3",children:e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"salary",title:"Salary",children:e.jsx(cB,{})}),e.jsx(Y,{eventKey:"paid",title:"Paid",children:e.jsx(VA,{})}),e.jsx(Y,{eventKey:"employeeList",title:"Employee List",children:e.jsx(WA,{})})]})})}function uB({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(!1),[c,u]=l.useState(!1),h=()=>u(!1),d=()=>u(!0),x=()=>{s(""),a("")},j=v=>{v.preventDefault(),o(!0);const f={name:n.trim(),price:Number(r)};A.post(`${$t}/${t}/addtostock`,f).then(()=>{x(),h(),o(!1)}).catch(p=>{console.log(p),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:d,children:"New Product"}),e.jsxs(g,{show:c,onHide:()=>{h(),x()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:v=>s(v.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:v=>a(v.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function hB({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${$t}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex mx-2  justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Loading…":"Yes"})]})]})]})}function fB({id:t,stock:n}){const[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(!1);l.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[u,h]=l.useState(!1),d=()=>h(!1),x=()=>h(!0),j=()=>{r(""),i("")},v=f=>{f.preventDefault(),c(!0);const p={price:Number(s),name:a};A.post(`${$t}/${t}/editname/${n._id}`,p).then(()=>{j(),d(),c(!1)}).catch(b=>{console.error(b),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:x,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:u,onHide:()=>{d()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:v,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading…":"Submit"})]})})]})]})}const mB="deletestock";function xB(){const[t,n]=l.useState(null),[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(""),[u,h]=l.useState(!1),[d,x]=l.useState(1),j=70,v=l.useRef(null),{shopA1Shift:f}=l.useContext(Da),{user:p}=l.useContext(se),b=d*j,k=b-j;let N;Object.keys(f).length!==0&&(N=f.stock.slice(k,b)),l.useEffect(()=>{v.current&&(v.current.focus(),v.current.select())},[t]);const E=C=>{n(C);let S=f.stock.find(T=>T._id===C);r(S.ostock.toString()),i(S.damage.toString()),c(S.cstock.toString())},y=(C,S)=>{if(C.preventDefault(),!S)return;h(!0);const T={ostock:Number(s),damage:Number(a),cstock:Number(o)};A.post(`${$t}/${f._id}/editstock/${S}`,T).then(()=>{n(null),r(""),i(""),c("");const P=f.stock.findIndex(R=>R._id===S)+1;if(P<b){const R=f.stock[P];n(R._id),r(R.ostock.toString()),i(R.damage.toString()),c(R.cstock.toString())}else P<f.stock.length&&(x(R=>R+1),setTimeout(()=>{const R=b,$=f.stock[R];n($._id),r($.ostock.toString()),i($.damage.toString()),c($.cstock.toString())},0));h(!1)}).catch(B=>{console.log(B),h(!1)})},w=l.useRef(!0);l.useEffect(()=>{if(w.current){w.current=!1;return}t!==null&&v.current&&(v.current.focus(),v.current.select())},[t]);const D=()=>{n(null),r(""),i(""),c(""),h(!1)};return f===null?null:e.jsxs(e.Fragment,{children:[p!==null&&p.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(uB,{id:f._id})}),e.jsx(m,{onSubmit:C=>y(C,t),children:e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),e.jsx("th",{style:{width:"8rem"},children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:Object.keys(f).length!==0&&N.map(C=>e.jsxs("tr",{id:C.code,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsxs("td",{children:["K",C.price>0&&C.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:t===C._id?e.jsx(m.Control,{type:"number",size:"sm",readOnly:p.role!=="admin",value:s,className:"text-center",onChange:S=>r(S.target.value)}):C.ostock}),e.jsx("td",{className:C.received>0?"text-info":"",children:C.received}),e.jsx("td",{style:{width:"8rem"},className:C.damage>0?"text-primary":"",children:t===C._id?e.jsx(m.Control,{type:"number",size:"sm",value:a,className:"text-center",onChange:S=>i(S.target.value)}):C.damage}),e.jsx("td",{style:{width:"8rem"},className:C.cstock<0?"text-danger":"",children:t===C._id?e.jsx(m.Control,{ref:v,type:"number",size:"sm",autoFocus:!0,value:o,className:"text-center",onChange:S=>c(S.target.value)}):C.cstock}),e.jsxs("td",{className:C.ostock+C.received-C.damage-C.cstock<0?"text-danger":C.ostock+C.received-C.damage-C.cstock===0?"text-muted":"",children:["K",C.code>0&&((C.ostock+C.received-C.damage-C.cstock)*C.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:t===C._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(L,{size:"sm",disabled:u,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(L,{size:"sm",variant:"outline-danger",onClick:()=>D(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:"outline-secondary",onClick:()=>E(C._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),p!==null&&p.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(hB,{endpoint:mB,id:C._id,shiftId:f._id}),e.jsx(fB,{stock:C,id:f._id})]})]})})]},C.code))})]})}),Object.keys(f).length!==0&&e.jsx(yn,{className:"justify-content-center",children:Array.from({length:Math.ceil(f.stock.length/j)},(C,S)=>e.jsx(yn.Item,{active:S+1===d,onClick:()=>x(S+1),children:S+1},S+1))})]})}function pB({show:t,handleClose:n,result:s,id:r}){const[a,i]=l.useState({code:"",name:"",amount:""}),[o,c]=l.useState(!1);l.useEffect(()=>{s&&i({code:s.code,name:s.name,amount:""})},[s]);const u=j=>{const{name:v,value:f}=j.target;i(p=>({...p,[v]:f}))},d=jB(()=>{o||(c(!0),A.post(`${$t}/${r}/addtoreceived`,a).then(()=>{n(),c(!1)}).catch(j=>{console.log(j),c(!1)}))},200),x=j=>{j.preventDefault(),d()};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:n,disabled:!0,children:"New"}),e.jsxs(g,{show:t,onHide:n,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Received"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:x,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{type:"number",autoComplete:"off",name:"code",value:a.code,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",name:"name",value:a.name,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Quantity"}),e.jsx(m.Control,{autoFocus:!0,type:"number",autoComplete:"off",name:"amount",value:a.amount,onChange:u,required:!0})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading…":"Submit"})]})})]})]})}function jB(t,n){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{t(...r)},n)}}function H0({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${$t}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Loading…":"Yes"})]})]})]})}const gB="deletereceived";function yB({activeTab:t}){const[n,s]=l.useState([]),[r,a]=l.useState([]),[i,o]=l.useState([]),[c,u]=l.useState(!1),[h,d]=l.useState(null),[x,j]=l.useState(""),[v,f]=l.useState(!1),[p,b]=l.useState(-1),{shopA1Shift:k}=l.useContext(Da);l.useEffect(()=>{Object.keys(k).length!==0&&(s(k.received),a(k.stock),o(k.stock),f(!0))},[k]),l.useEffect(()=>{const C=S=>{const T=document.getElementById("searchInput"),B=document.getElementById("resultsList");T&&B&&!T.contains(S.target)&&!B.contains(S.target)&&u(!1)};return document.addEventListener("click",C),()=>{document.removeEventListener("click",C)}},[]);const N=C=>{const S=C.target.value.toLowerCase(),T=r.filter(B=>B.name.toLowerCase().includes(S)||B.code.toString().includes(S));o(T),u(!0),u(!!S)},E=C=>{C.key==="ArrowDown"&&p<i.length-1?b(p+1):C.key==="ArrowUp"&&p>0?b(p-1):C.key==="Enter"&&p>=0&&(C.preventDefault(),y(i[p]))},y=C=>{d(C),u(!1),b(-1)},w=()=>{d(null),j(""),f(!0)},D=l.useCallback(()=>{const C=document.getElementById("searchInput");t==="received"&&C&&C.focus(),v&&t==="received"&&C&&(C.focus(),f(!1))},[t,v]);return l.useEffect(()=>{D()},[t,D]),l.useEffect(()=>{D()},[t,v,D]),e.jsxs(X,{children:[e.jsx("div",{className:"w-50",children:e.jsxs(m,{onSubmit:C=>C.preventDefault(),children:[e.jsxs(Ea,{className:"mb-3",children:[e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,placeholder:"Code",name:"search",id:"searchInput",onChange:C=>{N(C),j(C.target.value)},onKeyDown:E,value:x}),e.jsx(pB,{show:h!==null,result:h,handleClose:w,id:k._id})]}),c&&e.jsx("ul",{id:"resultsList",className:"list-group",style:{position:"absolute",zIndex:1,width:"50%",cursor:"pointer"},children:i.map((C,S)=>e.jsxs("li",{className:`list-group-item text-capitalize ${S===p?"active":""}`,onClick:()=>y(C),children:[C.code," - ",C.name]},C.code))})]})}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:n.map(C=>e.jsxs("tr",{id:C._id,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsx("td",{children:C.amount}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(H0,{endpoint:gB,id:C._id,shiftId:k._id})})]},C._id))})]})]})}function vB({shift:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),h=()=>s(!1),d=()=>s(!0),x=async j=>{j.preventDefault(),u(!0),await A.post(`${$t}/${t._id}/addtocredit`,{description:r,amount:i}).then(()=>{a(""),o(""),h(),u(!1)}).catch(v=>{console.log(v),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",size:"sm",onClick:d,children:"New"}),e.jsxs(g,{show:n,onHide:()=>{h(),a(""),o("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Credit"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j=>x(j),children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Description"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:j=>o(j.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:c?"Loading…":"Submit"})]})})]})]})}const SB="deletecredit";function bB(){const[t,n]=l.useState([]),{shopA1Shift:s}=l.useContext(Da);return l.useEffect(()=>{Object.keys(s).length!==0&&n(s.credit)},[s]),e.jsxs(X,{children:[e.jsxs("div",{className:"d-flex justify-content-between py-2",children:[e.jsx("h6",{children:"Credit"}),e.jsx(vB,{shift:s})]}),e.jsxs(Q,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(r=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:r.description}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(H0,{endpoint:SB,id:r._id,shiftId:s._id})})]},Math.floor(Math.random()*1e5)))})]})]})}function CB({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${$t}/${t}/addtocash`,{amount:n}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:u,size:"sm",children:"New"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function NB({endpoint:t,id:n,amount:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${$t}/${n}/${t}/${s}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Loading…":"Yes"})]})]})]})}const wB="deletecash";function kB(){const[t,n]=l.useState([]),{shopA1Shift:s}=l.useContext(Da);return l.useEffect(()=>{Object.keys(s).length!==0&&n(s.cash)},[s]),e.jsx(X,{children:e.jsx(ye,{children:e.jsxs(q,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Cash"}),e.jsxs("h5",{children:["Total: K ",t.reduce((r,a)=>r+a,0).toLocaleString()]}),e.jsx(CB,{id:s._id})]}),e.jsx(Tn,{children:e.jsx(_e,{variant:"flush",children:t.map(r=>e.jsxs(_e.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",r.toLocaleString(),e.jsx(NB,{endpoint:wB,id:s._id,amount:r})]},Math.floor(Math.random()*1e5)))})})]})})})}function LB({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${$t}/${t}/addcashier`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function EB({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${$t}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function DB({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${$t}/${t}/addcheckedby`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Chcke By"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function $B(){const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=()=>n(!1),i=()=>n(!0),o=c=>{c.preventDefault(),r(!0),A.post(`${$t}/newshift`).then(()=>{r(!1),a()}).catch(u=>{console.log(u),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(L,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(L,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading…":"Yes"})]})]})]})}function TB({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${$t}/${t}/adddatein`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading…":"Submit"})]})})]})]})}function OB({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${$t}/${t}/adddateout`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading…":"Submit"})]})})]})]})}function AB(){const[t,n]=l.useState([]),[s,r]=l.useState(!0),[a,i]=l.useState({}),{shopA1Shift:o}=l.useContext(Da),{user:c}=l.useContext(se);l.useEffect(()=>{i(o)},[o]);let u=0;if(Object.keys(a).length>0){const p=b=>(b.ostock+b.received-b.damage-b.cstock)*b.price;u=a.stock.reduce((b,k)=>b+p(k),0)}const h=l.useCallback(()=>{if(Object.keys(a).length>0){const p=a.cashier.length,b=a.acountant.length,k=a.dateIn.length,N=a.dateOut.length,E=a.checkedBy.length;p>0&&b>0&&k>0&&N>0&&E>0?r(!1):r(!0)}},[a]);l.useEffect(()=>{Object.keys(a).length>0&&n(a.cash.reduce((p,b)=>p+b,0)+a.credit.reduce((p,b)=>p+b.amount,0)-u),h()},[a,u,h]);const d=p=>{A.post(`${$t}/${a._id}/removecashier`,{name:p.toLowerCase()}).then(()=>{h()})},x=()=>{A.post(`${$t}/${a._id}/removeaccountant`).then(()=>{h()})},j=()=>{A.post(`${$t}/${a._id}/removecheckedby`).then(()=>{h()})},v=()=>{A.post(`${$t}/${a._id}/deletedatein`).then(()=>{h()})},f=()=>{A.post(`${$t}/${a._id}/deletedateout`).then(()=>{h()})};return Object.keys(a).length===0?null:e.jsx(X,{children:Object.keys(a).length!==0&&e.jsxs(ye,{className:"mx-1",children:[e.jsxs(q,{className:"d-flex flex-column align-items-center border pt-3 me-1 ",children:[e.jsxs("p",{children:["Cash : K",a.cash.reduce((p,b)=>p+b,0).toLocaleString()]}),e.jsxs("p",{children:["Credit: K",a.credit.reduce((p,b)=>p+b.amount,0).toLocaleString()]}),c!==null&&c.role==="admin"&&e.jsxs("p",{children:["Sales Total : K",u.toLocaleString()]}),c&&c.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"w-100"}),e.jsxs("p",{className:"display-6",children:["Result : K",e.jsx("span",{className:t<0?"text-danger":"",children:t.toLocaleString()})]})]})]}),e.jsxs(q,{className:"border py-3 ms-1 ",children:[e.jsx("p",{className:"text-center text-muted ",children:"Double click on any of the fields below to delete"}),e.jsxs("div",{className:"d-flex justify-content-around",children:[e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date In :"}),a.dateIn.length>0?e.jsxs("h6",{onDoubleClick:v,style:{cursor:"pointer"},children:[" ",a.dateIn]}):e.jsx(TB,{id:a._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date Out :"}),a.dateOut.length>0?e.jsxs("h6",{onDoubleClick:f,style:{cursor:"pointer"},children:[" ",a.dateOut]}):e.jsx(OB,{id:a._id})]})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex justify-content-evenly",children:[e.jsx("h6",{className:"d-flex align-items-center",children:"Cashier : "}),a.cashier.map(p=>e.jsx("h6",{className:"pt-1 prevent-select text-capitalize ",style:{cursor:"pointer"},onDoubleClick:()=>d(p),children:p},p)),a.cashier.length>=0&&a.cashier.length<1&&e.jsx(LB,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Accountant : "}),a.acountant.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>x(),children:a.acountant})}):e.jsx(EB,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Checked By : "}),a.checkedBy.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>j(),children:a.checkedBy})}):c&&c.role==="admin"&&e.jsx(DB,{id:a._id})]}),e.jsx("div",{className:"d-flex justify-content-center mt-5 ",children:!s&&e.jsx($B,{id:a._id})})]})]})})}function BB({shiftId:t,fetchData:n,disableDeleteBtn:s,setDisableDeleteBtn:r}){const[a,i]=l.useState(!1),[o,c]=l.useState(!1),u=()=>i(!1),h=()=>i(!0),d=()=>{c(!0),A.delete(`${$t}/${t}`).then(()=>{window.location.reload(),u()}).catch(x=>{console.error(x),c(!1),u()}),setTimeout(()=>{n(),c(!1),u()},50)};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:()=>{h(),r(!0)},disabled:s,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:a,onHide:u,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:o,onClick:()=>{d()},children:o?"Loading…":"Yes"})]})]})]})}function _B(){const[t,n]=l.useState([]),[s,r]=l.useState(!1),a=()=>{A.get(`${$t}/shifts`).then(h=>{n(h.data),r(!1)}).catch(h=>{console.log(h)})};l.useEffect(()=>{a()},[]);const i=()=>{const h={};t.forEach(x=>{const j=x.date?x.date.split("-")[1]:"undefined";h[j]||(h[j]=[]),h[j].push(x)});const d=Object.keys(h).sort((x,j)=>{var k,N;if(x==="undefined")return-1;if(j==="undefined")return 1;const v=(k=h[x][0])==null?void 0:k.date,f=(N=h[j][0])==null?void 0:N.date;if(!v||!f)return 0;const p=new Date(v);return new Date(f)-p});return d.forEach(x=>{h[x].sort((j,v)=>{const f=j.date?new Date(j.date).getTime():null,p=v.date?new Date(v.date).getTime():null;return!f&&!p?0:f?p?p-f:1:-1})}),{sortedMonths:d,groupedShifts:h}},{sortedMonths:o,groupedShifts:c}=i(),u=h=>{let d=0;return Object.keys(c).length>0&&(d=c[h].map(x=>x.cash.reduce((j,v)=>j+v,0)),d=d.reduce((x,j)=>x+j,0)),d.toLocaleString()};return e.jsxs(X,{children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(L,{variant:"outline-primary",onClick:a,className:"mb-3",children:"Refetch"})}),e.jsxs(Q,{bordered:!0,className:"text-center text-capitalize",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date In"}),e.jsx("th",{style:{width:"15%"},children:"Date Out"}),e.jsx("th",{style:{width:"15%"},children:"Checked By"}),e.jsx("th",{style:{width:"15%"},children:"Acountant"}),e.jsx("th",{children:"Cashier"}),e.jsx("th",{style:{width:"15%"},children:"Cash"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),o.map(h=>e.jsxs("tbody",{className:"table-group-divider",children:[c[h].map(d=>e.jsxs("tr",{children:[e.jsx("td",{children:d.dateIn}),e.jsx("td",{children:d.dateOut}),e.jsx("td",{children:d.checkedBy}),e.jsx("td",{children:d.acountant}),e.jsx("td",{className:"d-flex flex-row gap-1 justify-content-center",children:d.cashier.map(x=>e.jsxs("span",{className:"d-block ",children:[x," "]},x))}),e.jsxs("td",{children:["K",d.cash.reduce((x,j)=>x+j,0).toLocaleString()]}),e.jsx("td",{children:d.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Oe,{to:`/shopa1/${d._id}`,style:{textDecoration:"none"},children:e.jsx(L,{variant:"outline-primary me-1",size:"sm",children:"V"})}),d.status==="current"&&e.jsx(BB,{shiftId:d._id,fetchData:a,disableDeleteBtn:s,setDisableDeleteBtn:r})]})]},d._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4}),e.jsx("th",{children:"Total"}),e.jsxs("th",{colSpan:1,children:["K",u(h)]}),e.jsx("td",{colSpan:2})]})]},h))]})]})}function RB(){const[t,n]=l.useState("stock"),{user:s}=l.useContext(se);l.useEffect(()=>{document.title="Yussman - Shop A1"},[]);const r=i=>{n(i)},a=()=>{const i=document.getElementById("searchInput");i&&i.focus()};return e.jsx(e.Fragment,{children:e.jsx(X,{fluid:!0,className:"py-3",children:e.jsxs(mt,{activeKey:t,onSelect:r,id:"shopA1",className:"mb-3",justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsx(xB,{})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsx(yB,{activeTab:t,onModalClose:a})}),e.jsx(Y,{eventKey:"credit",title:"Cash / Credit",children:e.jsxs(ye,{children:[e.jsx(q,{children:e.jsx(kB,{})}),e.jsx(q,{children:e.jsx(bB,{})})]})}),e.jsx(Y,{eventKey:"final",title:"Final",children:e.jsx(AB,{})}),s!==null&&s.role==="admin"&&e.jsx(Y,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(_B,{})})]})})})}function IB({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(!1),[c,u]=l.useState(!1),h=()=>u(!1),d=()=>u(!0),x=()=>{s(""),a("")},j=v=>{v.preventDefault(),o(!0);const f={name:n.trim(),price:Number(r)};A.post(`${Tt}/${t}/addtostock`,f).then(()=>{x(),h(),o(!1)}).catch(p=>{console.log(p),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:d,children:"New Product"}),e.jsxs(g,{show:c,onHide:()=>{h(),x()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:v=>s(v.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:v=>a(v.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function FB({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${Tt}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex mx-2  justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Loading…":"Yes"})]})]})]})}function PB({id:t,stock:n}){const[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(!1);l.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[u,h]=l.useState(!1),d=()=>h(!1),x=()=>h(!0),j=()=>{r(""),i("")},v=f=>{f.preventDefault(),c(!0);const p={price:Number(s),name:a};A.post(`${Tt}/${t}/editname/${n._id}`,p).then(()=>{j(),d(),c(!1)}).catch(b=>{console.error(b),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:x,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:u,onHide:()=>{d()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:v,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading…":"Submit"})]})})]})]})}const MB="deletestock";function zB(){const[t,n]=l.useState(null),[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(""),[u,h]=l.useState(!1),[d,x]=l.useState(1),j=70,v=l.useRef(null),{shopA2Shift:f}=l.useContext($a),{user:p}=l.useContext(se),b=d*j,k=b-j;let N;Object.keys(f).length!==0&&(N=f.stock.slice(k,b)),l.useEffect(()=>{v.current&&(v.current.focus(),v.current.select())},[t]);const E=C=>{n(C);let S=f.stock.find(T=>T._id===C);r(S.ostock.toString()),i(S.damage.toString()),c(S.cstock.toString())},y=l.useRef(!0);l.useEffect(()=>{if(y.current){y.current=!1;return}t!==null&&v.current&&(v.current.focus(),v.current.select())},[t]);const w=(C,S)=>{if(C.preventDefault(),!S)return;h(!0);const T={ostock:Number(s),damage:Number(a),cstock:Number(o)};A.post(`${Tt}/${f._id}/editstock/${S}`,T).then(()=>{n(null),r(""),i(""),c("");const P=f.stock.findIndex(R=>R._id===S)+1;if(P<b){const R=f.stock[P];n(R._id),r(R.ostock.toString()),i(R.damage.toString()),c(R.cstock.toString())}else P<f.stock.length&&(x(R=>R+1),setTimeout(()=>{const R=b,$=f.stock[R];n($._id),r($.ostock.toString()),i($.damage.toString()),c($.cstock.toString())},0));h(!1)}).catch(B=>{console.log(B),h(!1)})},D=()=>{n(null),r(""),i(""),c(""),h(!1)};return f===null?null:e.jsxs(e.Fragment,{children:[p!==null&&p.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(IB,{id:f._id})}),e.jsx(m,{onSubmit:C=>w(C,t),children:e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),e.jsx("th",{style:{width:"8rem"},children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:Object.keys(f).length!==0&&N.map(C=>e.jsxs("tr",{id:C.code,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsxs("td",{children:["K",C.price>0&&C.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:t===C._id?e.jsx(m.Control,{type:"number",size:"sm",readOnly:p.role!=="admin",value:s,className:"text-center",onChange:S=>r(S.target.value)}):C.ostock}),e.jsx("td",{className:C.received>0?"text-info":"",children:C.received}),e.jsx("td",{style:{width:"8rem"},className:C.damage>0?"text-primary":"",children:t===C._id?e.jsx(m.Control,{type:"number",size:"sm",value:a,className:"text-center",onChange:S=>i(S.target.value)}):C.damage}),e.jsx("td",{style:{width:"8rem"},className:C.cstock<0?"text-danger":"",children:t===C._id?e.jsx(m.Control,{ref:v,type:"number",size:"sm",autoFocus:!0,value:o,className:"text-center",onChange:S=>c(S.target.value)}):C.cstock}),e.jsxs("td",{className:C.ostock+C.received-C.damage-C.cstock<0?"text-danger":C.ostock+C.received-C.damage-C.cstock===0?"text-muted":"",children:["K",C.code>0&&((C.ostock+C.received-C.damage-C.cstock)*C.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:t===C._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(L,{size:"sm",disabled:u,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(L,{size:"sm",variant:"outline-danger",onClick:()=>D(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:"outline-secondary",onClick:()=>E(C._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),p!==null&&p.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(FB,{endpoint:MB,id:C._id,shiftId:f._id}),e.jsx(PB,{stock:C,id:f._id})]})]})})]},C.code))})]})}),Object.keys(f).length!==0&&e.jsx(yn,{className:"justify-content-center",children:Array.from({length:Math.ceil(f.stock.length/j)},(C,S)=>e.jsx(yn.Item,{active:S+1===d,onClick:()=>x(S+1),children:S+1},S+1))})]})}function HB({show:t,handleClose:n,result:s,id:r}){const[a,i]=l.useState({code:"",name:"",amount:""}),[o,c]=l.useState(!1);l.useEffect(()=>{s&&i({code:s.code,name:s.name,amount:""})},[s]);const u=j=>{const{name:v,value:f}=j.target;i(p=>({...p,[v]:f}))},d=KB(()=>{o||(c(!0),A.post(`${Tt}/${r}/addtoreceived`,a).then(()=>{n(),c(!1)}).catch(j=>{console.log(j),c(!1)}))},200),x=j=>{j.preventDefault(),d()};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:n,disabled:!0,children:"New"}),e.jsxs(g,{show:t,onHide:n,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Received"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:x,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{type:"number",autoComplete:"off",name:"code",value:a.code,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",name:"name",value:a.name,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Quantity"}),e.jsx(m.Control,{autoFocus:!0,type:"number",autoComplete:"off",name:"amount",value:a.amount,onChange:u,required:!0})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading…":"Submit"})]})})]})]})}function KB(t,n){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{t(...r)},n)}}function K0({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${Tt}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Loading…":"Yes"})]})]})]})}const qB="deletereceived";function UB({activeTab:t}){const[n,s]=l.useState([]),[r,a]=l.useState([]),[i,o]=l.useState([]),[c,u]=l.useState(!1),[h,d]=l.useState(null),[x,j]=l.useState(""),[v,f]=l.useState(!1),[p,b]=l.useState(-1),{shopA2Shift:k}=l.useContext($a);l.useEffect(()=>{Object.keys(k).length!==0&&(s(k.received),a(k.stock),o(k.stock),f(!0))},[k]),l.useEffect(()=>{const C=S=>{const T=document.getElementById("searchInput"),B=document.getElementById("resultsList");T&&B&&!T.contains(S.target)&&!B.contains(S.target)&&u(!1)};return document.addEventListener("click",C),()=>{document.removeEventListener("click",C)}},[]);const N=C=>{const S=C.target.value.toLowerCase(),T=r.filter(B=>B.name.toLowerCase().includes(S)||B.code.toString().includes(S));o(T),u(!0),u(!!S)},E=C=>{C.key==="ArrowDown"&&p<i.length-1?b(p+1):C.key==="ArrowUp"&&p>0?b(p-1):C.key==="Enter"&&p>=0&&(C.preventDefault(),y(i[p]))},y=C=>{d(C),u(!1),b(-1)},w=()=>{d(null),j(""),f(!0)},D=l.useCallback(()=>{const C=document.getElementById("searchInput");t==="received"&&C&&C.focus(),v&&t==="received"&&C&&(C.focus(),f(!1))},[t,v]);return l.useEffect(()=>{D()},[t,D]),l.useEffect(()=>{D()},[t,v,D]),e.jsxs(X,{children:[e.jsx("div",{className:"w-50",children:e.jsxs(m,{onSubmit:C=>C.preventDefault(),children:[e.jsxs(Ea,{className:"mb-3",children:[e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,placeholder:"Code",name:"search",id:"searchInput",onChange:C=>{N(C),j(C.target.value)},onKeyDown:E,value:x}),e.jsx(HB,{show:h!==null,result:h,handleClose:w,id:k._id})]}),c&&e.jsx("ul",{id:"resultsList",className:"list-group",style:{position:"absolute",zIndex:1,width:"50%",cursor:"pointer"},children:i.map((C,S)=>e.jsxs("li",{className:`list-group-item text-capitalize ${S===p?"active":""}`,onClick:()=>y(C),children:[C.code," - ",C.name]},C.code))})]})}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:n.map(C=>e.jsxs("tr",{id:C._id,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsx("td",{children:C.amount}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(K0,{endpoint:qB,id:C._id,shiftId:k._id})})]},C._id))})]})]})}function GB({shift:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),h=()=>s(!1),d=()=>s(!0),x=async j=>{j.preventDefault(),u(!0),await A.post(`${Tt}/${t._id}/addtocredit`,{description:r,amount:i}).then(()=>{a(""),o(""),h(),u(!1)}).catch(v=>{console.log(v),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",size:"sm",onClick:d,children:"New"}),e.jsxs(g,{show:n,onHide:()=>{h(),a(""),o("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Credit"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j=>x(j),children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Description"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:j=>o(j.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:c?"Loading…":"Submit"})]})})]})]})}const YB="deletecredit";function WB(){const[t,n]=l.useState([]),{shopA2Shift:s}=l.useContext($a);return l.useEffect(()=>{Object.keys(s).length!==0&&n(s.credit)},[s]),e.jsxs(X,{children:[e.jsxs("div",{className:"d-flex justify-content-between py-2",children:[e.jsx("h6",{children:"Credit"}),e.jsx(GB,{shift:s})]}),e.jsxs(Q,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(r=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:r.description}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(K0,{endpoint:YB,id:r._id,shiftId:s._id})})]},Math.floor(Math.random()*1e5)))})]})]})}function VB({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Tt}/${t}/addtocash`,{amount:n}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:u,size:"sm",children:"New"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function QB({endpoint:t,id:n,amount:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${Tt}/${n}/${t}/${s}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Loading…":"Yes"})]})]})]})}const JB="deletecash";function XB(){const[t,n]=l.useState([]),{shopA2Shift:s}=l.useContext($a);return l.useEffect(()=>{Object.keys(s).length!==0&&n(s.cash)},[s]),e.jsx(X,{children:e.jsx(ye,{children:e.jsxs(q,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Cash"}),e.jsxs("h5",{children:["Total: K ",t.reduce((r,a)=>r+a,0).toLocaleString()]}),e.jsx(VB,{id:s._id})]}),e.jsx(Tn,{children:e.jsx(_e,{variant:"flush",children:t.map(r=>e.jsxs(_e.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",r.toLocaleString(),e.jsx(QB,{endpoint:JB,id:s._id,amount:r})]},Math.floor(Math.random()*1e5)))})})]})})})}function ZB({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Tt}/${t}/addcashier`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function e_({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Tt}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function t_({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Tt}/${t}/addcheckedby`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Chcke By"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function n_(){const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=()=>n(!1),i=()=>n(!0),o=c=>{c.preventDefault(),r(!0),A.post(`${Tt}/newshift`).then(()=>{r(!1),a()}).catch(u=>{console.log(u),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(L,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(L,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading…":"Yes"})]})]})]})}function s_({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${Tt}/${t}/adddatein`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading…":"Submit"})]})})]})]})}function r_({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${Tt}/${t}/adddateout`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading…":"Submit"})]})})]})]})}function a_(){const[t,n]=l.useState([]),[s,r]=l.useState(!0),[a,i]=l.useState({}),{shopA2Shift:o}=l.useContext($a),{user:c}=l.useContext(se);l.useEffect(()=>{i(o)},[o]);let u=0;if(Object.keys(a).length>0){const p=b=>(b.ostock+b.received-b.damage-b.cstock)*b.price;u=a.stock.reduce((b,k)=>b+p(k),0)}const h=l.useCallback(()=>{if(Object.keys(a).length>0){const p=a.cashier.length,b=a.acountant.length,k=a.dateIn.length,N=a.dateOut.length,E=a.checkedBy.length;p>0&&b>0&&k>0&&N>0&&E>0?r(!1):r(!0)}},[a]);l.useEffect(()=>{Object.keys(a).length>0&&n(a.cash.reduce((p,b)=>p+b,0)+a.credit.reduce((p,b)=>p+b.amount,0)-u),h()},[a,u,h]);const d=p=>{A.post(`${Tt}/${a._id}/removecashier`,{name:p.toLowerCase()}).then(()=>{h()})},x=()=>{A.post(`${Tt}/${a._id}/removeaccountant`).then(()=>{h()})},j=()=>{A.post(`${Tt}/${a._id}/removecheckedby`).then(()=>{h()})},v=()=>{A.post(`${Tt}/${a._id}/deletedatein`).then(()=>{h()})},f=()=>{A.post(`${Tt}/${a._id}/deletedateout`).then(()=>{h()})};return Object.keys(a).length===0?null:e.jsx(X,{children:Object.keys(a).length!==0&&e.jsxs(ye,{className:"mx-1",children:[e.jsxs(q,{className:"d-flex flex-column align-items-center border pt-3 me-1 ",children:[e.jsxs("p",{children:["Cash : K",a.cash.reduce((p,b)=>p+b,0).toLocaleString()]}),e.jsxs("p",{children:["Credit: K",a.credit.reduce((p,b)=>p+b.amount,0).toLocaleString()]}),c!==null&&c.role==="admin"&&e.jsxs("p",{children:["Sales Total : K",u.toLocaleString()]}),c&&c.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:" w-100 "}),e.jsxs("p",{className:"display-6",children:["Result : K",e.jsx("span",{className:t<0?"text-danger":"",children:t.toLocaleString()})]})]})]}),e.jsxs(q,{className:"border py-3 ms-1 ",children:[e.jsx("p",{className:"text-center text-muted ",children:"Double click on any of the fields below to delete"}),e.jsxs("div",{className:"d-flex justify-content-around",children:[e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date In :"}),a.dateIn.length>0?e.jsxs("h6",{onDoubleClick:v,style:{cursor:"pointer"},children:[" ",a.dateIn]}):e.jsx(s_,{id:a._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date Out :"}),a.dateOut.length>0?e.jsxs("h6",{onDoubleClick:f,style:{cursor:"pointer"},children:[" ",a.dateOut]}):e.jsx(r_,{id:a._id})]})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex justify-content-evenly",children:[e.jsx("h6",{className:"d-flex align-items-center",children:"Cashier : "}),a.cashier.map(p=>e.jsx("h6",{className:"pt-1 prevent-select text-capitalize ",style:{cursor:"pointer"},onDoubleClick:()=>d(p),children:p},p)),a.cashier.length>=0&&a.cashier.length<1&&e.jsx(ZB,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Accountant : "}),a.acountant.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>x(),children:a.acountant})}):e.jsx(e_,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Checked By : "}),a.checkedBy.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>j(),children:a.checkedBy})}):c&&c.role==="admin"&&e.jsx(t_,{id:a._id})]}),e.jsx("div",{className:"d-flex justify-content-center mt-5 ",children:!s&&e.jsx(n_,{id:a._id})})]})]})})}function i_({shiftId:t,fetchData:n,disableDeleteBtn:s,setDisableDeleteBtn:r}){const[a,i]=l.useState(!1),[o,c]=l.useState(!1),u=()=>i(!1),h=()=>i(!0),d=()=>{c(!0),A.delete(`${Tt}/${t}`).then(()=>{window.location.reload(),u()}).catch(x=>{console.error(x),u(),c(!1)}),setTimeout(()=>{n(),c(!1),u()},50)};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:()=>{h(),r(!0)},disabled:s,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:a,onHide:u,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:o,onClick:()=>{d()},children:"Yes"})]})]})]})}function o_(){const[t,n]=l.useState([]),[s,r]=l.useState(!1),a=()=>{A.get(`${Tt}/shifts`).then(h=>{n(h.data),r(!1)}).catch(h=>{console.log(h)})};l.useEffect(()=>{a()},[]);const i=()=>{const h={};t.forEach(x=>{const j=x.date?x.date.split("-")[1]:"undefined";h[j]||(h[j]=[]),h[j].push(x)});const d=Object.keys(h).sort((x,j)=>{var k,N;if(x==="undefined")return-1;if(j==="undefined")return 1;const v=(k=h[x][0])==null?void 0:k.date,f=(N=h[j][0])==null?void 0:N.date;if(!v||!f)return 0;const p=new Date(v);return new Date(f)-p});return d.forEach(x=>{h[x].sort((j,v)=>{const f=j.date?new Date(j.date).getTime():null,p=v.date?new Date(v.date).getTime():null;return!f&&!p?0:f?p?p-f:1:-1})}),{sortedMonths:d,groupedShifts:h}},{sortedMonths:o,groupedShifts:c}=i(),u=h=>{let d=0;return Object.keys(c).length>0&&(d=c[h].map(x=>x.cash.reduce((j,v)=>j+v,0)),d=d.reduce((x,j)=>x+j,0)),d.toLocaleString()};return e.jsxs(X,{children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(L,{variant:"outline-primary",onClick:a,className:"mb-3",children:"Refetch"})}),e.jsxs(Q,{bordered:!0,className:"text-center text-capitalize",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date In"}),e.jsx("th",{style:{width:"15%"},children:"Date Out"}),e.jsx("th",{style:{width:"15%"},children:"Checked By"}),e.jsx("th",{style:{width:"15%"},children:"Acountant"}),e.jsx("th",{children:"Cashier"}),e.jsx("th",{style:{width:"15%"},children:"Cash"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),o.map(h=>e.jsxs("tbody",{className:"table-group-divider",children:[c[h].map(d=>e.jsxs("tr",{children:[e.jsx("td",{children:d.dateIn}),e.jsx("td",{children:d.dateOut}),e.jsx("td",{children:d.checkedBy}),e.jsx("td",{children:d.acountant}),e.jsx("td",{className:"d-flex flex-row gap-1 justify-content-center",children:d.cashier.map(x=>e.jsxs("span",{className:"d-block ",children:[x," "]},x))}),e.jsxs("td",{children:["K",d.cash.reduce((x,j)=>x+j,0).toLocaleString()]}),e.jsx("td",{children:d.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Oe,{to:`/shopa2/${d._id}`,style:{textDecoration:"none"},children:e.jsx(L,{variant:"outline-primary me-1",size:"sm",children:"V"})}),d.status==="current"&&e.jsx(i_,{shiftId:d._id,fetchData:a,disableDeleteBtn:s,setDisableDeleteBtn:r})]})]},d._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4}),e.jsx("th",{children:"Total"}),e.jsxs("th",{colSpan:1,children:["K",u(h)]}),e.jsx("td",{colSpan:2})]})]},h))]})]})}function l_(){const[t,n]=l.useState("stock"),{user:s}=l.useContext(se);l.useEffect(()=>{document.title="Yussman - Shop A2"},[]);const r=i=>{n(i)},a=()=>{const i=document.getElementById("searchInput");i&&i.focus()};return e.jsx(e.Fragment,{children:e.jsx(X,{fluid:!0,className:"py-3",children:e.jsxs(mt,{activeKey:t,onSelect:r,id:"shopA1",className:"mb-3",justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsx(zB,{})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsx(UB,{activeTab:t,onModalClose:a})}),e.jsx(Y,{eventKey:"credit",title:"Cash / Credit",children:e.jsxs(ye,{children:[e.jsx(q,{children:e.jsx(XB,{})}),e.jsx(q,{children:e.jsx(WB,{})})]})}),e.jsx(Y,{eventKey:"final",title:"Final",children:e.jsx(a_,{})}),s!==null&&s.role==="admin"&&e.jsx(Y,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(o_,{})})]})})})}function c_({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(!1),[c,u]=l.useState(!1),h=()=>u(!1),d=()=>u(!0),x=()=>{s(""),a("")},j=v=>{v.preventDefault(),o(!0);const f={name:n.trim(),price:Number(r)};A.post(`${Ot}/${t}/addtostock`,f).then(()=>{x(),h(),o(!1)}).catch(p=>{console.log(p),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:d,children:"New Product"}),e.jsxs(g,{show:c,onHide:()=>{h(),x()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:v=>s(v.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:v=>a(v.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function d_({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${Ot}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex mx-2  justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}function u_({id:t,stock:n}){const[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(!1);l.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[u,h]=l.useState(!1),d=()=>h(!1),x=()=>h(!0),j=()=>{r(""),i("")},v=f=>{f.preventDefault(),c(!0);const p={price:Number(s),name:a};A.post(`${Ot}/${t}/editname/${n._id}`,p).then(()=>{j(),d(),c(!1)}).catch(b=>{console.error(b),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:x,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:u,onHide:()=>{d()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:v,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:"Submit"})]})})]})]})}const h_="deletestock";function f_(){const[t,n]=l.useState(null),[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(""),[u,h]=l.useState(!1),[d,x]=l.useState(1),j=70,v=l.useRef(null),{shopBShift:f}=l.useContext(Ta),{user:p}=l.useContext(se),b=d*j,k=b-j;let N;Object.keys(f).length!==0&&(N=f.stock.slice(k,b)),l.useEffect(()=>{v.current&&(v.current.focus(),v.current.select())},[t]);const E=C=>{n(C);let S=f.stock.find(T=>T._id===C);r(S.ostock.toString()),i(S.damage.toString()),c(S.cstock.toString())},y=l.useRef(!0);l.useEffect(()=>{if(y.current){y.current=!1;return}t!==null&&v.current&&(v.current.focus(),v.current.select())},[t]);const w=(C,S)=>{if(C.preventDefault(),!S)return;h(!0);const T={ostock:Number(s),damage:Number(a),cstock:Number(o)};A.post(`${Ot}/${f._id}/editstock/${S}`,T).then(()=>{n(null),r(""),i(""),c("");const P=f.stock.findIndex(R=>R._id===S)+1;if(P<b){const R=f.stock[P];n(R._id),r(R.ostock.toString()),i(R.damage.toString()),c(R.cstock.toString())}else P<f.stock.length&&(x(R=>R+1),setTimeout(()=>{const R=b,$=f.stock[R];n($._id),r($.ostock.toString()),i($.damage.toString()),c($.cstock.toString())},0));h(!1)}).catch(B=>{console.log(B),h(!1)})},D=()=>{n(null),r(""),i(""),c(""),h(!1)};return f===null?null:e.jsxs(e.Fragment,{children:[p!==null&&p.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(c_,{id:f._id})}),e.jsx(m,{onSubmit:C=>w(C,t),children:e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),e.jsx("th",{style:{width:"8rem"},children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:Object.keys(f).length!==0&&N.map(C=>e.jsxs("tr",{id:C.code,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsxs("td",{children:["K",C.price>0&&C.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:t===C._id?e.jsx(m.Control,{type:"number",size:"sm",readOnly:p.role!=="admin",value:s,className:"text-center",onChange:S=>r(S.target.value)}):C.ostock}),e.jsx("td",{className:C.received>0?"text-info":"",children:C.received}),e.jsx("td",{style:{width:"8rem"},className:C.damage>0?"text-primary":"",children:t===C._id?e.jsx(m.Control,{type:"number",size:"sm",value:a,className:"text-center",onChange:S=>i(S.target.value)}):C.damage}),e.jsx("td",{style:{width:"8rem"},className:C.cstock<0?"text-danger":"",children:t===C._id?e.jsx(m.Control,{ref:v,type:"number",size:"sm",autoFocus:!0,value:o,className:"text-center",onChange:S=>c(S.target.value)}):C.cstock}),e.jsxs("td",{className:C.ostock+C.received-C.damage-C.cstock<0?"text-danger":C.ostock+C.received-C.damage-C.cstock===0?"text-muted":"",children:["K",C.code>0&&((C.ostock+C.received-C.damage-C.cstock)*C.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:t===C._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(L,{size:"sm",disabled:u,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(L,{size:"sm",variant:"outline-danger",onClick:()=>D(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:"outline-secondary",onClick:()=>E(C._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),p!==null&&p.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(d_,{endpoint:h_,id:C._id,shiftId:f._id}),e.jsx(u_,{stock:C,id:f._id})]})]})})]},C.code))})]})}),Object.keys(f).length!==0&&e.jsx(yn,{className:"justify-content-center",children:Array.from({length:Math.ceil(f.stock.length/j)},(C,S)=>e.jsx(yn.Item,{active:S+1===d,onClick:()=>x(S+1),children:S+1},S+1))})]})}function m_({show:t,handleClose:n,result:s,id:r}){const[a,i]=l.useState({code:"",name:"",amount:""}),[o,c]=l.useState(!1);l.useEffect(()=>{s&&i({code:s.code,name:s.name,amount:""})},[s]);const u=j=>{const{name:v,value:f}=j.target;i(p=>({...p,[v]:f}))},d=x_(()=>{o||(c(!0),A.post(`${Ot}/${r}/addtoreceived`,a).then(()=>{n(),c(!1)}).catch(j=>{console.log(j),c(!1)}))},200),x=j=>{j.preventDefault(),d()};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:n,disabled:!0,children:"New"}),e.jsxs(g,{show:t,onHide:n,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Received"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:x,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{type:"number",autoComplete:"off",name:"code",value:a.code,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",name:"name",value:a.name,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Quantity"}),e.jsx(m.Control,{autoFocus:!0,type:"number",autoComplete:"off",name:"amount",value:a.amount,onChange:u,required:!0})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:"Submit"})]})})]})]})}function x_(t,n){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{t(...r)},n)}}function q0({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${Ot}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}const p_="deletereceived";function j_({activeTab:t}){const[n,s]=l.useState([]),[r,a]=l.useState([]),[i,o]=l.useState([]),[c,u]=l.useState(!1),[h,d]=l.useState(null),[x,j]=l.useState(""),[v,f]=l.useState(!1),[p,b]=l.useState(-1),{shopBShift:k}=l.useContext(Ta);l.useEffect(()=>{Object.keys(k).length!==0&&(s(k.received),a(k.stock),o(k.stock),f(!0))},[k]),l.useEffect(()=>{const C=S=>{const T=document.getElementById("searchInput"),B=document.getElementById("resultsList");T&&B&&!T.contains(S.target)&&!B.contains(S.target)&&u(!1)};return document.addEventListener("click",C),()=>{document.removeEventListener("click",C)}},[]);const N=C=>{const S=C.target.value.toLowerCase(),T=r.filter(B=>B.name.toLowerCase().includes(S)||B.code.toString().includes(S));o(T),u(!0),u(!!S)},E=C=>{C.key==="ArrowDown"&&p<i.length-1?b(p+1):C.key==="ArrowUp"&&p>0?b(p-1):C.key==="Enter"&&p>=0&&(C.preventDefault(),y(i[p]))},y=C=>{d(C),u(!1),b(-1)},w=()=>{d(null),j(""),f(!0)},D=l.useCallback(()=>{const C=document.getElementById("searchInput");t==="received"&&C&&C.focus(),v&&t==="received"&&C&&(C.focus(),f(!1))},[t,v]);return l.useEffect(()=>{D()},[t,D]),l.useEffect(()=>{D()},[t,v,D]),e.jsxs(X,{children:[e.jsx("div",{className:"w-50",children:e.jsxs(m,{onSubmit:C=>C.preventDefault(),children:[e.jsxs(Ea,{className:"mb-3",children:[e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,placeholder:"Code",name:"search",id:"searchInput",onChange:C=>{N(C),j(C.target.value)},onKeyDown:E,value:x}),e.jsx(m_,{show:h!==null,result:h,handleClose:w,id:k._id})]}),c&&e.jsx("ul",{id:"resultsList",className:"list-group",style:{position:"absolute",zIndex:1,width:"50%",cursor:"pointer"},children:i.map((C,S)=>e.jsxs("li",{className:`list-group-item text-capitalize ${S===p?"active":""}`,onClick:()=>y(C),children:[C.code," - ",C.name]},C.code))})]})}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:n.map(C=>e.jsxs("tr",{id:C._id,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsx("td",{children:C.amount}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(q0,{endpoint:p_,id:C._id,shiftId:k._id})})]},C._id))})]})]})}function g_({shift:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),h=()=>s(!1),d=()=>s(!0),x=async j=>{j.preventDefault(),u(!0),await A.post(`${Ot}/${t._id}/addtocredit`,{description:r,amount:i}).then(()=>{a(""),o(""),h(),u(!1)}).catch(v=>{console.log(v),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",size:"sm",onClick:d,children:"New"}),e.jsxs(g,{show:n,onHide:()=>{h(),a(""),o("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Credit"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j=>x(j),children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Description"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:j=>o(j.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:"Submit"})]})})]})]})}const y_="deletecredit";function v_(){const[t,n]=l.useState([]),{shopBShift:s}=l.useContext(Ta);return l.useEffect(()=>{Object.keys(s).length!==0&&n(s.credit)},[s]),e.jsxs(X,{children:[e.jsxs("div",{className:"d-flex justify-content-between py-2",children:[e.jsx("h6",{children:"Credit"}),e.jsx(g_,{shift:s})]}),e.jsxs(Q,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(r=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:r.description}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(q0,{endpoint:y_,id:r._id,shiftId:s._id})})]},Math.floor(Math.random()*1e5)))})]})]})}function S_({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Ot}/${t}/addtocash`,{amount:n}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:u,size:"sm",children:"New"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function b_({endpoint:t,id:n,amount:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${Ot}/${n}/${t}/${s}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}const C_="deletecash";function N_(){const[t,n]=l.useState([]),{shopBShift:s}=l.useContext(Ta);return l.useEffect(()=>{Object.keys(s).length!==0&&n(s.cash)},[s]),e.jsx(X,{children:e.jsx(ye,{children:e.jsxs(q,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Cash"}),e.jsxs("h5",{children:["Total: K ",t.reduce((r,a)=>r+a,0).toLocaleString()]}),e.jsx(S_,{id:s._id})]}),e.jsx(Tn,{children:e.jsx(_e,{variant:"flush",children:t.map(r=>e.jsxs(_e.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",r.toLocaleString(),e.jsx(b_,{endpoint:C_,id:s._id,amount:r})]},Math.floor(Math.random()*1e5)))})})]})})})}function w_({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Ot}/${t}/addcashier`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function k_({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Ot}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function L_({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Ot}/${t}/addcheckedby`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Chcke By"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function E_(){const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=()=>n(!1),i=()=>n(!0),o=c=>{c.preventDefault(),r(!0),A.post(`${Ot}/newshift`).then(()=>{r(!1),a()}).catch(u=>{console.log(u),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(L,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(L,{variant:"primary",type:"submit",onClick:o,disabled:s,children:"Yes"})]})]})]})}function D_({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${Ot}/${t}/adddatein`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:"Submit"})]})})]})]})}function $_({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${Ot}/${t}/adddateout`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:"Submit"})]})})]})]})}function T_(){const[t,n]=l.useState([]),[s,r]=l.useState(!0),[a,i]=l.useState({}),{shopBShift:o}=l.useContext(Ta),{user:c}=l.useContext(se);l.useEffect(()=>{i(o)},[o]);let u=0;if(Object.keys(a).length>0){const p=b=>(b.ostock+b.received-b.damage-b.cstock)*b.price;u=a.stock.reduce((b,k)=>b+p(k),0)}const h=l.useCallback(()=>{if(Object.keys(a).length>0){const p=a.cashier.length,b=a.acountant.length,k=a.dateIn.length,N=a.dateOut.length,E=a.checkedBy.length;p>0&&b>0&&k>0&&N>0&&E>0?r(!1):r(!0)}},[a]);l.useEffect(()=>{Object.keys(a).length>0&&n(a.cash.reduce((p,b)=>p+b,0)+a.credit.reduce((p,b)=>p+b.amount,0)-u),h()},[a,u,h]);const d=p=>{A.post(`${Ot}/${a._id}/removecashier`,{name:p.toLowerCase()}).then(()=>{h()})},x=()=>{A.post(`${Ot}/${a._id}/removeaccountant`).then(()=>{h()})},j=()=>{A.post(`${Ot}/${a._id}/removecheckedby`).then(()=>{h()})},v=()=>{A.post(`${Ot}/${a._id}/deletedatein`).then(()=>{h()})},f=()=>{A.post(`${Ot}/${a._id}/deletedateout`).then(()=>{h()})};return Object.keys(a).length===0?null:e.jsx(X,{children:Object.keys(a).length!==0&&e.jsxs(ye,{className:"mx-1",children:[e.jsxs(q,{className:"d-flex flex-column align-items-center border pt-3 me-1 ",children:[e.jsxs("p",{children:["Cash : K",a.cash.reduce((p,b)=>p+b,0).toLocaleString()]}),e.jsxs("p",{children:["Credit: K",a.credit.reduce((p,b)=>p+b.amount,0).toLocaleString()]}),c!==null&&c.role==="admin"&&e.jsxs("p",{children:["Sales Total : K",u.toLocaleString()]}),c&&c.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:" w-100 "}),e.jsxs("p",{className:"display-6",children:["Result : K",e.jsx("span",{className:t<0?"text-danger":"",children:t.toLocaleString()})]})]})]}),e.jsxs(q,{className:"border py-3 ms-1 ",children:[e.jsx("p",{className:"text-center text-muted ",children:"Double click on any of the fields below to delete"}),e.jsxs("div",{className:"d-flex justify-content-around",children:[e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date In :"}),a.dateIn.length>0?e.jsxs("h6",{onDoubleClick:v,style:{cursor:"pointer"},children:[" ",a.dateIn]}):e.jsx(D_,{id:a._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date Out :"}),a.dateOut.length>0?e.jsxs("h6",{onDoubleClick:f,style:{cursor:"pointer"},children:[" ",a.dateOut]}):e.jsx($_,{id:a._id})]})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex justify-content-evenly",children:[e.jsx("h6",{className:"d-flex align-items-center",children:"Cashier : "}),a.cashier.map(p=>e.jsx("h6",{className:"pt-1 prevent-select text-capitalize ",style:{cursor:"pointer"},onDoubleClick:()=>d(p),children:p},p)),a.cashier.length>=0&&a.cashier.length<1&&e.jsx(w_,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Accountant : "}),a.acountant.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>x(),children:a.acountant})}):e.jsx(k_,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Checked By : "}),a.checkedBy.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>j(),children:a.checkedBy})}):c&&c.role==="admin"&&e.jsx(L_,{id:a._id})]}),e.jsx("div",{className:"d-flex justify-content-center mt-5 ",children:!s&&e.jsx(E_,{id:a._id})})]})]})})}function O_({shiftId:t,fetchData:n,disableDeleteBtn:s,setDisableDeleteBtn:r}){const[a,i]=l.useState(!1),[o,c]=l.useState(!1),u=()=>i(!1),h=()=>i(!0),d=()=>{c(!0),A.delete(`${Ot}/${t}`).then(()=>{window.location.reload(),u()}).catch(x=>{console.error(x),c(!1),u()}),setTimeout(()=>{n(),c(!1),u()},50)};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:()=>{h(),r(!0)},disabled:s,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:a,onHide:u,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:o,onClick:()=>{d()},children:"Yes"})]})]})]})}function A_(){const[t,n]=l.useState([]),[s,r]=l.useState(!1),a=()=>{A.get(`${Ot}/shifts`).then(h=>{n(h.data),r(!1)}).catch(h=>{console.log(h)})};l.useEffect(()=>{a()},[]);const i=()=>{const h={};t.forEach(x=>{const j=x.date?x.date.split("-")[1]:"undefined";h[j]||(h[j]=[]),h[j].push(x)});const d=Object.keys(h).sort((x,j)=>{var k,N;if(x==="undefined")return-1;if(j==="undefined")return 1;const v=(k=h[x][0])==null?void 0:k.date,f=(N=h[j][0])==null?void 0:N.date;if(!v||!f)return 0;const p=new Date(v);return new Date(f)-p});return d.forEach(x=>{h[x].sort((j,v)=>{const f=j.date?new Date(j.date).getTime():null,p=v.date?new Date(v.date).getTime():null;return!f&&!p?0:f?p?p-f:1:-1})}),{sortedMonths:d,groupedShifts:h}},{sortedMonths:o,groupedShifts:c}=i(),u=h=>{let d=0;return Object.keys(c).length>0&&(d=c[h].map(x=>x.cash.reduce((j,v)=>j+v,0)),d=d.reduce((x,j)=>x+j,0)),d.toLocaleString()};return e.jsxs(X,{children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(L,{variant:"outline-primary",onClick:a,className:"mb-3",children:"Refetch"})}),e.jsxs(Q,{bordered:!0,className:"text-center text-capitalize",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date In"}),e.jsx("th",{style:{width:"15%"},children:"Date Out"}),e.jsx("th",{style:{width:"15%"},children:"Checked By"}),e.jsx("th",{style:{width:"15%"},children:"Acountant"}),e.jsx("th",{children:"Cashier"}),e.jsx("th",{style:{width:"15%"},children:"Cash"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),o.map(h=>e.jsxs("tbody",{className:"table-group-divider",children:[c[h].map(d=>e.jsxs("tr",{children:[e.jsx("td",{children:d.dateIn}),e.jsx("td",{children:d.dateOut}),e.jsx("td",{children:d.checkedBy}),e.jsx("td",{children:d.acountant}),e.jsx("td",{className:"d-flex flex-row gap-1 justify-content-center",children:d.cashier.map(x=>e.jsxs("span",{className:"d-block ",children:[x," "]},x))}),e.jsxs("td",{children:["K",d.cash.reduce((x,j)=>x+j,0).toLocaleString()]}),e.jsx("td",{children:d.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Oe,{to:`/shopb/${d._id}`,style:{textDecoration:"none"},children:e.jsx(L,{variant:"outline-primary me-1",size:"sm",children:"V"})}),d.status==="current"&&e.jsx(O_,{shiftId:d._id,fetchData:a,disableDeleteBtn:s,setDisableDeleteBtn:r})]})]},d._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4}),e.jsx("th",{children:"Total"}),e.jsxs("th",{colSpan:1,children:["K",u(h)]}),e.jsx("td",{colSpan:2})]})]},h))]})]})}function B_(){const[t,n]=l.useState("stock"),{user:s}=l.useContext(se);l.useEffect(()=>{document.title="Yussman - Shop B"},[]);const r=i=>{n(i)},a=()=>{const i=document.getElementById("searchInput");i&&i.focus()};return e.jsx(e.Fragment,{children:e.jsx(X,{fluid:!0,className:"py-3",children:e.jsxs(mt,{activeKey:t,onSelect:r,id:"shopB",className:"mb-3",justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsx(f_,{})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsx(j_,{activeTab:t,onModalClose:a})}),e.jsx(Y,{eventKey:"credit",title:"Cash / Credit",children:e.jsxs(ye,{children:[e.jsx(q,{children:e.jsx(N_,{})}),e.jsx(q,{children:e.jsx(v_,{})})]})}),e.jsx(Y,{eventKey:"final",title:"Final",children:e.jsx(T_,{})}),s!==null&&s.role==="admin"&&e.jsx(Y,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(A_,{})})]})})})}function __({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(!1),[c,u]=l.useState(!1),h=()=>u(!1),d=()=>u(!0),x=()=>{s(""),a("")},j=v=>{v.preventDefault(),o(!0);const f={name:n.trim(),price:Number(r)};A.post(`${Ft}/${t}/addtostock`,f).then(()=>{x(),h(),o(!1)}).catch(p=>{console.log(p),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:d,children:"New Product"}),e.jsxs(g,{show:c,onHide:()=>{h(),x()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:v=>s(v.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:v=>a(v.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function R_({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${Ft}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex mx-2  justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}function I_({id:t,stock:n}){const[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(!1);l.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[u,h]=l.useState(!1),d=()=>h(!1),x=()=>h(!0),j=()=>{r(""),i("")},v=f=>{f.preventDefault(),c(!0);const p={price:Number(s),name:a};A.post(`${Ft}/${t}/editname/${n._id}`,p).then(()=>{j(),d(),c(!1)}).catch(b=>{console.error(b),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:x,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:u,onHide:()=>{d()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:v,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:"Submit"})]})})]})]})}const fo=l.createContext(),F_=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},P_=({children:t})=>{const[n,s]=l.useReducer(F_,{shift:null}),[r,a]=l.useState({});l.useEffect(()=>{A.get(Ft).then(o=>{i(o.data)})},[]),l.useEffect(()=>{ln(rt).on("shopc",c=>{s({type:"SET_SHIFT",payload:c})})},[]);const i=o=>{if(o!==null){const c={};o.received&&Array.isArray(o.received)&&o.received.forEach(h=>{const d=h.code,x=h.amount;c[d]===void 0?c[d]=x:c[d]+=x});const u={...o,stock:o.stock.map(h=>{const d=h.code;return c[d]!==void 0?{...h,received:c[d]}:h})};u.stock.sort((h,d)=>h.name.localeCompare(d.name)),a(u)}};return l.useEffect(()=>{i(n.shift)},[n.shift]),e.jsx(fo.Provider,{value:{shopCShift:r,dispatch:s},children:t})},M_="deletestock";function z_(){const[t,n]=l.useState(null),[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(""),[u,h]=l.useState(!1),[d,x]=l.useState(1),j=80,v=l.useRef(null),{shopCShift:f}=l.useContext(fo),{user:p}=l.useContext(se),b=d*j,k=b-j;let N;Object.keys(f).length!==0&&(N=f.stock.slice(k,b)),l.useEffect(()=>{v.current&&(v.current.focus(),v.current.select())},[t]);const E=D=>{n(D);let C=f.stock.find(S=>S._id===D);r(C.ostock.toString()),i(C.damage.toString()),c(C.cstock.toString())},y=(D,C)=>{if(D.preventDefault(),!C)return;h(!0);const S={ostock:Number(s),damage:Number(a),cstock:Number(o)};A.post(`${Ft}/${f._id}/editstock/${C}`,S).then(()=>{n(null),r(""),i(""),c(""),h(!1)}).catch(T=>{console.log(T),h(!1)})},w=()=>{n(null),r(""),i(""),c(""),h(!1)};return f===null?null:e.jsxs(e.Fragment,{children:[p!==null&&p.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(__,{id:f._id})}),e.jsx(m,{onSubmit:D=>y(D,t),children:e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),e.jsx("th",{style:{width:"8rem"},children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:Object.keys(f).length!==0&&N.map(D=>e.jsxs("tr",{id:D.code,children:[e.jsx("td",{children:D.code}),e.jsx("td",{className:"text-capitalize",children:D.name}),e.jsxs("td",{children:["K",D.price>0&&D.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:t===D._id?e.jsx(m.Control,{type:"number",size:"sm",readOnly:p.role!=="admin",value:s,className:"text-center",onChange:C=>r(C.target.value)}):D.ostock}),e.jsx("td",{className:D.received>0?"text-info":"",children:D.received}),e.jsx("td",{style:{width:"8rem"},className:D.damage>0?"text-primary":"",children:t===D._id?e.jsx(m.Control,{type:"number",size:"sm",value:a,className:"text-center",onChange:C=>i(C.target.value)}):D.damage}),e.jsx("td",{style:{width:"8rem"},className:D.cstock<0?"text-danger":"",children:t===D._id?e.jsx(m.Control,{ref:v,type:"number",size:"sm",autoFocus:!0,value:o,className:"text-center",onChange:C=>c(C.target.value)}):D.cstock}),e.jsxs("td",{className:D.ostock+D.received-D.damage-D.cstock<0?"text-danger":D.ostock+D.received-D.damage-D.cstock===0?"text-muted":"",children:["K",D.code>0&&((D.ostock+D.received-D.damage-D.cstock)*D.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:t===D._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(L,{size:"sm",disabled:u,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(L,{size:"sm",variant:"outline-danger",onClick:()=>w(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:"outline-secondary",onClick:()=>E(D._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),p!==null&&p.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(R_,{endpoint:M_,id:D._id,shiftId:f._id}),e.jsx(I_,{stock:D,id:f._id})]})]})})]},D.code))})]})}),Object.keys(f).length!==0&&e.jsx(yn,{className:"justify-content-center",children:Array.from({length:Math.ceil(f.stock.length/j)},(D,C)=>e.jsx(yn.Item,{active:C+1===d,onClick:()=>x(C+1),children:C+1},C+1))})]})}function H_({show:t,handleClose:n,result:s,id:r}){const[a,i]=l.useState({code:"",name:"",amount:""}),[o,c]=l.useState(!1);l.useEffect(()=>{s&&i({code:s.code,name:s.name,amount:""})},[s]);const u=j=>{const{name:v,value:f}=j.target;i(p=>({...p,[v]:f}))},d=K_(()=>{o||(c(!0),A.post(`${Ft}/${r}/addtoreceived`,a).then(()=>{n(),c(!1)}).catch(j=>{console.log(j),c(!1)}))},200),x=j=>{j.preventDefault(),d()};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:n,disabled:!0,children:"New"}),e.jsxs(g,{show:t,onHide:n,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Received"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:x,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{type:"number",autoComplete:"off",name:"code",value:a.code,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",name:"name",value:a.name,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Quantity"}),e.jsx(m.Control,{autoFocus:!0,type:"number",autoComplete:"off",name:"amount",value:a.amount,onChange:u,required:!0})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:"Submit"})]})})]})]})}function K_(t,n){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{t(...r)},n)}}function U0({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${Ft}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}const q_="deletereceived";function U_({activeTab:t}){const[n,s]=l.useState([]),[r,a]=l.useState([]),[i,o]=l.useState([]),[c,u]=l.useState(!1),[h,d]=l.useState(null),[x,j]=l.useState(""),[v,f]=l.useState(!1),{shopCShift:p}=l.useContext(fo);l.useEffect(()=>{Object.keys(p).length!==0&&(s(p.received),a(p.stock),o(p.stock),f(!0))},[p]),l.useEffect(()=>{const y=w=>{const D=document.getElementById("searchInput"),C=document.getElementById("resultsList");D&&C&&!D.contains(w.target)&&!C.contains(w.target)&&u(!1)};return document.addEventListener("click",y),()=>{document.removeEventListener("click",y)}},[]);const b=y=>{const w=y.target.value.toLowerCase(),D=r.filter(C=>C.name.toLowerCase().includes(w)||C.code.toString().includes(w));o(D),u(!0),u(!!w)},k=y=>{d(y),u(!1)},N=()=>{d(null),j(""),f(!0)},E=l.useCallback(()=>{const y=document.getElementById("searchInput");t==="received"&&y&&y.focus(),v&&t==="received"&&y&&(y.focus(),f(!1))},[t,v]);return l.useEffect(()=>{E()},[t,E]),l.useEffect(()=>{E()},[t,v,E]),e.jsxs(X,{children:[e.jsx("div",{className:"w-50",children:e.jsxs(m,{onSubmit:y=>y.preventDefault(),children:[e.jsxs(Ea,{className:"mb-3",children:[e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,placeholder:"Code",name:"search",id:"searchInput",onChange:y=>{b(y),j(y.target.value)},value:x}),e.jsx(H_,{show:h!==null,result:h,handleClose:N,id:p._id})]}),c&&e.jsx("ul",{id:"resultsList",className:"list-group",style:{position:"absolute",zIndex:1,width:"50%",cursor:"pointer"},children:i.map(y=>e.jsxs("li",{className:"list-group-item text-capitalize",onClick:()=>k(y),children:[y.code," - ",y.name]},y.code))})]})}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:n.map(y=>e.jsxs("tr",{id:y._id,children:[e.jsx("td",{children:y.code}),e.jsx("td",{className:"text-capitalize",children:y.name}),e.jsx("td",{children:y.amount}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(U0,{endpoint:q_,id:y._id,shiftId:p._id})})]},y._id))})]})]})}function G_({shift:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),h=()=>s(!1),d=()=>s(!0),x=async j=>{j.preventDefault(),u(!0),await A.post(`${Ft}/${t._id}/addtocredit`,{description:r,amount:i}).then(()=>{a(""),o(""),h(),u(!1)}).catch(v=>{console.log(v),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",size:"sm",onClick:d,children:"New"}),e.jsxs(g,{show:n,onHide:()=>{h(),a(""),o("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Credit"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j=>x(j),children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Description"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:j=>o(j.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:"Submit"})]})})]})]})}const Y_="deletecredit";function W_(){const[t,n]=l.useState([]),{shopCShift:s}=l.useContext(fo);return l.useEffect(()=>{Object.keys(s).length!==0&&n(s.credit)},[s]),e.jsxs(X,{children:[e.jsxs("div",{className:"d-flex justify-content-between py-2",children:[e.jsx("h6",{children:"Credit"}),e.jsx(G_,{shift:s})]}),e.jsxs(Q,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(r=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:r.description}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(U0,{endpoint:Y_,id:r._id,shiftId:s._id})})]},Math.floor(Math.random()*1e5)))})]})]})}function V_({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Ft}/${t}/addtocash`,{amount:n}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:u,size:"sm",children:"New"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function Q_({endpoint:t,id:n,amount:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${Ft}/${n}/${t}/${s}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}const J_="deletecash";function X_(){const[t,n]=l.useState([]),{shopCShift:s}=l.useContext(fo);return l.useEffect(()=>{Object.keys(s).length!==0&&n(s.cash)},[s]),e.jsx(X,{children:e.jsx(ye,{children:e.jsxs(q,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Cash"}),e.jsxs("h5",{children:["Total: K ",t.reduce((r,a)=>r+a,0).toLocaleString()]}),e.jsx(V_,{id:s._id})]}),e.jsx(Tn,{children:e.jsx(_e,{variant:"flush",children:t.map(r=>e.jsxs(_e.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",r.toLocaleString(),e.jsx(Q_,{endpoint:J_,id:s._id,amount:r})]},Math.floor(Math.random()*1e5)))})})]})})})}function Z_({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Ft}/${t}/addcashier`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function eR({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Ft}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function tR({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Ft}/${t}/addcheckedby`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Chcke By"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function nR(){const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=()=>n(!1),i=()=>n(!0),o=c=>{c.preventDefault(),r(!0),A.post(`${Ft}/newshift`).then(()=>{r(!1),a()}).catch(u=>{console.log(u),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(L,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(L,{variant:"primary",type:"submit",onClick:o,disabled:s,children:"Yes"})]})]})]})}function sR({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${Ft}/${t}/adddatein`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:"Submit"})]})})]})]})}function rR({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${Ft}/${t}/adddateout`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:"Submit"})]})})]})]})}function aR(){const[t,n]=l.useState([]),[s,r]=l.useState(!0),[a,i]=l.useState({}),{shopCShift:o}=l.useContext(fo),{user:c}=l.useContext(se);l.useEffect(()=>{i(o)},[o]);let u=0;if(Object.keys(a).length>0){const p=b=>(b.ostock+b.received-b.damage-b.cstock)*b.price;u=a.stock.reduce((b,k)=>b+p(k),0)}const h=l.useCallback(()=>{if(Object.keys(a).length>0){const p=a.cashier.length,b=a.acountant.length,k=a.dateIn.length,N=a.dateOut.length,E=a.checkedBy.length;p>0&&b>0&&k>0&&N>0&&E>0?r(!1):r(!0)}},[a]);l.useEffect(()=>{Object.keys(a).length>0&&n(a.cash.reduce((p,b)=>p+b,0)+a.credit.reduce((p,b)=>p+b.amount,0)-u),h()},[a,u,h]);const d=p=>{A.post(`${Ft}/${a._id}/removecashier`,{name:p.toLowerCase()}).then(()=>{h()})},x=()=>{A.post(`${Ft}/${a._id}/removeaccountant`).then(()=>{h()})},j=()=>{A.post(`${Ft}/${a._id}/removecheckedby`).then(()=>{h()})},v=()=>{A.post(`${Ft}/${a._id}/deletedatein`).then(()=>{h()})},f=()=>{A.post(`${Ft}/${a._id}/deletedateout`).then(()=>{h()})};return Object.keys(a).length===0?null:e.jsx(X,{children:Object.keys(a).length!==0&&e.jsxs(ye,{className:"mx-1",children:[e.jsxs(q,{className:"d-flex flex-column align-items-center border pt-3 me-1 ",children:[e.jsxs("p",{children:["Cash : K",a.cash.reduce((p,b)=>p+b,0).toLocaleString()]}),e.jsxs("p",{children:["Credit: K",a.credit.reduce((p,b)=>p+b.amount,0).toLocaleString()]}),c!==null&&c.role==="admin"&&e.jsxs("p",{children:["Sales Total : K",u.toLocaleString()]}),c&&c.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:" w-100 "}),e.jsxs("p",{className:"display-6",children:["Result : K",e.jsx("span",{className:t<0?"text-danger":"",children:t.toLocaleString()})]})]})]}),e.jsxs(q,{className:"border py-3 ms-1 ",children:[e.jsx("p",{className:"text-center text-muted ",children:"Double click on any of the fields below to delete"}),e.jsxs("div",{className:"d-flex justify-content-around",children:[e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date In :"}),a.dateIn.length>0?e.jsxs("h6",{onDoubleClick:v,style:{cursor:"pointer"},children:[" ",a.dateIn]}):e.jsx(sR,{id:a._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date Out :"}),a.dateOut.length>0?e.jsxs("h6",{onDoubleClick:f,style:{cursor:"pointer"},children:[" ",a.dateOut]}):e.jsx(rR,{id:a._id})]})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex justify-content-evenly",children:[e.jsx("h6",{className:"d-flex align-items-center",children:"Cashier : "}),a.cashier.map(p=>e.jsx("h6",{className:"pt-1 prevent-select text-capitalize ",style:{cursor:"pointer"},onDoubleClick:()=>d(p),children:p},p)),a.cashier.length>=0&&a.cashier.length<1&&e.jsx(Z_,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Accountant : "}),a.acountant.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>x(),children:a.acountant})}):e.jsx(eR,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Checked By : "}),a.checkedBy.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>j(),children:a.checkedBy})}):c&&c.role==="admin"&&e.jsx(tR,{id:a._id})]}),e.jsx("div",{className:"d-flex justify-content-center mt-5 ",children:!s&&e.jsx(nR,{id:a._id})})]})]})})}function iR({shiftId:t,fetchData:n,disableDeleteBtn:s,setDisableDeleteBtn:r}){const[a,i]=l.useState(!1),[o,c]=l.useState(!1),u=()=>i(!1),h=()=>i(!0),d=()=>{c(!0),A.delete(`${Ft}/${t}`).then(()=>{window.location.reload(),u()}).catch(x=>{console.error(x),c(!1),u()}),setTimeout(()=>{n(),c(!1),u()},50)};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:()=>{h(),r(!0)},disabled:s,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:a,onHide:u,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:o,onClick:()=>{d()},children:"Yes"})]})]})]})}function oR(){const[t,n]=l.useState([]),[s,r]=l.useState(!1),a=()=>{A.get(`${Ft}/shifts`).then(h=>{n(h.data),r(!1)}).catch(h=>{console.log(h)})};l.useEffect(()=>{a()},[]);const i=()=>{const h={};t.forEach(x=>{const j=x.date?x.date.split("-")[1]:"undefined";h[j]||(h[j]=[]),h[j].push(x)});const d=Object.keys(h).sort((x,j)=>{var k,N;if(x==="undefined")return-1;if(j==="undefined")return 1;const v=(k=h[x][0])==null?void 0:k.date,f=(N=h[j][0])==null?void 0:N.date;if(!v||!f)return 0;const p=new Date(v);return new Date(f)-p});return d.forEach(x=>{h[x].sort((j,v)=>{const f=j.date?new Date(j.date).getTime():null,p=v.date?new Date(v.date).getTime():null;return!f&&!p?0:f?p?p-f:1:-1})}),{sortedMonths:d,groupedShifts:h}},{sortedMonths:o,groupedShifts:c}=i(),u=h=>{let d=0;return Object.keys(c).length>0&&(d=c[h].map(x=>x.cash.reduce((j,v)=>j+v,0)),d=d.reduce((x,j)=>x+j,0)),d.toLocaleString()};return e.jsxs(X,{children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(L,{variant:"outline-primary",onClick:a,className:"mb-3",children:"Refetch"})}),e.jsxs(Q,{bordered:!0,className:"text-center text-capitalize",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date In"}),e.jsx("th",{style:{width:"15%"},children:"Date Out"}),e.jsx("th",{style:{width:"15%"},children:"Checked By"}),e.jsx("th",{style:{width:"15%"},children:"Acountant"}),e.jsx("th",{children:"Cashier"}),e.jsx("th",{style:{width:"15%"},children:"Cash"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),o.map(h=>e.jsxs("tbody",{className:"table-group-divider",children:[c[h].map(d=>e.jsxs("tr",{children:[e.jsx("td",{children:d.dateIn}),e.jsx("td",{children:d.dateOut}),e.jsx("td",{children:d.checkedBy}),e.jsx("td",{children:d.acountant}),e.jsx("td",{className:"d-flex flex-row gap-1 justify-content-center",children:d.cashier.map(x=>e.jsxs("span",{className:"d-block ",children:[x," "]},x))}),e.jsxs("td",{children:["K",d.cash.reduce((x,j)=>x+j,0).toLocaleString()]}),e.jsx("td",{children:d.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Oe,{to:`/shopc/${d._id}`,style:{textDecoration:"none"},children:e.jsx(L,{variant:"outline-primary me-1",size:"sm",children:"V"})}),d.status==="current"&&e.jsx(iR,{shiftId:d._id,fetchData:a,disableDeleteBtn:s,setDisableDeleteBtn:r})]})]},d._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4}),e.jsx("th",{children:"Total"}),e.jsxs("th",{colSpan:1,children:["K",u(h)]}),e.jsx("td",{colSpan:2})]})]},h))]})]})}function lR(){const[t,n]=l.useState("stock"),{user:s}=l.useContext(se);l.useEffect(()=>{document.title="Yussman - Shop C"},[]);const r=i=>{n(i)},a=()=>{const i=document.getElementById("searchInput");i&&i.focus()};return e.jsx(e.Fragment,{children:e.jsx(X,{fluid:!0,className:"py-3",children:e.jsxs(mt,{activeKey:t,onSelect:r,id:"shopC",className:"mb-3",justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsx(z_,{})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsx(U_,{activeTab:t,onModalClose:a})}),e.jsx(Y,{eventKey:"credit",title:"Cash / Credit",children:e.jsxs(ye,{children:[e.jsx(q,{children:e.jsx(X_,{})}),e.jsx(q,{children:e.jsx(W_,{})})]})}),e.jsx(Y,{eventKey:"final",title:"Final",children:e.jsx(aR,{})}),s!==null&&s.role==="admin"&&e.jsx(Y,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(oR,{})})]})})})}function cR({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),[h,d]=l.useState(!1),x=()=>d(!1),j=()=>d(!0),v=()=>{s(""),a(""),o("")},f=p=>{p.preventDefault(),u(!0);const b={name:n.trim(),price:Number(r),section:i.toLowerCase()};A.post(`${Vt}/${t}/addtostock`,b).then(()=>{v(),x(),u(!1)}).catch(k=>{console.log(k),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:j,children:"New Product"}),e.jsxs(g,{show:h,onHide:()=>{x(),v()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:f,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:p=>s(p.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:p=>a(p.target.value)})]}),e.jsx(m.Label,{children:"Section"}),e.jsxs(m.Select,{className:"mb-3",required:!0,value:i,onChange:p=>o(p.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select section"}),e.jsx("option",{value:"wholesale",children:"Wholesale"}),e.jsx("option",{value:"retail",children:"Retail"})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:"Submit"})]})})]})]})}function Rj({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${Vt}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex mx-2  justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}function Ij({id:t,stock:n}){const[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(!1);l.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[u,h]=l.useState(!1),d=()=>h(!1),x=()=>h(!0),j=()=>{r(""),i("")},v=f=>{f.preventDefault(),c(!0);const p={price:Number(s),name:a};A.post(`${Vt}/${t}/editname/${n._id}`,p).then(()=>{j(),d(),c(!1)}).catch(b=>{console.error(b),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:x,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:u,onHide:()=>{d()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:v,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:"Submit"})]})})]})]})}const Fj="deletestock";function dR(){const[t,n]=l.useState([]),[s,r]=l.useState([]),[a,i]=l.useState(null),[o,c]=l.useState(""),[u,h]=l.useState(""),[d,x]=l.useState(""),[j,v]=l.useState(!1),f=l.useRef(null),{shopWShift:p}=l.useContext(ii),{user:b}=l.useContext(se);l.useEffect(()=>{if(Object.keys(p).length!==0){const y=p.stock.filter(D=>D.section==="wholesale"),w=p.stock.filter(D=>D.section==="retail");n(y),r(w)}},[p]),l.useEffect(()=>{f.current&&(f.current.focus(),f.current.select())},[a]);const k=y=>{i(y);let w=p.stock.find(D=>D._id===y);c(w.ostock.toString()),h(w.damage.toString()),x(w.cstock.toString())},N=(y,w)=>{if(y.preventDefault(),!w)return;v(!0);const D={ostock:Number(o),damage:Number(u),cstock:Number(d)};A.post(`${Vt}/${p._id}/editstock/${w}`,D).then(()=>{i(null),c(""),h(""),x(""),v(!1)}).catch(C=>{console.log(C),v(!1)})},E=()=>{i(null),c(""),h(""),x(""),v(!1)};return p===null?null:e.jsxs(m,{onSubmit:y=>N(y,a),children:[b!==null&&b.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(cR,{id:p._id})}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),e.jsx("th",{style:{width:"8rem"},children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:Object.keys(p).length!==0&&t.map(y=>e.jsxs("tr",{id:y.code,children:[e.jsx("td",{children:y.code}),e.jsx("td",{className:"text-capitalize",children:y.name}),e.jsxs("td",{children:["K",y.price>0&&y.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:a===y._id?e.jsx(m.Control,{type:"number",size:"sm",readOnly:b.role!=="admin",value:o,className:"text-center",onChange:w=>c(w.target.value)}):y.ostock}),e.jsx("td",{className:y.received>0?"text-info":"",children:y.received}),e.jsx("td",{style:{width:"8rem"},className:y.damage>0?"text-primary":"",children:a===y._id?e.jsx(m.Control,{type:"number",size:"sm",value:u,className:"text-center",onChange:w=>h(w.target.value)}):y.damage}),e.jsx("td",{style:{width:"8rem"},className:y.cstock<0?"text-danger":"",children:a===y._id?e.jsx(m.Control,{ref:f,type:"number",size:"sm",autoFocus:!0,value:d,className:"text-center",onChange:w=>x(w.target.value)}):y.cstock}),e.jsxs("td",{className:y.ostock+y.received-y.damage-y.cstock<0?"text-danger":y.ostock+y.received-y.damage-y.cstock===0?"text-muted":"",children:["K",y.code>0&&((y.ostock+y.received-y.damage-y.cstock)*y.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:a===y._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(L,{size:"sm",disabled:j,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(L,{size:"sm",variant:"outline-danger",onClick:()=>E(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:"outline-secondary",onClick:()=>k(y._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),b!==null&&b.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Rj,{endpoint:Fj,id:y._id,shiftId:p._id}),e.jsx(Ij,{stock:y,id:p._id})]})]})})]},y.code))}),e.jsx("tbody",{className:"table-group-divider",children:Object.keys(p).length!==0&&s.map(y=>e.jsxs("tr",{id:y.code,children:[e.jsx("td",{children:y.code}),e.jsx("td",{className:"text-capitalize",children:y.name}),e.jsxs("td",{children:["K",y.price>0&&y.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:a===y._id?e.jsx(m.Control,{type:"number",size:"sm",readOnly:b.role!=="admin",value:o,className:"text-center",onChange:w=>c(w.target.value)}):y.ostock}),e.jsx("td",{className:y.received>0?"text-info":"",children:y.received}),e.jsx("td",{style:{width:"8rem"},children:a===y._id?e.jsx(m.Control,{type:"number",size:"sm",value:u,className:"text-center",onChange:w=>h(w.target.value)}):y.damage}),e.jsx("td",{style:{width:"8rem"},className:y.cstock<0?"text-danger":"",children:a===y._id?e.jsx(m.Control,{ref:f,type:"number",size:"sm",autoFocus:!0,value:d,className:"text-center",onChange:w=>x(w.target.value)}):y.cstock}),e.jsxs("td",{className:y.ostock+y.received-y.damage-y.cstock<0?"text-danger":y.ostock+y.received-y.damage-y.cstock===0?"text-muted":"",children:["K",y.code>0&&((y.ostock+y.received-y.damage-y.cstock)*y.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:a===y._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(L,{size:"sm",disabled:j,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(L,{size:"sm",variant:"outline-danger",onClick:()=>E(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:"outline-secondary",onClick:()=>k(y._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),b!==null&&b.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Rj,{endpoint:Fj,id:y._id,shiftId:p._id}),e.jsx(Ij,{stock:y,id:p._id})]})]})})]},y.code))})]})]})}function uR({show:t,handleClose:n,result:s,id:r}){const[a,i]=l.useState({code:"",name:"",amount:""}),[o,c]=l.useState(!1);l.useEffect(()=>{s&&i({code:s.code,name:s.name,amount:""})},[s]);const u=j=>{const{name:v,value:f}=j.target;i(p=>({...p,[v]:f}))},d=hR(()=>{o||(c(!0),A.post(`${Vt}/${r}/addtoreceived`,a).then(()=>{n(),c(!1)}).catch(j=>{console.log(j),c(!1)}))},200),x=j=>{j.preventDefault(),d()};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:n,disabled:!0,children:"New"}),e.jsxs(g,{show:t,onHide:n,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Received"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:x,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{type:"number",autoComplete:"off",name:"code",value:a.code,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",name:"name",value:a.name,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Quantity"}),e.jsx(m.Control,{autoFocus:!0,type:"number",autoComplete:"off",name:"amount",value:a.amount,onChange:u,required:!0})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:"Submit"})]})})]})]})}function hR(t,n){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{t(...r)},n)}}function G0({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${Vt}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}const fR="deletereceived";function mR({activeTab:t}){const[n,s]=l.useState([]),[r,a]=l.useState([]),[i,o]=l.useState([]),[c,u]=l.useState(!1),[h,d]=l.useState(null),[x,j]=l.useState(""),[v,f]=l.useState(!1),{shopWShift:p}=l.useContext(ii);l.useEffect(()=>{Object.keys(p).length!==0&&(s(p.received),a(p.stock),o(p.stock),f(!0))},[p]),l.useEffect(()=>{const y=w=>{const D=document.getElementById("searchInput"),C=document.getElementById("resultsList");D&&C&&!D.contains(w.target)&&!C.contains(w.target)&&u(!1)};return document.addEventListener("click",y),()=>{document.removeEventListener("click",y)}},[]);const b=y=>{const w=y.target.value.toLowerCase(),D=r.filter(C=>C.name.toLowerCase().includes(w)||C.code.toString().includes(w));o(D),u(!0),u(!!w)},k=y=>{d(y),u(!1)},N=()=>{d(null),j(""),f(!0)},E=l.useCallback(()=>{const y=document.getElementById("searchInput");t==="received"&&y&&y.focus(),v&&t==="received"&&y&&(y.focus(),f(!1))},[t,v]);return l.useEffect(()=>{E()},[t,E]),l.useEffect(()=>{E()},[t,v,E]),e.jsxs(X,{children:[e.jsx("div",{className:"w-50",children:e.jsxs(m,{onSubmit:y=>y.preventDefault(),children:[e.jsxs(Ea,{className:"mb-3",children:[e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,placeholder:"Code",name:"search",id:"searchInput",onChange:y=>{b(y),j(y.target.value)},value:x}),e.jsx(uR,{show:h!==null,result:h,handleClose:N,id:p._id})]}),c&&e.jsx("ul",{id:"resultsList",className:"list-group",style:{position:"absolute",zIndex:1,width:"50%",cursor:"pointer"},children:i.map(y=>e.jsxs("li",{className:"list-group-item text-capitalize",onClick:()=>k(y),children:[y.code," - ",y.name]},y.code))})]})}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:n.map(y=>e.jsxs("tr",{id:y._id,children:[e.jsx("td",{children:y.code}),e.jsx("td",{className:"text-capitalize",children:y.name}),e.jsx("td",{children:y.amount}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(G0,{endpoint:fR,id:y._id,shiftId:p._id})})]},y._id))})]})]})}function xR({shift:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),h=()=>s(!1),d=()=>s(!0),x=async j=>{j.preventDefault(),u(!0),await A.post(`${Vt}/${t._id}/addtocredit`,{description:r,amount:i}).then(()=>{a(""),o(""),h(),u(!1)}).catch(v=>{console.log(v),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",size:"sm",onClick:d,children:"New"}),e.jsxs(g,{show:n,onHide:()=>{h(),a(""),o("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Credit"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j=>x(j),children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Description"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:j=>o(j.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:"Submit"})]})})]})]})}const pR="deletecredit";function jR(){const[t,n]=l.useState([]),{shopWShift:s}=l.useContext(ii);return l.useEffect(()=>{Object.keys(s).length!==0&&n(s.credit)},[s]),e.jsxs(X,{children:[e.jsxs("div",{className:"d-flex justify-content-between py-2",children:[e.jsx("h6",{children:"Credit"}),e.jsx(xR,{shift:s})]}),e.jsxs(Q,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(r=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:r.description}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(G0,{endpoint:pR,id:r._id,shiftId:s._id})})]},Math.floor(Math.random()*1e5)))})]})]})}function gR({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Vt}/${t}/addtocash`,{amount:n}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:u,size:"sm",children:"New"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function yR({endpoint:t,id:n,amount:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${Vt}/${n}/${t}/${s}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}const vR="deletecash";function SR(){const[t,n]=l.useState([]),{shopWShift:s}=l.useContext(ii);return l.useEffect(()=>{Object.keys(s).length!==0&&n(s.cash)},[s]),e.jsx(X,{children:e.jsx(ye,{children:e.jsxs(q,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Cash"}),e.jsxs("h5",{children:["Total: K ",t.reduce((r,a)=>r+a,0).toLocaleString()]}),e.jsx(gR,{id:s._id})]}),e.jsx(Tn,{children:e.jsx(_e,{variant:"flush",children:t.map(r=>e.jsxs(_e.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",r.toLocaleString(),e.jsx(yR,{endpoint:vR,id:s._id,amount:r})]},Math.floor(Math.random()*1e5)))})})]})})})}function bR({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Vt}/${t}/addcashier`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function CR({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Vt}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function NR({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Vt}/${t}/addcheckedby`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Chcke By"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function wR(){const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=()=>n(!1),i=()=>n(!0),o=c=>{c.preventDefault(),r(!0),A.post(`${Vt}/newshift`).then(()=>{r(!1),a()}).catch(u=>{console.log(u),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(L,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(L,{variant:"primary",type:"submit",onClick:o,disabled:s,children:"Yes"})]})]})]})}function kR({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${Vt}/${t}/adddatein`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:"Submit"})]})})]})]})}function LR(){const[t,n]=l.useState([]),[s,r]=l.useState(!0),[a,i]=l.useState({}),{shopWShift:o}=l.useContext(ii),{user:c}=l.useContext(se);l.useEffect(()=>{i(o)},[o]);let u=0;if(Object.keys(a).length>0){const f=p=>(p.ostock+p.received-p.damage-p.cstock)*p.price;u=a.stock.reduce((p,b)=>p+f(b),0)}const h=l.useCallback(()=>{if(Object.keys(a).length>0){const f=a.cashier.length,p=a.acountant.length,b=a.dateIn.length,k=a.checkedBy.length;f>0&&p>0&&b>0&&k>0?r(!1):r(!0)}},[a]);l.useEffect(()=>{Object.keys(a).length>0&&n(a.cash.reduce((f,p)=>f+p,0)+a.credit.reduce((f,p)=>f+p.amount,0)-u),h()},[a,u,h]);const d=f=>{A.post(`${Vt}/${a._id}/removecashier`,{name:f.toLowerCase()}).then(()=>{h()})},x=()=>{A.post(`${Vt}/${a._id}/removeaccountant`).then(()=>{h()})},j=()=>{A.post(`${Vt}/${a._id}/removecheckedby`).then(()=>{h()})},v=()=>{A.post(`${Vt}/${a._id}/deletedatein`).then(()=>{h()})};return Object.keys(a).length===0?null:e.jsx(X,{children:Object.keys(a).length!==0&&e.jsxs(ye,{className:"mx-1",children:[e.jsxs(q,{className:"d-flex flex-column align-items-center border pt-3 me-1 ",children:[e.jsxs("p",{children:["Cash : K",a.cash.reduce((f,p)=>f+p,0).toLocaleString()]}),e.jsxs("p",{children:["Credit: K",a.credit.reduce((f,p)=>f+p.amount,0).toLocaleString()]}),c!==null&&c.role==="admin"&&e.jsxs("p",{children:["Sales Total : K",u.toLocaleString()]}),e.jsx("hr",{className:" w-100 "}),c&&c.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:" w-100 "}),e.jsxs("p",{className:"display-6",children:["Result : K",e.jsx("span",{className:t<0?"text-danger":"",children:t.toLocaleString()})]})]})]}),e.jsxs(q,{className:"border py-3 ms-1 ",children:[e.jsx("p",{className:"text-center text-muted ",children:"Double click on any of the fields below to delete"}),e.jsx("div",{className:"d-flex justify-content-around",children:e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date :"}),a.dateIn.length>0?e.jsxs("h6",{onDoubleClick:v,style:{cursor:"pointer"},children:[" ",a.dateIn]}):e.jsx(kR,{id:a._id})]})}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex justify-content-evenly",children:[e.jsx("h6",{className:"d-flex align-items-center",children:"Cashier : "}),a.cashier.map(f=>e.jsx("h6",{className:"pt-1 prevent-select text-capitalize ",style:{cursor:"pointer"},onDoubleClick:()=>d(f),children:f},f)),a.cashier.length>=0&&a.cashier.length<1&&e.jsx(bR,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Accountant : "}),a.acountant.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>x(),children:a.acountant})}):e.jsx(CR,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Checked By : "}),a.checkedBy.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>j(),children:a.checkedBy})}):c&&c.role==="admin"&&e.jsx(NR,{id:a._id})]}),e.jsx("div",{className:"d-flex justify-content-center mt-5 ",children:!s&&e.jsx(wR,{id:a._id})})]})]})})}function ER({shiftId:t,fetchData:n,disableDeleteBtn:s,setDisableDeleteBtn:r}){const[a,i]=l.useState(!1),[o,c]=l.useState(!1),u=()=>i(!1),h=()=>i(!0),d=()=>{c(!0),A.delete(`${Vt}/${t}`).then(()=>{window.location.reload(),u()}).catch(x=>{console.error(x),c(!1),u()}),setTimeout(()=>{n(),c(!1),u()},50)};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:()=>{h(),r(!0)},disabled:s,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:a,onHide:u,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:o,onClick:()=>{d()},children:"Yes"})]})]})]})}function DR(){const[t,n]=l.useState([]),[s,r]=l.useState(!1),a=()=>{A.get(`${Vt}/shifts`).then(h=>{n(h.data),r(!1)}).catch(h=>{console.log(h)})};l.useEffect(()=>{a()},[]);const i=()=>{const h={};t.forEach(x=>{const j=x.date?x.date.split("-")[1]:"undefined";h[j]||(h[j]=[]),h[j].push(x)});const d=Object.keys(h).sort((x,j)=>{var k,N;if(x==="undefined")return-1;if(j==="undefined")return 1;const v=(k=h[x][0])==null?void 0:k.dateIn,f=(N=h[j][0])==null?void 0:N.dateIn;if(!v||!f)return 0;const p=new Date(v);return new Date(f)-p});return d.forEach(x=>{h[x].sort((j,v)=>{const f=j.dateIn?new Date(j.dateIn).getTime():null,p=v.dateIn?new Date(v.dateIn).getTime():null;return!f&&!p?0:f?p?p-f:1:-1})}),{sortedMonths:d,groupedShifts:h}},{sortedMonths:o,groupedShifts:c}=i(),u=h=>{let d=0;return Object.keys(c).length>0&&(d=c[h].map(x=>x.cash.reduce((j,v)=>j+v,0)),d=d.reduce((x,j)=>x+j,0)),d.toLocaleString()};return e.jsxs(X,{children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(L,{variant:"outline-primary",onClick:a,className:"mb-3",children:"Refetch"})}),e.jsxs(Q,{bordered:!0,className:"text-center text-capitalize",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date"}),e.jsx("th",{style:{width:"15%"},children:"Checked By"}),e.jsx("th",{style:{width:"15%"},children:"Acountant"}),e.jsx("th",{children:"Cashier"}),e.jsx("th",{style:{width:"15%"},children:"Cash"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),o.map(h=>e.jsxs("tbody",{className:"table-group-divider",children:[c[h].map(d=>e.jsxs("tr",{children:[e.jsx("td",{children:d.dateIn}),e.jsx("td",{children:d.checkedBy}),e.jsx("td",{children:d.acountant}),e.jsx("td",{className:"d-flex flex-row gap-1 justify-content-center",children:d.cashier.map(x=>e.jsxs("span",{className:"d-block ",children:[x," "]},x))}),e.jsxs("td",{children:["K",d.cash.reduce((x,j)=>x+j,0).toLocaleString()]}),e.jsx("td",{children:d.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Oe,{to:`/shopw/${d._id}`,style:{textDecoration:"none"},children:e.jsx(L,{variant:"outline-primary me-1",size:"sm",children:"V"})}),d.status==="current"&&e.jsx(ER,{shiftId:d._id,fetchData:a,disableDeleteBtn:s,setDisableDeleteBtn:r})]})]},d._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3}),e.jsx("th",{children:"Total"}),e.jsxs("th",{colSpan:1,children:["K",u(h)]}),e.jsx("td",{colSpan:2})]})]},h))]})]})}function $R(){const[t,n]=l.useState("stock"),{user:s}=l.useContext(se);l.useEffect(()=>{document.title="Yussman - Shop W"},[]);const r=i=>{n(i)},a=()=>{const i=document.getElementById("searchInput");i&&i.focus()};return e.jsx(e.Fragment,{children:e.jsx(X,{fluid:!0,className:"py-3",children:e.jsxs(mt,{activeKey:t,onSelect:r,id:"shopW",className:"mb-3",justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsx(dR,{})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsx(mR,{activeTab:t,onModalClose:a})}),e.jsx(Y,{eventKey:"credit",title:"Cash / Credit",children:e.jsxs(ye,{children:[e.jsx(q,{children:e.jsx(SR,{})}),e.jsx(q,{children:e.jsx(jR,{})})]})}),e.jsx(Y,{eventKey:"final",title:"Final",children:e.jsx(LR,{})}),s!==null&&s.role==="admin"&&e.jsx(Y,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(DR,{})})]})})})}function TR({employee:t}){const[n,s]=l.useState(!1),r=()=>{s(!1),D()},a=()=>s(!0),[i,o]=l.useState(!1),[c,u]=l.useState(""),[h,d]=l.useState(""),[x,j]=l.useState(""),[v,f]=l.useState(""),[p,b]=l.useState(""),[k,N]=l.useState(""),[E,y]=l.useState(""),w=l.useCallback(()=>{Object.keys(t).length>0&&(u(t.nrc),d(t.firstName),j(t.lastName),f(t.number),b(t.dailySalary),N(t.section))},[t]);l.useEffect(()=>{w()},[t,w]);const D=()=>{w()},C=S=>{if(S.preventDefault(),!i){if(isNaN(parseFloat(p))){y("Salary must be a valid number.");return}o(!0),A.put(`${yr}/updateemployee/${t._id}`,{nrc:c,firstName:h.toLowerCase(),lastName:x.toLowerCase(),number:v,dailySalary:Number(p),section:k}).then(()=>{r(),o(!1)}).catch(T=>{y(T.message),o(!1)})}};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:a,variant:"outline-primary",className:"d-flex justify-content-center align-items-center",children:"Edit Employee"}),e.jsxs(g,{show:n,onHide:r,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Employee"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:C,children:[e.jsxs(m.Group,{className:"mb-3",controlId:"formBasicNrc",children:[e.jsx("p",{className:"text-danger",children:E}),e.jsx(m.Label,{children:"NRC"}),e.jsx(m.Control,{type:"text",placeholder:"Enter NRC",required:!0,autoComplete:"off",onChange:S=>u(S.target.value),value:c,autoFocus:!0})]}),e.jsxs(m.Group,{className:"mb-3",controlId:"formBasicFirstName",children:[e.jsx(m.Label,{children:"First Name"}),e.jsx(m.Control,{type:"text",placeholder:"Enter first name",required:!0,autoComplete:"off",onChange:S=>d(S.target.value),value:h})]}),e.jsxs(m.Group,{className:"mb-3",controlId:"formBasicLastName",children:[e.jsx(m.Label,{children:"Last Name"}),e.jsx(m.Control,{type:"text",placeholder:"Enter last name",required:!0,autoComplete:"off",onChange:S=>j(S.target.value),value:x})]}),e.jsxs(m.Group,{className:"mb-3",controlId:"formBasicNumber",children:[e.jsx(m.Label,{children:"Number"}),e.jsx(m.Control,{type:"text",placeholder:"Enter number",required:!0,autoComplete:"off",maxLength:10,minLength:10,onChange:S=>f(S.target.value),value:v})]}),e.jsxs(m.Group,{className:"mb-3",controlId:"formBasicSalry",children:[e.jsx(m.Label,{children:"Daily Salary"}),e.jsx(m.Control,{type:"text",placeholder:"Enter salary",required:!0,autoComplete:"off",onChange:S=>b(S.target.value),value:p})]}),e.jsxs(m.Group,{className:"mb-3",id:"formBasicSection",children:[e.jsx(m.Label,{children:"Section"}),e.jsxs(m.Select,{onChange:S=>N(S.target.value),value:k,required:!0,children:[e.jsx("option",{value:"",children:"Select section"}),e.jsx("option",{value:"restaurant",children:"Restaurant"}),e.jsx("option",{value:"shops",children:"Shops"}),e.jsx("option",{value:"booths",children:"Booths"}),e.jsx("option",{value:"blocks",children:"Blocks"}),e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"construction",children:"Construction"})]})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Submitting...":"Submit"})]})})]})]})}function OR({employee:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(!1),i=so(),o=()=>s(!1),c=()=>s(!0),u=t.status==="active"?"outline-danger":"outline-primary",h=t.status==="active"?"Deactivate":"Activate";function d(){a(!0),A.post(`${yr}/togglestatus/${t._id}`).then(()=>{o(),a(!1),i("/employees")}).catch(x=>{console.log(x),a(!1)})}return e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:u,onClick:c,children:h}),e.jsxs(g,{show:n,onHide:o,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Deactivate Employee"})}),e.jsx(g.Body,{children:"Are you sure you want to Deactivate this employee?"}),e.jsxs(g.Footer,{children:[e.jsx(L,{variant:"outline-secondary",onClick:o,disabled:r,children:"Close"}),e.jsx(L,{variant:u,onClick:d,disabled:r,children:r?"Loading...":h})]})]})]})}function AR({employee:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),h=so(),d=()=>{s(!1),a("")},x=()=>s(!0);function j(v){v.preventDefault(),u(!0),A.post(`${yr}/togglecontract/${t._id}`,{contractStart:r,contractEnd:i}).then(()=>{d(),u(!1),h("/employees")}).catch(f=>{console.log(f),u(!1)})}return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-primary",onClick:x,children:"Sign Contract"}),e.jsxs(g,{show:n,onHide:d,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Deactivate Employee"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j,children:[e.jsxs(m.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[e.jsx(m.Label,{children:"Start Date"}),e.jsx(m.Control,{type:"date",required:!0,value:r,onChange:v=>a(v.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[e.jsx(m.Label,{children:"End Date"}),e.jsx(m.Control,{type:"date",required:!0,value:i,onChange:v=>o(v.target.value)})]}),e.jsx(L,{variant:"outline-primary",type:"submit",disabled:c,children:c?"Loading...":"Submit"})]})})]})]})}function BR(){const[t,n]=l.useState({}),[s,r]=l.useState(null),{id:a}=In(),{user:i}=l.useContext(se);l.useEffect(()=>{A.get(`${yr}/getemployee/${a}`).then(c=>{n(c.data.employee)}).catch(c=>{console.log(c)})},[a]),l.useEffect(()=>{if(!t.transactions||t.transactions===s)return;const c=t.transactions.filter(d=>d.status==="credit").reduce((d,x)=>d+x.amount,0),u=t.transactions.filter(d=>d.status==="shortage").reduce((d,x)=>d+x.amount,0),h=t.transactions.filter(d=>d.status==="salary").reduce((d,x)=>d+x.deduction,0);n(d=>({...d,creditOwed:c+u-h})),r(t.transactions)},[t.transactions,s]);const o=()=>{if(!t.transactions)return"";const c=t.transactions.filter(u=>u.status==="benefit");return c.length>0?c.reduce((h,d)=>new Date(h.date)>new Date(d.date)?h:d).date:""};return e.jsxs(X,{children:[e.jsxs("div",{className:"d-flex justify-content-evenly  mt-3",children:[e.jsx(Oe,{to:"/employees",children:e.jsx(L,{variant:"outline-primary",children:"Go Back"})}),i&&i.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(TR,{employee:t}),t.status==="active"&&t.contract?e.jsx(AR,{employee:t}):"",e.jsx(OR,{employee:t})]})]}),e.jsxs(ye,{className:"text-capitalize",children:[e.jsxs(q,{className:"border my-3 me-2 p-3",xs:4,children:[e.jsxs(ye,{xs:2,children:[e.jsx(q,{className:"border-bottom",children:e.jsx("h6",{children:"Code "})}),e.jsx(q,{className:"border-bottom border-start ",children:e.jsx("h6",{children:t.code})})]}),e.jsxs(ye,{xs:2,children:[e.jsx(q,{className:"border-bottom",children:e.jsx("h6",{children:"NRC"})}),e.jsx(q,{className:"border-bottom border-start ",children:e.jsx("h6",{children:t.nrc})})]}),e.jsxs(ye,{xs:2,children:[e.jsx(q,{className:"border-bottom",children:e.jsx("h6",{children:"Full Name"})}),e.jsx(q,{className:"border-bottom border-start ",children:e.jsx("h6",{children:t.firstName+" "+t.lastName})})]}),e.jsxs(ye,{xs:2,children:[e.jsx(q,{className:"border-bottom",children:e.jsx("h6",{children:"Number"})}),e.jsx(q,{className:"border-bottom border-start ",children:e.jsx("h6",{children:t.number})})]}),e.jsxs(ye,{xs:2,children:[e.jsx(q,{className:"border-bottom",children:e.jsx("h6",{children:"Salary"})}),e.jsx(q,{className:"border-bottom border-start ",children:e.jsxs("h6",{children:["K",t.dailySalary]})})]}),e.jsxs(ye,{xs:2,children:[e.jsx(q,{className:"border-bottom",children:e.jsx("h6",{children:"Credit"})}),e.jsx(q,{className:"border-bottom border-start ",children:e.jsxs("h6",{children:["K",t.creditOwed]})})]}),e.jsxs(ye,{xs:2,children:[e.jsx(q,{className:"border-bottom",children:e.jsx("h6",{children:"Contract"})}),e.jsx(q,{className:"border-bottom border-start ",children:e.jsx("h6",{children:t.contract==="true"?"Yes":"No"})})]}),t.contract==="true"&&e.jsxs(e.Fragment,{children:[e.jsxs(ye,{xs:2,children:[e.jsx(q,{className:"border-bottom",children:e.jsx("h6",{children:"Contract Start"})}),e.jsx(q,{className:"border-bottom border-start ",children:e.jsx("h6",{children:t.contractStart})})]}),e.jsxs(ye,{xs:2,children:[e.jsx(q,{className:"border-bottom",children:e.jsx("h6",{children:"Contract End"})}),e.jsx(q,{className:"border-bottom border-start ",children:e.jsx("h6",{children:t.contractEnd})})]})]}),o()!==""&&e.jsxs(ye,{xs:2,children:[e.jsx(q,{className:"border-bottom",children:e.jsx("h6",{children:"Benefit Collected on"})}),e.jsx(q,{className:"border-bottom border-start ",children:e.jsx("h6",{children:o()})})]}),e.jsxs(ye,{xs:2,children:[e.jsx(q,{className:"border-bottom",children:e.jsx("h6",{children:"Full Time"})}),e.jsx(q,{className:"border-bottom border-start",children:e.jsx("h6",{children:t.fullTime===!0?"Yes":"No"})})]}),t.section&&t.section!==""&&e.jsxs(ye,{xs:2,children:[e.jsx(q,{children:e.jsx("h6",{children:"Section"})}),e.jsx(q,{className:"border-start ",children:e.jsx("h6",{children:t.section})})]})]}),e.jsx(q,{className:"border my-3 me-2 p-2",children:e.jsxs(Q,{size:"sm text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Deducted"}),e.jsx("th",{children:"Collected"}),e.jsx("th",{children:"Status"})]})}),e.jsx("tbody",{children:t.transactions&&t.transactions.map(c=>e.jsxs("tr",{children:[e.jsx("td",{children:c.date}),c.status==="credit"|c.status==="benefit"|c.status==="shortage"|c.status==="allowance"?e.jsxs(e.Fragment,{children:[e.jsx("td",{}),e.jsx("td",{}),e.jsxs("td",{children:["K",c.amount]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("td",{children:["K",(c.days*c.dailySalary).toFixed(2)]}),e.jsxs("td",{children:["K",c.deduction]}),e.jsxs("td",{children:["K",(c.days*c.dailySalary-c.deduction).toFixed(2)]})]}),e.jsx("td",{children:c.status})]},c._id))})]})})]})]})}function _R(){const[t,n]=l.useState(null),[s,r]=l.useState({}),[a,i]=l.useState([]),[o,c]=l.useState([]),[u,h]=l.useState([]),[d,x]=l.useState([]),[j,v]=l.useState([]),[f,p]=l.useState([]),[b,k]=l.useState([]),{id:N}=In();l.useEffect(()=>{A.get(`${pn}/${N}`).then(y=>{n(y.data)}).catch(y=>{console.log(y)})},[N]),l.useEffect(()=>{E(t)},[t]),l.useEffect(()=>{t!==null&&(p(t.issued),k(t.received))},[t]);const E=y=>{if(y!==null){const w={},D={};y.received&&Array.isArray(y.received)&&y.received.forEach(S=>{const{code:T,quantity:B}=S;w[T]=(w[T]||0)+B}),y.issued&&Array.isArray(y.issued)&&y.issued.forEach(S=>{const{code:T,quantity:B}=S;D[T]=(D[T]||0)+B});let C={...y,stock:y.stock.map(S=>{const{code:T,ostock:B,damage:P}=S,R=w[T]||0,$=D[T]||0,F=B+R-P-$;return{...S,received:R,issued:$,cstock:F}})};C.stock.sort((S,T)=>S.name.localeCompare(T.name)),r(C)}};return l.useEffect(()=>{if(Object.keys(s).length!==0){const y=s.stock.filter(T=>T.section==="drinks"),w=s.stock.filter(T=>T.section==="food"),D=s.stock.filter(T=>T.section==="other"),C=s.stock.filter(T=>T.section==="shopa1"),S=s.stock.filter(T=>T.section==="shopa2");i(y),c(w),h(D),x(C),v(S)}},[s]),e.jsxs(X,{className:"my-3",children:[e.jsxs("div",{className:"text-capitalize d-flex justify-content-between p-3",children:[e.jsxs("h5",{className:"text-center",children:["Date: ",t==null?void 0:t.date]}),e.jsxs("h5",{className:"text-center",children:["Accountant: ",t==null?void 0:t.accountant]}),e.jsxs("h5",{className:"text-center",children:["Checked By: ",t==null?void 0:t.checkedBy]}),e.jsxs("h5",{className:"text-center",children:["Keeper: ",t==null?void 0:t.keeper]})]}),e.jsx("hr",{}),e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsxs(Q,{className:"text-center text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"OStock"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Issued"}),e.jsx("th",{children:"CStock"})]})}),e.jsx("tbody",{className:"table-group-divider",children:a.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{children:y.name}),e.jsx("td",{className:y.ostock===0?"text-muted":"",children:y.ostock.toFixed(2)}),e.jsx("td",{className:y.damage===0?"text-muted":y.damage<0?"text-danger":"",children:y.damage}),e.jsx("td",{className:y.received>0?"text-info":y.received===0?"text-muted":"",children:y.received}),e.jsx("td",{className:y.issued>0?"text-info":y.issued===0?"text-muted":"",children:y.issued}),e.jsx("td",{className:y.cstock<0?"text-danger":y.cstock===0?"text-muted":"",children:y.cstock.toFixed(2)})]},y._id))}),e.jsx("tbody",{className:"table-group-divider",children:o.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{children:y.name}),e.jsx("td",{className:y.ostock===0?"text-muted":"",children:y.ostock.toFixed(2)}),e.jsx("td",{className:y.damage===0?"text-muted":y.damage<0?"text-danger":"",children:y.damage}),e.jsx("td",{className:y.received>0?"text-info":y.received===0?"text-muted":"",children:y.received}),e.jsx("td",{className:y.issued>0?"text-info":y.issued===0?"text-muted":"",children:y.issued}),e.jsx("td",{className:y.cstock<0?"text-danger":y.cstock===0?"text-muted":"",children:y.cstock.toFixed(2)})]},y._id))}),e.jsx("tbody",{className:"table-group-divider",children:u.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{children:y.name}),e.jsx("td",{className:y.ostock===0?"text-muted":"",children:y.ostock.toFixed(2)}),e.jsx("td",{className:y.damage===0?"text-muted":y.damage<0?"text-danger":"",children:y.damage}),e.jsx("td",{className:y.received>0?"text-info":y.received===0?"text-muted":"",children:y.received}),e.jsx("td",{className:y.issued>0?"text-info":y.issued===0?"text-muted":"",children:y.issued}),e.jsx("td",{className:y.cstock<0?"text-danger":y.cstock===0?"text-muted":"",children:y.cstock.toFixed(2)})]},y._id))}),e.jsx("tbody",{className:"table-group-divider",children:d.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{children:y.name}),e.jsx("td",{className:y.ostock===0?"text-muted":"",children:y.ostock.toFixed(2)}),e.jsx("td",{className:y.damage===0?"text-muted":y.damage<0?"text-danger":"",children:y.damage}),e.jsx("td",{className:y.received>0?"text-info":y.received===0?"text-muted":"",children:y.received}),e.jsx("td",{className:y.issued>0?"text-info":y.issued===0?"text-muted":"",children:y.issued}),e.jsx("td",{className:y.cstock<0?"text-danger":y.cstock===0?"text-muted":"",children:y.cstock.toFixed(2)})]},y._id))}),e.jsx("tbody",{className:"table-group-divider",children:j.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{children:y.name}),e.jsx("td",{className:y.ostock===0?"text-muted":"",children:y.ostock.toFixed(2)}),e.jsx("td",{className:y.damage===0?"text-muted":y.damage<0?"text-danger":"",children:y.damage}),e.jsx("td",{className:y.received>0?"text-info":y.received===0?"text-muted":"",children:y.received}),e.jsx("td",{className:y.issued>0?"text-info":y.issued===0?"text-muted":"",children:y.issued}),e.jsx("td",{className:y.cstock<0?"text-danger":y.cstock===0?"text-muted":"",children:y.cstock.toFixed(2)})]},y._id))})]})}),e.jsx(Y,{eventKey:"issued",title:"Issued / Out",children:e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center mt-3",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"To"})]})}),e.jsx("tbody",{className:"table-group-divider",children:f.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{className:"text-capitalize",children:y.name}),e.jsx("td",{children:y.quantity}),e.jsx("td",{className:"text-capitalize",children:y.to})]},y._id))})]})}),e.jsx(Y,{eventKey:"received",title:"Received / In",children:e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:b.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{className:"text-capitalize",children:y.name}),e.jsx("td",{children:y.quantity})]},y._id))})]})})]})]})}function RR(){var R;l.useEffect(()=>{document.title="Yussman  - Register - Details"},[]);const[t,n]=l.useState({}),[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState([]),[u,h]=l.useState([]),[d,x]=l.useState([]),[j,v]=l.useState(0),[f,p]=l.useState(0),[b,k]=l.useState(0),[N,E]=l.useState(0),[y,w]=l.useState(0),[D,C]=l.useState(0),{id:S}=In(),T=l.useCallback(()=>{A.get(`${hn}/${S}`).then($=>{n($.data)}).catch($=>{console.log($)})},[S]);let B=0,P=0;return Object.keys(t).length>0&&(B=t.stock.reduce(($,F)=>$+F.priceBought,0),P=t.expense.reduce(($,F)=>$+F.amount,0)),l.useEffect(()=>{T()},[T]),l.useEffect(()=>{if(Object.keys(t).length!==0){const $=t.stock.filter(ce=>ce.section==="local"),F=t.stock.filter(ce=>ce.section==="outside"),W=t.stock.filter(ce=>ce.section==="mearaj"),te=t.stock.filter(ce=>ce.section==="ilyas"),G=t.stock.filter(ce=>ce.section==="chansa");r($),i(F),c(W),h(te),x(G);const z=$.reduce((ce,oe)=>ce+oe.priceBought,0),I=F.reduce((ce,oe)=>ce+oe.priceBought,0),M=W.reduce((ce,oe)=>ce+oe.priceBought,0),fe=te.reduce((ce,oe)=>ce+oe.priceBought,0),je=G.reduce((ce,oe)=>ce+oe.priceBought,0);v(z),p(I),k(M),E(fe),w(je);const Ae=t.stock.reduce((ce,oe)=>ce+(oe.quantity*oe.unitPrice-oe.priceBought),0);C(Ae)}},[t]),e.jsx(X,{fluid:"xxl",className:"my-3",children:Object.keys(t).length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-between text-capitalize",children:[e.jsxs("h5",{children:["Date : ",t.date]}),e.jsxs("h5",{children:["Name : ",t.name]}),e.jsxs("h5",{children:["Accountant : ",t.accountant]}),e.jsxs("h5",{children:["Cash : K",t.cash.toLocaleString()]}),e.jsxs("h5",{children:[" Change : K",t.change.toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-center gap-5  text-capitalize",children:[e.jsxs("h5",{children:["Total Bought : K",B.toLocaleString()]}),e.jsxs("h5",{children:["Total Expense : K",P.toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("div",{children:[e.jsxs("p",{className:B+P-t.cash+t.change<0?"text-danger display-6 text-center":"display-6 text-center",children:["Result : K",(B+P-t.cash+t.change).toLocaleString()]}),e.jsxs("p",{className:"text-center",children:["Faido : K",D.toLocaleString()]})]}),e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsxs(Q,{size:"sm",bordered:!0,className:" text-capitalize text-center mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Price Bought"}),e.jsx("th",{children:"Unit Price"}),e.jsx("th",{children:"Price Sold"}),e.jsx("th",{children:"Profit"}),e.jsx("th",{children:"From"})]})}),s.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[s==null?void 0:s.map(($,F)=>e.jsxs("tr",{children:[e.jsx("td",{children:F+1}),e.jsx("td",{children:$.code}),e.jsx("td",{children:$.name}),e.jsx("td",{children:$.quantity}),e.jsxs("td",{children:["K",$.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",$.unitPrice]}),e.jsxs("td",{children:["K",($.quantity*$.unitPrice).toLocaleString()]}),e.jsxs("td",{className:$.quantity*$.unitPrice-$.priceBought<0?"text-danger":"",children:["K",($.quantity*$.unitPrice-$.priceBought).toLocaleString()]}),e.jsxs("td",{className:($.quantity*$.unitPrice-$.priceBought)/$.priceBought*100<30?"text-danger":"",children:[(($.quantity*$.unitPrice-$.priceBought)/$.priceBought*100).toFixed(2),"%"]}),e.jsx("td",{children:$.section})]},$._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",j.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),a.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[a==null?void 0:a.map(($,F)=>e.jsxs("tr",{children:[e.jsx("td",{children:F+1}),e.jsx("td",{children:$.code}),e.jsx("td",{children:$.name}),e.jsx("td",{children:$.quantity}),e.jsxs("td",{children:["K",$.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",$.unitPrice]}),e.jsxs("td",{children:["K",($.quantity*$.unitPrice).toLocaleString()]}),e.jsxs("td",{className:$.quantity*$.unitPrice-$.priceBought<0?"text-danger":"",children:["K",($.quantity*$.unitPrice-$.priceBought).toLocaleString()]}),e.jsxs("td",{className:($.quantity*$.unitPrice-$.priceBought)/$.priceBought*100<30?"text-danger":"",children:[(($.quantity*$.unitPrice-$.priceBought)/$.priceBought*100).toFixed(2),"%"]}),e.jsx("td",{children:$.section})]},$._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",f.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),o.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[o==null?void 0:o.map(($,F)=>e.jsxs("tr",{children:[e.jsx("td",{children:F+1}),e.jsx("td",{children:$.code}),e.jsx("td",{children:$.name}),e.jsx("td",{children:$.quantity}),e.jsxs("td",{children:["K",$.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",$.unitPrice]}),e.jsxs("td",{children:["K",($.quantity*$.unitPrice).toLocaleString()]}),e.jsxs("td",{className:$.quantity*$.unitPrice-$.priceBought<0?"text-danger":"",children:["K",($.quantity*$.unitPrice-$.priceBought).toLocaleString()]}),e.jsxs("td",{className:($.quantity*$.unitPrice-$.priceBought)/$.priceBought*100<30?"text-danger":"",children:[(($.quantity*$.unitPrice-$.priceBought)/$.priceBought*100).toFixed(2),"%"]}),e.jsx("td",{children:$.section})]},$._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",b.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),u.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[u==null?void 0:u.map(($,F)=>e.jsxs("tr",{children:[e.jsx("td",{children:F+1}),e.jsx("td",{children:$.code}),e.jsx("td",{children:$.name}),e.jsx("td",{children:$.quantity}),e.jsxs("td",{children:["K",$.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",$.unitPrice]}),e.jsxs("td",{children:["K",($.quantity*$.unitPrice).toLocaleString()]}),e.jsxs("td",{className:$.quantity*$.unitPrice-$.priceBought<0?"text-danger":"",children:["K",($.quantity*$.unitPrice-$.priceBought).toLocaleString()]}),e.jsxs("td",{className:($.quantity*$.unitPrice-$.priceBought)/$.priceBought*100<30?"text-danger":"",children:[(($.quantity*$.unitPrice-$.priceBought)/$.priceBought*100).toFixed(2),"%"]}),e.jsx("td",{children:$.section})]},$._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",N.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),d.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[d==null?void 0:d.map(($,F)=>e.jsxs("tr",{children:[e.jsx("td",{children:F+1}),e.jsx("td",{children:$.code}),e.jsx("td",{children:$.name}),e.jsx("td",{children:$.quantity}),e.jsxs("td",{children:["K",$.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",$.unitPrice]}),e.jsxs("td",{children:["K",($.quantity*$.unitPrice).toLocaleString()]}),e.jsxs("td",{className:$.quantity*$.unitPrice-$.priceBought<0?"text-danger":"",children:["K",($.quantity*$.unitPrice-$.priceBought).toLocaleString()]}),e.jsxs("td",{className:($.quantity*$.unitPrice-$.priceBought)/$.priceBought*100<30?"text-danger":"",children:[(($.quantity*$.unitPrice-$.priceBought)/$.priceBought*100).toFixed(2),"%"]}),e.jsx("td",{children:$.section})]},$._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",y.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]})]})}),e.jsx(Y,{eventKey:"expense",title:"Expenses",children:e.jsxs(Q,{size:"sm",bordered:!0,className:"text-capitalize text-center mt-2 ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Decription"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:(R=t.expense)==null?void 0:R.map(($,F)=>e.jsxs("tr",{children:[e.jsx("td",{children:F+1}),e.jsx("td",{children:$.description}),e.jsxs("td",{children:["K",$.amount]})]},$._id))})]})})]})]})})}function IR({id:t,stock:n,getShift:s}){const[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(""),[h,d]=l.useState(!1),{user:x}=l.useContext(se);l.useEffect(()=>{Object.keys(n).length>0&&(a(n.ostock),o(n.damage),u(n.cstock))},[n]);const[j,v]=l.useState(!1),f=()=>v(!1),p=()=>v(!0),b=()=>{a(""),o(""),u("")},k=N=>{N.preventDefault(),d(!0);const E={ostock:Number(r),damage:Number(i),cstock:Number(c)};A.post(`${$t}/${t}/editstock/${n._id}`,E).then(()=>{b(),f(),d(!1),s()}).catch(y=>{console.log(y),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:p,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:j,onHide:()=>{f()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:k,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Opening Stock"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,readOnly:x.role!=="admin",onChange:N=>a(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Damage"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:N=>o(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Closing Stock"}),e.jsx(m.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:c,onChange:N=>u(N.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:h,children:h?"Loading…":"Submit"})]})})]})]})}const FR=()=>{const[t,n]=l.useState({}),[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState([]),{id:u}=In(),{user:h}=l.useContext(se);let d=0;if(t!=null&&Object.keys(t).length>0){const f=p=>(p.ostock+p.received-p.damage-p.cstock)*p.price;d=s.stock.reduce((p,b)=>p+f(b),0)}l.useEffect(()=>{document.title="Yussman  - Shop A1 - Details"},[]);const x=l.useCallback(()=>{A.get(`${$t}/${u}`).then(f=>{n(f.data),j(f.data)}).catch(f=>{console.log(f)})},[u]);l.useEffect(()=>{x()},[x]),l.useEffect(()=>{t!=null&&Object.keys(t).length>0&&(i((t.cash.reduce((f,p)=>f+p,0)+t.credit.reduce((f,p)=>f+p.amount,0)-d).toFixed(2)),c(t.received))},[t,d]);const j=f=>{if(f!==null){const p={};f.received&&Array.isArray(f.received)&&f.received.forEach(k=>{const N=k.code,E=k.amount;p[N]===void 0?p[N]=E:p[N]+=E});const b={...f,stock:f.stock.map(k=>{const N=k.code;return p[N]!==void 0?{...k,received:p[N]}:k})};b.stock.sort((k,N)=>k.name.localeCompare(N.name)),r(b)}},v=f=>f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return t!=null&&Object.keys(t).length===0?null:e.jsxs(X,{fluid:"xxl",children:[e.jsxs("div",{className:"d-flex justify-content-between mt-3 mx-3",children:[e.jsxs("p",{children:["Date In: ",t.dateIn]}),e.jsxs("p",{children:["Date Out : ",t.dateOut]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("p",{children:"Cashier : "}),t.cashier.map(f=>e.jsx("p",{className:"mx-2",children:f},Math.floor(Math.random()*1e4)))]}),e.jsxs("p",{children:["Accountant : ",t.acountant]}),e.jsxs("p",{children:["Checked By : ",t.checkedBy]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between mx-3",children:[e.jsxs("p",{children:["Cash : K",v(t.cash.reduce((f,p)=>f+p,0))]}),e.jsxs("p",{children:["Credit : K",v(t.credit.reduce((f,p)=>f+p.amount,0))]}),e.jsxs("p",{children:["Sales : K",v(d)]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("p",{className:"display-6 text-center ",children:["Result : K",e.jsx("span",{className:Number(a)<0?"text-danger":"",children:v(a)})]})}),e.jsx("hr",{}),e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsxs(Q,{className:"text-center mt-3",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),h&&h.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.stock.map(f=>e.jsxs("tr",{id:f.code,children:[e.jsx("td",{children:f.code}),e.jsx("td",{children:f.name}),e.jsxs("td",{children:["K",f.price]}),e.jsx("td",{children:f.ostock}),e.jsx("td",{className:f.received>0?"text-info":"",children:f.received}),e.jsx("td",{children:f.damage}),e.jsx("td",{className:f.cstock<0?"text-danger":"",children:f.cstock}),e.jsxs("td",{className:f.ostock+f.received-f.damage-f.cstock<0?"text-danger":"",children:["K",v(((f.ostock+f.received-f.damage-f.cstock)*f.price).toFixed(2))]}),h&&h.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(IR,{id:u,stock:f,getShift:x})})]},f.code))})]})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsxs(Q,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:o.map(f=>e.jsxs("tr",{id:f._id,children:[e.jsx("td",{children:f.code}),e.jsx("td",{className:"text-capitalize",children:f.name}),e.jsx("td",{children:f.amount})]},f._id))})]})})]})]})};function PR({id:t,stock:n,getShift:s}){const[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(""),[h,d]=l.useState(!1),{user:x}=l.useContext(se);l.useEffect(()=>{Object.keys(n).length>0&&(a(n.ostock),o(n.damage),u(n.cstock))},[n]);const[j,v]=l.useState(!1),f=()=>v(!1),p=()=>v(!0),b=()=>{a(""),o(""),u("")},k=N=>{N.preventDefault(),d(!0);const E={ostock:Number(r),damage:Number(i),cstock:Number(c)};A.post(`${Tt}/${t}/editstock/${n._id}`,E).then(()=>{b(),f(),d(!1),s()}).catch(y=>{console.log(y),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:p,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:j,onHide:()=>{f()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:k,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Opening Stock"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,readOnly:x.role!=="admin",onChange:N=>a(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Damage"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:N=>o(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Closing Stock"}),e.jsx(m.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:c,onChange:N=>u(N.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:h,children:h?"Loading…":"Submit"})]})})]})]})}const MR=()=>{const[t,n]=l.useState({}),[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState([]),{id:u}=In(),{user:h}=l.useContext(se);let d=0;if(t!=null&&Object.keys(t).length>0){const f=p=>(p.ostock+p.received-p.damage-p.cstock)*p.price;d=s.stock.reduce((p,b)=>p+f(b),0)}l.useEffect(()=>{document.title="Yussman  - Shop A2 - Details"},[]);const x=l.useCallback(()=>{A.get(`${Tt}/${u}`).then(f=>{n(f.data),j(f.data)}).catch(f=>{console.log(f)})},[u]);l.useEffect(()=>{x()},[x]),l.useEffect(()=>{t!=null&&Object.keys(t).length>0&&(i((t.cash.reduce((f,p)=>f+p,0)+t.credit.reduce((f,p)=>f+p.amount,0)-d).toFixed(2)),c(t.received))},[t,d]);const j=f=>{if(f!==null){const p={};f.received&&Array.isArray(f.received)&&f.received.forEach(k=>{const N=k.code,E=k.amount;p[N]===void 0?p[N]=E:p[N]+=E});const b={...f,stock:f.stock.map(k=>{const N=k.code;return p[N]!==void 0?{...k,received:p[N]}:k})};b.stock.sort((k,N)=>k.name.localeCompare(N.name)),r(b)}},v=f=>f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return t!=null&&Object.keys(t).length===0?null:e.jsxs(X,{fluid:"xxl",children:[e.jsxs("div",{className:"d-flex justify-content-between mt-3 mx-3",children:[e.jsxs("p",{children:["Date In: ",t.dateIn]}),e.jsxs("p",{children:["Date Out : ",t.dateOut]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("p",{children:"Cashier : "}),t.cashier.map(f=>e.jsx("p",{className:"mx-2",children:f},Math.floor(Math.random()*1e4)))]}),e.jsxs("p",{children:["Accountant : ",t.acountant]}),e.jsxs("p",{children:["Checked By : ",t.checkedBy]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between mx-3",children:[e.jsxs("p",{children:["Cash : K",v(t.cash.reduce((f,p)=>f+p,0))]}),e.jsxs("p",{children:["Credit : K",v(t.credit.reduce((f,p)=>f+p.amount,0))]}),e.jsxs("p",{children:["Sales : K",v(d)]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("p",{className:"display-6 text-center ",children:["Result : K",e.jsx("span",{className:Number(a)<0?"text-danger":"",children:v(a)})]})}),e.jsx("hr",{}),e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsxs(Q,{className:"text-center mt-3",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),h&&h.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.stock.map(f=>e.jsxs("tr",{id:f.code,children:[e.jsx("td",{children:f.code}),e.jsx("td",{children:f.name}),e.jsxs("td",{children:["K",f.price]}),e.jsx("td",{children:f.ostock}),e.jsx("td",{className:f.received>0?"text-info":"",children:f.received}),e.jsx("td",{children:f.damage}),e.jsx("td",{className:f.cstock<0?"text-danger":"",children:f.cstock}),e.jsxs("td",{className:f.ostock+f.received-f.damage-f.cstock<0?"text-danger":"",children:["K",v(((f.ostock+f.received-f.damage-f.cstock)*f.price).toFixed(2))]}),h&&h.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(PR,{id:u,stock:f,getShift:x})})]},f.code))})]})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsxs(Q,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:o.map(f=>e.jsxs("tr",{id:f._id,children:[e.jsx("td",{children:f.code}),e.jsx("td",{className:"text-capitalize",children:f.name}),e.jsx("td",{children:f.amount})]},f._id))})]})})]})]})};function zR({id:t,stock:n,getShift:s}){const[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(""),[h,d]=l.useState(!1),{user:x}=l.useContext(se);l.useEffect(()=>{Object.keys(n).length>0&&(a(n.ostock),o(n.damage),u(n.cstock))},[n]);const[j,v]=l.useState(!1),f=()=>v(!1),p=()=>v(!0),b=()=>{a(""),o(""),u("")},k=N=>{N.preventDefault(),d(!0);const E={ostock:Number(r),damage:Number(i),cstock:Number(c)};A.post(`${Ot}/${t}/editstock/${n._id}`,E).then(()=>{b(),f(),d(!1),s()}).catch(y=>{console.log(y),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:p,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:j,onHide:()=>{f()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:k,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Opening Stock"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,readOnly:x.role!=="admin",onChange:N=>a(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Damage"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:N=>o(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Closing Stock"}),e.jsx(m.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:c,onChange:N=>u(N.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:h,children:"Submit"})]})})]})]})}const HR=()=>{const[t,n]=l.useState({}),[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState([]),{id:u}=In(),{user:h}=l.useContext(se);let d=0;if(t!=null&&Object.keys(t).length>0){const f=p=>(p.ostock+p.received-p.damage-p.cstock)*p.price;d=s.stock.reduce((p,b)=>p+f(b),0)}l.useEffect(()=>{document.title="Yussman  - Shop B - Details"},[]);const x=l.useCallback(()=>{A.get(`${Ot}/${u}`).then(f=>{n(f.data),j(f.data)}).catch(f=>{console.log(f)})},[u]);l.useEffect(()=>{x()},[x]),l.useEffect(()=>{t!=null&&Object.keys(t).length>0&&(i((t.cash.reduce((f,p)=>f+p,0)+t.credit.reduce((f,p)=>f+p.amount,0)-d).toFixed(2)),c(t.received))},[t,d]);const j=f=>{if(f!==null){const p={};f.received&&Array.isArray(f.received)&&f.received.forEach(k=>{const N=k.code,E=k.amount;p[N]===void 0?p[N]=E:p[N]+=E});const b={...f,stock:f.stock.map(k=>{const N=k.code;return p[N]!==void 0?{...k,received:p[N]}:k})};b.stock.sort((k,N)=>k.name.localeCompare(N.name)),r(b)}},v=f=>f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return t!=null&&Object.keys(t).length===0?null:e.jsxs(X,{fluid:"xxl",children:[e.jsxs("div",{className:"d-flex justify-content-between mt-3 mx-3",children:[e.jsxs("p",{children:["Date In: ",t.dateIn]}),e.jsxs("p",{children:["Date Out : ",t.dateOut]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("p",{children:"Cashier : "}),t.cashier.map(f=>e.jsx("p",{className:"mx-2",children:f},Math.floor(Math.random()*1e4)))]}),e.jsxs("p",{children:["Accountant : ",t.acountant]}),e.jsxs("p",{children:["Checked By : ",t.checkedBy]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between mx-3",children:[e.jsxs("p",{children:["Cash : K",v(t.cash.reduce((f,p)=>f+p,0))]}),e.jsxs("p",{children:["Credit : K",v(t.credit.reduce((f,p)=>f+p.amount,0))]}),e.jsxs("p",{children:["Sales : K",v(d)]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("p",{className:"display-6 text-center ",children:["Result : K",e.jsx("span",{className:Number(a)<0?"text-danger":"",children:v(a)})]})}),e.jsx("hr",{}),e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsxs(Q,{className:"text-center mt-3",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),h&&h.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.stock.map(f=>e.jsxs("tr",{id:f.code,children:[e.jsx("td",{children:f.code}),e.jsx("td",{children:f.name}),e.jsxs("td",{children:["K",f.price]}),e.jsx("td",{children:f.ostock}),e.jsx("td",{className:f.received>0?"text-info":"",children:f.received}),e.jsx("td",{children:f.damage}),e.jsx("td",{className:f.cstock<0?"text-danger":"",children:f.cstock}),e.jsxs("td",{className:f.ostock+f.received-f.damage-f.cstock<0?"text-danger":"",children:["K",v(((f.ostock+f.received-f.damage-f.cstock)*f.price).toFixed(2))]}),h&&h.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(zR,{id:u,stock:f,getShift:x})})]},f.code))})]})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsxs(Q,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:o.map(f=>e.jsxs("tr",{id:f._id,children:[e.jsx("td",{children:f.code}),e.jsx("td",{className:"text-capitalize",children:f.name}),e.jsx("td",{children:f.amount})]},f._id))})]})})]})]})};function KR({id:t,stock:n,getShift:s}){const[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(""),[h,d]=l.useState(!1),{user:x}=l.useContext(se);l.useEffect(()=>{Object.keys(n).length>0&&(a(n.ostock),o(n.damage),u(n.cstock))},[n]);const[j,v]=l.useState(!1),f=()=>v(!1),p=()=>v(!0),b=()=>{a(""),o(""),u("")},k=N=>{N.preventDefault(),d(!0);const E={ostock:Number(r),damage:Number(i),cstock:Number(c)};A.post(`${Ft}/${t}/editstock/${n._id}`,E).then(()=>{b(),f(),d(!1),s()}).catch(y=>{console.log(y),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:p,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:j,onHide:()=>{f()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:k,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Opening Stock"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,readOnly:x.role!=="admin",onChange:N=>a(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Damage"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:N=>o(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Closing Stock"}),e.jsx(m.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:c,onChange:N=>u(N.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:h,children:"Submit"})]})})]})]})}const qR=()=>{const[t,n]=l.useState({}),[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState([]),{id:u}=In(),{user:h}=l.useContext(se);let d=0;if(t!=null&&Object.keys(t).length>0){const f=p=>(p.ostock+p.received-p.damage-p.cstock)*p.price;d=s.stock.reduce((p,b)=>p+f(b),0)}l.useEffect(()=>{document.title="Yussman  - Shop C - Details"},[]);const x=l.useCallback(()=>{A.get(`${Ft}/${u}`).then(f=>{n(f.data),j(f.data)}).catch(f=>{console.log(f)})},[u]);l.useEffect(()=>{x()},[x]),l.useEffect(()=>{t!=null&&Object.keys(t).length>0&&(i((t.cash.reduce((f,p)=>f+p,0)+t.credit.reduce((f,p)=>f+p.amount,0)-d).toFixed(2)),c(t.received))},[t,d]);const j=f=>{if(f!==null){const p={};f.received&&Array.isArray(f.received)&&f.received.forEach(k=>{const N=k.code,E=k.amount;p[N]===void 0?p[N]=E:p[N]+=E});const b={...f,stock:f.stock.map(k=>{const N=k.code;return p[N]!==void 0?{...k,received:p[N]}:k})};b.stock.sort((k,N)=>k.name.localeCompare(N.name)),r(b)}},v=f=>f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return t!=null&&Object.keys(t).length===0?null:e.jsxs(X,{fluid:"xxl",children:[e.jsxs("div",{className:"d-flex justify-content-between mt-3 mx-3",children:[e.jsxs("p",{children:["Date In: ",t.dateIn]}),e.jsxs("p",{children:["Date Out : ",t.dateOut]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("p",{children:"Cashier : "}),t.cashier.map(f=>e.jsx("p",{className:"mx-2",children:f},Math.floor(Math.random()*1e4)))]}),e.jsxs("p",{children:["Accountant : ",t.acountant]}),e.jsxs("p",{children:["Checked By : ",t.checkedBy]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between mx-3",children:[e.jsxs("p",{children:["Cash : K",v(t.cash.reduce((f,p)=>f+p,0))]}),e.jsxs("p",{children:["Credit : K",v(t.credit.reduce((f,p)=>f+p.amount,0))]}),e.jsxs("p",{children:["Sales : K",v(d)]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("p",{className:"display-6 text-center ",children:["Result : K",e.jsx("span",{className:Number(a)<0?"text-danger":"",children:v(a)})]})}),e.jsx("hr",{}),e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsxs(Q,{className:"text-center mt-3",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),h&&h.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.stock.map(f=>e.jsxs("tr",{id:f.code,children:[e.jsx("td",{children:f.code}),e.jsx("td",{children:f.name}),e.jsxs("td",{children:["K",f.price]}),e.jsx("td",{children:f.ostock}),e.jsx("td",{className:f.received>0?"text-info":"",children:f.received}),e.jsx("td",{children:f.damage}),e.jsx("td",{className:f.cstock<0?"text-danger":"",children:f.cstock}),e.jsxs("td",{className:f.ostock+f.received-f.damage-f.cstock<0?"text-danger":"",children:["K",v(((f.ostock+f.received-f.damage-f.cstock)*f.price).toFixed(2))]}),h&&h.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(KR,{id:u,stock:f,getShift:x})})]},f.code))})]})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsxs(Q,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:o.map(f=>e.jsxs("tr",{id:f._id,children:[e.jsx("td",{children:f.code}),e.jsx("td",{className:"text-capitalize",children:f.name}),e.jsx("td",{children:f.amount})]},f._id))})]})})]})]})};function UR({id:t,stock:n,getShift:s}){const[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(""),[h,d]=l.useState(!1),{user:x}=l.useContext(se);l.useEffect(()=>{Object.keys(n).length>0&&(a(n.ostock),o(n.damage),u(n.cstock))},[n]);const[j,v]=l.useState(!1),f=()=>v(!1),p=()=>v(!0),b=()=>{a(""),o(""),u("")},k=N=>{N.preventDefault(),d(!0);const E={ostock:Number(r),damage:Number(i),cstock:Number(c)};A.post(`${Vt}/${t}/editstock/${n._id}`,E).then(()=>{b(),f(),d(!1),s()}).catch(y=>{console.log(y),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:p,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:j,onHide:()=>{f()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:k,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Opening Stock"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,readOnly:x.role!=="admin",onChange:N=>a(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Damage"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:N=>o(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Closing Stock"}),e.jsx(m.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:c,onChange:N=>u(N.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:h,children:"Submit"})]})})]})]})}const GR=()=>{const[t,n]=l.useState({}),[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState([]),{id:u}=In(),{user:h}=l.useContext(se);let d=0;if(t!=null&&Object.keys(t).length>0){const f=p=>(p.ostock+p.received-p.damage-p.cstock)*p.price;d=s.stock.reduce((p,b)=>p+f(b),0)}l.useEffect(()=>{document.title="Yussman  - Shop W - Details"},[]);const x=l.useCallback(()=>{A.get(`${Vt}/${u}`).then(f=>{n(f.data),j(f.data)}).catch(f=>{console.log(f)})},[u]);l.useEffect(()=>{x()},[x]),l.useEffect(()=>{t!=null&&Object.keys(t).length>0&&(i((t.cash.reduce((f,p)=>f+p,0)+t.credit.reduce((f,p)=>f+p.amount,0)-d).toFixed(2)),c(t.received))},[t,d]);const j=f=>{if(f!==null){const p={};f.received&&Array.isArray(f.received)&&f.received.forEach(k=>{const N=k.code,E=k.amount;p[N]===void 0?p[N]=E:p[N]+=E});const b={...f,stock:f.stock.map(k=>{const N=k.code;return p[N]!==void 0?{...k,received:p[N]}:k})};b.stock.sort((k,N)=>k.name.localeCompare(N.name)),r(b)}},v=f=>f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return t!=null&&Object.keys(t).length===0?null:e.jsxs(X,{fluid:"xxl",children:[e.jsxs("div",{className:"d-flex justify-content-between mt-3 mx-3",children:[e.jsxs("p",{children:["Date In: ",t.dateIn]}),e.jsxs("p",{children:["Date Out : ",t.dateOut]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("p",{children:"Cashier : "}),t.cashier.map(f=>e.jsx("p",{className:"mx-2",children:f},Math.floor(Math.random()*1e4)))]}),e.jsxs("p",{children:["Accountant : ",t.acountant]}),e.jsxs("p",{children:["Checked By : ",t.checkedBy]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between mx-3",children:[e.jsxs("p",{children:["Cash : K",v(t.cash.reduce((f,p)=>f+p,0))]}),e.jsxs("p",{children:["Credit : K",v(t.credit.reduce((f,p)=>f+p.amount,0))]}),e.jsxs("p",{children:["Sales : K",v(d)]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("p",{className:"display-6 text-center ",children:["Result : K",e.jsx("span",{className:Number(a)<0?"text-danger":"",children:v(a)})]})}),e.jsx("hr",{}),e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsxs(Q,{className:"text-center mt-3",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),h&&h.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.stock.map(f=>e.jsxs("tr",{id:f.code,children:[e.jsx("td",{children:f.code}),e.jsx("td",{children:f.name}),e.jsxs("td",{children:["K",f.price]}),e.jsx("td",{children:f.ostock}),e.jsx("td",{className:f.received>0?"text-info":"",children:f.received}),e.jsx("td",{children:f.damage}),e.jsx("td",{className:f.cstock<0?"text-danger":"",children:f.cstock}),e.jsxs("td",{className:f.ostock+f.received-f.damage-f.cstock<0?"text-danger":"",children:["K",v(((f.ostock+f.received-f.damage-f.cstock)*f.price).toFixed(2))]}),h&&h.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(UR,{id:u,stock:f,getShift:x})})]},f.code))})]})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsxs(Q,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:o.map(f=>e.jsxs("tr",{id:f._id,children:[e.jsx("td",{children:f.code}),e.jsx("td",{className:"text-capitalize",children:f.name}),e.jsx("td",{children:f.amount})]},f._id))})]})})]})]})},Zd=l.createContext(),YR=(t,n)=>{switch(n.type){case"SET_CREDIT":return{credit:n.payload};default:return t}},WR=({children:t})=>{const[n,s]=l.useReducer(YR,{credit:null});return l.useEffect(()=>{A.get(ho).then(r=>{s({type:"SET_CREDIT",payload:r.data})})},[]),l.useEffect(()=>{ln(rt).on("credit",a=>{s({type:"SET_CREDIT",payload:a})})},[]),e.jsx(Zd.Provider,{value:{credit:n.credit,dispatch:s},children:t})};function VR(){const[t,n]=l.useState(!1),s=()=>{n(!1),j()},r=()=>n(!0),[a,i]=l.useState(!1),[o,c]=l.useState(""),[u,h]=l.useState(""),[d,x]=l.useState(""),j=()=>{c(""),h(""),x("")},v=f=>{f.preventDefault(),!a&&(isNaN(parseFloat(d))||(i(!0),A.post(`${ho}/newcredit`,{name:o.toLowerCase(),date:u,amount:Number(d)}).then(()=>{s(),i(!1)}).catch(p=>{console.log(p),i(!1)})))};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:r,variant:"outline-primary",className:"d-flex justify-content-center align-items-center",children:"Add Credit"}),e.jsxs(g,{show:t,onHide:s,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Credit"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:v,children:[e.jsxs(m.Group,{className:"mb-3",controlId:"formBasicNrc",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",placeholder:"Enter Name",required:!0,autoComplete:"off",onChange:f=>c(f.target.value),value:o,autoFocus:!0})]}),e.jsxs(m.Group,{className:"mb-3",controlId:"formBasicFirstName",children:[e.jsx(m.Label,{children:"Date"}),e.jsx(m.Control,{type:"date",required:!0,autoComplete:"off",onChange:f=>h(f.target.value),value:u})]}),e.jsxs(m.Group,{className:"mb-3",controlId:"formBasicLastName",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",placeholder:"Enter amount",required:!0,autoComplete:"off",onChange:f=>x(f.target.value),value:d})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:a,children:"Submit"})]})})]})]})}function Y0({id:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(!1),i=()=>s(!1),o=()=>s(!0),c=()=>{a(!0),!r&&A.delete(`${ho}/${t}`).then(()=>{i(),a(!1)}).catch(u=>{console.log(u),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:o,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:n,onHide:i,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:r,onClick:()=>{c()},children:"Yes"})]})]})]})}function QR(){const[t,n]=l.useState([]),[s,r]=l.useState([]),{credit:a}=l.useContext(Zd),{user:i}=l.useContext(se);if(l.useEffect(()=>{a!==null&&n(a.filter(o=>o.paid===!1))},[a]),l.useEffect(()=>{const c=t.map(u=>{const h=u.transactions.reduce((d,x)=>x.type==="add"?d+x.amount:x.type==="pay"?d-x.amount:d,u.amount);return{...u,balance:h}}).sort((u,h)=>new Date(h.date)-new Date(u.date));r(c)},[t]),a!==null)return e.jsxs(X,{className:"mt-3 text-capitalize text-center",children:[e.jsx("div",{className:"my-2 d-flex justify-content-center",children:e.jsx(VR,{})}),e.jsxs(Q,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.map((o,c)=>e.jsxs("tr",{children:[e.jsx("td",{children:c+1}),e.jsx("td",{children:o.date}),e.jsx("td",{children:o.name}),e.jsxs("td",{children:["K",o.amount.toLocaleString()]}),e.jsxs("td",{children:["K",o.balance.toLocaleString()]}),e.jsxs("td",{className:"d-flex gap-2 justify-content-center",children:[e.jsx(Oe,{to:`/credit/${o._id}`,style:{textDecoration:"none"},children:e.jsx(L,{variant:"outline-primary me-1",size:"sm",children:"V"})}),i.role==="admin"&&e.jsx(Y0,{id:o._id})]})]},o._id))})]})]})}function JR(){const[t,n]=l.useState([]),{credit:s}=l.useContext(Zd),{user:r}=l.useContext(se);if(l.useEffect(()=>{s!==null&&n(s.filter(a=>a.paid===!0).sort((a,i)=>new Date(i.date)-new Date(a.date)))},[s]),s!==null)return e.jsx(X,{className:"mt-3 text-capitalize text-center",children:e.jsxs(Q,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map((a,i)=>e.jsxs("tr",{children:[e.jsx("td",{children:i+1}),e.jsx("td",{children:a.date}),e.jsx("td",{children:a.name}),e.jsxs("td",{children:["K",a.amount.toLocaleString()]}),e.jsxs("td",{className:"d-flex justify-content-center gap-3",children:[e.jsx(Oe,{to:`/credit/${a._id}`,className:"btn btn-outline-primary btn-sm",children:"V"}),r&&r.role==="admin"&&e.jsx(Y0,{id:a._id})]})]},a._id))})]})})}function XR(){return l.useEffect(()=>{document.title="Yussman - Credit"},[]),e.jsx(X,{className:"py-4",children:e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"unpaid",title:"Unpaid",children:e.jsx(QR,{})}),e.jsx(Y,{eventKey:"paid",title:"Paid",children:e.jsx(JR,{})})]})})}function ZR(t){return lo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"}}]})(t)}function Pj({creditId:t,id:n,disabled:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),!i&&A.delete(`${ho}/${t}/deletetransaction/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",disabled:!s,children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}function eI({disabled:t,id:n,balance:s}){const[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),[h,d]=l.useState(!1),x=()=>{d(!1),a(""),o("")},j=()=>d(!0),v=f=>{if(f.preventDefault(),c||isNaN(parseFloat(i)))return;const p=s===parseFloat(i);u(!0),A.post(`${ho}/${n}/newtransaction`,{date:r,type:"pay",amount:Number(i),paid:!!p}).then(()=>{x(),u(!1)}).catch(b=>{console.log(b),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:j,variant:"outline-info",className:"d-flex justify-content-center align-items-center ms-2",disabled:t,children:"Pay"}),e.jsxs(g,{show:h,onHide:()=>{x()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:v,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Date"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:r,onChange:f=>a(f.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,max:s,onChange:f=>o(f.target.value),autoFocus:!0})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:"Submit"})]})})]})]})}function tI({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(!1),[c,u]=l.useState(!1),h=()=>{u(!1),s(""),a("")},d=()=>u(!0),x=j=>{j.preventDefault(),!i&&(isNaN(parseFloat(r))||(o(!0),A.post(`${ho}/${t}/newtransaction`,{date:n,type:"add",amount:Number(r),paid:!1}).then(()=>{h(),o(!1)}).catch(v=>{console.log(v),o(!1)})))};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:d,variant:"outline-primary",className:"d-flex justify-content-center align-items-center ms-2",children:"Add"}),e.jsxs(g,{show:c,onHide:()=>{h()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:x,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Date"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:j=>s(j.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value),autoFocus:!0})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function nI(){const{id:t}=In(),{credit:n}=l.useContext(Zd),{user:s}=l.useContext(se);l.useEffect(()=>{if(document.title="Yussman - Credit Details",n!==null){const c=n.find(u=>u._id===t);a(c)}},[n,t]);const[r,a]=l.useState(null),[i,o]=l.useState(0);if(l.useEffect(()=>{if(r!==null){const c=r.transactions.reduce((u,h)=>h.type==="add"?u+h.amount:h.type==="pay"?u-h.amount:u,r.amount);o(c)}},[r]),r!==null)return e.jsxs(X,{className:"mt-3 text-capitalize text-center",children:[e.jsx("div",{className:"d-flex justify-content-start",children:e.jsxs(Oe,{to:"/credit",className:"btn btn-outline-secondary btn-sm d-flex align-items-center",children:[e.jsx(ZR,{}),"Back"]})}),e.jsxs("div",{className:"d-flex justify-content-around  align-items-center",children:[r!==null&&r.paid===!1&&e.jsx(tI,{id:r==null?void 0:r._id}),e.jsx("h2",{children:r.name}),r!==null&&r.paid===!1&&e.jsx(eI,{disabled:i<=0,id:r==null?void 0:r._id,balance:i})]}),e.jsx("hr",{}),e.jsxs(Q,{responsive:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Paid"}),e.jsx("th",{children:"Added"}),s&&s.role==="admin"&&r!==null&&r.paid===!1&&e.jsx("th",{children:"Actions"})]})}),e.jsxs("tbody",{className:"table-group-divider",children:[r!==null&&e.jsxs("tr",{children:[e.jsx("td",{children:r.date}),e.jsx("td",{children:"K0"}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),s&&s.role==="admin"&&r!==null&&r.paid===!1&&e.jsx("td",{className:"d-flex justify-content-center",children:e.jsx(Pj,{disabled:!1})})]},r._id),r!==null&&r.transactions.map((c,u)=>e.jsxs("tr",{children:[e.jsx("td",{children:c.date}),c.type==="pay"?e.jsxs("td",{children:["K",c.amount.toLocaleString()]}):e.jsx("td",{children:"K0"}),c.type==="add"?e.jsxs("td",{children:["K",c.amount.toLocaleString()]}):e.jsx("td",{children:"K0"}),s&&s.role==="admin"&&r!==null&&r.paid===!1&&e.jsx("td",{className:"d-flex justify-content-center",children:e.jsx(Pj,{creditId:r._id,id:c._id,disabled:s.role==="admin"&&u===r.transactions.length-1})})]},c._id)),e.jsxs("tr",{children:[e.jsx("td",{className:"border",colSpan:s&&s.role==="admin"&&r!==null&&r.paid===!1?2:1,children:"Balance"}),e.jsxs("td",{className:"border",colSpan:2,children:["K",i.toLocaleString()]})]})]})]})]})}function sI({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),[h,d]=l.useState(!1),x=()=>d(!1),j=()=>d(!0),v=()=>{s(""),a(""),o("")},f=p=>{p.preventDefault(),u(!0);const b={name:n.trim(),price:Number(r),section:i};A.post(`${Nt}/${t}/addtostock`,b).then(()=>{v(),x(),u(!1)}).catch(k=>{console.log(k),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:j,children:"New Product"}),e.jsxs(g,{show:h,onHide:()=>{x(),v()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:f,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:p=>s(p.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:p=>a(p.target.value)})]}),e.jsx(m.Label,{children:"Section"}),e.jsxs(m.Select,{className:"mb-3",required:!0,value:i,onChange:p=>o(p.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select section"}),e.jsx("option",{value:"drinks",children:"Restaurant"}),e.jsx("option",{value:"bakery",children:"Shop"})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:c?"Loading...":"Submit"})]})})]})]})}function Mj({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${Nt}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex mx-2  justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}function zj({id:t,stock:n}){const[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(!1);l.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[u,h]=l.useState(!1),d=()=>h(!1),x=()=>h(!0),j=()=>{r(""),i("")},v=f=>{f.preventDefault(),c(!0);const p={price:Number(s),name:a};A.post(`${Nt}/${t}/editname/${n._id}`,p).then(()=>{j(),d(),c(!1)}).catch(b=>{console.error(b),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:x,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:u,onHide:()=>{d()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:v,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}const Yr=l.createContext(),rI=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},aI=({children:t})=>{const[n,s]=l.useReducer(rI,{shift:null}),[r,a]=l.useState({});l.useEffect(()=>{A.get(Nt).then(o=>{i(o.data)})},[]),l.useEffect(()=>{const o=ln(rt);return o.on("chinsalirestaurant",c=>{s({type:"SET_SHIFT",payload:c})}),()=>{o.disconnect()}},[]);const i=o=>{if(o!==null){const c={};o.received&&Array.isArray(o.received)&&o.received.forEach(h=>{const d=h.code,x=h.amount;c[d]===void 0?c[d]=x:c[d]+=x});const u={...o,stock:o.stock.map(h=>{const d=h.code;return c[d]!==void 0?{...h,received:c[d]}:h})};u.stock.sort((h,d)=>h.name.localeCompare(d.name)),a(u)}};return l.useEffect(()=>{i(n.shift)},[n.shift]),e.jsx(Yr.Provider,{value:{shift:r,dispatch:s},children:t})},Hj="deletestock";function iI(){const[t,n]=l.useState([]),[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState(0),[u,h]=l.useState(0),[d,x]=l.useState(0),[j,v]=l.useState(null),[f,p]=l.useState(""),[b,k]=l.useState(""),[N,E]=l.useState(""),[y,w]=l.useState(!1),D=l.useRef(null),{shift:C}=l.useContext(Yr),{user:S}=l.useContext(se),T=$=>$.reduce((F,W)=>F+(W.ostock+W.received-W.damage-W.cstock)*W.price,0);l.useEffect(()=>{if(Object.keys(C).length!==0){const $=C.stock.filter(te=>te.section==="drinks"),F=C.stock.filter(te=>te.section==="food"),W=C.stock.filter(te=>te.section==="bakery");n($),r(F),i(W),c(T($)),h(T(F)),x(T(W))}},[C]),l.useEffect(()=>{D.current&&(D.current.focus(),D.current.select())},[j]);const B=$=>{v($);let F=t.find(W=>W._id===$);F||(F=s.find(W=>W._id===$)),F||(F=a.find(W=>W._id===$)),p(F.ostock.toString()),k(F.damage.toString()),E(F.cstock.toString())},P=($,F)=>{if($.preventDefault(),!F)return;if(!F||f<0||b<0||N<0){alert("Please ensure all values are non-negative.");return}w(!0);const W={ostock:Number(f),damage:Number(b),cstock:Number(N)};A.post(`${Nt}/${C._id}/editstock/${F}`,W).then(()=>{w(!1),p(""),k(""),E("");const te=[...t,...s,...a],G=te.findIndex(z=>z._id===F);if(G!==-1&&G<te.length-1){const z=te[G+1];v(z._id),p(z.ostock.toString()),k(z.damage.toString()),E(z.cstock.toString())}else v(null)}).catch(te=>{console.log(te),w(!1)})},R=()=>{v(null),p(""),k(""),E(""),w(!1)};return C===null?null:e.jsxs(m,{onSubmit:$=>P($,j),children:[S!==null&&S.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(sI,{id:C._id})}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),e.jsx("th",{style:{width:"8rem"},children:"Actions"})]})}),e.jsxs("tbody",{children:[t.map($=>e.jsxs("tr",{id:$.code,children:[e.jsx("td",{children:$.code}),e.jsx("td",{className:"text-capitalize",children:$.name}),e.jsxs("td",{children:["K",$.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:j===$._id?e.jsx(m.Control,{type:"number",size:"sm",readOnly:S.role!=="admin",value:f,className:"text-center",onChange:F=>p(F.target.value)}):$.ostock}),e.jsx("td",{className:$.received>0?"text-info":"",children:$.received}),e.jsx("td",{style:{width:"8rem"},children:j===$._id?e.jsx(m.Control,{type:"number",size:"sm",value:b,className:"text-center",onChange:F=>k(F.target.value)}):$.damage}),e.jsx("td",{style:{width:"8rem"},className:$.cstock<0?"text-danger":"",children:j===$._id?e.jsx(m.Control,{ref:D,type:"number",size:"sm",autoFocus:!0,value:N,className:"text-center",onChange:F=>E(F.target.value)}):$.cstock}),e.jsxs("td",{className:$.ostock+$.received-$.damage-$.cstock<0?"text-danger":$.ostock+$.received-$.damage-$.cstock===0?"text-muted":"",children:["K",(($.ostock+$.received-$.damage-$.cstock)*$.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:j===$._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(L,{size:"sm",disabled:y,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(L,{size:"sm",variant:"outline-danger",onClick:()=>R(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:"outline-secondary",onClick:()=>B($._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),S!==null&&S.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Mj,{endpoint:Hj,id:$._id,shiftId:C._id}),e.jsx(zj,{stock:$,id:C._id})]})]})})]},$.code)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:7,children:"Restaurant Total"}),e.jsxs("td",{children:["K",o.toLocaleString()]}),e.jsx("td",{})]})]}),e.jsxs("tbody",{className:"table-group-divider",children:[a.map($=>e.jsxs("tr",{id:$.code,children:[e.jsx("td",{children:$.code}),e.jsx("td",{className:"text-capitalize",children:$.name}),e.jsxs("td",{children:["K",$.price>0&&$.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:j===$._id?e.jsx(m.Control,{type:"number",size:"sm",readOnly:S.role!=="admin",value:f,className:"text-center",onChange:F=>p(F.target.value)}):$.ostock}),e.jsx("td",{className:$.received>0?"text-info":"",children:$.received}),e.jsx("td",{style:{width:"8rem"},children:j===$._id?e.jsx(m.Control,{type:"number",size:"sm",value:b,className:"text-center",onChange:F=>k(F.target.value)}):$.damage}),e.jsx("td",{style:{width:"8rem"},className:$.cstock<0?"text-danger":"",children:j===$._id?e.jsx(m.Control,{ref:D,type:"number",size:"sm",autoFocus:!0,value:N,className:"text-center",onChange:F=>E(F.target.value)}):$.cstock}),e.jsxs("td",{className:$.ostock+$.received-$.damage-$.cstock<0?"text-danger":$.ostock+$.received-$.damage-$.cstock===0?"text-muted":"",children:["K",$.code>0&&(($.ostock+$.received-$.damage-$.cstock)*$.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:j===$._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(L,{size:"sm",disabled:y,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(L,{size:"sm",variant:"outline-danger",onClick:()=>R(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:"outline-secondary",onClick:()=>B($._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),S!==null&&S.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Mj,{endpoint:Hj,id:$._id,shiftId:C._id}),e.jsx(zj,{stock:$,id:C._id})]})]})})]},$.code)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:7,children:"Shop Total"}),e.jsxs("td",{children:["K",d.toLocaleString()]}),e.jsx("td",{})]})]})]})]})}function oI({show:t,handleClose:n,result:s,id:r}){const[a,i]=l.useState({code:"",name:"",amount:""}),[o,c]=l.useState(!1);l.useEffect(()=>{s&&i({code:s.code,name:s.name,amount:""})},[s]);const u=j=>{const{name:v,value:f}=j.target;i(p=>({...p,[v]:f}))},d=lI(()=>{o||(c(!0),A.post(`${Nt}/${r}/addtoreceived`,a).then(()=>{n(),c(!1)}).catch(j=>{console.log(j),c(!1)}))},200),x=j=>{j.preventDefault(),d()};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:n,hidden:!0}),e.jsxs(g,{show:t,onHide:n,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Received"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:x,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{type:"number",autoComplete:"off",name:"code",value:a.code,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",name:"name",value:a.name,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Quantity"}),e.jsx(m.Control,{autoFocus:!0,type:"number",autoComplete:"off",name:"amount",value:a.amount,onChange:u,required:!0})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}function lI(t,n){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{t(...r)},n)}}function gd({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${Nt}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}const cI="deletereceived";function dI({activeTab:t}){const[n,s]=l.useState([]),[r,a]=l.useState([]),[i,o]=l.useState([]),[c,u]=l.useState(!1),[h,d]=l.useState(null),[x,j]=l.useState(""),[v,f]=l.useState(!1),[p,b]=l.useState(-1),{shift:k}=l.useContext(Yr);l.useEffect(()=>{Object.keys(k).length!==0&&(s(k.received),a(k.stock),o(k.stock),f(!0))},[k]),l.useEffect(()=>{const C=S=>{const T=document.getElementById("searchInput"),B=document.getElementById("resultsList");T&&B&&!T.contains(S.target)&&!B.contains(S.target)&&u(!1)};return document.addEventListener("click",C),()=>{document.removeEventListener("click",C)}},[]);const N=C=>{const S=C.target.value.toLowerCase(),T=r.filter(B=>B.name.toLowerCase().includes(S)||B.code.toString().includes(S));o(T),u(!0),b(-1),u(!!S)},E=C=>{C.key==="ArrowDown"&&p<i.length-1?b(p+1):C.key==="ArrowUp"&&p>0?b(p-1):C.key==="Enter"&&p>=0&&(C.preventDefault(),y(i[p]))},y=C=>{d(C),u(!1),b(-1)},w=()=>{d(null),j(""),f(!0)},D=l.useCallback(()=>{const C=document.getElementById("searchInput");t==="received"&&C&&C.focus(),v&&t==="received"&&C&&(C.focus(),f(!1))},[t,v]);return l.useEffect(()=>{D()},[t,D]),l.useEffect(()=>{D()},[t,v,D]),e.jsxs(X,{children:[e.jsx("div",{className:"w-50",children:e.jsxs(m,{onSubmit:C=>C.preventDefault(),children:[e.jsxs(Ea,{className:"mb-3",children:[e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,placeholder:"Code",name:"search",id:"searchInput",onChange:C=>{N(C),j(C.target.value)},onKeyDown:E,value:x}),e.jsx(oI,{show:h!==null,result:h,handleClose:w,id:k._id})]}),c&&e.jsx("ul",{id:"resultsList",className:"list-group",style:{position:"absolute",zIndex:1,width:"50%",cursor:"pointer"},children:i.map((C,S)=>e.jsxs("li",{className:`list-group-item text-capitalize ${S===p?"active":""}`,onClick:()=>y(C),children:[C.code," - ",C.name]},C.code))})]})}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:n.map(C=>e.jsxs("tr",{id:C._id,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsx("td",{children:C.amount}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(gd,{endpoint:cI,id:C._id,shiftId:k._id})})]},C._id))})]})]})}function uI({shift:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),h=()=>s(!1),d=()=>s(!0),x=async j=>{j.preventDefault(),u(!0),await A.post(`${Nt}/${t._id}/addtocredit`,{description:r,amount:i}).then(()=>{a(""),o(""),h(),u(!1)}).catch(v=>{console.log(v),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:d,children:"New"}),e.jsxs(g,{show:n,onHide:()=>{h(),a(""),o("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Credit"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j=>x(j),children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Description"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:j=>o(j.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:c?"Loading...":"Submit"})]})})]})]})}const hI="deletecredit";function fI(){const[t,n]=l.useState([]),{shift:s}=l.useContext(Yr);return l.useEffect(()=>{Object.keys(s).length!==0&&n(s.credit)},[s]),e.jsxs(X,{children:[e.jsx("div",{className:"d-flex justify-content-between py-2",children:e.jsx(uI,{shift:s})}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(r=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:r.description}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(gd,{endpoint:hI,id:r._id,shiftId:s._id})})]},Math.floor(Math.random()*1e5)))})]})]})}function mI({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(""),[h,d]=l.useState(!1),[x,j]=l.useState(!1),v=()=>j(!1),f=()=>j(!0),p=b=>{b.preventDefault(),d(!0);const k={name:n,driver:r,status:i,amount:c};A.post(`${Nt}/${t}/addtobus`,k).then(()=>{s(""),a(""),o(""),u(""),d(!1)}).catch(N=>{console.log(N),d(!1)}),v()};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:f,size:"sm",children:"New"}),e.jsxs(g,{show:x,onHide:v,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Bus"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:b=>p(b),children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Bus Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:b=>s(b.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Driver"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,value:r,onChange:b=>a(b.target.value)})]}),e.jsx(m.Label,{children:"Status"}),e.jsxs(m.Select,{className:"mb-3",value:i,onChange:b=>{o(b.target.value)},required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select an option"}),e.jsx("option",{value:"collected",children:"Collected"}),e.jsx("option",{value:"not collected",children:"Not Collected"})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:c,onChange:b=>u(b.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:h,children:h?"Loading...":"Submit"})]})})]})]})}function xI({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(!1),[c,u]=l.useState(!1),h=()=>u(!1),d=()=>u(!0),x=j=>{j.preventDefault(),o(!0);const v={name:n,amount:r};A.post(`${Nt}/${t}/addtotopup`,v).then(()=>{s(""),a(""),o(!1)}).catch(f=>{console.log(f),o(!1)}),h()};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:d,size:"sm",children:"New"}),e.jsxs(g,{show:c,onHide:h,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Topup"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j=>x(j),children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:j=>s(j.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}const pI="deletebus",jI="deletetopup";function gI(){const[t,n]=l.useState([]),[s,r]=l.useState([]),{shift:a}=l.useContext(Yr);return l.useEffect(()=>{Object.keys(a).length!==0&&n(a.bus)},[a]),l.useEffect(()=>{Object.keys(a).length!==0&&r(a.topup)},[a]),e.jsx(X,{children:e.jsxs(ye,{children:[e.jsxs(q,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Busses"}),e.jsxs("h5",{children:["C Total: K"," ",t.reduce((i,o)=>o.status==="collected"?i+o.amount:i,0)]}),e.jsxs("h5",{children:["Not C Total: K"," ",t.reduce((i,o)=>o.status==="not collected"?i+o.amount:i,0)]}),e.jsx(mI,{id:a._id})]}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Driver"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(i=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:i.name}),e.jsx("td",{className:"text-capitalize",children:i.driver}),e.jsx("td",{className:"text-capitalize",children:i.status}),e.jsxs("td",{children:["K",i.amount]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(gd,{endpoint:pI,id:i._id,shiftId:a._id})})]},Math.floor(Math.random()*1e5)))})]})]}),e.jsxs(q,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Topup"}),e.jsxs("h5",{children:["Total: K ",s.reduce((i,o)=>i+o.amount,0)]}),e.jsx(xI,{id:a._id})]}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.map(i=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:i.name}),e.jsxs("td",{children:["K",i.amount]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(gd,{endpoint:jI,id:i._id,shiftId:a._id})})]},Math.floor(Math.random()*1e5)))})]})]})]})})}function yI({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Nt}/${t}/addtocash`,{amount:n}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:u,size:"sm",children:"New"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function vI({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${Nt}/${t}/addtochange`,{amount:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:u,size:"sm",children:"New"}),e.jsxs(g,{show:i,onHide:c,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Change"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",autoFocus:!0,required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function Kj({endpoint:t,id:n,amount:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${Nt}/${n}/${t}/${s}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}const SI="deletecash",bI="deletechange";function CI(){const[t,n]=l.useState([]),[s,r]=l.useState([]),{shift:a}=l.useContext(Yr),{user:i}=l.useContext(se);return l.useEffect(()=>{Object.keys(a).length!==0&&(n(a.cash),r(a.change))},[a]),e.jsx(X,{children:e.jsxs(ye,{children:[e.jsx(q,{children:i!==null&&i.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Cash"}),e.jsxs("h5",{children:["Total: K ",t.reduce((o,c)=>o+c,0).toLocaleString()]}),e.jsx(yI,{id:a._id})]}),e.jsx(Tn,{children:e.jsx(_e,{variant:"flush",children:t.map(o=>e.jsxs(_e.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",o.toLocaleString(),e.jsx(Kj,{endpoint:SI,id:a._id,amount:o})]},Math.floor(Math.random()*1e5)))})})]})}),e.jsxs(q,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Change"}),e.jsxs("h5",{children:["Total: K ",s.reduce((o,c)=>o+c,0).toLocaleString()]}),e.jsx(vI,{id:a._id})]}),e.jsx(Tn,{children:e.jsx(_e,{variant:"flush",children:s.map(o=>e.jsxs(_e.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",o.toLocaleString(),e.jsx(Kj,{endpoint:bI,id:a._id,amount:o})]},Math.floor(Math.random()*1e5)))})})]})]})})}function NI({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Nt}/${t}/addcashier`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function wI({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${Nt}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function kI(){const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=()=>n(!1),i=()=>n(!0),o=c=>{c.preventDefault(),r(!0),A.post(`${Nt}/newshift`).then(()=>{a(),r(!1)}).catch(u=>{console.log(u),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(L,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(L,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading...":"Yes"})]})]})]})}function LI({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${Nt}/${t}/addshift`,{shift:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Shift"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsxs(m.Select,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Shift"}),e.jsx("option",{value:"day",children:"Day"}),e.jsx("option",{value:"night",children:"Night"})]})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function EI({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${Nt}/${t}/adddate`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function DI(){const[t,n]=l.useState([]),[s,r]=l.useState(!0),{shift:a}=l.useContext(Yr),{user:i}=l.useContext(se);let o=0,c=0,u=0;if(a!=null&&Object.keys(a).length>0){o=a.bus.filter(p=>p.status==="collected").reduce((p,b)=>p+b.amount,0),c=a.bus.filter(p=>p.status==="not collected").reduce((p,b)=>p+b.amount,0);const f=p=>(p.ostock+p.received-p.damage-p.cstock)*p.price;u=a.stock.reduce((p,b)=>p+f(b),0)}const h=l.useCallback(()=>{if(a!=null&&Object.keys(a).length>0){const f=a.cashier.length,p=a.acountant.length,b=a.date.length,k=a.shift.length,N=a.cash.reduce((E,y)=>E+y,0);f>0&&p>0&&b>0&&k>0&&N>0?r(!1):r(!0)}},[a]);l.useEffect(()=>{a!=null&&Object.keys(a).length>0&&n(a.cash.reduce((f,p)=>f+p,0)+o+a.credit.reduce((f,p)=>f+p.amount,0)-a.change.reduce((f,p)=>f+p,0)-u),h()},[a,o,u,h]);const d=f=>{A.post(`${Nt}/${a._id}/removecashier`,{name:f.toLowerCase()}).then(()=>{h()})},x=()=>{A.post(`${Nt}/${a._id}/removeaccountant`).then(()=>{h()})},j=()=>{A.post(`${Nt}/${a._id}/deleteshift`).then(()=>{h()})},v=()=>{A.post(`${Nt}/${a._id}/deletedate`).then(()=>{h()})};return e.jsx(X,{children:a!=null&&Object.keys(a).length!==0&&e.jsxs(ye,{className:"mx-1",children:[e.jsxs(q,{className:"d-flex flex-column align-items-center border pt-3 me-1 ",children:[e.jsxs("p",{children:["Bus Not Collected: K",c.toLocaleString()]}),e.jsxs("p",{children:["Topup Total : K",a.topup.reduce((f,p)=>f+p.amount,0).toLocaleString()]}),e.jsx("hr",{className:" w-100 "}),!s&&i!==null&&i.role==="admin"&&e.jsxs("p",{children:["Cash : K",a.cash.reduce((f,p)=>f+p,0).toLocaleString()]}),e.jsxs("p",{children:["Change : K",a.change.reduce((f,p)=>f+p,0)]}),e.jsxs("p",{children:["Bus Collected: K",o.toLocaleString()]}),e.jsxs("p",{children:["Credit: K",a.credit.reduce((f,p)=>f+p.amount,0).toLocaleString()]}),i!==null&&i.role==="admin"&&e.jsxs("p",{children:["Sales Total : K",u.toLocaleString()]}),i!==null&&i.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:" w-100 "}),e.jsxs("p",{className:"display-6",children:["Result : K",e.jsx("span",{className:t<0?"text-danger":"",children:t.toLocaleString()})]})]})]}),e.jsxs(q,{className:"border pt-3 ms-1 ",children:[e.jsx("p",{className:"text-center text-muted ",children:"Double click on of the fields below to delete"}),e.jsxs("div",{className:"d-flex justify-content-around",children:[e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h4",{className:"me-1",children:"Date :"}),a.date.length>0?e.jsxs("h4",{onDoubleClick:v,style:{cursor:"pointer"},children:[" ",a.date]}):e.jsx(EI,{id:a._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h4",{children:"Shift :"}),a.shift.length>0?e.jsx("h4",{className:"ms-1 text-capitalize",onDoubleClick:j,style:{cursor:"pointer"},children:a.shift}):e.jsx(LI,{id:a._id})]})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex justify-content-evenly",children:[e.jsx("h5",{className:"d-flex align-items-center",children:"Cashiers : "}),a.cashier.map(f=>e.jsx("h6",{className:"pt-1 prevent-select text-capitalize ",style:{cursor:"pointer"},onDoubleClick:()=>d(f),children:f},f)),e.jsx(NI,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h5",{children:"Accountant : "}),a.acountant.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>x(),children:a.acountant})}):e.jsx(wI,{id:a._id})]}),e.jsx("div",{className:"d-flex justify-content-center mt-5 ",children:!s&&i!==null&&i.role==="admin"&&e.jsx(kI,{id:a._id})})]})]})})}function $I({shiftId:t,fetchData:n,disableDeleteBtn:s,setDisableDeleteBtn:r}){const[a,i]=l.useState(!1),[o,c]=l.useState(!1),u=()=>i(!1),h=()=>i(!0),d=()=>{c(!0),A.delete(`${Nt}/${t}`).then(()=>{window.location.reload(),u(),c(!1)}).catch(x=>{console.error(x),c(!1),u()}),setTimeout(()=>{n(),c(!1),u()},50)};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:()=>{h(),r(!0)},disabled:s,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:a,onHide:u,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:o,onClick:()=>{d()},children:o?"Deleting...":"Yes"})]})]})]})}function TI(){const t=new Date,n=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getFullYear(),[r,a]=l.useState(null),[i,o]=l.useState(!1),[c,u]=l.useState(`/${s}/${n}`),[h,d]=l.useState(0),x=l.useCallback(()=>{A.get(`${Nt}/paginatedshifts${c}`).then(f=>{if(a(f.data),o(!1),f.data.shifts){const p=f.data.shifts.reduce((b,k)=>b+k.cash.reduce((N,E)=>N+E,0),0);d(p.toFixed(2))}}).catch(f=>{console.log(f)})},[c]);l.useEffect(()=>{x()},[c,x]),l.useEffect(()=>{r!==null&&r.current&&u(`/${r.current}`)},[r]);let j=null;r!==null&&(j=r.shifts.sort((f,p)=>new Date(p.date)-new Date(f.date)));const v=f=>{const p=f.split("/")[2],b=p<10?`0${p}`:p,k=`/${f.split("/")[1]}/${b}`;u(k)};return r===null?e.jsx("div",{children:"Loading..."}):e.jsxs(X,{children:[e.jsx("div",{className:"d-flex justify-content-end"}),e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx(yn,{size:"sm",children:r.distinctYearsMonths.map((f,p)=>{const b=f.month.toString().padStart(2,"0"),k=`/${f.year}/${b}`;return e.jsx(yn.Item,{onClick:()=>v(`/${f.year}/${f.month}`),active:k===c,children:`${f.year}/${f.month}`},p)})})}),e.jsxs(Q,{bordered:!0,className:"text-center text-capitalize",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date"}),e.jsx("th",{style:{width:"15%"},children:"Shift"}),e.jsx("th",{style:{width:"15%"},children:"Accountant"}),e.jsx("th",{children:"Cashiers"}),e.jsx("th",{style:{width:"15%"},children:"Cash"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsxs("tbody",{className:"table-group-divider",children:[j.map(f=>e.jsxs("tr",{children:[e.jsx("td",{children:f.date}),e.jsx("td",{children:f.shift}),e.jsx("td",{children:f.acountant}),e.jsx("td",{className:"d-flex flex-row gap-1 justify-content-center",children:f.cashier.map((p,b)=>e.jsxs("span",{className:"d-block",children:[p," "]},b))}),e.jsxs("td",{children:["K",f.cash.reduce((p,b)=>p+b,0).toLocaleString()]}),e.jsx("td",{children:f.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[f.status==="previous"&&e.jsx(Oe,{to:`/chinsalirestaurant/${f._id}`,style:{textDecoration:"none"},target:"_blank",children:e.jsx(L,{variant:"outline-primary me-1",size:"sm",children:"V"})}),f.status==="current"&&e.jsx($I,{shiftId:f._id,fetchData:x,disableDeleteBtn:i,setDisableDeleteBtn:o})]})]},f._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3}),e.jsx("th",{children:"Total"}),e.jsxs("td",{children:["K",Number(h).toLocaleString()]}),e.jsx("td",{colSpan:2})]})]})]})]})}function OI(){const[t,n]=l.useState("stock"),{user:s}=l.useContext(se);l.useEffect(()=>{document.title="Yussman -Chinsali  Restaurant"},[]);const r=i=>{n(i)},a=()=>{const i=document.getElementById("searchInput");i&&i.focus()};return e.jsx(e.Fragment,{children:e.jsx(X,{fluid:!0,className:"py-3",children:e.jsxs(mt,{activeKey:t,onSelect:r,id:"restaurant",className:"mb-3",justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsx(iI,{})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsx(dI,{activeTab:t,onModalClose:a})}),e.jsx(Y,{eventKey:"credit",title:"Credit",children:e.jsx(fI,{})}),e.jsx(Y,{eventKey:"busses",title:"Busses",children:e.jsx(gI,{})}),e.jsx(Y,{eventKey:"cash",title:"Cash / Change",children:e.jsx(CI,{})}),e.jsx(Y,{eventKey:"final",title:"Final",children:e.jsx(DI,{})}),s!==null&&s.role==="admin"&&e.jsx(Y,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(TI,{})})]})})})}const oi=l.createContext(),AI=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},BI=({children:t})=>{const[n,s]=l.useReducer(AI,{shift:null}),[r,a]=l.useState({});l.useEffect(()=>{A.get(jn).then(o=>{i(o.data)})},[]),l.useEffect(()=>{ln(rt).on("chinsalistore",c=>{s({type:"SET_SHIFT",payload:c})})},[]);const i=o=>{if(o!==null){const c={},u={};o.received&&Array.isArray(o.received)&&o.received.forEach(d=>{const{code:x,quantity:j}=d;c[x]=(c[x]||0)+j}),o.issued&&Array.isArray(o.issued)&&o.issued.forEach(d=>{const{code:x,quantity:j}=d;u[x]=(u[x]||0)+j});let h={...o,stock:o.stock.map(d=>{const{code:x,ostock:j,damage:v}=d,f=c[x]||0,p=u[x]||0,b=j+f-v-p;return{...d,received:f,issued:p,cstock:b}})};h.stock.sort((d,x)=>d.name.localeCompare(x.name)),a(h)}};return l.useEffect(()=>{i(n.shift)},[n.shift]),r===null?null:e.jsx(oi.Provider,{value:{storeShift:r,dispatch:s},children:t})};function _I({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(!1),[c,u]=l.useState(!1),h=()=>u(!1),d=()=>u(!0),x=()=>{s(""),a("")},j=v=>{v.preventDefault(),o(!0);const f={name:n,price:Number(r),section:"food"};A.post(`${jn}/${t}/addtostock`,f).then(()=>{x(),h(),o(!1)}).catch(p=>{console.log(p),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:d,children:"New Product"}),e.jsxs(g,{show:c,onHide:()=>{h(),x()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:v=>s(v.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:v=>a(v.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function fx({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.post(`${jn}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}function RI({id:t,stock:n}){const[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(!1);l.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[u,h]=l.useState(!1),d=()=>h(!1),x=()=>h(!0),j=()=>{r(""),i("")},v=f=>{f.preventDefault(),c(!0);const p={price:Number(s),name:a};A.post(`${jn}/${t}/updatename/${n._id}`,p).then(()=>{j(),d(),c(!1)}).catch(b=>{console.error(b),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:x,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:u,onHide:()=>{d()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Price or Name"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:v,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}function II({id:t,stock:n}){const[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(!1),{user:u}=l.useContext(se);l.useEffect(()=>{Object.keys(n).length>0&&(r(n.ostock),i(n.damage))},[n]);const[h,d]=l.useState(!1),x=()=>d(!1),j=()=>d(!0),v=()=>{r(""),i("")},f=p=>{p.preventDefault(),c(!0);const b={ostock:Number(s),damage:Number(a)};A.post(`${jn}/${t}/updatestock/${n._id}`,b).then(()=>{v(),x(),c(!1)}).catch(k=>{console.error(k),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:j,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:h,onHide:()=>{x()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit OStock or Damage"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:f,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"O Stock"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:s,readOnly:u.role!=="admin",onChange:p=>r(p.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Damage"}),e.jsx(m.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:p=>i(p.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}function FI(){const[t,n]=l.useState([]),[s,r]=l.useState(1),a=70,{storeShift:i}=l.useContext(oi),{user:o}=l.useContext(se),c=s*a,u=c-a;let h;return Object.keys(t).length!==0&&(h=t.slice(u,c)),l.useEffect(()=>{if(Object.keys(i).length!==0){const d=i.stock.filter(p=>p.section==="drinks"),x=i.stock.filter(p=>p.section==="food"),j=i.stock.filter(p=>p.section==="other"),v=i.stock.filter(p=>p.section==="shopa1"),f=i.stock.filter(p=>p.section==="shopa2");n([...d,...x,...j,...v,...f])}},[i]),e.jsxs(e.Fragment,{children:[o!==null&&o.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center mt-3 ",children:e.jsx(_I,{id:i._id})}),e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center my-3 text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),o!==null&&o.role==="admin"&&e.jsx("th",{children:"Price"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"OStock"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Issued"}),e.jsx("th",{children:"CStock"}),e.jsx("th",{children:"Action"}),o!==null&&o.role==="admin"&&e.jsx("th",{children:"Total"})]})}),e.jsx("tbody",{className:"table-group-divider",children:h!==void 0&&h.map(d=>e.jsxs("tr",{children:[e.jsx("td",{children:d.code}),o!==null&&o.role==="admin"&&e.jsxs("td",{children:["K",d.price]}),e.jsx("td",{children:d.name}),e.jsx("td",{className:d.ostock===0?"text-muted":"",children:d.ostock.toFixed(2)}),e.jsx("td",{className:d.damage===0?"text-muted":d.damage<0?"text-danger":d.damage>0?"text-primary":"",children:d.damage}),e.jsx("td",{className:d.received>0?"text-info":d.received===0?"text-muted":"",children:d.received}),e.jsx("td",{className:d.issued>0?"text-info":d.issued===0?"text-muted":"",children:d.issued}),e.jsx("td",{className:d.cstock<0?"text-danger":d.cstock===0?"text-muted":"",children:d.cstock.toFixed(2)}),e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(II,{id:i._id,stock:d}),o!==null&&o.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(fx,{endpoint:"deleteStock",id:d._id,shiftId:i._id}),e.jsx(RI,{id:i._id,stock:d})]})]}),o!==null&&o.role==="admin"&&e.jsxs("td",{className:d.cstock<0?"text-danger":d.cstock===0?"text-muted":"",children:["K",(d.cstock*d.price).toLocaleString()]})]},d._id))})]}),Object.keys(i).length!==0&&e.jsx(yn,{className:"justify-content-center",children:Array.from({length:Math.ceil(i.stock.length/a)},(d,x)=>e.jsx(yn.Item,{active:x+1===s,onClick:()=>r(x+1),children:x+1},x+1))})]})}function PI({children:t,product:n,clear:s,storeShift:r}){const[a,i]=l.useState(!1),[o,c]=l.useState(""),[u,h]=l.useState(""),[d,x]=l.useState(!1),j=()=>{c(""),i(!1),s()},v=()=>i(!0);if(n===null)return;const f=async p=>{if(p.preventDefault(),x(!0),isNaN(Number(o)))return;const b={code:n.code,name:n.name,to:u,quantity:Number(o)};try{await A.post(`${jn}/${r._id}/addissued`,b).then(()=>{j(),x(!1)})}catch(k){console.error(k),x(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:v,className:"d-flex justify-content-center align-items-center",children:t}),e.jsxs(g,{show:a,onHide:j,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Issued "})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:f,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"code",children:"Code"}),e.jsx(m.Control,{type:"text",id:"code",value:n.code,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"name",children:"Name"}),e.jsx(m.Control,{type:"text",id:"name",value:n.name,readOnly:!0})]}),e.jsxs(m.Group,{children:[e.jsx(m.Label,{htmlFor:"to",children:"To"}),e.jsxs(m.Select,{id:"to",value:u,required:!0,autoFocus:!0,onChange:p=>h(p.target.value),children:[e.jsx("option",{value:"",children:"Select To"}),r.shops.map(p=>e.jsx("option",{value:p,children:p},p))]})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"quantity",children:"Quantity"}),e.jsx(m.Control,{type:"text",id:"quantity",value:o,required:!0,autoComplete:"off",onChange:p=>c(p.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:d,children:d?"Loading...":"Submit"})]})})]})]})}function MI(){const[t,n]=l.useState([]),[s,r]=l.useState(""),[a,i]=l.useState([]),{storeShift:o}=l.useContext(oi),{user:c}=l.useContext(se);l.useEffect(()=>{Object.keys(o).length!==0&&n(o.issued)},[o]);const u=d=>{const x=d.target.value;r(x);const j=o.stock.filter(v=>v.name.toLowerCase().includes(x.toLowerCase())||v.code.toString().includes(x));i(j)},h=()=>{r(""),i([])};return e.jsxs(X,{className:"my-3",children:[e.jsxs("div",{className:"pb-3 w-50 ",children:[e.jsx(m.Control,{type:"text",placeholder:"Search",value:s,onChange:u,autoFocus:!0}),s&&e.jsx(_e,{className:"position-absolute w-50 mt-1",children:a.map(d=>e.jsx(PI,{product:d,storeShift:o,clear:h,children:e.jsxs(_e.Item,{action:!0,children:[d.code," - ",d.name]},d._id)},d._id))})]}),e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"To"}),c&&c.role==="admin"&&e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(d=>e.jsxs("tr",{children:[e.jsx("td",{children:d.code}),e.jsx("td",{className:"text-capitalize",children:d.name}),e.jsx("td",{children:d.quantity}),e.jsx("td",{className:"text-capitalize",children:d.to}),c&&c.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(fx,{endpoint:"deleteissued",id:d._id,shiftId:o._id})})]},d._id))})]})]})}function zI({children:t,product:n,clear:s,storeShift:r}){const[a,i]=l.useState(!1),[o,c]=l.useState(""),[u,h]=l.useState(!1),d=()=>{c(""),i(!1),s()},x=()=>i(!0);if(n===null)return;const j=async v=>{if(v.preventDefault(),h(!0),isNaN(Number(o)))return;const f={code:n.code,name:n.name,quantity:Number(o)};try{await A.post(`${jn}/${r._id}/addreceived`,f).then(()=>{d(),h(!1)})}catch(p){console.error(p),h(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:x,className:"d-flex justify-content-center align-items-center",children:t}),e.jsxs(g,{show:a,onHide:d,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Receive"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"code",children:"Code"}),e.jsx(m.Control,{type:"text",id:"code",value:n.code,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"name",children:"Name"}),e.jsx(m.Control,{type:"text",id:"name",value:n.name,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"quantity",children:"Quantity"}),e.jsx(m.Control,{type:"text",id:"quantity",value:o,required:!0,autoFocus:!0,autoComplete:"off",onChange:v=>c(v.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:u,children:u?"Loading...":"Submit"})]})})]})]})}function HI(){const[t,n]=l.useState([]),[s,r]=l.useState(""),[a,i]=l.useState([]),{storeShift:o}=l.useContext(oi),{user:c}=l.useContext(se);l.useEffect(()=>{Object.keys(o).length!==0&&n(o.received)},[o]);const u=d=>{const x=d.target.value;r(x);const j=o.stock.filter(v=>v.name.toLowerCase().includes(x.toLowerCase())||v.code.toString().includes(x));i(j)},h=()=>{r(""),i([])};return e.jsxs(X,{className:"my-3",children:[e.jsxs("div",{className:"pb-3 w-50 ",children:[e.jsx(m.Control,{type:"text",placeholder:"Search",value:s,onChange:u,autoFocus:!0}),s&&e.jsx(_e,{className:"position-absolute w-50 mt-1",children:a.map(d=>e.jsx(zI,{product:d,storeShift:o,clear:h,children:e.jsxs(_e.Item,{action:!0,children:[d.code," - ",d.name]},d._id)},d._id))})]}),e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),c&&c.role==="admin"&&e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(d=>e.jsxs("tr",{children:[e.jsx("td",{children:d.code}),e.jsx("td",{className:"text-capitalize",children:d.name}),e.jsx("td",{children:d.quantity}),c&&c.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(fx,{endpoint:"deletereceived",id:d._id,shiftId:o._id})})]},d._id))})]})]})}function KI({shiftId:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(!1),i=()=>s(!1),o=()=>s(!0),c=()=>{a(!0),A.delete(`${jn}/${t}`).then(()=>{i(),a(!1),window.location.reload()}).catch(u=>{console.log(u),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:o,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:n,onHide:i,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:r,onClick:()=>{c()},children:r?"Loading...":"Yes"})]})]})]})}function qI(){const[t,n]=l.useState([]),s=()=>{A.get(`${jn}/shifts`).then(o=>{n(o.data)}).catch(o=>{console.log(o)})};l.useEffect(()=>{s()},[]);const r=()=>{const o={};t.forEach(u=>{const h=u.date?u.date.split("-")[1]:"undefined";o[h]||(o[h]=[]),o[h].push(u)});const c=Object.keys(o).sort((u,h)=>{var f,p;if(u==="undefined")return-1;if(h==="undefined")return 1;const d=(f=o[u][0])==null?void 0:f.date,x=(p=o[h][0])==null?void 0:p.date;if(!d||!x)return 0;const j=new Date(d);return new Date(x)-j});return c.forEach(u=>{o[u].sort((h,d)=>{const x=h.date?new Date(h.date).getTime():null,j=d.date?new Date(d.date).getTime():null;return!x&&!j?0:x?j?j-x:1:-1})}),{sortedMonths:c,groupedShifts:o}},{sortedMonths:a,groupedShifts:i}=r();return e.jsxs(X,{className:"my-3",children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(L,{variant:"outline-primary",onClick:s,className:"mb-3",children:"Refetch"})}),e.jsxs(Q,{bordered:!0,className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date"}),e.jsx("th",{style:{width:"15%"},children:"Acountant"}),e.jsx("th",{children:"Checked By"}),e.jsx("th",{style:{width:"15%"},children:"Keeper"}),e.jsx("th",{children:"Actions"})]})}),a.map((o,c)=>e.jsx("tbody",{className:"table-group-divider",children:i[o].map((u,h)=>e.jsxs("tr",{children:[e.jsx("td",{children:u.date}),e.jsx("td",{className:"text-capitalize",children:u.accountant}),e.jsx("td",{className:"text-capitalize",children:u.checkedBy}),e.jsx("td",{className:"text-capitalize",children:u.keeper}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Oe,{to:`/chinsalistore/${u._id}`,style:{textDecoration:"none"},children:e.jsx(L,{variant:"outline-primary me-1",size:"sm",children:"V"})}),c===0&&h===0&&e.jsx(KI,{shiftId:u._id})]})]},u._id))},o))]})]})}function UI({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${jn}/${t}/adddate`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Date"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading…":"Submit"})]})})]})]})}function GI({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${jn}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Acountant"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function YI({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${jn}/${t}/addkeeper`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Keeper"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Adding...":"Submit"})]})})]})]})}function WI({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${jn}/${t}/addcheckedby`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Checked By"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function VI(){const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=()=>n(!1),i=()=>n(!0),o=c=>{c.preventDefault(),r(!0),A.post(`${jn}/newshift`).then(()=>{r(!1),a(),window.location.reload()}).catch(u=>{console.log(u),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want to proceed to the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(L,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(L,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading...":"Continue"})]})]})]})}function QI(){const[t,n]=l.useState(!0),{storeShift:s}=l.useContext(oi),{user:r}=l.useContext(se),a=s&&s.stock?s.stock.reduce((d,x)=>{const j=x.cstock*x.price;return d+j},0):0,i=l.useCallback(()=>{if(s!==null&&Object.keys(s).length>0){const d=s&&s.date?s.date.length:0,x=s&&s.accountant?s.accountant.length:0,j=s&&s.checkedBy?s.checkedBy.length:0,v=s&&s.keeper?s.keeper.length:0;j>0&&x>0&&d>0&&v>0?n(!1):n(!0)}},[s]);l.useEffect(()=>{i()},[i]);const o=()=>{A.post(`${jn}/${s._id}/deletedate`).then(()=>{i()})},c=()=>{A.post(`${jn}/${s._id}/deleteaccountant`).then(()=>{i()})},u=()=>{A.post(`${jn}/${s._id}/deletekeeper`).then(()=>{i()})},h=()=>{A.post(`${jn}/${s._id}/deletecheckedby`).then(()=>{i()})};return e.jsx(X,{className:"mt-3",children:e.jsxs(ye,{children:[e.jsxs(q,{className:"border mx-2 p-4 d-flex flex-column justify-content-center align-items-center",children:[e.jsx("p",{className:"fw-lighter",children:"Double click on names or date to delete."}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Date :"}),s&&s.date&&s.date.length>0?e.jsx("h4",{onDoubleClick:o,style:{cursor:"pointer"},children:s.date}):e.jsx(UI,{id:s._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Accountant :"}),s&&s.accountant&&s.accountant.length>0?e.jsx("h4",{className:"text-capitalize",onDoubleClick:c,style:{cursor:"pointer"},children:s.accountant}):e.jsx(GI,{id:s._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Chacked By :"}),s&&s.checkedBy&&s.checkedBy.length>0?e.jsx("h4",{className:"text-capitalize",onDoubleClick:h,style:{cursor:"pointer"},children:s.checkedBy}):r&&r.role==="admin"?e.jsx(WI,{id:s._id}):null]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Keeper :"}),s&&s.keeper&&s.keeper.length>0?e.jsx("h4",{className:"text-capitalize",onDoubleClick:u,style:{cursor:"pointer"},children:s.keeper}):e.jsx(YI,{id:s._id})]}),e.jsx("div",{className:"d-flex justify-content-center align-items-center my-3 pt-2",children:!t&&e.jsx(VI,{})})]}),r&&r.role==="admin"&&e.jsx(q,{className:"d-flex justify-content-center align-items-center border mx-2 p-4",children:e.jsxs("p",{className:"display-6",children:["Total :"," ",e.jsxs("span",{className:a<0?"text-danger":"",children:["K",a.toLocaleString()]})]})})]})})}function JI(){const{user:t}=l.useContext(se);return l.useEffect(()=>{document.title="Yussman - Chinsali Store"},[]),e.jsx(e.Fragment,{children:e.jsx(X,{fluid:!0,className:"py-3",children:e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsx(FI,{})}),e.jsx(Y,{eventKey:"issued",title:"Issued / Out",children:e.jsx(MI,{})}),e.jsx(Y,{eventKey:"received",title:"Received / In",children:e.jsx(HI,{})}),e.jsx(Y,{eventKey:"final",title:"Final",children:e.jsx(QI,{})}),t&&t.role==="admin"&&e.jsx(Y,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(qI,{})})]})})})}const eu=l.createContext(),XI=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},ZI=({children:t})=>{const[n,s]=l.useReducer(XI,{shift:null}),[r,a]=l.useState({});l.useEffect(()=>{A.get(fn).then(o=>{i(o.data)})},[]),l.useEffect(()=>{ln(rt).on("chinsaliregister",c=>{s({type:"SET_SHIFT",payload:c})})},[]);const i=o=>{o!==null&&a(o)};return l.useEffect(()=>{i(n.shift)},[n.shift]),r===null?null:e.jsx(eu.Provider,{value:{RegisterShift:r,dispatch:s},children:t})};function eF({id:t}){const{storeShift:n}=l.useContext(oi),{shift:s}=l.useContext(Yr),[r,a]=l.useState([]);l.useEffect(()=>{const G=Array.isArray(s.stock)?s.stock:[],z=Array.isArray(n.stock)?n.stock:[];a([...G,...z])},[s,n]);const[i,o]=l.useState(!1),[c,u]=l.useState(!1),[h,d]=l.useState(""),[x,j]=l.useState([]),[v,f]=l.useState(null),[p,b]=l.useState(""),[k,N]=l.useState(""),[E,y]=l.useState(""),[w,D]=l.useState(""),[C,S]=l.useState(""),[T,B]=l.useState(""),P=()=>{o(!1),W()},R=()=>o(!0),$=G=>{const z=G.target.value.toLowerCase();d(z);const I=r.filter(M=>{const fe=M.code.toString().includes(z),je=M.name.toLowerCase().includes(z);return fe||je});j(I)},F=G=>{f(G),b(G.name),N(G.code),y(G.price)},W=()=>{f(null),b(""),N(""),y(""),S(""),D(""),B(""),d("")},te=G=>{if(G.preventDefault(),u(!0),c)return;const z={name:p.toLowerCase(),code:Number(k),unitPrice:Number(E),quantity:Number(w),priceBought:Number(C),section:T.toLowerCase()};A.post(`${fn}/${t}/addtostock`,z).then(()=>{P(),u(!1)}).catch(I=>{console.log(I),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"primary",onClick:R,size:"sm",children:"New"}),e.jsxs(g,{show:i,onHide:P,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New "})}),e.jsxs(g.Body,{children:[!v&&e.jsxs(e.Fragment,{children:[e.jsxs(m.Group,{className:" mb-3",children:[e.jsx(m.Label,{children:"Name or Code"}),e.jsx(m.Control,{autoFocus:!0,type:"text",placeholder:"Name or Code",value:h,onChange:G=>$(G)})]}),h&&e.jsx(_e,{children:x.map(G=>e.jsxs(_e.Item,{action:!0,className:" text-capitalize",onClick:()=>{F(G)},children:[G.code," - ",G.name," - ",`K${G.price}`]},G._id))})]}),v&&e.jsx(e.Fragment,{children:e.jsxs(m,{onSubmit:te,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{readOnly:!0,value:p})]}),e.jsxs(ye,{className:"mb-3",children:[e.jsxs(q,{children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{readOnly:!0,value:k})]}),e.jsxs(q,{children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{readOnly:!0,value:E})]})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Quantity"}),e.jsx(m.Control,{autoFocus:!0,required:!0,type:"number",placeholder:"Quantity",min:0,value:w,onChange:G=>D(G.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price Bought"}),e.jsx(m.Control,{required:!0,type:"number",placeholder:"Price Bought",min:0,value:C,onChange:G=>S(G.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"From"}),e.jsxs(m.Select,{required:!0,value:T,onChange:G=>B(G.target.value),children:[e.jsx("option",{value:"",children:"Open this select menu"}),e.jsx("option",{value:"local",children:"Local"}),e.jsx("option",{value:"mearaj",children:"Mearaj"}),e.jsx("option",{value:"ilyas",children:"Ilyas"}),e.jsx("option",{value:"outside",children:"Outside"}),e.jsx("option",{value:"chansa",children:"Chansa"})]})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:c?"Submitting...":"Submit"})]})})]})]})]})}function Mo({id:t,shiftId:n}){const[s,r]=l.useState(!1),[a,i]=l.useState(!1),o=()=>r(!1),c=()=>r(!0),u=()=>{i(!0),!a&&A.post(`${fn}/${n}/deletestock/${t}`).then(()=>{o(),i(!1)}).catch(h=>{console.log(h),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:c,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:a,onClick:()=>{u()},children:a?"Deleting...":"Yes"})]})]})]})}function zo({id:t,item:n}){const[s,r]=l.useState(!1),[a,i]=l.useState(!1),[o,c]=l.useState(""),[u,h]=l.useState(""),[d,x]=l.useState(""),[j,v]=l.useState(""),[f,p]=l.useState(""),[b,k]=l.useState("");l.useEffect(()=>{c(n.name),h(n.code),x(n.unitPrice),p(n.priceBought),v(n.quantity),k(n.section)},[n]);const N=()=>{r(!1)},E=()=>r(!0),y=w=>{if(w.preventDefault(),i(!0),a)return;const D={unitPrice:Number(d),quantity:Number(j),priceBought:Number(f),section:b.toLowerCase()};A.post(`${fn}/${t}/updatestock/${n._id}`,D).then(()=>{i(!1),N()}).catch(C=>{console.log(C),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-primary",size:"sm",onClick:E,className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:s,onHide:N,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New "})}),e.jsx(g.Body,{children:e.jsx(e.Fragment,{children:e.jsxs(m,{onSubmit:y,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{readOnly:!0,value:o})]}),e.jsxs(ye,{className:"mb-3",children:[e.jsxs(q,{children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{readOnly:!0,value:u})]}),e.jsxs(q,{children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{readOnly:!0,value:d})]})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Quantity"}),e.jsx(m.Control,{autoFocus:!0,required:!0,type:"number",placeholder:"Quantity",min:0,value:j,onChange:w=>v(w.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price Bought"}),e.jsx(m.Control,{required:!0,type:"number",placeholder:"Price Bought",min:0,value:f,onChange:w=>p(w.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"From"}),e.jsxs(m.Select,{required:!0,value:b,onChange:w=>k(w.target.value),children:[e.jsx("option",{value:"",children:"Open this select menu"}),e.jsx("option",{value:"local",children:"Local"}),e.jsx("option",{value:"mearaj",children:"Mearaj"}),e.jsx("option",{value:"ilyas",children:"Ilyas"}),e.jsx("option",{value:"outside",children:"Outside"}),e.jsx("option",{value:"chansa",children:"Chansa"})]})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:a,children:a?"Submitting...":"Submit"})]})})})]})]})}function tF(){const{storeShift:t}=l.useContext(oi),{shift:n}=l.useContext(Yr),[s,r]=l.useState([]);l.useEffect(()=>{const B=Array.isArray(n.stock)?n.stock.map(R=>({...R,source:"restaurant",shiftId:n._id})):[],P=Array.isArray(t.stock)?t.stock.map(R=>({...R,source:"store",shiftId:t._id})):[];r([...B,...P])},[n,t]);const[a,i]=l.useState(!1),[o,c]=l.useState(!1),[u,h]=l.useState(""),[d,x]=l.useState([]),[j,v]=l.useState(null),[f,p]=l.useState(""),[b,k]=l.useState(""),[N,E]=l.useState(""),y=()=>{i(!1),S()},w=()=>i(!0),D=B=>{const P=B.target.value.toLowerCase();h(P);const R=s.filter($=>{const F=$.code.toString().includes(P),W=$.name.toLowerCase().includes(P);return F||W});x(R)},C=B=>{v(B),p(B.name),k(B.code),E(B.price)},S=()=>{v(null),p(""),k(""),E(""),h("")},T=B=>{if(B.preventDefault(),c(!0),!j){console.error("No product selected"),c(!1);return}const P={price:Number(N),name:f};let R;if(j.source==="store")R=`${jn}/${j.shiftId}/updatename/${j._id}`;else{let $;switch(j.source){case"restaurant":$=Nt;break;default:console.error("Invalid product source"),c(!1);return}R=`${$}/${j.shiftId}/editname/${j._id}`}A.post(R,P).then(()=>{S(),y(),c(!1)}).catch($=>{console.error($),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-primary",onClick:w,size:"sm",children:"Change Price"}),e.jsxs(g,{show:a,onHide:y,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New "})}),e.jsxs(g.Body,{children:[!j&&e.jsxs(e.Fragment,{children:[e.jsxs(m.Group,{className:" mb-3",children:[e.jsx(m.Label,{children:"Name or Code"}),e.jsx(m.Control,{autoFocus:!0,type:"text",placeholder:"Name or Code",value:u,onChange:B=>D(B)})]}),u&&e.jsx(_e,{children:d.map(B=>e.jsxs(_e.Item,{action:!0,className:" text-capitalize",onClick:()=>{C(B)},children:[B.code," - ",B.name," - ",`K${B.price}`]},B._id))})]}),j&&e.jsx(e.Fragment,{children:e.jsxs(m,{onSubmit:T,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{readOnly:!0,value:f})]}),e.jsxs(ye,{className:"mb-3",children:[e.jsxs(q,{children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{readOnly:!0,value:b})]}),e.jsxs(q,{children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{value:N,onChange:B=>E(B.target.value),autoFocus:!0})]})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Submitting...":"Submit"})]})})]})]})]})}function nF(){const[t,n]=l.useState([]),[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState([]),[u,h]=l.useState([]),[d,x]=l.useState(0),[j,v]=l.useState(0),[f,p]=l.useState(0),[b,k]=l.useState(0),[N,E]=l.useState(0),[y,w]=l.useState(0),{RegisterShift:D}=l.useContext(eu),{user:C}=l.useContext(se);return l.useEffect(()=>{if(Object.keys(D).length!==0){const S=D.stock.filter(I=>I.section==="local"),T=D.stock.filter(I=>I.section==="outside"),B=D.stock.filter(I=>I.section==="mearaj"),P=D.stock.filter(I=>I.section==="ilyas"),R=D.stock.filter(I=>I.section==="chansa");n(S),r(T),i(B),c(P),h(R);const $=S.reduce((I,M)=>I+M.priceBought,0),F=T.reduce((I,M)=>I+M.priceBought,0),W=B.reduce((I,M)=>I+M.priceBought,0),te=P.reduce((I,M)=>I+M.priceBought,0),G=R.reduce((I,M)=>I+M.priceBought,0);x($),v(F),p(W),k(te),E(G);const z=D.stock.reduce((I,M)=>I+(M.quantity*M.unitPrice-M.priceBought),0);w(z)}},[D]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-around   align-items-center py-2",children:[e.jsx(eF,{id:D._id}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(tF,{}),e.jsxs("h6",{children:["Total Profit: K",y.toLocaleString()]})]})]}),e.jsxs(Q,{size:"sm",bordered:!0,className:" text-capitalize text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Price Bought"}),e.jsx("th",{children:"Unit Price"}),e.jsx("th",{children:"Price Sold"}),C&&C.role==="admin"&&e.jsx("th",{children:"Profit"}),C&&C.role==="admin"&&e.jsx("th",{children:"Profit %"}),C&&C.role==="admin"&&e.jsx("th",{children:"Action"})]})}),t.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[t==null?void 0:t.map((S,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:T+1}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.quantity}),e.jsxs("td",{children:["K",S.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",S.unitPrice]}),e.jsxs("td",{children:["K",(S.quantity*S.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:S.quantity*S.unitPrice-S.priceBought<0?"text-danger":"",children:["K",(S.quantity*S.unitPrice-S.priceBought).toLocaleString()]}),e.jsxs("td",{className:(S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100<30?"text-danger":"",children:[((S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100).toFixed(2),"%"]})]}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(zo,{id:D._id,item:S}),e.jsx(Mo,{id:S._id,shiftId:D._id})]})]},S._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",d.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),s.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[s==null?void 0:s.map((S,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:T+1}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.quantity}),e.jsxs("td",{children:["K",S.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",S.unitPrice]}),e.jsxs("td",{children:["K",(S.quantity*S.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:S.quantity*S.unitPrice-S.priceBought<0?"text-danger":"",children:["K",(S.quantity*S.unitPrice-S.priceBought).toLocaleString()]}),e.jsxs("td",{className:(S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100<30?"text-danger":"",children:[((S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:S.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(zo,{id:D._id,item:S}),e.jsx(Mo,{id:S._id,shiftId:D._id})]})]},S._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",j.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),a.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[a==null?void 0:a.map((S,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:T+1}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.quantity}),e.jsxs("td",{children:["K",S.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",S.unitPrice]}),e.jsxs("td",{children:["K",(S.quantity*S.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:S.quantity*S.unitPrice-S.priceBought<0?"text-danger":"",children:["K",(S.quantity*S.unitPrice-S.priceBought).toLocaleString()]}),e.jsxs("td",{className:(S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100<30?"text-danger":"",children:[((S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:S.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(zo,{id:D._id,item:S}),e.jsx(Mo,{id:S._id,shiftId:D._id})]})]},S._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",f.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),o.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[o==null?void 0:o.map((S,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:T+1}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.quantity}),e.jsxs("td",{children:["K",S.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",S.unitPrice]}),e.jsxs("td",{children:["K",(S.quantity*S.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:S.quantity*S.unitPrice-S.priceBought<0?"text-danger":"",children:["K",(S.quantity*S.unitPrice-S.priceBought).toLocaleString()]}),e.jsxs("td",{className:(S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100<30?"text-danger":"",children:[((S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:S.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(zo,{id:D._id,item:S}),e.jsx(Mo,{id:S._id,shiftId:D._id})]})]},S._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",b.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),u.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[u==null?void 0:u.map((S,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:T+1}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.quantity}),e.jsxs("td",{children:["K",S.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",S.unitPrice]}),e.jsxs("td",{children:["K",(S.quantity*S.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:S.quantity*S.unitPrice-S.priceBought<0?"text-danger":"",children:["K",(S.quantity*S.unitPrice-S.priceBought).toLocaleString()]}),e.jsxs("td",{className:(S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100<30?"text-danger":"",children:[((S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:S.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(zo,{id:D._id,item:S}),e.jsx(Mo,{id:S._id,shiftId:D._id})]})]},S._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",N.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]})]})]})}function sF({id:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),h=()=>{s(!1),x()},d=()=>s(!0),x=()=>{a(""),o("")},j=v=>{v.preventDefault(),u(!0),!c&&A.post(`${fn}/${t}/addtoexpense`,{description:r.toLowerCase(),amount:Number(i)}).then(()=>{h(),u(!1)}).catch(f=>{console.log(f),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"primary",onClick:d,children:"New"}),e.jsxs(g,{show:n,onHide:h,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Modal heading"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Description"}),e.jsx(m.Control,{type:"text",placeholder:"Description",autoFocus:!0,value:r,onChange:v=>a(v.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",placeholder:"Amount",min:0,value:i,onChange:v=>o(v.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:c?"Submitting...":"Submit"})]})})]})]})}function rF({id:t,shiftId:n}){const[s,r]=l.useState(!1),[a,i]=l.useState(!1),o=()=>r(!1),c=()=>r(!0),u=()=>{i(!0),!a&&A.post(`${fn}/${n}/deleteexpense/${t}`).then(()=>{o(),i(!1)}).catch(h=>{console.log(h),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:c,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:a,onClick:()=>{u()},children:a?"Deleting...":"Yes"})]})]})]})}function aF(){const[t,n]=l.useState([]),{RegisterShift:s}=l.useContext(eu),{user:r}=l.useContext(se);return l.useEffect(()=>{n(s.expense)},[s]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(sF,{id:s._id})}),e.jsxs(Q,{size:"sm",bordered:!0,className:"text-capitalize text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Decription"}),e.jsx("th",{children:"Amount"}),r&&r.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t==null?void 0:t.map((a,i)=>e.jsxs("tr",{children:[e.jsx("td",{children:i+1}),e.jsx("td",{children:a.description}),e.jsxs("td",{children:["K",a.amount]}),r&&r.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center ",children:e.jsx(rF,{id:a._id,shiftId:s._id})})]},a._id))})]})]})}function iF({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${fn}/${t}/adddate`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function oF({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${fn}/${t}/addname`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function lF({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${fn}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function cF({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${fn}/${t}/addcash`,{amount:n}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function dF({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${fn}/${t}/addchange`,{amount:n}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function uF(){const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=()=>n(!1),i=()=>n(!0),o=c=>{c.preventDefault(),r(!0),!s&&A.post(`${fn}/newshift`).then(()=>{a(),r(!1)}).catch(u=>{console.log(u),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"lg",variant:"primary",onClick:i,children:"Next"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(L,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(L,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading...":"Yes"})]})]})]})}function hF(){const[t,n]=l.useState(!0),{RegisterShift:s}=l.useContext(eu);let r=0,a=0;Object.keys(s).length>0&&(r=s.stock.reduce((x,j)=>x+j.priceBought,0),a=s.expense.reduce((x,j)=>x+j.amount,0));const i=l.useCallback(()=>{if(s!=null&&Object.keys(s).length>0){const x=s.name.length,j=s.accountant.length,v=s.date.length,f=s.cash;x>0&&j>0&&v>0&&f>0?n(!1):n(!0)}},[s]);l.useEffect(()=>{i()},[i]);const o=()=>{A.post(`${fn}/${s._id}/deletedate`).then(()=>{i()})},c=()=>{A.post(`${fn}/${s._id}/deletename`).then(()=>{i()})},u=()=>{A.post(`${fn}/${s._id}/deleteaccountant`).then(()=>{i()})},h=()=>{A.post(`${fn}/${s._id}/deletecash`).then(()=>{i()})},d=()=>{A.post(`${fn}/${s._id}/deletechange`).then(()=>{i()})};return e.jsx(e.Fragment,{children:Object.keys(s).length>0&&e.jsxs(ye,{className:"m-3 text-capitalize prevent-select",children:[e.jsxs(q,{className:"border mx-2 p-3",children:[e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:o,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Date :"}),s.date.length>0?e.jsx("h5",{children:s.date}):e.jsx(iF,{id:s._id})]}),e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:c,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Name :"}),s.name.length>0?e.jsx("h5",{children:s.name}):e.jsx(oF,{id:s._id})]}),e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:u,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Accountant :"}),s.accountant.length>0?e.jsx("h5",{children:s.accountant}):e.jsx(lF,{id:s._id})]}),t?"":e.jsx("div",{className:"d-flex align-items-center justify-content-center h-50",children:e.jsx(uF,{id:s._id})})]}),e.jsxs(q,{className:"border mx-2 p-3",children:[e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:h,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Cash :"}),s.cash>0?e.jsxs("h5",{children:["K",s.cash.toLocaleString()]}):e.jsx(cF,{id:s._id})]}),e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:d,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Change :"}),s.change>0?e.jsxs("h5",{children:["K",s.change.toLocaleString()]}):e.jsx(dF,{id:s._id})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Total Bought :"}),e.jsxs("h5",{children:["K",r.toLocaleString()]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Expense :"}),e.jsxs("h5",{children:["K",a.toLocaleString()]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Total :"}),e.jsxs("h5",{children:["K",(r+a).toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("p",{className:r+a-s.cash+s.change<0?"text-danger display-6 text-center":"display-6 text-center",children:["Result : K",(r+a-s.cash+s.change).toLocaleString()]})]})]})})}function fF({shiftId:t,getShifts:n}){const[s,r]=l.useState(!1),[a,i]=l.useState(!1),o=()=>r(!1),c=()=>r(!0),u=()=>{i(!0),!a&&A.delete(`${fn}/${t}`).then(()=>{o(),i(!1),n()}).catch(h=>{console.log(h),i(!1),o()})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:c,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:a,onClick:()=>{u()},children:a?"Deleting...":"Yes"})]})]})]})}function mF(){const[t,n]=l.useState([]),{user:s}=l.useContext(se),r=()=>{A.get(`${fn}/all`).then(a=>{const i=a.data.sort((o,c)=>{const u=o.date?new Date(o.date).getTime():null,h=c.date?new Date(c.date).getTime():null;return!u&&!h?0:u?h?h-u:1:-1});n(i)}).catch(a=>{console.log(a)})};return l.useEffect(()=>{r()},[]),e.jsxs(X,{fluid:"xxl",children:[e.jsx("div",{className:"d-flex justify-content-end mt-2",children:e.jsx(L,{variant:"outline-primary",onClick:r,children:"Refresh"})}),e.jsxs(Q,{size:"sm",bordered:!0,className:"text-capitalize text-center my-3",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Accountant"}),e.jsx("th",{children:"Status"}),s&&s.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(a=>e.jsxs("tr",{children:[e.jsx("td",{children:a.date}),e.jsx("td",{children:a.name}),e.jsx("td",{children:a.accountant}),e.jsx("td",{children:a.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Oe,{to:`/chinsaliregister/${a._id}`,style:{textDecoration:"none"},children:e.jsx(L,{variant:"outline-primary",size:"sm",children:"V"})}),t.length>1&&a.status==="current"&&s&&s.role==="admin"&&e.jsx(fF,{shiftId:a._id,getShifts:r})]})]},a._id))})]})]})}function xF(){return l.useEffect(()=>{document.title="Yussman -Chinsali Register"},[]),e.jsx(X,{className:"my-5",fluid:!0,children:e.jsxs(mt,{defaultActiveKey:"stock",justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsx(nF,{})}),e.jsx(Y,{eventKey:"expence",title:"Expence",children:e.jsx(aF,{})}),e.jsx(Y,{eventKey:"final",title:"Final",children:e.jsx(hF,{})}),e.jsx(Y,{eventKey:"all",title:"All",children:e.jsx(mF,{})})]})})}function pF(){var o,c;l.useEffect(()=>{document.title="Yussman  - Register - Details"},[]);const[t,n]=l.useState({}),{id:s}=In(),r=l.useCallback(()=>{A.get(`${fn}/${s}`).then(u=>{n(u.data)}).catch(u=>{console.log(u)})},[s]);let a=0,i=0;return Object.keys(t).length>0&&(a=t.stock.reduce((u,h)=>u+h.priceBought,0),i=t.expense.reduce((u,h)=>u+h.amount,0)),l.useEffect(()=>{r()},[r]),e.jsx(X,{fluid:!0,className:"my-3",children:Object.keys(t).length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-between text-capitalize",children:[e.jsxs("h5",{children:["Date : ",t.date]}),e.jsxs("h5",{children:["Name : ",t.name]}),e.jsxs("h5",{children:["Accountant : ",t.accountant]}),e.jsxs("h5",{children:["Cash : K",t.cash.toLocaleString()]}),e.jsxs("h5",{children:[" Change : K",t.change.toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-center gap-5  text-capitalize",children:[e.jsxs("h5",{children:["Total Bought : K",a.toLocaleString()]}),e.jsxs("h5",{children:["Total Expense : K",i.toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("p",{className:a+i-t.cash+t.change<0?"text-danger display-6 text-center":"display-6 text-center",children:["Result : K",(a+i-t.cash+t.change).toLocaleString()]}),e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsxs(Q,{size:"sm",bordered:!0,className:" text-capitalize text-center mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Price Bought"}),e.jsx("th",{children:"Unit Price"}),e.jsx("th",{children:"Price Sold"}),e.jsx("th",{children:"Profit"})]})}),e.jsx("tbody",{className:"table-group-divider",children:(o=t.stock)==null?void 0:o.map((u,h)=>e.jsxs("tr",{children:[e.jsx("td",{children:h+1}),e.jsx("td",{children:u.code}),e.jsx("td",{children:u.name}),e.jsx("td",{children:u.quantity}),e.jsxs("td",{children:["K",u.priceBought]}),e.jsxs("td",{children:["K",u.unitPrice]}),e.jsxs("td",{children:["K",u.quantity*u.unitPrice]}),e.jsxs("td",{children:["K",u.quantity*u.unitPrice-u.priceBought]})]},u._id))})]})}),e.jsx(Y,{eventKey:"expense",title:"Expenses",children:e.jsxs(Q,{size:"sm",bordered:!0,className:"text-capitalize text-center mt-2 ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Decription"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:(c=t.expense)==null?void 0:c.map((u,h)=>e.jsxs("tr",{children:[e.jsx("td",{children:h+1}),e.jsx("td",{children:u.description}),e.jsxs("td",{children:["K",u.amount]})]},u._id))})]})})]})]})})}function jF(){const[t,n]=l.useState(null),[s,r]=l.useState({}),[a,i]=l.useState([]),[o,c]=l.useState([]),[u,h]=l.useState([]),[d,x]=l.useState([]),[j,v]=l.useState([]),[f,p]=l.useState([]),[b,k]=l.useState([]),{id:N}=In();l.useEffect(()=>{A.get(`${jn}/${N}`).then(y=>{n(y.data)}).catch(y=>{console.log(y)})},[N]),l.useEffect(()=>{E(t)},[t]),l.useEffect(()=>{t!==null&&(p(t.issued),k(t.received))},[t]);const E=y=>{if(y!==null){const w={},D={};y.received&&Array.isArray(y.received)&&y.received.forEach(S=>{const{code:T,quantity:B}=S;w[T]=(w[T]||0)+B}),y.issued&&Array.isArray(y.issued)&&y.issued.forEach(S=>{const{code:T,quantity:B}=S;D[T]=(D[T]||0)+B});let C={...y,stock:y.stock.map(S=>{const{code:T,ostock:B,damage:P}=S,R=w[T]||0,$=D[T]||0,F=B+R-P-$;return{...S,received:R,issued:$,cstock:F}})};C.stock.sort((S,T)=>S.name.localeCompare(T.name)),r(C)}};return l.useEffect(()=>{if(Object.keys(s).length!==0){const y=s.stock.filter(T=>T.section==="drinks"),w=s.stock.filter(T=>T.section==="food"),D=s.stock.filter(T=>T.section==="other"),C=s.stock.filter(T=>T.section==="shopa1"),S=s.stock.filter(T=>T.section==="shopa2");i(y),c(w),h(D),x(C),v(S)}},[s]),e.jsxs(X,{className:"my-3",children:[e.jsxs("div",{className:"text-capitalize d-flex justify-content-between p-3",children:[e.jsxs("h5",{className:"text-center",children:["Date: ",t==null?void 0:t.date]}),e.jsxs("h5",{className:"text-center",children:["Accountant: ",t==null?void 0:t.accountant]}),e.jsxs("h5",{className:"text-center",children:["Checked By: ",t==null?void 0:t.checkedBy]}),e.jsxs("h5",{className:"text-center",children:["Keeper: ",t==null?void 0:t.keeper]})]}),e.jsx("hr",{}),e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsxs(Q,{className:"text-center text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"OStock"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Issued"}),e.jsx("th",{children:"CStock"})]})}),e.jsx("tbody",{className:"table-group-divider",children:a.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{children:y.name}),e.jsx("td",{className:y.ostock===0?"text-muted":"",children:y.ostock.toFixed(2)}),e.jsx("td",{className:y.damage===0?"text-muted":y.damage<0?"text-danger":"",children:y.damage}),e.jsx("td",{className:y.received>0?"text-info":y.received===0?"text-muted":"",children:y.received}),e.jsx("td",{className:y.issued>0?"text-info":y.issued===0?"text-muted":"",children:y.issued}),e.jsx("td",{className:y.cstock<0?"text-danger":y.cstock===0?"text-muted":"",children:y.cstock.toFixed(2)})]},y._id))}),e.jsx("tbody",{className:"table-group-divider",children:o.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{children:y.name}),e.jsx("td",{className:y.ostock===0?"text-muted":"",children:y.ostock.toFixed(2)}),e.jsx("td",{className:y.damage===0?"text-muted":y.damage<0?"text-danger":"",children:y.damage}),e.jsx("td",{className:y.received>0?"text-info":y.received===0?"text-muted":"",children:y.received}),e.jsx("td",{className:y.issued>0?"text-info":y.issued===0?"text-muted":"",children:y.issued}),e.jsx("td",{className:y.cstock<0?"text-danger":y.cstock===0?"text-muted":"",children:y.cstock.toFixed(2)})]},y._id))}),e.jsx("tbody",{className:"table-group-divider",children:u.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{children:y.name}),e.jsx("td",{className:y.ostock===0?"text-muted":"",children:y.ostock.toFixed(2)}),e.jsx("td",{className:y.damage===0?"text-muted":y.damage<0?"text-danger":"",children:y.damage}),e.jsx("td",{className:y.received>0?"text-info":y.received===0?"text-muted":"",children:y.received}),e.jsx("td",{className:y.issued>0?"text-info":y.issued===0?"text-muted":"",children:y.issued}),e.jsx("td",{className:y.cstock<0?"text-danger":y.cstock===0?"text-muted":"",children:y.cstock.toFixed(2)})]},y._id))}),e.jsx("tbody",{className:"table-group-divider",children:d.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{children:y.name}),e.jsx("td",{className:y.ostock===0?"text-muted":"",children:y.ostock.toFixed(2)}),e.jsx("td",{className:y.damage===0?"text-muted":y.damage<0?"text-danger":"",children:y.damage}),e.jsx("td",{className:y.received>0?"text-info":y.received===0?"text-muted":"",children:y.received}),e.jsx("td",{className:y.issued>0?"text-info":y.issued===0?"text-muted":"",children:y.issued}),e.jsx("td",{className:y.cstock<0?"text-danger":y.cstock===0?"text-muted":"",children:y.cstock.toFixed(2)})]},y._id))}),e.jsx("tbody",{className:"table-group-divider",children:j.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{children:y.name}),e.jsx("td",{className:y.ostock===0?"text-muted":"",children:y.ostock.toFixed(2)}),e.jsx("td",{className:y.damage===0?"text-muted":y.damage<0?"text-danger":"",children:y.damage}),e.jsx("td",{className:y.received>0?"text-info":y.received===0?"text-muted":"",children:y.received}),e.jsx("td",{className:y.issued>0?"text-info":y.issued===0?"text-muted":"",children:y.issued}),e.jsx("td",{className:y.cstock<0?"text-danger":y.cstock===0?"text-muted":"",children:y.cstock.toFixed(2)})]},y._id))})]})}),e.jsx(Y,{eventKey:"issued",title:"Issued / Out",children:e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center mt-3",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"To"})]})}),e.jsx("tbody",{className:"table-group-divider",children:f.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{className:"text-capitalize",children:y.name}),e.jsx("td",{children:y.quantity}),e.jsx("td",{className:"text-capitalize",children:y.to})]},y._id))})]})}),e.jsx(Y,{eventKey:"received",title:"Received / In",children:e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:b.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{className:"text-capitalize",children:y.name}),e.jsx("td",{children:y.quantity})]},y._id))})]})})]})]})}function Vu({id:t,stock:n,getShift:s}){const[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(""),[h,d]=l.useState(!1),{user:x}=l.useContext(se);l.useEffect(()=>{Object.keys(n).length>0&&(a(n.ostock),o(n.damage),u(n.cstock))},[n]);const[j,v]=l.useState(!1),f=()=>v(!1),p=()=>v(!0),b=()=>{a(""),o(""),u("")},k=N=>{N.preventDefault(),d(!0);const E={ostock:Number(r),damage:Number(i),cstock:Number(c)};A.post(`${Nt}/${t}/editstock/${n._id}`,E).then(()=>{b(),f(),d(!1),s()}).catch(y=>{console.log(y),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:p,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:j,onHide:()=>{f()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:k,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Opening Stock"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,readOnly:x.role!=="admin",onChange:N=>a(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Damage"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:N=>o(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Closing Stock"}),e.jsx(m.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:c,onChange:N=>u(N.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:h,children:h?"Loading...":"Submit"})]})})]})]})}const gF=()=>{const[t,n]=l.useState({}),[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState([]),[u,h]=l.useState([]),[d,x]=l.useState([]),[j,v]=l.useState([]),{id:f}=In(),{user:p}=l.useContext(se);let b=0,k=0;if(Object.keys(t).length>0){b=t.bus.filter(D=>D.status==="collected").reduce((D,C)=>D+C.amount,0);const w=D=>(D.ostock+D.received-D.damage-D.cstock)*D.price;k=s.stock.reduce((D,C)=>D+w(C),0)}l.useEffect(()=>{document.title="Yussman  - Restaurant - Details"},[]);const N=l.useCallback(()=>{A.get(`${Nt}/${f}`).then(w=>{n(w.data),E(w.data)}).catch(w=>{console.log(w)})},[f]);l.useEffect(()=>{N()},[N]),l.useEffect(()=>{Object.keys(t).length>0&&(x(t.cash.reduce((w,D)=>w+D,0)+b+t.credit.reduce((w,D)=>w+D.amount,0)-t.change.reduce((w,D)=>w+D,0)-k),v(t.received))},[t,b,k]);const E=w=>{if(w!==null){const D={};w.received&&Array.isArray(w.received)&&w.received.forEach(S=>{const T=S.code,B=S.amount;D[T]===void 0?D[T]=B:D[T]+=B});const C={...w,stock:w.stock.map(S=>{const T=S.code;return D[T]!==void 0?{...S,received:D[T]}:S})};C.stock.sort((S,T)=>S.name.localeCompare(T.name)),r(C)}};l.useEffect(()=>{if(Object.keys(t).length!==0){const w=s.stock.filter(S=>S.section==="drinks"),D=s.stock.filter(S=>S.section==="food"),C=s.stock.filter(S=>S.section==="bakery");i(w),c(D),h(C)}},[s,t]);const y=w=>w.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return Object.keys(t).length===0?null:e.jsxs(X,{fluid:"xxl",children:[e.jsxs("div",{className:"d-flex justify-content-between mt-3 mx-3",children:[e.jsxs("p",{children:["Date : ",t.date]}),e.jsxs("p",{children:["Shift : ",t.shift]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("p",{children:"Cashiers : "}),t.cashier.map(w=>e.jsx("p",{className:"mx-2",children:w},Math.floor(Math.random()*1e4)))]}),e.jsxs("p",{children:["Accountant : ",t.acountant]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between mx-3",children:[e.jsxs("p",{children:["Cash : K",y(t.cash.reduce((w,D)=>w+D,0))]}),e.jsxs("p",{children:["Change : K",y(t.change.reduce((w,D)=>w+D,0))]}),e.jsxs("p",{children:["Bus : K",y(b)]}),e.jsxs("p",{children:["Credit : K",y(t.credit.reduce((w,D)=>w+D.amount,0))]}),e.jsxs("p",{children:["Sales : K",y(k)]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("p",{className:"display-6 text-center ",children:["Result : K",e.jsx("span",{className:d<0?"text-danger":"",children:y(d)})]})}),e.jsx("hr",{}),e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsxs(Q,{className:"text-center mt-3",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),p&&p.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:a.map(w=>e.jsxs("tr",{id:w.code,children:[e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsxs("td",{children:["K",w.price]}),e.jsx("td",{children:w.ostock}),e.jsx("td",{className:w.received>0?"text-info":"",children:w.received}),e.jsx("td",{children:w.damage}),e.jsx("td",{className:w.cstock<0?"text-danger":"",children:w.cstock}),e.jsxs("td",{className:w.ostock+w.received-w.damage-w.cstock<0?"text-danger":"",children:["K",y((w.ostock+w.received-w.damage-w.cstock)*w.price)]}),p&&p.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Vu,{id:f,stock:w,getShift:N})})]},w.code))}),e.jsx("tbody",{className:"table-group-divider",children:o.map(w=>e.jsxs("tr",{id:w.code,children:[e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsxs("td",{children:["K",w.price]}),e.jsx("td",{children:w.ostock}),e.jsx("td",{className:w.received>0?"text-info":"",children:w.received}),e.jsx("td",{children:w.damage}),e.jsx("td",{className:w.cstock<0?"text-danger":"",children:w.cstock}),e.jsxs("td",{className:w.ostock+w.received-w.damage-w.cstock<0?"text-danger":"",children:["K",y((w.ostock+w.received-w.damage-w.cstock)*w.price)]}),p&&p.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Vu,{id:f,stock:w,getShift:N})})]},w.code))}),e.jsx("tbody",{className:"table-group-divider",children:u.map(w=>e.jsxs("tr",{id:w.code,children:[e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsxs("td",{children:["K",w.price]}),e.jsx("td",{children:w.ostock}),e.jsx("td",{className:w.received>0?"text-info":"",children:w.received}),e.jsx("td",{children:w.damage}),e.jsx("td",{className:w.cstock<0?"text-danger":"",children:w.cstock}),e.jsxs("td",{className:w.ostock+w.received-w.damage-w.cstock<0?"text-danger":"",children:["K",y((w.ostock+w.received-w.damage-w.cstock)*w.price)]}),p&&p.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Vu,{id:f,stock:w,getShift:N})})]},w.code))})]})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsxs(Q,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:j.map(w=>e.jsxs("tr",{id:w._id,children:[e.jsx("td",{children:w.code}),e.jsx("td",{className:"text-capitalize",children:w.name}),e.jsx("td",{children:w.amount})]},w._id))})]})}),e.jsx(Y,{eventKey:"busses",title:"Busses",children:e.jsxs(ye,{children:[e.jsxs(q,{children:[e.jsx("h3",{className:"text-center",children:"Busses"}),e.jsxs(Q,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Bus Name"}),e.jsx("th",{children:"Driver"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.bus.map(w=>e.jsxs("tr",{children:[e.jsx("td",{children:w.name}),e.jsx("td",{children:w.driver}),e.jsx("td",{children:w.status}),e.jsxs("td",{children:["K",w.amount]})]},w._id))})]})]}),e.jsxs(q,{children:[e.jsx("h3",{className:"text-center",children:"Topup"}),e.jsxs(Q,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.topup.map(w=>e.jsxs("tr",{children:[e.jsx("td",{children:w.name}),e.jsxs("td",{children:["K",w.amount]})]},w._id))})]})]})]})})]})]})};function yF({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),[h,d]=l.useState(!1),x=()=>d(!1),j=()=>d(!0),v=()=>{s(""),a(""),o("")},f=p=>{p.preventDefault(),u(!0);const b={name:n.trim(),price:Number(r),section:i};A.post(`${wt}/${t}/addtostock`,b).then(()=>{v(),x(),u(!1)}).catch(k=>{console.log(k),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:j,children:"New Product"}),e.jsxs(g,{show:h,onHide:()=>{x(),v()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:f,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:p=>s(p.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:p=>a(p.target.value)})]}),e.jsx(m.Label,{children:"Section"}),e.jsxs(m.Select,{className:"mb-3",required:!0,value:i,onChange:p=>o(p.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select section"}),e.jsx("option",{value:"drinks",children:"Restaurant"}),e.jsx("option",{value:"bakery",children:"Shop"})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:c?"Loading...":"Submit"})]})})]})]})}function qj({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${wt}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex mx-2  justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}function Uj({id:t,stock:n}){const[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(!1);l.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[u,h]=l.useState(!1),d=()=>h(!1),x=()=>h(!0),j=()=>{r(""),i("")},v=f=>{f.preventDefault(),c(!0);const p={price:Number(s),name:a};A.post(`${wt}/${t}/editname/${n._id}`,p).then(()=>{j(),d(),c(!1)}).catch(b=>{console.error(b),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:x,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:u,onHide:()=>{d()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:v,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}const Wr=l.createContext(),vF=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},SF=({children:t})=>{const[n,s]=l.useReducer(vF,{shift:null}),[r,a]=l.useState({});l.useEffect(()=>{A.get(wt).then(o=>{i(o.data)})},[]),l.useEffect(()=>{const o=ln(rt);return o.on("chansarestaurant",c=>{s({type:"SET_SHIFT",payload:c})}),()=>{o.disconnect()}},[]);const i=o=>{if(o!==null){const c={};o.received&&Array.isArray(o.received)&&o.received.forEach(h=>{const d=h.code,x=h.amount;c[d]===void 0?c[d]=x:c[d]+=x});const u={...o,stock:o.stock.map(h=>{const d=h.code;return c[d]!==void 0?{...h,received:c[d]}:h})};u.stock.sort((h,d)=>h.name.localeCompare(d.name)),a(u)}};return l.useEffect(()=>{i(n.shift)},[n.shift]),e.jsx(Wr.Provider,{value:{shift:r,dispatch:s},children:t})},Gj="deletestock";function bF(){const[t,n]=l.useState([]),[s,r]=l.useState([]),[a,i]=l.useState(0),[o,c]=l.useState(0),[u,h]=l.useState(null),[d,x]=l.useState(""),[j,v]=l.useState(""),[f,p]=l.useState(""),[b,k]=l.useState(!1),N=l.useRef(null),{shift:E}=l.useContext(Wr),{user:y}=l.useContext(se),w=T=>T.reduce((B,P)=>B+(P.ostock+P.received-P.damage-P.cstock)*P.price,0);l.useEffect(()=>{if(Object.keys(E).length!==0){const T=E.stock.filter(P=>P.section==="drinks"),B=E.stock.filter(P=>P.section==="bakery");n(T),r(B),i(w(T)),c(w(B))}},[E]),l.useEffect(()=>{N.current&&(N.current.focus(),N.current.select())},[u]);const D=T=>{h(T);let B=t.find(P=>P._id===T);B||(B=s.find(P=>P._id===T)),x(B.ostock.toString()),v(B.damage.toString()),p(B.cstock.toString())},C=(T,B)=>{if(T.preventDefault(),!B)return;if(!B||d<0||j<0||f<0){alert("Please ensure all values are non-negative.");return}k(!0);const P={ostock:Number(d),damage:Number(j),cstock:Number(f)};A.post(`${wt}/${E._id}/editstock/${B}`,P).then(()=>{k(!1),x(""),v(""),p("");const R=[...t,...s],$=R.findIndex(F=>F._id===B);if($!==-1&&$<R.length-1){const F=R[$+1];h(F._id),x(F.ostock.toString()),v(F.damage.toString()),p(F.cstock.toString())}else h(null)}).catch(R=>{console.log(R),k(!1)})},S=()=>{h(null),x(""),v(""),p(""),k(!1)};return E===null?null:e.jsxs(m,{onSubmit:T=>C(T,u),children:[y!==null&&y.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(yF,{id:E._id})}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),e.jsx("th",{style:{width:"8rem"},children:"Actions"})]})}),e.jsxs("tbody",{children:[t.map(T=>e.jsxs("tr",{id:T.code,children:[e.jsx("td",{children:T.code}),e.jsx("td",{className:"text-capitalize",children:T.name}),e.jsxs("td",{children:["K",T.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:u===T._id?e.jsx(m.Control,{type:"number",size:"sm",readOnly:y.role!=="admin",value:d,className:"text-center",onChange:B=>x(B.target.value)}):T.ostock}),e.jsx("td",{className:T.received>0?"text-info":"",children:T.received}),e.jsx("td",{style:{width:"8rem"},children:u===T._id?e.jsx(m.Control,{type:"number",size:"sm",value:j,className:"text-center",onChange:B=>v(B.target.value)}):T.damage}),e.jsx("td",{style:{width:"8rem"},className:T.cstock<0?"text-danger":"",children:u===T._id?e.jsx(m.Control,{ref:N,type:"number",size:"sm",autoFocus:!0,value:f,className:"text-center",onChange:B=>p(B.target.value)}):T.cstock}),e.jsxs("td",{className:T.ostock+T.received-T.damage-T.cstock<0?"text-danger":T.ostock+T.received-T.damage-T.cstock===0?"text-muted":"",children:["K",((T.ostock+T.received-T.damage-T.cstock)*T.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:u===T._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(L,{size:"sm",disabled:b,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(L,{size:"sm",variant:"outline-danger",onClick:()=>S(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:"outline-secondary",onClick:()=>D(T._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),y!==null&&y.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(qj,{endpoint:Gj,id:T._id,shiftId:E._id}),e.jsx(Uj,{stock:T,id:E._id})]})]})})]},T.code)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:7,children:"Restaurant Total"}),e.jsxs("td",{children:["K",a.toLocaleString()]}),e.jsx("td",{})]})]}),e.jsxs("tbody",{className:"table-group-divider",children:[s.map(T=>e.jsxs("tr",{id:T.code,children:[e.jsx("td",{children:T.code}),e.jsx("td",{className:"text-capitalize",children:T.name}),e.jsxs("td",{children:["K",T.price>0&&T.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:u===T._id?e.jsx(m.Control,{type:"number",size:"sm",readOnly:y.role!=="admin",value:d,className:"text-center",onChange:B=>x(B.target.value)}):T.ostock}),e.jsx("td",{className:T.received>0?"text-info":"",children:T.received}),e.jsx("td",{style:{width:"8rem"},children:u===T._id?e.jsx(m.Control,{type:"number",size:"sm",value:j,className:"text-center",onChange:B=>v(B.target.value)}):T.damage}),e.jsx("td",{style:{width:"8rem"},className:T.cstock<0?"text-danger":"",children:u===T._id?e.jsx(m.Control,{ref:N,type:"number",size:"sm",autoFocus:!0,value:f,className:"text-center",onChange:B=>p(B.target.value)}):T.cstock}),e.jsxs("td",{className:T.ostock+T.received-T.damage-T.cstock<0?"text-danger":T.ostock+T.received-T.damage-T.cstock===0?"text-muted":"",children:["K",T.code>0&&((T.ostock+T.received-T.damage-T.cstock)*T.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:u===T._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(L,{size:"sm",disabled:b,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(L,{size:"sm",variant:"outline-danger",onClick:()=>S(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:"outline-secondary",onClick:()=>D(T._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),y!==null&&y.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(qj,{endpoint:Gj,id:T._id,shiftId:E._id}),e.jsx(Uj,{stock:T,id:E._id})]})]})})]},T.code)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:7,children:"Shop Total"}),e.jsxs("td",{children:["K",o.toLocaleString()]}),e.jsx("td",{})]})]})]})]})}function CF({show:t,handleClose:n,result:s,id:r}){const[a,i]=l.useState({code:"",name:"",amount:""}),[o,c]=l.useState(!1);l.useEffect(()=>{s&&i({code:s.code,name:s.name,amount:""})},[s]);const u=j=>{const{name:v,value:f}=j.target;i(p=>({...p,[v]:f}))},d=NF(()=>{o||(c(!0),A.post(`${wt}/${r}/addtoreceived`,a).then(()=>{n(),c(!1)}).catch(j=>{console.log(j),c(!1)}))},200),x=j=>{j.preventDefault(),d()};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:n,hidden:!0}),e.jsxs(g,{show:t,onHide:n,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Received"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:x,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{type:"number",autoComplete:"off",name:"code",value:a.code,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",name:"name",value:a.name,onChange:u,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Quantity"}),e.jsx(m.Control,{autoFocus:!0,type:"number",autoComplete:"off",name:"amount",value:a.amount,onChange:u,required:!0})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}function NF(t,n){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{t(...r)},n)}}function yd({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${wt}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}const wF="deletereceived";function kF({activeTab:t}){const[n,s]=l.useState([]),[r,a]=l.useState([]),[i,o]=l.useState([]),[c,u]=l.useState(!1),[h,d]=l.useState(null),[x,j]=l.useState(""),[v,f]=l.useState(!1),[p,b]=l.useState(-1),{shift:k}=l.useContext(Wr);l.useEffect(()=>{Object.keys(k).length!==0&&(s(k.received),a(k.stock),o(k.stock),f(!0))},[k]),l.useEffect(()=>{const C=S=>{const T=document.getElementById("searchInput"),B=document.getElementById("resultsList");T&&B&&!T.contains(S.target)&&!B.contains(S.target)&&u(!1)};return document.addEventListener("click",C),()=>{document.removeEventListener("click",C)}},[]);const N=C=>{const S=C.target.value.toLowerCase(),T=r.filter(B=>B.name.toLowerCase().includes(S)||B.code.toString().includes(S));o(T),u(!0),b(-1),u(!!S)},E=C=>{C.key==="ArrowDown"&&p<i.length-1?b(p+1):C.key==="ArrowUp"&&p>0?b(p-1):C.key==="Enter"&&p>=0&&(C.preventDefault(),y(i[p]))},y=C=>{d(C),u(!1),b(-1)},w=()=>{d(null),j(""),f(!0)},D=l.useCallback(()=>{const C=document.getElementById("searchInput");t==="received"&&C&&C.focus(),v&&t==="received"&&C&&(C.focus(),f(!1))},[t,v]);return l.useEffect(()=>{D()},[t,D]),l.useEffect(()=>{D()},[t,v,D]),e.jsxs(X,{children:[e.jsx("div",{className:"w-50",children:e.jsxs(m,{onSubmit:C=>C.preventDefault(),children:[e.jsxs(Ea,{className:"mb-3",children:[e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,placeholder:"Code",name:"search",id:"searchInput",onChange:C=>{N(C),j(C.target.value)},onKeyDown:E,value:x}),e.jsx(CF,{show:h!==null,result:h,handleClose:w,id:k._id})]}),c&&e.jsx("ul",{id:"resultsList",className:"list-group",style:{position:"absolute",zIndex:1,width:"50%",cursor:"pointer"},children:i.map((C,S)=>e.jsxs("li",{className:`list-group-item text-capitalize ${S===p?"active":""}`,onClick:()=>y(C),children:[C.code," - ",C.name]},C.code))})]})}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:n.map(C=>e.jsxs("tr",{id:C._id,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsx("td",{children:C.amount}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(yd,{endpoint:wF,id:C._id,shiftId:k._id})})]},C._id))})]})]})}function LF({shift:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),h=()=>s(!1),d=()=>s(!0),x=async j=>{j.preventDefault(),u(!0),await A.post(`${wt}/${t._id}/addtocredit`,{description:r,amount:i}).then(()=>{a(""),o(""),h(),u(!1)}).catch(v=>{console.log(v),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:d,children:"New"}),e.jsxs(g,{show:n,onHide:()=>{h(),a(""),o("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Credit"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j=>x(j),children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Description"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:j=>o(j.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:c?"Loading...":"Submit"})]})})]})]})}const EF="deletecredit";function DF(){const[t,n]=l.useState([]),{shift:s}=l.useContext(Wr);return l.useEffect(()=>{Object.keys(s).length!==0&&n(s.credit)},[s]),e.jsxs(X,{children:[e.jsx("div",{className:"d-flex justify-content-between py-2",children:e.jsx(LF,{shift:s})}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(r=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:r.description}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(yd,{endpoint:EF,id:r._id,shiftId:s._id})})]},Math.floor(Math.random()*1e5)))})]})]})}function $F({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(""),[h,d]=l.useState(!1),[x,j]=l.useState(!1),v=()=>j(!1),f=()=>j(!0),p=b=>{b.preventDefault(),d(!0);const k={name:n,driver:r,status:i,amount:c};A.post(`${wt}/${t}/addtobus`,k).then(()=>{s(""),a(""),o(""),u(""),d(!1)}).catch(N=>{console.log(N),d(!1)}),v()};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:f,size:"sm",children:"New"}),e.jsxs(g,{show:x,onHide:v,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Bus"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:b=>p(b),children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Bus Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:b=>s(b.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Driver"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,value:r,onChange:b=>a(b.target.value)})]}),e.jsx(m.Label,{children:"Status"}),e.jsxs(m.Select,{className:"mb-3",value:i,onChange:b=>{o(b.target.value)},required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select an option"}),e.jsx("option",{value:"collected",children:"Collected"}),e.jsx("option",{value:"not collected",children:"Not Collected"})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:c,onChange:b=>u(b.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:h,children:h?"Loading...":"Submit"})]})})]})]})}function TF({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(!1),[c,u]=l.useState(!1),h=()=>u(!1),d=()=>u(!0),x=j=>{j.preventDefault(),o(!0);const v={name:n,amount:r};A.post(`${wt}/${t}/addtotopup`,v).then(()=>{s(""),a(""),o(!1)}).catch(f=>{console.log(f),o(!1)}),h()};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:d,size:"sm",children:"New"}),e.jsxs(g,{show:c,onHide:h,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Topup"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j=>x(j),children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:j=>s(j.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}const OF="deletebus",AF="deletetopup";function BF(){const[t,n]=l.useState([]),[s,r]=l.useState([]),{shift:a}=l.useContext(Wr);return l.useEffect(()=>{Object.keys(a).length!==0&&n(a.bus)},[a]),l.useEffect(()=>{Object.keys(a).length!==0&&r(a.topup)},[a]),e.jsx(X,{children:e.jsxs(ye,{children:[e.jsxs(q,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Busses"}),e.jsxs("h5",{children:["C Total: K"," ",t.reduce((i,o)=>o.status==="collected"?i+o.amount:i,0)]}),e.jsxs("h5",{children:["Not C Total: K"," ",t.reduce((i,o)=>o.status==="not collected"?i+o.amount:i,0)]}),e.jsx($F,{id:a._id})]}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Driver"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(i=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:i.name}),e.jsx("td",{className:"text-capitalize",children:i.driver}),e.jsx("td",{className:"text-capitalize",children:i.status}),e.jsxs("td",{children:["K",i.amount]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(yd,{endpoint:OF,id:i._id,shiftId:a._id})})]},Math.floor(Math.random()*1e5)))})]})]}),e.jsxs(q,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Topup"}),e.jsxs("h5",{children:["Total: K ",s.reduce((i,o)=>i+o.amount,0)]}),e.jsx(TF,{id:a._id})]}),e.jsxs(Q,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.map(i=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:i.name}),e.jsxs("td",{children:["K",i.amount]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(yd,{endpoint:AF,id:i._id,shiftId:a._id})})]},Math.floor(Math.random()*1e5)))})]})]})]})})}function _F({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${wt}/${t}/addtocash`,{amount:n}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:u,size:"sm",children:"New"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function RF({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${wt}/${t}/addtochange`,{amount:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:u,size:"sm",children:"New"}),e.jsxs(g,{show:i,onHide:c,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Change"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",autoFocus:!0,required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function Yj({endpoint:t,id:n,amount:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.delete(`${wt}/${n}/${t}/${s}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}const IF="deletecash",FF="deletechange";function PF(){const[t,n]=l.useState([]),[s,r]=l.useState([]),{shift:a}=l.useContext(Wr),{user:i}=l.useContext(se);return l.useEffect(()=>{Object.keys(a).length!==0&&(n(a.cash),r(a.change))},[a]),e.jsx(X,{children:e.jsxs(ye,{children:[e.jsx(q,{children:i!==null&&i.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Cash"}),e.jsxs("h5",{children:["Total: K ",t.reduce((o,c)=>o+c,0).toLocaleString()]}),e.jsx(_F,{id:a._id})]}),e.jsx(Tn,{children:e.jsx(_e,{variant:"flush",children:t.map(o=>e.jsxs(_e.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",o.toLocaleString(),e.jsx(Yj,{endpoint:IF,id:a._id,amount:o})]},Math.floor(Math.random()*1e5)))})})]})}),e.jsxs(q,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Change"}),e.jsxs("h5",{children:["Total: K ",s.reduce((o,c)=>o+c,0).toLocaleString()]}),e.jsx(RF,{id:a._id})]}),e.jsx(Tn,{children:e.jsx(_e,{variant:"flush",children:s.map(o=>e.jsxs(_e.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",o.toLocaleString(),e.jsx(Yj,{endpoint:FF,id:a._id,amount:o})]},Math.floor(Math.random()*1e5)))})})]})]})})}function MF({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${wt}/${t}/addcashier`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function zF({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${wt}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function HF(){const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=()=>n(!1),i=()=>n(!0),o=c=>{c.preventDefault(),r(!0),A.post(`${wt}/newshift`).then(()=>{a(),r(!1)}).catch(u=>{console.log(u),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(L,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(L,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading...":"Yes"})]})]})]})}function KF({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${wt}/${t}/addshift`,{shift:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Shift"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsxs(m.Select,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Shift"}),e.jsx("option",{value:"day",children:"Day"}),e.jsx("option",{value:"night",children:"Night"})]})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function qF({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${wt}/${t}/adddate`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function UF(){const[t,n]=l.useState([]),[s,r]=l.useState(!0),{shift:a}=l.useContext(Wr),{user:i}=l.useContext(se);let o=0,c=0,u=0;if(a!=null&&Object.keys(a).length>0){o=a.bus.filter(p=>p.status==="collected").reduce((p,b)=>p+b.amount,0),c=a.bus.filter(p=>p.status==="not collected").reduce((p,b)=>p+b.amount,0);const f=p=>(p.ostock+p.received-p.damage-p.cstock)*p.price;u=a.stock.reduce((p,b)=>p+f(b),0)}const h=l.useCallback(()=>{if(a!=null&&Object.keys(a).length>0){const f=a.cashier.length,p=a.acountant.length,b=a.date.length,k=a.shift.length,N=a.cash.reduce((E,y)=>E+y,0);f>0&&p>0&&b>0&&k>0&&N>0?r(!1):r(!0)}},[a]);l.useEffect(()=>{a!=null&&Object.keys(a).length>0&&n(a.cash.reduce((f,p)=>f+p,0)+o+a.credit.reduce((f,p)=>f+p.amount,0)-a.change.reduce((f,p)=>f+p,0)-u),h()},[a,o,u,h]);const d=f=>{A.post(`${wt}/${a._id}/removecashier`,{name:f.toLowerCase()}).then(()=>{h()})},x=()=>{A.post(`${wt}/${a._id}/removeaccountant`).then(()=>{h()})},j=()=>{A.post(`${wt}/${a._id}/deleteshift`).then(()=>{h()})},v=()=>{A.post(`${wt}/${a._id}/deletedate`).then(()=>{h()})};return e.jsx(X,{children:a!=null&&Object.keys(a).length!==0&&e.jsxs(ye,{className:"mx-1",children:[e.jsxs(q,{className:"d-flex flex-column align-items-center border pt-3 me-1 ",children:[e.jsxs("p",{children:["Bus Not Collected: K",c.toLocaleString()]}),e.jsxs("p",{children:["Topup Total : K",a.topup.reduce((f,p)=>f+p.amount,0).toLocaleString()]}),e.jsx("hr",{className:" w-100 "}),!s&&i!==null&&i.role==="admin"&&e.jsxs("p",{children:["Cash : K",a.cash.reduce((f,p)=>f+p,0).toLocaleString()]}),e.jsxs("p",{children:["Change : K",a.change.reduce((f,p)=>f+p,0)]}),e.jsxs("p",{children:["Bus Collected: K",o.toLocaleString()]}),e.jsxs("p",{children:["Credit: K",a.credit.reduce((f,p)=>f+p.amount,0).toLocaleString()]}),i!==null&&i.role==="admin"&&e.jsxs("p",{children:["Sales Total : K",u.toLocaleString()]}),i!==null&&i.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:" w-100 "}),e.jsxs("p",{className:"display-6",children:["Result : K",e.jsx("span",{className:t<0?"text-danger":"",children:t.toLocaleString()})]})]})]}),e.jsxs(q,{className:"border pt-3 ms-1 ",children:[e.jsx("p",{className:"text-center text-muted ",children:"Double click on of the fields below to delete"}),e.jsxs("div",{className:"d-flex justify-content-around",children:[e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h4",{className:"me-1",children:"Date :"}),a.date.length>0?e.jsxs("h4",{onDoubleClick:v,style:{cursor:"pointer"},children:[" ",a.date]}):e.jsx(qF,{id:a._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h4",{children:"Shift :"}),a.shift.length>0?e.jsx("h4",{className:"ms-1 text-capitalize",onDoubleClick:j,style:{cursor:"pointer"},children:a.shift}):e.jsx(KF,{id:a._id})]})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex justify-content-evenly",children:[e.jsx("h5",{className:"d-flex align-items-center",children:"Cashiers : "}),a.cashier.map(f=>e.jsx("h6",{className:"pt-1 prevent-select text-capitalize ",style:{cursor:"pointer"},onDoubleClick:()=>d(f),children:f},f)),e.jsx(MF,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h5",{children:"Accountant : "}),a.acountant.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>x(),children:a.acountant})}):e.jsx(zF,{id:a._id})]}),e.jsx("div",{className:"d-flex justify-content-center mt-5 ",children:!s&&i!==null&&i.role==="admin"&&e.jsx(HF,{id:a._id})})]})]})})}function GF({shiftId:t,fetchData:n,disableDeleteBtn:s,setDisableDeleteBtn:r}){const[a,i]=l.useState(!1),[o,c]=l.useState(!1),u=()=>i(!1),h=()=>i(!0),d=()=>{c(!0),A.delete(`${wt}/${t}`).then(()=>{window.location.reload(),u(),c(!1)}).catch(x=>{console.error(x),c(!1),u()}),setTimeout(()=>{n(),c(!1),u()},50)};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:()=>{h(),r(!0)},disabled:s,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:a,onHide:u,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:o,onClick:()=>{d()},children:o?"Deleting...":"Yes"})]})]})]})}function YF(){const t=new Date,n=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getFullYear(),[r,a]=l.useState(null),[i,o]=l.useState(!1),[c,u]=l.useState(`/${s}/${n}`),[h,d]=l.useState(0),x=l.useCallback(()=>{A.get(`${wt}/paginatedshifts${c}`).then(f=>{if(a(f.data),o(!1),f.data.shifts){const p=f.data.shifts.reduce((b,k)=>b+k.cash.reduce((N,E)=>N+E,0),0);d(p.toFixed(2))}}).catch(f=>{console.log(f)})},[c]);l.useEffect(()=>{x()},[c,x]),l.useEffect(()=>{r!==null&&r.current&&u(`/${r.current}`)},[r]);let j=null;r!==null&&(j=r.shifts.sort((f,p)=>new Date(p.date)-new Date(f.date)));const v=f=>{const p=f.split("/")[2],b=p<10?`0${p}`:p,k=`/${f.split("/")[1]}/${b}`;u(k)};return r===null?e.jsx("div",{children:"Loading..."}):e.jsxs(X,{children:[e.jsx("div",{className:"d-flex justify-content-end"}),e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx(yn,{size:"sm",children:r.distinctYearsMonths.map((f,p)=>{const b=f.month.toString().padStart(2,"0"),k=`/${f.year}/${b}`;return e.jsx(yn.Item,{onClick:()=>v(`/${f.year}/${f.month}`),active:k===c,children:`${f.year}/${f.month}`},p)})})}),e.jsxs(Q,{bordered:!0,className:"text-center text-capitalize",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date"}),e.jsx("th",{style:{width:"15%"},children:"Shift"}),e.jsx("th",{style:{width:"15%"},children:"Accountant"}),e.jsx("th",{children:"Cashiers"}),e.jsx("th",{style:{width:"15%"},children:"Cash"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsxs("tbody",{className:"table-group-divider",children:[j.map(f=>e.jsxs("tr",{children:[e.jsx("td",{children:f.date}),e.jsx("td",{children:f.shift}),e.jsx("td",{children:f.acountant}),e.jsx("td",{className:"d-flex flex-row gap-1 justify-content-center",children:f.cashier.map((p,b)=>e.jsxs("span",{className:"d-block",children:[p," "]},b))}),e.jsxs("td",{children:["K",f.cash.reduce((p,b)=>p+b,0).toLocaleString()]}),e.jsx("td",{children:f.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[f.status==="previous"&&e.jsx(Oe,{to:`/chinsalirestaurant/${f._id}`,style:{textDecoration:"none"},target:"_blank",children:e.jsx(L,{variant:"outline-primary me-1",size:"sm",children:"V"})}),f.status==="current"&&e.jsx(GF,{shiftId:f._id,fetchData:x,disableDeleteBtn:i,setDisableDeleteBtn:o})]})]},f._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3}),e.jsx("th",{children:"Total"}),e.jsxs("td",{children:["K",Number(h).toLocaleString()]}),e.jsx("td",{colSpan:2})]})]})]})]})}function WF(){const[t,n]=l.useState("stock"),{user:s}=l.useContext(se);l.useEffect(()=>{document.title="Yussman -Chinsali  Restaurant"},[]);const r=i=>{n(i)},a=()=>{const i=document.getElementById("searchInput");i&&i.focus()};return e.jsx(e.Fragment,{children:e.jsx(X,{fluid:!0,className:"py-3",children:e.jsxs(mt,{activeKey:t,onSelect:r,id:"restaurant",className:"mb-3",justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsx(bF,{})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsx(kF,{activeTab:t,onModalClose:a})}),e.jsx(Y,{eventKey:"credit",title:"Credit",children:e.jsx(DF,{})}),e.jsx(Y,{eventKey:"busses",title:"Busses",children:e.jsx(BF,{})}),e.jsx(Y,{eventKey:"cash",title:"Cash / Change",children:e.jsx(PF,{})}),e.jsx(Y,{eventKey:"final",title:"Final",children:e.jsx(UF,{})}),s!==null&&s.role==="admin"&&e.jsx(Y,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(YF,{})})]})})})}const li=l.createContext(),VF=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},QF=({children:t})=>{const[n,s]=l.useReducer(VF,{shift:null}),[r,a]=l.useState({});l.useEffect(()=>{A.get(gn).then(o=>{i(o.data)})},[]),l.useEffect(()=>{ln(rt).on("chansastore",c=>{s({type:"SET_SHIFT",payload:c})})},[]);const i=o=>{if(o!==null){const c={},u={};o.received&&Array.isArray(o.received)&&o.received.forEach(d=>{const{code:x,quantity:j}=d;c[x]=(c[x]||0)+j}),o.issued&&Array.isArray(o.issued)&&o.issued.forEach(d=>{const{code:x,quantity:j}=d;u[x]=(u[x]||0)+j});let h={...o,stock:o.stock.map(d=>{const{code:x,ostock:j,damage:v}=d,f=c[x]||0,p=u[x]||0,b=j+f-v-p;return{...d,received:f,issued:p,cstock:b}})};h.stock.sort((d,x)=>d.name.localeCompare(x.name)),a(h)}};return l.useEffect(()=>{i(n.shift)},[n.shift]),r===null?null:e.jsx(li.Provider,{value:{storeShift:r,dispatch:s},children:t})};function JF({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(!1),[c,u]=l.useState(!1),h=()=>u(!1),d=()=>u(!0),x=()=>{s(""),a("")},j=v=>{v.preventDefault(),o(!0);const f={name:n,price:Number(r),section:"food"};A.post(`${gn}/${t}/addtostock`,f).then(()=>{x(),h(),o(!1)}).catch(p=>{console.log(p),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-info",onClick:d,children:"New Product"}),e.jsxs(g,{show:c,onHide:()=>{h(),x()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:v=>s(v.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:v=>a(v.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function mx({endpoint:t,id:n,shiftId:s}){const[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=()=>{o(!0),A.post(`${gn}/${s}/${t}/${n}`).then(()=>{c(),o(!1)}).catch(d=>{console.log(d),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:u,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:r,onHide:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}function XF({id:t,stock:n}){const[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(!1);l.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[u,h]=l.useState(!1),d=()=>h(!1),x=()=>h(!0),j=()=>{r(""),i("")},v=f=>{f.preventDefault(),c(!0);const p={price:Number(s),name:a};A.post(`${gn}/${t}/updatename/${n._id}`,p).then(()=>{j(),d(),c(!1)}).catch(b=>{console.error(b),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:x,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:u,onHide:()=>{d()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Price or Name"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:v,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}function ZF({id:t,stock:n}){const[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(!1),{user:u}=l.useContext(se);l.useEffect(()=>{Object.keys(n).length>0&&(r(n.ostock),i(n.damage))},[n]);const[h,d]=l.useState(!1),x=()=>d(!1),j=()=>d(!0),v=()=>{r(""),i("")},f=p=>{p.preventDefault(),c(!0);const b={ostock:Number(s),damage:Number(a)};A.post(`${gn}/${t}/updatestock/${n._id}`,b).then(()=>{v(),x(),c(!1)}).catch(k=>{console.error(k),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:j,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:h,onHide:()=>{x()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit OStock or Damage"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:f,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"O Stock"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:s,readOnly:u.role!=="admin",onChange:p=>r(p.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Damage"}),e.jsx(m.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:p=>i(p.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}function e2(){const[t,n]=l.useState([]),[s,r]=l.useState(1),a=70,{storeShift:i}=l.useContext(li),{user:o}=l.useContext(se),c=s*a,u=c-a;let h;return Object.keys(t).length!==0&&(h=t.slice(u,c)),l.useEffect(()=>{if(Object.keys(i).length!==0){const d=i.stock.filter(p=>p.section==="drinks"),x=i.stock.filter(p=>p.section==="food"),j=i.stock.filter(p=>p.section==="other"),v=i.stock.filter(p=>p.section==="shopa1"),f=i.stock.filter(p=>p.section==="shopa2");n([...d,...x,...j,...v,...f])}},[i]),e.jsxs(e.Fragment,{children:[o!==null&&o.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center mt-3 ",children:e.jsx(JF,{id:i._id})}),e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center my-3 text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),o!==null&&o.role==="admin"&&e.jsx("th",{children:"Price"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"OStock"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Issued"}),e.jsx("th",{children:"CStock"}),e.jsx("th",{children:"Action"}),o!==null&&o.role==="admin"&&e.jsx("th",{children:"Total"})]})}),e.jsx("tbody",{className:"table-group-divider",children:h!==void 0&&h.map(d=>e.jsxs("tr",{children:[e.jsx("td",{children:d.code}),o!==null&&o.role==="admin"&&e.jsxs("td",{children:["K",d.price]}),e.jsx("td",{children:d.name}),e.jsx("td",{className:d.ostock===0?"text-muted":"",children:d.ostock.toFixed(2)}),e.jsx("td",{className:d.damage===0?"text-muted":d.damage<0?"text-danger":d.damage>0?"text-primary":"",children:d.damage}),e.jsx("td",{className:d.received>0?"text-info":d.received===0?"text-muted":"",children:d.received}),e.jsx("td",{className:d.issued>0?"text-info":d.issued===0?"text-muted":"",children:d.issued}),e.jsx("td",{className:d.cstock<0?"text-danger":d.cstock===0?"text-muted":"",children:d.cstock.toFixed(2)}),e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(ZF,{id:i._id,stock:d}),o!==null&&o.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(mx,{endpoint:"deleteStock",id:d._id,shiftId:i._id}),e.jsx(XF,{id:i._id,stock:d})]})]}),o!==null&&o.role==="admin"&&e.jsxs("td",{className:d.cstock<0?"text-danger":d.cstock===0?"text-muted":"",children:["K",(d.cstock*d.price).toLocaleString()]})]},d._id))})]}),Object.keys(i).length!==0&&e.jsx(yn,{className:"justify-content-center",children:Array.from({length:Math.ceil(i.stock.length/a)},(d,x)=>e.jsx(yn.Item,{active:x+1===s,onClick:()=>r(x+1),children:x+1},x+1))})]})}function t2({children:t,product:n,clear:s,storeShift:r}){const[a,i]=l.useState(!1),[o,c]=l.useState(""),[u,h]=l.useState(""),[d,x]=l.useState(!1),j=()=>{c(""),i(!1),s()},v=()=>i(!0);if(n===null)return;const f=async p=>{if(p.preventDefault(),x(!0),isNaN(Number(o)))return;const b={code:n.code,name:n.name,to:u,quantity:Number(o)};try{await A.post(`${gn}/${r._id}/addissued`,b).then(()=>{j(),x(!1)})}catch(k){console.error(k),x(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:v,className:"d-flex justify-content-center align-items-center",children:t}),e.jsxs(g,{show:a,onHide:j,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Issued "})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:f,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"code",children:"Code"}),e.jsx(m.Control,{type:"text",id:"code",value:n.code,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"name",children:"Name"}),e.jsx(m.Control,{type:"text",id:"name",value:n.name,readOnly:!0})]}),e.jsxs(m.Group,{children:[e.jsx(m.Label,{htmlFor:"to",children:"To"}),e.jsxs(m.Select,{id:"to",value:u,required:!0,autoFocus:!0,onChange:p=>h(p.target.value),children:[e.jsx("option",{value:"",children:"Select To"}),r.shops.map(p=>e.jsx("option",{value:p,children:p},p))]})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"quantity",children:"Quantity"}),e.jsx(m.Control,{type:"text",id:"quantity",value:o,required:!0,autoComplete:"off",onChange:p=>c(p.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:d,children:d?"Loading...":"Submit"})]})})]})]})}function n2(){const[t,n]=l.useState([]),[s,r]=l.useState(""),[a,i]=l.useState([]),{storeShift:o}=l.useContext(li),{user:c}=l.useContext(se);l.useEffect(()=>{Object.keys(o).length!==0&&n(o.issued)},[o]);const u=d=>{const x=d.target.value;r(x);const j=o.stock.filter(v=>v.name.toLowerCase().includes(x.toLowerCase())||v.code.toString().includes(x));i(j)},h=()=>{r(""),i([])};return e.jsxs(X,{className:"my-3",children:[e.jsxs("div",{className:"pb-3 w-50 ",children:[e.jsx(m.Control,{type:"text",placeholder:"Search",value:s,onChange:u,autoFocus:!0}),s&&e.jsx(_e,{className:"position-absolute w-50 mt-1",children:a.map(d=>e.jsx(t2,{product:d,storeShift:o,clear:h,children:e.jsxs(_e.Item,{action:!0,children:[d.code," - ",d.name]},d._id)},d._id))})]}),e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"To"}),c&&c.role==="admin"&&e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(d=>e.jsxs("tr",{children:[e.jsx("td",{children:d.code}),e.jsx("td",{className:"text-capitalize",children:d.name}),e.jsx("td",{children:d.quantity}),e.jsx("td",{className:"text-capitalize",children:d.to}),c&&c.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(mx,{endpoint:"deleteissued",id:d._id,shiftId:o._id})})]},d._id))})]})]})}function s2({children:t,product:n,clear:s,storeShift:r}){const[a,i]=l.useState(!1),[o,c]=l.useState(""),[u,h]=l.useState(!1),d=()=>{c(""),i(!1),s()},x=()=>i(!0);if(n===null)return;const j=async v=>{if(v.preventDefault(),h(!0),isNaN(Number(o)))return;const f={code:n.code,name:n.name,quantity:Number(o)};try{await A.post(`${gn}/${r._id}/addreceived`,f).then(()=>{d(),h(!1)})}catch(p){console.error(p),h(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:x,className:"d-flex justify-content-center align-items-center",children:t}),e.jsxs(g,{show:a,onHide:d,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Receive"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"code",children:"Code"}),e.jsx(m.Control,{type:"text",id:"code",value:n.code,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"name",children:"Name"}),e.jsx(m.Control,{type:"text",id:"name",value:n.name,readOnly:!0})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{htmlFor:"quantity",children:"Quantity"}),e.jsx(m.Control,{type:"text",id:"quantity",value:o,required:!0,autoFocus:!0,autoComplete:"off",onChange:v=>c(v.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:u,children:u?"Loading...":"Submit"})]})})]})]})}function r2(){const[t,n]=l.useState([]),[s,r]=l.useState(""),[a,i]=l.useState([]),{storeShift:o}=l.useContext(li),{user:c}=l.useContext(se);l.useEffect(()=>{Object.keys(o).length!==0&&n(o.received)},[o]);const u=d=>{const x=d.target.value;r(x);const j=o.stock.filter(v=>v.name.toLowerCase().includes(x.toLowerCase())||v.code.toString().includes(x));i(j)},h=()=>{r(""),i([])};return e.jsxs(X,{className:"my-3",children:[e.jsxs("div",{className:"pb-3 w-50 ",children:[e.jsx(m.Control,{type:"text",placeholder:"Search",value:s,onChange:u,autoFocus:!0}),s&&e.jsx(_e,{className:"position-absolute w-50 mt-1",children:a.map(d=>e.jsx(s2,{product:d,storeShift:o,clear:h,children:e.jsxs(_e.Item,{action:!0,children:[d.code," - ",d.name]},d._id)},d._id))})]}),e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),c&&c.role==="admin"&&e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(d=>e.jsxs("tr",{children:[e.jsx("td",{children:d.code}),e.jsx("td",{className:"text-capitalize",children:d.name}),e.jsx("td",{children:d.quantity}),c&&c.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(mx,{endpoint:"deletereceived",id:d._id,shiftId:o._id})})]},d._id))})]})]})}function a2({shiftId:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(!1),i=()=>s(!1),o=()=>s(!0),c=()=>{a(!0),A.delete(`${gn}/${t}`).then(()=>{i(),a(!1),window.location.reload()}).catch(u=>{console.log(u),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:o,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:n,onHide:i,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:r,onClick:()=>{c()},children:r?"Loading...":"Yes"})]})]})]})}function i2(){const[t,n]=l.useState([]),s=()=>{A.get(`${gn}/shifts`).then(o=>{n(o.data)}).catch(o=>{console.log(o)})};l.useEffect(()=>{s()},[]);const r=()=>{const o={};t.forEach(u=>{const h=u.date?u.date.split("-")[1]:"undefined";o[h]||(o[h]=[]),o[h].push(u)});const c=Object.keys(o).sort((u,h)=>{var f,p;if(u==="undefined")return-1;if(h==="undefined")return 1;const d=(f=o[u][0])==null?void 0:f.date,x=(p=o[h][0])==null?void 0:p.date;if(!d||!x)return 0;const j=new Date(d);return new Date(x)-j});return c.forEach(u=>{o[u].sort((h,d)=>{const x=h.date?new Date(h.date).getTime():null,j=d.date?new Date(d.date).getTime():null;return!x&&!j?0:x?j?j-x:1:-1})}),{sortedMonths:c,groupedShifts:o}},{sortedMonths:a,groupedShifts:i}=r();return e.jsxs(X,{className:"my-3",children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(L,{variant:"outline-primary",onClick:s,className:"mb-3",children:"Refetch"})}),e.jsxs(Q,{bordered:!0,className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date"}),e.jsx("th",{style:{width:"15%"},children:"Acountant"}),e.jsx("th",{children:"Checked By"}),e.jsx("th",{style:{width:"15%"},children:"Keeper"}),e.jsx("th",{children:"Actions"})]})}),a.map((o,c)=>e.jsx("tbody",{className:"table-group-divider",children:i[o].map((u,h)=>e.jsxs("tr",{children:[e.jsx("td",{children:u.date}),e.jsx("td",{className:"text-capitalize",children:u.accountant}),e.jsx("td",{className:"text-capitalize",children:u.checkedBy}),e.jsx("td",{className:"text-capitalize",children:u.keeper}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Oe,{to:`/chinsalistore/${u._id}`,style:{textDecoration:"none"},children:e.jsx(L,{variant:"outline-primary me-1",size:"sm",children:"V"})}),c===0&&h===0&&e.jsx(a2,{shiftId:u._id})]})]},u._id))},o))]})]})}function o2({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${gn}/${t}/adddate`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Date"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading…":"Submit"})]})})]})]})}function l2({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${gn}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Acountant"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function c2({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${gn}/${t}/addkeeper`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Keeper"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Adding...":"Submit"})]})})]})]})}function d2({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${gn}/${t}/addcheckedby`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Checked By"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function u2(){const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=()=>n(!1),i=()=>n(!0),o=c=>{c.preventDefault(),r(!0),A.post(`${gn}/newshift`).then(()=>{r(!1),a(),window.location.reload()}).catch(u=>{console.log(u),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want to proceed to the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(L,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(L,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading...":"Continue"})]})]})]})}function h2(){const[t,n]=l.useState(!0),{storeShift:s}=l.useContext(li),{user:r}=l.useContext(se),a=s&&s.stock?s.stock.reduce((d,x)=>{const j=x.cstock*x.price;return d+j},0):0,i=l.useCallback(()=>{if(s!==null&&Object.keys(s).length>0){const d=s&&s.date?s.date.length:0,x=s&&s.accountant?s.accountant.length:0,j=s&&s.checkedBy?s.checkedBy.length:0,v=s&&s.keeper?s.keeper.length:0;j>0&&x>0&&d>0&&v>0?n(!1):n(!0)}},[s]);l.useEffect(()=>{i()},[i]);const o=()=>{A.post(`${gn}/${s._id}/deletedate`).then(()=>{i()})},c=()=>{A.post(`${gn}/${s._id}/deleteaccountant`).then(()=>{i()})},u=()=>{A.post(`${gn}/${s._id}/deletekeeper`).then(()=>{i()})},h=()=>{A.post(`${gn}/${s._id}/deletecheckedby`).then(()=>{i()})};return e.jsx(X,{className:"mt-3",children:e.jsxs(ye,{children:[e.jsxs(q,{className:"border mx-2 p-4 d-flex flex-column justify-content-center align-items-center",children:[e.jsx("p",{className:"fw-lighter",children:"Double click on names or date to delete."}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Date :"}),s&&s.date&&s.date.length>0?e.jsx("h4",{onDoubleClick:o,style:{cursor:"pointer"},children:s.date}):e.jsx(o2,{id:s._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Accountant :"}),s&&s.accountant&&s.accountant.length>0?e.jsx("h4",{className:"text-capitalize",onDoubleClick:c,style:{cursor:"pointer"},children:s.accountant}):e.jsx(l2,{id:s._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Chacked By :"}),s&&s.checkedBy&&s.checkedBy.length>0?e.jsx("h4",{className:"text-capitalize",onDoubleClick:h,style:{cursor:"pointer"},children:s.checkedBy}):r&&r.role==="admin"?e.jsx(d2,{id:s._id}):null]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Keeper :"}),s&&s.keeper&&s.keeper.length>0?e.jsx("h4",{className:"text-capitalize",onDoubleClick:u,style:{cursor:"pointer"},children:s.keeper}):e.jsx(c2,{id:s._id})]}),e.jsx("div",{className:"d-flex justify-content-center align-items-center my-3 pt-2",children:!t&&e.jsx(u2,{})})]}),r&&r.role==="admin"&&e.jsx(q,{className:"d-flex justify-content-center align-items-center border mx-2 p-4",children:e.jsxs("p",{className:"display-6",children:["Total :"," ",e.jsxs("span",{className:a<0?"text-danger":"",children:["K",a.toLocaleString()]})]})})]})})}function f2(){const{user:t}=l.useContext(se);return l.useEffect(()=>{document.title="Yussman - Chinsali Store"},[]),e.jsx(e.Fragment,{children:e.jsx(X,{fluid:!0,className:"py-3",children:e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsx(e2,{})}),e.jsx(Y,{eventKey:"issued",title:"Issued / Out",children:e.jsx(n2,{})}),e.jsx(Y,{eventKey:"received",title:"Received / In",children:e.jsx(r2,{})}),e.jsx(Y,{eventKey:"final",title:"Final",children:e.jsx(h2,{})}),t&&t.role==="admin"&&e.jsx(Y,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(i2,{})})]})})})}const tu=l.createContext(),m2=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},x2=({children:t})=>{const[n,s]=l.useReducer(m2,{shift:null}),[r,a]=l.useState({});l.useEffect(()=>{A.get(mn).then(o=>{i(o.data)})},[]),l.useEffect(()=>{ln(rt).on("chansaregister",c=>{s({type:"SET_SHIFT",payload:c})})},[]);const i=o=>{o!==null&&a(o)};return l.useEffect(()=>{i(n.shift)},[n.shift]),r===null?null:e.jsx(tu.Provider,{value:{RegisterShift:r,dispatch:s},children:t})};function p2({id:t}){const{storeShift:n}=l.useContext(li),{shift:s}=l.useContext(Wr),[r,a]=l.useState([]);l.useEffect(()=>{const G=Array.isArray(s.stock)?s.stock:[],z=Array.isArray(n.stock)?n.stock:[];a([...G,...z])},[s,n]);const[i,o]=l.useState(!1),[c,u]=l.useState(!1),[h,d]=l.useState(""),[x,j]=l.useState([]),[v,f]=l.useState(null),[p,b]=l.useState(""),[k,N]=l.useState(""),[E,y]=l.useState(""),[w,D]=l.useState(""),[C,S]=l.useState(""),[T,B]=l.useState(""),P=()=>{o(!1),W()},R=()=>o(!0),$=G=>{const z=G.target.value.toLowerCase();d(z);const I=r.filter(M=>{const fe=M.code.toString().includes(z),je=M.name.toLowerCase().includes(z);return fe||je});j(I)},F=G=>{f(G),b(G.name),N(G.code),y(G.price)},W=()=>{f(null),b(""),N(""),y(""),S(""),D(""),B(""),d("")},te=G=>{if(G.preventDefault(),u(!0),c)return;const z={name:p.toLowerCase(),code:Number(k),unitPrice:Number(E),quantity:Number(w),priceBought:Number(C),section:T.toLowerCase()};A.post(`${mn}/${t}/addtostock`,z).then(()=>{P(),u(!1)}).catch(I=>{console.log(I),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"primary",onClick:R,size:"sm",children:"New"}),e.jsxs(g,{show:i,onHide:P,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New "})}),e.jsxs(g.Body,{children:[!v&&e.jsxs(e.Fragment,{children:[e.jsxs(m.Group,{className:" mb-3",children:[e.jsx(m.Label,{children:"Name or Code"}),e.jsx(m.Control,{autoFocus:!0,type:"text",placeholder:"Name or Code",value:h,onChange:G=>$(G)})]}),h&&e.jsx(_e,{children:x.map(G=>e.jsxs(_e.Item,{action:!0,className:" text-capitalize",onClick:()=>{F(G)},children:[G.code," - ",G.name," - ",`K${G.price}`]},G._id))})]}),v&&e.jsx(e.Fragment,{children:e.jsxs(m,{onSubmit:te,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{readOnly:!0,value:p})]}),e.jsxs(ye,{className:"mb-3",children:[e.jsxs(q,{children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{readOnly:!0,value:k})]}),e.jsxs(q,{children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{readOnly:!0,value:E})]})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Quantity"}),e.jsx(m.Control,{autoFocus:!0,required:!0,type:"number",placeholder:"Quantity",min:0,value:w,onChange:G=>D(G.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price Bought"}),e.jsx(m.Control,{required:!0,type:"number",placeholder:"Price Bought",min:0,value:C,onChange:G=>S(G.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"From"}),e.jsxs(m.Select,{required:!0,value:T,onChange:G=>B(G.target.value),children:[e.jsx("option",{value:"",children:"Open this select menu"}),e.jsx("option",{value:"local",children:"Local"}),e.jsx("option",{value:"mearaj",children:"Mearaj"}),e.jsx("option",{value:"ilyas",children:"Ilyas"}),e.jsx("option",{value:"outside",children:"Outside"}),e.jsx("option",{value:"chansa",children:"Chansa"})]})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:c?"Submitting...":"Submit"})]})})]})]})]})}function Ho({id:t,shiftId:n}){const[s,r]=l.useState(!1),[a,i]=l.useState(!1),o=()=>r(!1),c=()=>r(!0),u=()=>{i(!0),!a&&A.post(`${mn}/${n}/deletestock/${t}`).then(()=>{o(),i(!1)}).catch(h=>{console.log(h),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:c,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:a,onClick:()=>{u()},children:a?"Deleting...":"Yes"})]})]})]})}function Ko({id:t,item:n}){const[s,r]=l.useState(!1),[a,i]=l.useState(!1),[o,c]=l.useState(""),[u,h]=l.useState(""),[d,x]=l.useState(""),[j,v]=l.useState(""),[f,p]=l.useState(""),[b,k]=l.useState("");l.useEffect(()=>{c(n.name),h(n.code),x(n.unitPrice),p(n.priceBought),v(n.quantity),k(n.section)},[n]);const N=()=>{r(!1)},E=()=>r(!0),y=w=>{if(w.preventDefault(),i(!0),a)return;const D={unitPrice:Number(d),quantity:Number(j),priceBought:Number(f),section:b.toLowerCase()};A.post(`${mn}/${t}/updatestock/${n._id}`,D).then(()=>{i(!1),N()}).catch(C=>{console.log(C),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-primary",size:"sm",onClick:E,className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:s,onHide:N,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New "})}),e.jsx(g.Body,{children:e.jsx(e.Fragment,{children:e.jsxs(m,{onSubmit:y,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{readOnly:!0,value:o})]}),e.jsxs(ye,{className:"mb-3",children:[e.jsxs(q,{children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{readOnly:!0,value:u})]}),e.jsxs(q,{children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{readOnly:!0,value:d})]})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Quantity"}),e.jsx(m.Control,{autoFocus:!0,required:!0,type:"number",placeholder:"Quantity",min:0,value:j,onChange:w=>v(w.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Price Bought"}),e.jsx(m.Control,{required:!0,type:"number",placeholder:"Price Bought",min:0,value:f,onChange:w=>p(w.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"From"}),e.jsxs(m.Select,{required:!0,value:b,onChange:w=>k(w.target.value),children:[e.jsx("option",{value:"",children:"Open this select menu"}),e.jsx("option",{value:"local",children:"Local"}),e.jsx("option",{value:"mearaj",children:"Mearaj"}),e.jsx("option",{value:"ilyas",children:"Ilyas"}),e.jsx("option",{value:"outside",children:"Outside"}),e.jsx("option",{value:"chansa",children:"Chansa"})]})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:a,children:a?"Submitting...":"Submit"})]})})})]})]})}function j2(){const{storeShift:t}=l.useContext(li),{shift:n}=l.useContext(Wr),[s,r]=l.useState([]);l.useEffect(()=>{const B=Array.isArray(n.stock)?n.stock.map(R=>({...R,source:"restaurant",shiftId:n._id})):[],P=Array.isArray(t.stock)?t.stock.map(R=>({...R,source:"store",shiftId:t._id})):[];r([...B,...P])},[n,t]);const[a,i]=l.useState(!1),[o,c]=l.useState(!1),[u,h]=l.useState(""),[d,x]=l.useState([]),[j,v]=l.useState(null),[f,p]=l.useState(""),[b,k]=l.useState(""),[N,E]=l.useState(""),y=()=>{i(!1),S()},w=()=>i(!0),D=B=>{const P=B.target.value.toLowerCase();h(P);const R=s.filter($=>{const F=$.code.toString().includes(P),W=$.name.toLowerCase().includes(P);return F||W});x(R)},C=B=>{v(B),p(B.name),k(B.code),E(B.price)},S=()=>{v(null),p(""),k(""),E(""),h("")},T=B=>{if(B.preventDefault(),c(!0),!j){console.error("No product selected"),c(!1);return}const P={price:Number(N),name:f};let R;if(j.source==="store")R=`${gn}/${j.shiftId}/updatename/${j._id}`;else{let $;switch(j.source){case"restaurant":$=wt;break;default:console.error("Invalid product source"),c(!1);return}R=`${$}/${j.shiftId}/editname/${j._id}`}A.post(R,P).then(()=>{S(),y(),c(!1)}).catch($=>{console.error($),c(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-primary",onClick:w,size:"sm",children:"Change Price"}),e.jsxs(g,{show:a,onHide:y,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New "})}),e.jsxs(g.Body,{children:[!j&&e.jsxs(e.Fragment,{children:[e.jsxs(m.Group,{className:" mb-3",children:[e.jsx(m.Label,{children:"Name or Code"}),e.jsx(m.Control,{autoFocus:!0,type:"text",placeholder:"Name or Code",value:u,onChange:B=>D(B)})]}),u&&e.jsx(_e,{children:d.map(B=>e.jsxs(_e.Item,{action:!0,className:" text-capitalize",onClick:()=>{C(B)},children:[B.code," - ",B.name," - ",`K${B.price}`]},B._id))})]}),j&&e.jsx(e.Fragment,{children:e.jsxs(m,{onSubmit:T,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{readOnly:!0,value:f})]}),e.jsxs(ye,{className:"mb-3",children:[e.jsxs(q,{children:[e.jsx(m.Label,{children:"Code"}),e.jsx(m.Control,{readOnly:!0,value:b})]}),e.jsxs(q,{children:[e.jsx(m.Label,{children:"Price"}),e.jsx(m.Control,{value:N,onChange:B=>E(B.target.value),autoFocus:!0})]})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:o,children:o?"Submitting...":"Submit"})]})})]})]})]})}function g2(){const[t,n]=l.useState([]),[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState([]),[u,h]=l.useState([]),[d,x]=l.useState(0),[j,v]=l.useState(0),[f,p]=l.useState(0),[b,k]=l.useState(0),[N,E]=l.useState(0),[y,w]=l.useState(0),{RegisterShift:D}=l.useContext(tu),{user:C}=l.useContext(se);return l.useEffect(()=>{if(Object.keys(D).length!==0){const S=D.stock.filter(I=>I.section==="local"),T=D.stock.filter(I=>I.section==="outside"),B=D.stock.filter(I=>I.section==="mearaj"),P=D.stock.filter(I=>I.section==="ilyas"),R=D.stock.filter(I=>I.section==="chansa");n(S),r(T),i(B),c(P),h(R);const $=S.reduce((I,M)=>I+M.priceBought,0),F=T.reduce((I,M)=>I+M.priceBought,0),W=B.reduce((I,M)=>I+M.priceBought,0),te=P.reduce((I,M)=>I+M.priceBought,0),G=R.reduce((I,M)=>I+M.priceBought,0);x($),v(F),p(W),k(te),E(G);const z=D.stock.reduce((I,M)=>I+(M.quantity*M.unitPrice-M.priceBought),0);w(z)}},[D]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-around   align-items-center py-2",children:[e.jsx(p2,{id:D._id}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(j2,{}),e.jsxs("h6",{children:["Total Profit: K",y.toLocaleString()]})]})]}),e.jsxs(Q,{size:"sm",bordered:!0,className:" text-capitalize text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Price Bought"}),e.jsx("th",{children:"Unit Price"}),e.jsx("th",{children:"Price Sold"}),C&&C.role==="admin"&&e.jsx("th",{children:"Profit"}),C&&C.role==="admin"&&e.jsx("th",{children:"Profit %"}),C&&C.role==="admin"&&e.jsx("th",{children:"Action"})]})}),t.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[t==null?void 0:t.map((S,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:T+1}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.quantity}),e.jsxs("td",{children:["K",S.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",S.unitPrice]}),e.jsxs("td",{children:["K",(S.quantity*S.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:S.quantity*S.unitPrice-S.priceBought<0?"text-danger":"",children:["K",(S.quantity*S.unitPrice-S.priceBought).toLocaleString()]}),e.jsxs("td",{className:(S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100<30?"text-danger":"",children:[((S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100).toFixed(2),"%"]})]}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(Ko,{id:D._id,item:S}),e.jsx(Ho,{id:S._id,shiftId:D._id})]})]},S._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",d.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),s.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[s==null?void 0:s.map((S,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:T+1}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.quantity}),e.jsxs("td",{children:["K",S.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",S.unitPrice]}),e.jsxs("td",{children:["K",(S.quantity*S.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:S.quantity*S.unitPrice-S.priceBought<0?"text-danger":"",children:["K",(S.quantity*S.unitPrice-S.priceBought).toLocaleString()]}),e.jsxs("td",{className:(S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100<30?"text-danger":"",children:[((S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:S.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(Ko,{id:D._id,item:S}),e.jsx(Ho,{id:S._id,shiftId:D._id})]})]},S._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",j.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),a.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[a==null?void 0:a.map((S,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:T+1}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.quantity}),e.jsxs("td",{children:["K",S.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",S.unitPrice]}),e.jsxs("td",{children:["K",(S.quantity*S.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:S.quantity*S.unitPrice-S.priceBought<0?"text-danger":"",children:["K",(S.quantity*S.unitPrice-S.priceBought).toLocaleString()]}),e.jsxs("td",{className:(S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100<30?"text-danger":"",children:[((S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:S.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(Ko,{id:D._id,item:S}),e.jsx(Ho,{id:S._id,shiftId:D._id})]})]},S._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",f.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),o.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[o==null?void 0:o.map((S,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:T+1}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.quantity}),e.jsxs("td",{children:["K",S.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",S.unitPrice]}),e.jsxs("td",{children:["K",(S.quantity*S.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:S.quantity*S.unitPrice-S.priceBought<0?"text-danger":"",children:["K",(S.quantity*S.unitPrice-S.priceBought).toLocaleString()]}),e.jsxs("td",{className:(S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100<30?"text-danger":"",children:[((S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:S.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(Ko,{id:D._id,item:S}),e.jsx(Ho,{id:S._id,shiftId:D._id})]})]},S._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",b.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),u.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[u==null?void 0:u.map((S,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:T+1}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.quantity}),e.jsxs("td",{children:["K",S.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",S.unitPrice]}),e.jsxs("td",{children:["K",(S.quantity*S.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:S.quantity*S.unitPrice-S.priceBought<0?"text-danger":"",children:["K",(S.quantity*S.unitPrice-S.priceBought).toLocaleString()]}),e.jsxs("td",{className:(S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100<30?"text-danger":"",children:[((S.quantity*S.unitPrice-S.priceBought)/S.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:S.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(Ko,{id:D._id,item:S}),e.jsx(Ho,{id:S._id,shiftId:D._id})]})]},S._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",N.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]})]})]})}function y2({id:t}){const[n,s]=l.useState(!1),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(!1),h=()=>{s(!1),x()},d=()=>s(!0),x=()=>{a(""),o("")},j=v=>{v.preventDefault(),u(!0),!c&&A.post(`${mn}/${t}/addtoexpense`,{description:r.toLowerCase(),amount:Number(i)}).then(()=>{h(),u(!1)}).catch(f=>{console.log(f),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"primary",onClick:d,children:"New"}),e.jsxs(g,{show:n,onHide:h,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Modal heading"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:j,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Description"}),e.jsx(m.Control,{type:"text",placeholder:"Description",autoFocus:!0,value:r,onChange:v=>a(v.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",placeholder:"Amount",min:0,value:i,onChange:v=>o(v.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:c,children:c?"Submitting...":"Submit"})]})})]})]})}function v2({id:t,shiftId:n}){const[s,r]=l.useState(!1),[a,i]=l.useState(!1),o=()=>r(!1),c=()=>r(!0),u=()=>{i(!0),!a&&A.post(`${mn}/${n}/deleteexpense/${t}`).then(()=>{o(),i(!1)}).catch(h=>{console.log(h),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:c,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:a,onClick:()=>{u()},children:a?"Deleting...":"Yes"})]})]})]})}function S2(){const[t,n]=l.useState([]),{RegisterShift:s}=l.useContext(tu),{user:r}=l.useContext(se);return l.useEffect(()=>{n(s.expense)},[s]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(y2,{id:s._id})}),e.jsxs(Q,{size:"sm",bordered:!0,className:"text-capitalize text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Decription"}),e.jsx("th",{children:"Amount"}),r&&r.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t==null?void 0:t.map((a,i)=>e.jsxs("tr",{children:[e.jsx("td",{children:i+1}),e.jsx("td",{children:a.description}),e.jsxs("td",{children:["K",a.amount]}),r&&r.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center ",children:e.jsx(v2,{id:a._id,shiftId:s._id})})]},a._id))})]})]})}function b2({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>o(!1),u=()=>o(!0),h=d=>{d.preventDefault(),a(!0),A.post(`${mn}/${t}/adddate`,{date:n}).then(()=>{s(""),c(),a(!1)}).catch(x=>{console.log(x),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:u,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{c()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function C2({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${mn}/${t}/addname`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function N2({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${mn}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Name"}),e.jsx(m.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function w2({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${mn}/${t}/addcash`,{amount:n}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function k2({id:t}){const[n,s]=l.useState(""),[r,a]=l.useState(!1),[i,o]=l.useState(!1),c=()=>a(!1),u=()=>a(!0),h=d=>{d.preventDefault(),o(!0),A.post(`${mn}/${t}/addchange`,{amount:n}).then(()=>{s(""),c(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-secondary",onClick:u,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{c(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:h,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Amount"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:d=>s(d.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function L2(){const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=()=>n(!1),i=()=>n(!0),o=c=>{c.preventDefault(),r(!0),!s&&A.post(`${mn}/newshift`).then(()=>{a(),r(!1)}).catch(u=>{console.log(u),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"lg",variant:"primary",onClick:i,children:"Next"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(L,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(L,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading...":"Yes"})]})]})]})}function E2(){const[t,n]=l.useState(!0),{RegisterShift:s}=l.useContext(tu);let r=0,a=0;Object.keys(s).length>0&&(r=s.stock.reduce((x,j)=>x+j.priceBought,0),a=s.expense.reduce((x,j)=>x+j.amount,0));const i=l.useCallback(()=>{if(s!=null&&Object.keys(s).length>0){const x=s.name.length,j=s.accountant.length,v=s.date.length,f=s.cash;x>0&&j>0&&v>0&&f>0?n(!1):n(!0)}},[s]);l.useEffect(()=>{i()},[i]);const o=()=>{A.post(`${mn}/${s._id}/deletedate`).then(()=>{i()})},c=()=>{A.post(`${mn}/${s._id}/deletename`).then(()=>{i()})},u=()=>{A.post(`${mn}/${s._id}/deleteaccountant`).then(()=>{i()})},h=()=>{A.post(`${mn}/${s._id}/deletecash`).then(()=>{i()})},d=()=>{A.post(`${mn}/${s._id}/deletechange`).then(()=>{i()})};return e.jsx(e.Fragment,{children:Object.keys(s).length>0&&e.jsxs(ye,{className:"m-3 text-capitalize prevent-select",children:[e.jsxs(q,{className:"border mx-2 p-3",children:[e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:o,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Date :"}),s.date.length>0?e.jsx("h5",{children:s.date}):e.jsx(b2,{id:s._id})]}),e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:c,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Name :"}),s.name.length>0?e.jsx("h5",{children:s.name}):e.jsx(C2,{id:s._id})]}),e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:u,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Accountant :"}),s.accountant.length>0?e.jsx("h5",{children:s.accountant}):e.jsx(N2,{id:s._id})]}),t?"":e.jsx("div",{className:"d-flex align-items-center justify-content-center h-50",children:e.jsx(L2,{id:s._id})})]}),e.jsxs(q,{className:"border mx-2 p-3",children:[e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:h,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Cash :"}),s.cash>0?e.jsxs("h5",{children:["K",s.cash.toLocaleString()]}):e.jsx(w2,{id:s._id})]}),e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:d,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Change :"}),s.change>0?e.jsxs("h5",{children:["K",s.change.toLocaleString()]}):e.jsx(k2,{id:s._id})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Total Bought :"}),e.jsxs("h5",{children:["K",r.toLocaleString()]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Expense :"}),e.jsxs("h5",{children:["K",a.toLocaleString()]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Total :"}),e.jsxs("h5",{children:["K",(r+a).toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("p",{className:r+a-s.cash+s.change<0?"text-danger display-6 text-center":"display-6 text-center",children:["Result : K",(r+a-s.cash+s.change).toLocaleString()]})]})]})})}function D2({shiftId:t,getShifts:n}){const[s,r]=l.useState(!1),[a,i]=l.useState(!1),o=()=>r(!1),c=()=>r(!0),u=()=>{i(!0),!a&&A.delete(`${mn}/${t}`).then(()=>{o(),i(!1),n()}).catch(h=>{console.log(h),i(!1),o()})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"outline-danger",size:"sm",onClick:c,className:"d-flex justify-content-center align-items-center",children:e.jsx(De,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(L,{variant:"outline-danger",disabled:a,onClick:()=>{u()},children:a?"Deleting...":"Yes"})]})]})]})}function $2(){const[t,n]=l.useState([]),{user:s}=l.useContext(se),r=()=>{A.get(`${mn}/all`).then(a=>{const i=a.data.sort((o,c)=>{const u=o.date?new Date(o.date).getTime():null,h=c.date?new Date(c.date).getTime():null;return!u&&!h?0:u?h?h-u:1:-1});n(i)}).catch(a=>{console.log(a)})};return l.useEffect(()=>{r()},[]),e.jsxs(X,{fluid:"xxl",children:[e.jsx("div",{className:"d-flex justify-content-end mt-2",children:e.jsx(L,{variant:"outline-primary",onClick:r,children:"Refresh"})}),e.jsxs(Q,{size:"sm",bordered:!0,className:"text-capitalize text-center my-3",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Accountant"}),e.jsx("th",{children:"Status"}),s&&s.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(a=>e.jsxs("tr",{children:[e.jsx("td",{children:a.date}),e.jsx("td",{children:a.name}),e.jsx("td",{children:a.accountant}),e.jsx("td",{children:a.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Oe,{to:`/chinsaliregister/${a._id}`,style:{textDecoration:"none"},children:e.jsx(L,{variant:"outline-primary",size:"sm",children:"V"})}),t.length>1&&a.status==="current"&&s&&s.role==="admin"&&e.jsx(D2,{shiftId:a._id,getShifts:r})]})]},a._id))})]})]})}function T2(){return l.useEffect(()=>{document.title="Yussman -Chansa Register"},[]),e.jsx(X,{className:"my-5",fluid:!0,children:e.jsxs(mt,{defaultActiveKey:"stock",justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsx(g2,{})}),e.jsx(Y,{eventKey:"expence",title:"Expence",children:e.jsx(S2,{})}),e.jsx(Y,{eventKey:"final",title:"Final",children:e.jsx(E2,{})}),e.jsx(Y,{eventKey:"all",title:"All",children:e.jsx($2,{})})]})})}function O2(){var o,c;l.useEffect(()=>{document.title="Yussman  - Register - Details"},[]);const[t,n]=l.useState({}),{id:s}=In(),r=l.useCallback(()=>{A.get(`${mn}/${s}`).then(u=>{n(u.data)}).catch(u=>{console.log(u)})},[s]);let a=0,i=0;return Object.keys(t).length>0&&(a=t.stock.reduce((u,h)=>u+h.priceBought,0),i=t.expense.reduce((u,h)=>u+h.amount,0)),l.useEffect(()=>{r()},[r]),e.jsx(X,{fluid:!0,className:"my-3",children:Object.keys(t).length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-between text-capitalize",children:[e.jsxs("h5",{children:["Date : ",t.date]}),e.jsxs("h5",{children:["Name : ",t.name]}),e.jsxs("h5",{children:["Accountant : ",t.accountant]}),e.jsxs("h5",{children:["Cash : K",t.cash.toLocaleString()]}),e.jsxs("h5",{children:[" Change : K",t.change.toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-center gap-5  text-capitalize",children:[e.jsxs("h5",{children:["Total Bought : K",a.toLocaleString()]}),e.jsxs("h5",{children:["Total Expense : K",i.toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("p",{className:a+i-t.cash+t.change<0?"text-danger display-6 text-center":"display-6 text-center",children:["Result : K",(a+i-t.cash+t.change).toLocaleString()]}),e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsxs(Q,{size:"sm",bordered:!0,className:" text-capitalize text-center mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Price Bought"}),e.jsx("th",{children:"Unit Price"}),e.jsx("th",{children:"Price Sold"}),e.jsx("th",{children:"Profit"})]})}),e.jsx("tbody",{className:"table-group-divider",children:(o=t.stock)==null?void 0:o.map((u,h)=>e.jsxs("tr",{children:[e.jsx("td",{children:h+1}),e.jsx("td",{children:u.code}),e.jsx("td",{children:u.name}),e.jsx("td",{children:u.quantity}),e.jsxs("td",{children:["K",u.priceBought]}),e.jsxs("td",{children:["K",u.unitPrice]}),e.jsxs("td",{children:["K",u.quantity*u.unitPrice]}),e.jsxs("td",{children:["K",u.quantity*u.unitPrice-u.priceBought]})]},u._id))})]})}),e.jsx(Y,{eventKey:"expense",title:"Expenses",children:e.jsxs(Q,{size:"sm",bordered:!0,className:"text-capitalize text-center mt-2 ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Decription"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:(c=t.expense)==null?void 0:c.map((u,h)=>e.jsxs("tr",{children:[e.jsx("td",{children:h+1}),e.jsx("td",{children:u.description}),e.jsxs("td",{children:["K",u.amount]})]},u._id))})]})})]})]})})}function A2(){const[t,n]=l.useState(null),[s,r]=l.useState({}),[a,i]=l.useState([]),[o,c]=l.useState([]),[u,h]=l.useState([]),[d,x]=l.useState([]),[j,v]=l.useState([]),[f,p]=l.useState([]),[b,k]=l.useState([]),{id:N}=In();l.useEffect(()=>{A.get(`${gn}/${N}`).then(y=>{n(y.data)}).catch(y=>{console.log(y)})},[N]),l.useEffect(()=>{E(t)},[t]),l.useEffect(()=>{t!==null&&(p(t.issued),k(t.received))},[t]);const E=y=>{if(y!==null){const w={},D={};y.received&&Array.isArray(y.received)&&y.received.forEach(S=>{const{code:T,quantity:B}=S;w[T]=(w[T]||0)+B}),y.issued&&Array.isArray(y.issued)&&y.issued.forEach(S=>{const{code:T,quantity:B}=S;D[T]=(D[T]||0)+B});let C={...y,stock:y.stock.map(S=>{const{code:T,ostock:B,damage:P}=S,R=w[T]||0,$=D[T]||0,F=B+R-P-$;return{...S,received:R,issued:$,cstock:F}})};C.stock.sort((S,T)=>S.name.localeCompare(T.name)),r(C)}};return l.useEffect(()=>{if(Object.keys(s).length!==0){const y=s.stock.filter(T=>T.section==="drinks"),w=s.stock.filter(T=>T.section==="food"),D=s.stock.filter(T=>T.section==="other"),C=s.stock.filter(T=>T.section==="shopa1"),S=s.stock.filter(T=>T.section==="shopa2");i(y),c(w),h(D),x(C),v(S)}},[s]),e.jsxs(X,{className:"my-3",children:[e.jsxs("div",{className:"text-capitalize d-flex justify-content-between p-3",children:[e.jsxs("h5",{className:"text-center",children:["Date: ",t==null?void 0:t.date]}),e.jsxs("h5",{className:"text-center",children:["Accountant: ",t==null?void 0:t.accountant]}),e.jsxs("h5",{className:"text-center",children:["Checked By: ",t==null?void 0:t.checkedBy]}),e.jsxs("h5",{className:"text-center",children:["Keeper: ",t==null?void 0:t.keeper]})]}),e.jsx("hr",{}),e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsxs(Q,{className:"text-center text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"OStock"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Issued"}),e.jsx("th",{children:"CStock"})]})}),e.jsx("tbody",{className:"table-group-divider",children:a.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{children:y.name}),e.jsx("td",{className:y.ostock===0?"text-muted":"",children:y.ostock.toFixed(2)}),e.jsx("td",{className:y.damage===0?"text-muted":y.damage<0?"text-danger":"",children:y.damage}),e.jsx("td",{className:y.received>0?"text-info":y.received===0?"text-muted":"",children:y.received}),e.jsx("td",{className:y.issued>0?"text-info":y.issued===0?"text-muted":"",children:y.issued}),e.jsx("td",{className:y.cstock<0?"text-danger":y.cstock===0?"text-muted":"",children:y.cstock.toFixed(2)})]},y._id))}),e.jsx("tbody",{className:"table-group-divider",children:o.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{children:y.name}),e.jsx("td",{className:y.ostock===0?"text-muted":"",children:y.ostock.toFixed(2)}),e.jsx("td",{className:y.damage===0?"text-muted":y.damage<0?"text-danger":"",children:y.damage}),e.jsx("td",{className:y.received>0?"text-info":y.received===0?"text-muted":"",children:y.received}),e.jsx("td",{className:y.issued>0?"text-info":y.issued===0?"text-muted":"",children:y.issued}),e.jsx("td",{className:y.cstock<0?"text-danger":y.cstock===0?"text-muted":"",children:y.cstock.toFixed(2)})]},y._id))}),e.jsx("tbody",{className:"table-group-divider",children:u.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{children:y.name}),e.jsx("td",{className:y.ostock===0?"text-muted":"",children:y.ostock.toFixed(2)}),e.jsx("td",{className:y.damage===0?"text-muted":y.damage<0?"text-danger":"",children:y.damage}),e.jsx("td",{className:y.received>0?"text-info":y.received===0?"text-muted":"",children:y.received}),e.jsx("td",{className:y.issued>0?"text-info":y.issued===0?"text-muted":"",children:y.issued}),e.jsx("td",{className:y.cstock<0?"text-danger":y.cstock===0?"text-muted":"",children:y.cstock.toFixed(2)})]},y._id))}),e.jsx("tbody",{className:"table-group-divider",children:d.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{children:y.name}),e.jsx("td",{className:y.ostock===0?"text-muted":"",children:y.ostock.toFixed(2)}),e.jsx("td",{className:y.damage===0?"text-muted":y.damage<0?"text-danger":"",children:y.damage}),e.jsx("td",{className:y.received>0?"text-info":y.received===0?"text-muted":"",children:y.received}),e.jsx("td",{className:y.issued>0?"text-info":y.issued===0?"text-muted":"",children:y.issued}),e.jsx("td",{className:y.cstock<0?"text-danger":y.cstock===0?"text-muted":"",children:y.cstock.toFixed(2)})]},y._id))}),e.jsx("tbody",{className:"table-group-divider",children:j.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{children:y.name}),e.jsx("td",{className:y.ostock===0?"text-muted":"",children:y.ostock.toFixed(2)}),e.jsx("td",{className:y.damage===0?"text-muted":y.damage<0?"text-danger":"",children:y.damage}),e.jsx("td",{className:y.received>0?"text-info":y.received===0?"text-muted":"",children:y.received}),e.jsx("td",{className:y.issued>0?"text-info":y.issued===0?"text-muted":"",children:y.issued}),e.jsx("td",{className:y.cstock<0?"text-danger":y.cstock===0?"text-muted":"",children:y.cstock.toFixed(2)})]},y._id))})]})}),e.jsx(Y,{eventKey:"issued",title:"Issued / Out",children:e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center mt-3",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"To"})]})}),e.jsx("tbody",{className:"table-group-divider",children:f.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{className:"text-capitalize",children:y.name}),e.jsx("td",{children:y.quantity}),e.jsx("td",{className:"text-capitalize",children:y.to})]},y._id))})]})}),e.jsx(Y,{eventKey:"received",title:"Received / In",children:e.jsxs(Q,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:b.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.code}),e.jsx("td",{className:"text-capitalize",children:y.name}),e.jsx("td",{children:y.quantity})]},y._id))})]})})]})]})}function Qu({id:t,stock:n,getShift:s}){const[r,a]=l.useState(""),[i,o]=l.useState(""),[c,u]=l.useState(""),[h,d]=l.useState(!1),{user:x}=l.useContext(se);l.useEffect(()=>{Object.keys(n).length>0&&(a(n.ostock),o(n.damage),u(n.cstock))},[n]);const[j,v]=l.useState(!1),f=()=>v(!1),p=()=>v(!0),b=()=>{a(""),o(""),u("")},k=N=>{N.preventDefault(),d(!0);const E={ostock:Number(r),damage:Number(i),cstock:Number(c)};A.post(`${wt}/${t}/editstock/${n._id}`,E).then(()=>{b(),f(),d(!1),s()}).catch(y=>{console.log(y),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:p,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(Xe,{})}),e.jsxs(g,{show:j,onHide:()=>{f()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(m,{onSubmit:k,children:[e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Opening Stock"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:r,readOnly:x.role!=="admin",onChange:N=>a(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Damage"}),e.jsx(m.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:N=>o(N.target.value)})]}),e.jsxs(m.Group,{className:"mb-3",children:[e.jsx(m.Label,{children:"Closing Stock"}),e.jsx(m.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:c,onChange:N=>u(N.target.value)})]}),e.jsx(L,{variant:"primary",type:"submit",disabled:h,children:h?"Loading...":"Submit"})]})})]})]})}const B2=()=>{const[t,n]=l.useState({}),[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState([]),[u,h]=l.useState([]),[d,x]=l.useState([]),[j,v]=l.useState([]),{id:f}=In(),{user:p}=l.useContext(se);let b=0,k=0;if(Object.keys(t).length>0){b=t.bus.filter(D=>D.status==="collected").reduce((D,C)=>D+C.amount,0);const w=D=>(D.ostock+D.received-D.damage-D.cstock)*D.price;k=s.stock.reduce((D,C)=>D+w(C),0)}l.useEffect(()=>{document.title="Yussman  - Restaurant - Details"},[]);const N=l.useCallback(()=>{A.get(`${wt}/${f}`).then(w=>{n(w.data),E(w.data)}).catch(w=>{console.log(w)})},[f]);l.useEffect(()=>{N()},[N]),l.useEffect(()=>{Object.keys(t).length>0&&(x(t.cash.reduce((w,D)=>w+D,0)+b+t.credit.reduce((w,D)=>w+D.amount,0)-t.change.reduce((w,D)=>w+D,0)-k),v(t.received))},[t,b,k]);const E=w=>{if(w!==null){const D={};w.received&&Array.isArray(w.received)&&w.received.forEach(S=>{const T=S.code,B=S.amount;D[T]===void 0?D[T]=B:D[T]+=B});const C={...w,stock:w.stock.map(S=>{const T=S.code;return D[T]!==void 0?{...S,received:D[T]}:S})};C.stock.sort((S,T)=>S.name.localeCompare(T.name)),r(C)}};l.useEffect(()=>{if(Object.keys(t).length!==0){const w=s.stock.filter(S=>S.section==="drinks"),D=s.stock.filter(S=>S.section==="food"),C=s.stock.filter(S=>S.section==="bakery");i(w),c(D),h(C)}},[s,t]);const y=w=>w.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return Object.keys(t).length===0?null:e.jsxs(X,{fluid:"xxl",children:[e.jsxs("div",{className:"d-flex justify-content-between mt-3 mx-3",children:[e.jsxs("p",{children:["Date : ",t.date]}),e.jsxs("p",{children:["Shift : ",t.shift]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("p",{children:"Cashiers : "}),t.cashier.map(w=>e.jsx("p",{className:"mx-2",children:w},Math.floor(Math.random()*1e4)))]}),e.jsxs("p",{children:["Accountant : ",t.acountant]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between mx-3",children:[e.jsxs("p",{children:["Cash : K",y(t.cash.reduce((w,D)=>w+D,0))]}),e.jsxs("p",{children:["Change : K",y(t.change.reduce((w,D)=>w+D,0))]}),e.jsxs("p",{children:["Bus : K",y(b)]}),e.jsxs("p",{children:["Credit : K",y(t.credit.reduce((w,D)=>w+D.amount,0))]}),e.jsxs("p",{children:["Sales : K",y(k)]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("p",{className:"display-6 text-center ",children:["Result : K",e.jsx("span",{className:d<0?"text-danger":"",children:y(d)})]})}),e.jsx("hr",{}),e.jsxs(mt,{justify:!0,children:[e.jsx(Y,{eventKey:"stock",title:"Stock",children:e.jsxs(Q,{className:"text-center mt-3",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),p&&p.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:a.map(w=>e.jsxs("tr",{id:w.code,children:[e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsxs("td",{children:["K",w.price]}),e.jsx("td",{children:w.ostock}),e.jsx("td",{className:w.received>0?"text-info":"",children:w.received}),e.jsx("td",{children:w.damage}),e.jsx("td",{className:w.cstock<0?"text-danger":"",children:w.cstock}),e.jsxs("td",{className:w.ostock+w.received-w.damage-w.cstock<0?"text-danger":"",children:["K",y((w.ostock+w.received-w.damage-w.cstock)*w.price)]}),p&&p.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Qu,{id:f,stock:w,getShift:N})})]},w.code))}),e.jsx("tbody",{className:"table-group-divider",children:o.map(w=>e.jsxs("tr",{id:w.code,children:[e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsxs("td",{children:["K",w.price]}),e.jsx("td",{children:w.ostock}),e.jsx("td",{className:w.received>0?"text-info":"",children:w.received}),e.jsx("td",{children:w.damage}),e.jsx("td",{className:w.cstock<0?"text-danger":"",children:w.cstock}),e.jsxs("td",{className:w.ostock+w.received-w.damage-w.cstock<0?"text-danger":"",children:["K",y((w.ostock+w.received-w.damage-w.cstock)*w.price)]}),p&&p.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Qu,{id:f,stock:w,getShift:N})})]},w.code))}),e.jsx("tbody",{className:"table-group-divider",children:u.map(w=>e.jsxs("tr",{id:w.code,children:[e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsxs("td",{children:["K",w.price]}),e.jsx("td",{children:w.ostock}),e.jsx("td",{className:w.received>0?"text-info":"",children:w.received}),e.jsx("td",{children:w.damage}),e.jsx("td",{className:w.cstock<0?"text-danger":"",children:w.cstock}),e.jsxs("td",{className:w.ostock+w.received-w.damage-w.cstock<0?"text-danger":"",children:["K",y((w.ostock+w.received-w.damage-w.cstock)*w.price)]}),p&&p.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Qu,{id:f,stock:w,getShift:N})})]},w.code))})]})}),e.jsx(Y,{eventKey:"received",title:"Received",children:e.jsxs(Q,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:j.map(w=>e.jsxs("tr",{id:w._id,children:[e.jsx("td",{children:w.code}),e.jsx("td",{className:"text-capitalize",children:w.name}),e.jsx("td",{children:w.amount})]},w._id))})]})}),e.jsx(Y,{eventKey:"busses",title:"Busses",children:e.jsxs(ye,{children:[e.jsxs(q,{children:[e.jsx("h3",{className:"text-center",children:"Busses"}),e.jsxs(Q,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Bus Name"}),e.jsx("th",{children:"Driver"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.bus.map(w=>e.jsxs("tr",{children:[e.jsx("td",{children:w.name}),e.jsx("td",{children:w.driver}),e.jsx("td",{children:w.status}),e.jsxs("td",{children:["K",w.amount]})]},w._id))})]})]}),e.jsxs(q,{children:[e.jsx("h3",{className:"text-center",children:"Topup"}),e.jsxs(Q,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.topup.map(w=>e.jsxs("tr",{children:[e.jsx("td",{children:w.name}),e.jsxs("td",{children:["K",w.amount]})]},w._id))})]})]})]})})]})]})};function _2(){const{user:t}=l.useContext(se);return e.jsxs(e.Fragment,{children:[e.jsx(WD,{}),e.jsxs(xv,{children:[e.jsx(Je,{path:"/",element:t?e.jsx(VD,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/login",element:t?e.jsx(nt,{to:"/"}):e.jsx(YO,{})}),e.jsx(Je,{path:"/goat/*",element:t?e.jsx(oO,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/restaurant",element:t?e.jsx(IO,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/chinsalirestaurant",element:t?e.jsx(OI,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/chansarestaurant",element:t?e.jsx(WF,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/shopa1",element:t?e.jsx(RB,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/shopa2",element:t?e.jsx(l_,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/shopb",element:t?e.jsx(B_,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/shopc",element:t?e.jsx(lR,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/shopw",element:t?e.jsx($R,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/store",element:t?e.jsx(pA,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/chinsalistore",element:t?e.jsx(JI,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/chansastore",element:t?e.jsx(f2,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/register",element:t?e.jsx(HA,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/chinsaliregister",element:t?e.jsx(xF,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/chansaregister",element:t?e.jsx(T2,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/employees",element:t?e.jsx(dB,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/credit",element:t?e.jsx(XR,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/users",element:t&&t.role==="admin"?e.jsx(QO,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/restaurant/:id",element:t?e.jsx(JO,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/shopa1/:id",element:t?e.jsx(FR,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/shopa2/:id",element:t?e.jsx(MR,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/shopb/:id",element:t?e.jsx(HR,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/shopc/:id",element:t?e.jsx(qR,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/shopw/:id",element:t?e.jsx(GR,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/employees/:id",element:t?e.jsx(BR,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/store/:id",element:t?e.jsx(_R,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/chinsalistore/:id",element:t?e.jsx(jF,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/chansastore/:id",element:t?e.jsx(A2,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/register/:id",element:t?e.jsx(RR,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/chinsaliregister/:id",element:t?e.jsx(pF,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/chansaregister/:id",element:t?e.jsx(O2,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/chinsalirestaurant/:id",element:t?e.jsx(gF,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/chansarestaurant/:id",element:t?e.jsx(B2,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"/credit/:id",element:t?e.jsx(nI,{}):e.jsx(nt,{to:"/login"})}),e.jsx(Je,{path:"*",element:e.jsx(nt,{to:"/"})})]})]})}Ju.createRoot(document.getElementById("root")).render(e.jsx(Pt.StrictMode,{children:e.jsx(Sk,{children:e.jsx(ZO,{children:e.jsx(gA,{children:e.jsx(vA,{children:e.jsx(bA,{children:e.jsx(NA,{children:e.jsx(P_,{children:e.jsx(kA,{children:e.jsx(dO,{children:e.jsx(sO,{children:e.jsx(YA,{children:e.jsx(WR,{children:e.jsx(aI,{children:e.jsx(BI,{children:e.jsx(ZI,{children:e.jsx(SF,{children:e.jsx(QF,{children:e.jsx(x2,{children:e.jsx(pk,{children:e.jsx(_2,{})})})})})})})})})})})})})})})})})})})})}));
