function L0(t,n){for(var s=0;s<n.length;s++){const r=n[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ki(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $0(t){if(t.__esModule)return t;var n=t.default;if(typeof n=="function"){var s=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),s}var Dj={exports:{}},dd={},$j={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=Symbol.for("react.element"),O0=Symbol.for("react.portal"),T0=Symbol.for("react.fragment"),A0=Symbol.for("react.strict_mode"),B0=Symbol.for("react.profiler"),_0=Symbol.for("react.provider"),R0=Symbol.for("react.context"),I0=Symbol.for("react.forward_ref"),P0=Symbol.for("react.suspense"),F0=Symbol.for("react.memo"),M0=Symbol.for("react.lazy"),tp=Symbol.iterator;function z0(t){return t===null||typeof t!="object"?null:(t=tp&&t[tp]||t["@@iterator"],typeof t=="function"?t:null)}var Oj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tj=Object.assign,Aj={};function qi(t,n,s){this.props=t,this.context=n,this.refs=Aj,this.updater=s||Oj}qi.prototype.isReactComponent={};qi.prototype.setState=function(t,n){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,n,"setState")};qi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bj(){}Bj.prototype=qi.prototype;function cf(t,n,s){this.props=t,this.context=n,this.refs=Aj,this.updater=s||Oj}var df=cf.prototype=new Bj;df.constructor=cf;Tj(df,qi.prototype);df.isPureReactComponent=!0;var np=Array.isArray,_j=Object.prototype.hasOwnProperty,uf={current:null},Rj={key:!0,ref:!0,__self:!0,__source:!0};function Ij(t,n,s){var r,a={},i=null,o=null;if(n!=null)for(r in n.ref!==void 0&&(o=n.ref),n.key!==void 0&&(i=""+n.key),n)_j.call(n,r)&&!Rj.hasOwnProperty(r)&&(a[r]=n[r]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var d=Array(l),h=0;h<l;h++)d[h]=arguments[h+2];a.children=d}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:Cl,type:t,key:i,ref:o,props:a,_owner:uf.current}}function H0(t,n){return{$$typeof:Cl,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}function hf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cl}function K0(t){var n={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return n[s]})}var sp=/\/+/g;function Gd(t,n){return typeof t=="object"&&t!==null&&t.key!=null?K0(""+t.key):n.toString(36)}function dc(t,n,s,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cl:case O0:o=!0}}if(o)return o=t,a=a(o),t=r===""?"."+Gd(o,0):r,np(a)?(s="",t!=null&&(s=t.replace(sp,"$&/")+"/"),dc(a,n,s,"",function(h){return h})):a!=null&&(hf(a)&&(a=H0(a,s+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(sp,"$&/")+"/")+t)),n.push(a)),1;if(o=0,r=r===""?".":r+":",np(t))for(var l=0;l<t.length;l++){i=t[l];var d=r+Gd(i,l);o+=dc(i,n,s,d,a)}else if(d=z0(t),typeof d=="function")for(t=d.call(t),l=0;!(i=t.next()).done;)i=i.value,d=r+Gd(i,l++),o+=dc(i,n,s,d,a);else if(i==="object")throw n=String(t),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return o}function Il(t,n,s){if(t==null)return t;var r=[],a=0;return dc(t,r,"","",function(i){return n.call(s,i,a++)}),r}function q0(t){if(t._status===-1){var n=t._result;n=n(),n.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=n)}if(t._status===1)return t._result.default;throw t._result}var Wn={current:null},uc={transition:null},U0={ReactCurrentDispatcher:Wn,ReactCurrentBatchConfig:uc,ReactCurrentOwner:uf};tt.Children={map:Il,forEach:function(t,n,s){Il(t,function(){n.apply(this,arguments)},s)},count:function(t){var n=0;return Il(t,function(){n++}),n},toArray:function(t){return Il(t,function(n){return n})||[]},only:function(t){if(!hf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};tt.Component=qi;tt.Fragment=T0;tt.Profiler=B0;tt.PureComponent=cf;tt.StrictMode=A0;tt.Suspense=P0;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U0;tt.cloneElement=function(t,n,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Tj({},t.props),a=t.key,i=t.ref,o=t._owner;if(n!=null){if(n.ref!==void 0&&(i=n.ref,o=uf.current),n.key!==void 0&&(a=""+n.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(d in n)_j.call(n,d)&&!Rj.hasOwnProperty(d)&&(r[d]=n[d]===void 0&&l!==void 0?l[d]:n[d])}var d=arguments.length-2;if(d===1)r.children=s;else if(1<d){l=Array(d);for(var h=0;h<d;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Cl,type:t.type,key:a,ref:i,props:r,_owner:o}};tt.createContext=function(t){return t={$$typeof:R0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_0,_context:t},t.Consumer=t};tt.createElement=Ij;tt.createFactory=function(t){var n=Ij.bind(null,t);return n.type=t,n};tt.createRef=function(){return{current:null}};tt.forwardRef=function(t){return{$$typeof:I0,render:t}};tt.isValidElement=hf;tt.lazy=function(t){return{$$typeof:M0,_payload:{_status:-1,_result:t},_init:q0}};tt.memo=function(t,n){return{$$typeof:F0,type:t,compare:n===void 0?null:n}};tt.startTransition=function(t){var n=uc.transition;uc.transition={};try{t()}finally{uc.transition=n}};tt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};tt.useCallback=function(t,n){return Wn.current.useCallback(t,n)};tt.useContext=function(t){return Wn.current.useContext(t)};tt.useDebugValue=function(){};tt.useDeferredValue=function(t){return Wn.current.useDeferredValue(t)};tt.useEffect=function(t,n){return Wn.current.useEffect(t,n)};tt.useId=function(){return Wn.current.useId()};tt.useImperativeHandle=function(t,n,s){return Wn.current.useImperativeHandle(t,n,s)};tt.useInsertionEffect=function(t,n){return Wn.current.useInsertionEffect(t,n)};tt.useLayoutEffect=function(t,n){return Wn.current.useLayoutEffect(t,n)};tt.useMemo=function(t,n){return Wn.current.useMemo(t,n)};tt.useReducer=function(t,n,s){return Wn.current.useReducer(t,n,s)};tt.useRef=function(t){return Wn.current.useRef(t)};tt.useState=function(t){return Wn.current.useState(t)};tt.useSyncExternalStore=function(t,n,s){return Wn.current.useSyncExternalStore(t,n,s)};tt.useTransition=function(){return Wn.current.useTransition()};tt.version="18.2.0";$j.exports=tt;var c=$j.exports;const It=Ki(c),G0=L0({__proto__:null,default:It},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0=c,W0=Symbol.for("react.element"),V0=Symbol.for("react.fragment"),Q0=Object.prototype.hasOwnProperty,J0=Y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X0={key:!0,ref:!0,__self:!0,__source:!0};function Pj(t,n,s){var r,a={},i=null,o=null;s!==void 0&&(i=""+s),n.key!==void 0&&(i=""+n.key),n.ref!==void 0&&(o=n.ref);for(r in n)Q0.call(n,r)&&!X0.hasOwnProperty(r)&&(a[r]=n[r]);if(t&&t.defaultProps)for(r in n=t.defaultProps,n)a[r]===void 0&&(a[r]=n[r]);return{$$typeof:W0,type:t,key:i,ref:o,props:a,_owner:J0.current}}dd.Fragment=V0;dd.jsx=Pj;dd.jsxs=Pj;Dj.exports=dd;var e=Dj.exports,Fu={},Fj={exports:{}},js={},Mj={exports:{}},zj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function n(M,K){var F=M.length;M.push(K);e:for(;0<F;){var xe=F-1>>>1,ge=M[xe];if(0<a(ge,K))M[xe]=K,M[F]=ge,F=xe;else break e}}function s(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var K=M[0],F=M.pop();if(F!==K){M[0]=F;e:for(var xe=0,ge=M.length,_e=ge>>>1;xe<_e;){var je=2*(xe+1)-1,le=M[je],Ve=je+1,Qe=M[Ve];if(0>a(le,F))Ve<ge&&0>a(Qe,le)?(M[xe]=Qe,M[Ve]=F,xe=Ve):(M[xe]=le,M[je]=F,xe=je);else if(Ve<ge&&0>a(Qe,F))M[xe]=Qe,M[Ve]=F,xe=Ve;else break e}}return K}function a(M,K){var F=M.sortIndex-K.sortIndex;return F!==0?F:M.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var d=[],h=[],u=1,m=null,j=3,y=!1,f=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(M){for(var K=s(h);K!==null;){if(K.callback===null)r(h);else if(K.startTime<=M)r(h),K.sortIndex=K.expirationTime,n(d,K);else break;K=s(h)}}function v(M){if(x=!1,E(M),!f)if(s(d)!==null)f=!0,Z(k);else{var K=s(h);K!==null&&ne(v,K.startTime-M)}}function k(M,K){f=!1,x&&(x=!1,N(w),w=-1),y=!0;var F=j;try{for(E(K),m=s(d);m!==null&&(!(m.expirationTime>K)||M&&!H());){var xe=m.callback;if(typeof xe=="function"){m.callback=null,j=m.priorityLevel;var ge=xe(m.expirationTime<=K);K=t.unstable_now(),typeof ge=="function"?m.callback=ge:m===s(d)&&r(d),E(K)}else r(d);m=s(d)}if(m!==null)var _e=!0;else{var je=s(h);je!==null&&ne(v,je.startTime-K),_e=!1}return _e}finally{m=null,j=F,y=!1}}var $=!1,C=null,w=-1,A=5,B=-1;function H(){return!(t.unstable_now()-B<A)}function I(){if(C!==null){var M=t.unstable_now();B=M;var K=!0;try{K=C(!0,M)}finally{K?L():($=!1,C=null)}}else $=!1}var L;if(typeof b=="function")L=function(){b(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,G=R.port2;R.port1.onmessage=I,L=function(){G.postMessage(null)}}else L=function(){S(I,0)};function Z(M){C=M,$||($=!0,L())}function ne(M,K){w=S(function(){M(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){f||y||(f=!0,Z(k))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return s(d)},t.unstable_next=function(M){switch(j){case 1:case 2:case 3:var K=3;break;default:K=j}var F=j;j=K;try{return M()}finally{j=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,K){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var F=j;j=M;try{return K()}finally{j=F}},t.unstable_scheduleCallback=function(M,K,F){var xe=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?xe+F:xe):F=xe,M){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=F+ge,M={id:u++,callback:K,priorityLevel:M,startTime:F,expirationTime:ge,sortIndex:-1},F>xe?(M.sortIndex=F,n(h,M),s(d)===null&&M===s(h)&&(x?(N(w),w=-1):x=!0,ne(v,F-xe))):(M.sortIndex=ge,n(d,M),f||y||(f=!0,Z(k))),M},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(M){var K=j;return function(){var F=j;j=K;try{return M.apply(this,arguments)}finally{j=F}}}})(zj);Mj.exports=zj;var Z0=Mj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hj=c,ps=Z0;function J(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kj=new Set,Zo={};function Wa(t,n){Oi(t,n),Oi(t+"Capture",n)}function Oi(t,n){for(Zo[t]=n,t=0;t<n.length;t++)Kj.add(n[t])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mu=Object.prototype.hasOwnProperty,eC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rp={},ap={};function tC(t){return Mu.call(ap,t)?!0:Mu.call(rp,t)?!1:eC.test(t)?ap[t]=!0:(rp[t]=!0,!1)}function nC(t,n,s,r){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sC(t,n,s,r){if(n===null||typeof n>"u"||nC(t,n,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Vn(t,n,s,r,a,i,o){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=t,this.type=n,this.sanitizeURL=i,this.removeEmptyString=o}var On={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){On[t]=new Vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];On[n]=new Vn(n,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){On[t]=new Vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){On[t]=new Vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){On[t]=new Vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){On[t]=new Vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){On[t]=new Vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){On[t]=new Vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){On[t]=new Vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ff=/[\-:]([a-z])/g;function mf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(ff,mf);On[n]=new Vn(n,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(ff,mf);On[n]=new Vn(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(ff,mf);On[n]=new Vn(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){On[t]=new Vn(t,1,!1,t.toLowerCase(),null,!1,!1)});On.xlinkHref=new Vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){On[t]=new Vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function pf(t,n,s,r){var a=On.hasOwnProperty(n)?On[n]:null;(a!==null?a.type!==0:r||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(sC(n,s,a,r)&&(s=null),r||a===null?tC(n)&&(s===null?t.removeAttribute(n):t.setAttribute(n,""+s)):a.mustUseProperty?t[a.propertyName]=s===null?a.type===3?!1:"":s:(n=a.attributeName,r=a.attributeNamespace,s===null?t.removeAttribute(n):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?t.setAttributeNS(r,n,s):t.setAttribute(n,s))))}var Mr=Hj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pl=Symbol.for("react.element"),hi=Symbol.for("react.portal"),fi=Symbol.for("react.fragment"),xf=Symbol.for("react.strict_mode"),zu=Symbol.for("react.profiler"),qj=Symbol.for("react.provider"),Uj=Symbol.for("react.context"),jf=Symbol.for("react.forward_ref"),Hu=Symbol.for("react.suspense"),Ku=Symbol.for("react.suspense_list"),gf=Symbol.for("react.memo"),Jr=Symbol.for("react.lazy"),Gj=Symbol.for("react.offscreen"),ip=Symbol.iterator;function yo(t){return t===null||typeof t!="object"?null:(t=ip&&t[ip]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,Yd;function _o(t){if(Yd===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Yd=n&&n[1]||""}return`
`+Yd+t}var Wd=!1;function Vd(t,n){if(!t||Wd)return"";Wd=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(h){var r=h}Reflect.construct(t,[],n)}else{try{n.call()}catch(h){r=h}t.call(n.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var a=h.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var d=`
`+a[o].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=o&&0<=l);break}}}finally{Wd=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?_o(t):""}function rC(t){switch(t.tag){case 5:return _o(t.type);case 16:return _o("Lazy");case 13:return _o("Suspense");case 19:return _o("SuspenseList");case 0:case 2:case 15:return t=Vd(t.type,!1),t;case 11:return t=Vd(t.type.render,!1),t;case 1:return t=Vd(t.type,!0),t;default:return""}}function qu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fi:return"Fragment";case hi:return"Portal";case zu:return"Profiler";case xf:return"StrictMode";case Hu:return"Suspense";case Ku:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Uj:return(t.displayName||"Context")+".Consumer";case qj:return(t._context.displayName||"Context")+".Provider";case jf:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gf:return n=t.displayName||null,n!==null?n:qu(t.type)||"Memo";case Jr:n=t._payload,t=t._init;try{return qu(t(n))}catch{}}return null}function aC(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qu(n);case 8:return n===xf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function pa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yj(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function iC(t){var n=Yj(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),r=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Fl(t){t._valueTracker||(t._valueTracker=iC(t))}function Wj(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return t&&(r=Yj(t)?t.checked?"true":"false":t.value),t=r,t!==s?(n.setValue(t),!0):!1}function Dc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Uu(t,n){var s=n.checked;return Qt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function op(t,n){var s=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;s=pa(n.value!=null?n.value:s),t._wrapperState={initialChecked:r,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Vj(t,n){n=n.checked,n!=null&&pf(t,"checked",n,!1)}function Gu(t,n){Vj(t,n);var s=pa(n.value),r=n.type;if(s!=null)r==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Yu(t,n.type,s):n.hasOwnProperty("defaultValue")&&Yu(t,n.type,pa(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function lp(t,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,s||n===t.value||(t.value=n),t.defaultValue=n}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Yu(t,n,s){(n!=="number"||Dc(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Ro=Array.isArray;function wi(t,n,s,r){if(t=t.options,n){n={};for(var a=0;a<s.length;a++)n["$"+s[a]]=!0;for(s=0;s<t.length;s++)a=n.hasOwnProperty("$"+t[s].value),t[s].selected!==a&&(t[s].selected=a),a&&r&&(t[s].defaultSelected=!0)}else{for(s=""+pa(s),n=null,a=0;a<t.length;a++){if(t[a].value===s){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}n!==null||t[a].disabled||(n=t[a])}n!==null&&(n.selected=!0)}}function Wu(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(J(91));return Qt({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cp(t,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(J(92));if(Ro(s)){if(1<s.length)throw Error(J(93));s=s[0]}n=s}n==null&&(n=""),s=n}t._wrapperState={initialValue:pa(s)}}function Qj(t,n){var s=pa(n.value),r=pa(n.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),n.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),r!=null&&(t.defaultValue=""+r)}function dp(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function Jj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vu(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?Jj(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ml,Xj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,r,a){MSApp.execUnsafeLocalFunction(function(){return t(n,s,r,a)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Ml=Ml||document.createElement("div"),Ml.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ml.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function el(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oC=["Webkit","ms","Moz","O"];Object.keys(zo).forEach(function(t){oC.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),zo[n]=zo[t]})});function Zj(t,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||zo.hasOwnProperty(t)&&zo[t]?(""+n).trim():n+"px"}function eg(t,n){t=t.style;for(var s in n)if(n.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=Zj(s,n[s],r);s==="float"&&(s="cssFloat"),r?t.setProperty(s,a):t[s]=a}}var lC=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qu(t,n){if(n){if(lC[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(J(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(J(61))}if(n.style!=null&&typeof n.style!="object")throw Error(J(62))}}function Ju(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xu=null;function yf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zu=null,Ni=null,ki=null;function up(t){if(t=kl(t)){if(typeof Zu!="function")throw Error(J(280));var n=t.stateNode;n&&(n=pd(n),Zu(t.stateNode,t.type,n))}}function tg(t){Ni?ki?ki.push(t):ki=[t]:Ni=t}function ng(){if(Ni){var t=Ni,n=ki;if(ki=Ni=null,up(t),n)for(t=0;t<n.length;t++)up(n[t])}}function sg(t,n){return t(n)}function rg(){}var Qd=!1;function ag(t,n,s){if(Qd)return t(n,s);Qd=!0;try{return sg(t,n,s)}finally{Qd=!1,(Ni!==null||ki!==null)&&(rg(),ng())}}function tl(t,n){var s=t.stateNode;if(s===null)return null;var r=pd(s);if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(J(231,n,typeof s));return s}var eh=!1;if(Br)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){eh=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{eh=!1}function cC(t,n,s,r,a,i,o,l,d){var h=Array.prototype.slice.call(arguments,3);try{n.apply(s,h)}catch(u){this.onError(u)}}var Ho=!1,$c=null,Oc=!1,th=null,dC={onError:function(t){Ho=!0,$c=t}};function uC(t,n,s,r,a,i,o,l,d){Ho=!1,$c=null,cC.apply(dC,arguments)}function hC(t,n,s,r,a,i,o,l,d){if(uC.apply(this,arguments),Ho){if(Ho){var h=$c;Ho=!1,$c=null}else throw Error(J(198));Oc||(Oc=!0,th=h)}}function Va(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function ig(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function hp(t){if(Va(t)!==t)throw Error(J(188))}function fC(t){var n=t.alternate;if(!n){if(n=Va(t),n===null)throw Error(J(188));return n!==t?null:t}for(var s=t,r=n;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return hp(a),t;if(i===r)return hp(a),n;i=i.sibling}throw Error(J(188))}if(s.return!==r.return)s=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===s){o=!0,s=a,r=i;break}if(l===r){o=!0,r=a,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,r=a;break}if(l===r){o=!0,r=i,s=a;break}l=l.sibling}if(!o)throw Error(J(189))}}if(s.alternate!==r)throw Error(J(190))}if(s.tag!==3)throw Error(J(188));return s.stateNode.current===s?t:n}function og(t){return t=fC(t),t!==null?lg(t):null}function lg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=lg(t);if(n!==null)return n;t=t.sibling}return null}var cg=ps.unstable_scheduleCallback,fp=ps.unstable_cancelCallback,mC=ps.unstable_shouldYield,pC=ps.unstable_requestPaint,rn=ps.unstable_now,xC=ps.unstable_getCurrentPriorityLevel,vf=ps.unstable_ImmediatePriority,dg=ps.unstable_UserBlockingPriority,Tc=ps.unstable_NormalPriority,jC=ps.unstable_LowPriority,ug=ps.unstable_IdlePriority,ud=null,lr=null;function gC(t){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(ud,t,void 0,(t.current.flags&128)===128)}catch{}}var Xs=Math.clz32?Math.clz32:SC,yC=Math.log,vC=Math.LN2;function SC(t){return t>>>=0,t===0?32:31-(yC(t)/vC|0)|0}var zl=64,Hl=4194304;function Io(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ac(t,n){var s=t.pendingLanes;if(s===0)return 0;var r=0,a=t.suspendedLanes,i=t.pingedLanes,o=s&268435455;if(o!==0){var l=o&~a;l!==0?r=Io(l):(i&=o,i!==0&&(r=Io(i)))}else o=s&~a,o!==0?r=Io(o):i!==0&&(r=Io(i));if(r===0)return 0;if(n!==0&&n!==r&&!(n&a)&&(a=r&-r,i=n&-n,a>=i||a===16&&(i&4194240)!==0))return n;if(r&4&&(r|=s&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=r;0<n;)s=31-Xs(n),a=1<<s,r|=t[s],n&=~a;return r}function bC(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CC(t,n){for(var s=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xs(i),l=1<<o,d=a[o];d===-1?(!(l&s)||l&r)&&(a[o]=bC(l,n)):d<=n&&(t.expiredLanes|=l),i&=~l}}function nh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hg(){var t=zl;return zl<<=1,!(zl&4194240)&&(zl=64),t}function Jd(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function wl(t,n,s){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Xs(n),t[n]=s}function wC(t,n){var s=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<s;){var a=31-Xs(s),i=1<<a;n[a]=0,r[a]=-1,t[a]=-1,s&=~i}}function Sf(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var r=31-Xs(s),a=1<<r;a&n|t[r]&n&&(t[r]|=n),s&=~a}}var gt=0;function fg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mg,bf,pg,xg,jg,sh=!1,Kl=[],aa=null,ia=null,oa=null,nl=new Map,sl=new Map,ea=[],NC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mp(t,n){switch(t){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(n.pointerId)}}function So(t,n,s,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},n!==null&&(n=kl(n),n!==null&&bf(n)),t):(t.eventSystemFlags|=r,n=t.targetContainers,a!==null&&n.indexOf(a)===-1&&n.push(a),t)}function kC(t,n,s,r,a){switch(n){case"focusin":return aa=So(aa,t,n,s,r,a),!0;case"dragenter":return ia=So(ia,t,n,s,r,a),!0;case"mouseover":return oa=So(oa,t,n,s,r,a),!0;case"pointerover":var i=a.pointerId;return nl.set(i,So(nl.get(i)||null,t,n,s,r,a)),!0;case"gotpointercapture":return i=a.pointerId,sl.set(i,So(sl.get(i)||null,t,n,s,r,a)),!0}return!1}function gg(t){var n=Aa(t.target);if(n!==null){var s=Va(n);if(s!==null){if(n=s.tag,n===13){if(n=ig(s),n!==null){t.blockedOn=n,jg(t.priority,function(){pg(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=rh(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);Xu=r,s.target.dispatchEvent(r),Xu=null}else return n=kl(s),n!==null&&bf(n),t.blockedOn=s,!1;n.shift()}return!0}function pp(t,n,s){hc(t)&&s.delete(n)}function EC(){sh=!1,aa!==null&&hc(aa)&&(aa=null),ia!==null&&hc(ia)&&(ia=null),oa!==null&&hc(oa)&&(oa=null),nl.forEach(pp),sl.forEach(pp)}function bo(t,n){t.blockedOn===n&&(t.blockedOn=null,sh||(sh=!0,ps.unstable_scheduleCallback(ps.unstable_NormalPriority,EC)))}function rl(t){function n(a){return bo(a,t)}if(0<Kl.length){bo(Kl[0],t);for(var s=1;s<Kl.length;s++){var r=Kl[s];r.blockedOn===t&&(r.blockedOn=null)}}for(aa!==null&&bo(aa,t),ia!==null&&bo(ia,t),oa!==null&&bo(oa,t),nl.forEach(n),sl.forEach(n),s=0;s<ea.length;s++)r=ea[s],r.blockedOn===t&&(r.blockedOn=null);for(;0<ea.length&&(s=ea[0],s.blockedOn===null);)gg(s),s.blockedOn===null&&ea.shift()}var Ei=Mr.ReactCurrentBatchConfig,Bc=!0;function LC(t,n,s,r){var a=gt,i=Ei.transition;Ei.transition=null;try{gt=1,Cf(t,n,s,r)}finally{gt=a,Ei.transition=i}}function DC(t,n,s,r){var a=gt,i=Ei.transition;Ei.transition=null;try{gt=4,Cf(t,n,s,r)}finally{gt=a,Ei.transition=i}}function Cf(t,n,s,r){if(Bc){var a=rh(t,n,s,r);if(a===null)ou(t,n,r,_c,s),mp(t,r);else if(kC(a,t,n,s,r))r.stopPropagation();else if(mp(t,r),n&4&&-1<NC.indexOf(t)){for(;a!==null;){var i=kl(a);if(i!==null&&mg(i),i=rh(t,n,s,r),i===null&&ou(t,n,r,_c,s),i===a)break;a=i}a!==null&&r.stopPropagation()}else ou(t,n,r,null,s)}}var _c=null;function rh(t,n,s,r){if(_c=null,t=yf(r),t=Aa(t),t!==null)if(n=Va(t),n===null)t=null;else if(s=n.tag,s===13){if(t=ig(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return _c=t,null}function yg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xC()){case vf:return 1;case dg:return 4;case Tc:case jC:return 16;case ug:return 536870912;default:return 16}default:return 16}}var na=null,wf=null,fc=null;function vg(){if(fc)return fc;var t,n=wf,s=n.length,r,a="value"in na?na.value:na.textContent,i=a.length;for(t=0;t<s&&n[t]===a[t];t++);var o=s-t;for(r=1;r<=o&&n[s-r]===a[i-r];r++);return fc=a.slice(t,1<r?1-r:void 0)}function mc(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ql(){return!0}function xp(){return!1}function gs(t){function n(s,r,a,i,o){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(s=t[l],this[l]=s?s(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ql:xp,this.isPropagationStopped=xp,this}return Qt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nf=gs(Ui),Nl=Qt({},Ui,{view:0,detail:0}),$C=gs(Nl),Xd,Zd,Co,hd=Qt({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Co&&(Co&&t.type==="mousemove"?(Xd=t.screenX-Co.screenX,Zd=t.screenY-Co.screenY):Zd=Xd=0,Co=t),Xd)},movementY:function(t){return"movementY"in t?t.movementY:Zd}}),jp=gs(hd),OC=Qt({},hd,{dataTransfer:0}),TC=gs(OC),AC=Qt({},Nl,{relatedTarget:0}),eu=gs(AC),BC=Qt({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),_C=gs(BC),RC=Qt({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IC=gs(RC),PC=Qt({},Ui,{data:0}),gp=gs(PC),FC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HC(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zC[t])?!!n[t]:!1}function kf(){return HC}var KC=Qt({},Nl,{key:function(t){if(t.key){var n=FC[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=mc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kf,charCode:function(t){return t.type==="keypress"?mc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qC=gs(KC),UC=Qt({},hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yp=gs(UC),GC=Qt({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kf}),YC=gs(GC),WC=Qt({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),VC=gs(WC),QC=Qt({},hd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JC=gs(QC),XC=[9,13,27,32],Ef=Br&&"CompositionEvent"in window,Ko=null;Br&&"documentMode"in document&&(Ko=document.documentMode);var ZC=Br&&"TextEvent"in window&&!Ko,Sg=Br&&(!Ef||Ko&&8<Ko&&11>=Ko),vp=String.fromCharCode(32),Sp=!1;function bg(t,n){switch(t){case"keyup":return XC.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mi=!1;function ew(t,n){switch(t){case"compositionend":return Cg(n);case"keypress":return n.which!==32?null:(Sp=!0,vp);case"textInput":return t=n.data,t===vp&&Sp?null:t;default:return null}}function tw(t,n){if(mi)return t==="compositionend"||!Ef&&bg(t,n)?(t=vg(),fc=wf=na=null,mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Sg&&n.locale!=="ko"?null:n.data;default:return null}}var nw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!nw[t.type]:n==="textarea"}function wg(t,n,s,r){tg(r),n=Rc(n,"onChange"),0<n.length&&(s=new Nf("onChange","change",null,s,r),t.push({event:s,listeners:n}))}var qo=null,al=null;function sw(t){_g(t,0)}function fd(t){var n=ji(t);if(Wj(n))return t}function rw(t,n){if(t==="change")return n}var Ng=!1;if(Br){var tu;if(Br){var nu="oninput"in document;if(!nu){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),nu=typeof Cp.oninput=="function"}tu=nu}else tu=!1;Ng=tu&&(!document.documentMode||9<document.documentMode)}function wp(){qo&&(qo.detachEvent("onpropertychange",kg),al=qo=null)}function kg(t){if(t.propertyName==="value"&&fd(al)){var n=[];wg(n,al,t,yf(t)),ag(sw,n)}}function aw(t,n,s){t==="focusin"?(wp(),qo=n,al=s,qo.attachEvent("onpropertychange",kg)):t==="focusout"&&wp()}function iw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fd(al)}function ow(t,n){if(t==="click")return fd(n)}function lw(t,n){if(t==="input"||t==="change")return fd(n)}function cw(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var er=typeof Object.is=="function"?Object.is:cw;function il(t,n){if(er(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!Mu.call(n,a)||!er(t[a],n[a]))return!1}return!0}function Np(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kp(t,n){var s=Np(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=n&&r>=n)return{node:s,offset:n-t};t=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Np(s)}}function Eg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Eg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Lg(){for(var t=window,n=Dc();n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Dc(t.document)}return n}function Lf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function dw(t){var n=Lg(),s=t.focusedElem,r=t.selectionRange;if(n!==s&&s&&s.ownerDocument&&Eg(s.ownerDocument.documentElement,s)){if(r!==null&&Lf(s)){if(n=r.start,t=r.end,t===void 0&&(t=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(t,s.value.length);else if(t=(n=s.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var a=s.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!t.extend&&i>r&&(a=r,r=i,i=a),a=kp(s,i);var o=kp(s,r);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(n=n.createRange(),n.setStart(a.node,a.offset),t.removeAllRanges(),i>r?(t.addRange(n),t.extend(o.node,o.offset)):(n.setEnd(o.node,o.offset),t.addRange(n)))}}for(n=[],t=s;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)t=n[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uw=Br&&"documentMode"in document&&11>=document.documentMode,pi=null,ah=null,Uo=null,ih=!1;function Ep(t,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ih||pi==null||pi!==Dc(r)||(r=pi,"selectionStart"in r&&Lf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uo&&il(Uo,r)||(Uo=r,r=Rc(ah,"onSelect"),0<r.length&&(n=new Nf("onSelect","select",null,n,s),t.push({event:n,listeners:r}),n.target=pi)))}function Ul(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var xi={animationend:Ul("Animation","AnimationEnd"),animationiteration:Ul("Animation","AnimationIteration"),animationstart:Ul("Animation","AnimationStart"),transitionend:Ul("Transition","TransitionEnd")},su={},Dg={};Br&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function md(t){if(su[t])return su[t];if(!xi[t])return t;var n=xi[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Dg)return su[t]=n[s];return t}var $g=md("animationend"),Og=md("animationiteration"),Tg=md("animationstart"),Ag=md("transitionend"),Bg=new Map,Lp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ya(t,n){Bg.set(t,n),Wa(n,[t])}for(var ru=0;ru<Lp.length;ru++){var au=Lp[ru],hw=au.toLowerCase(),fw=au[0].toUpperCase()+au.slice(1);ya(hw,"on"+fw)}ya($g,"onAnimationEnd");ya(Og,"onAnimationIteration");ya(Tg,"onAnimationStart");ya("dblclick","onDoubleClick");ya("focusin","onFocus");ya("focusout","onBlur");ya(Ag,"onTransitionEnd");Oi("onMouseEnter",["mouseout","mouseover"]);Oi("onMouseLeave",["mouseout","mouseover"]);Oi("onPointerEnter",["pointerout","pointerover"]);Oi("onPointerLeave",["pointerout","pointerover"]);Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function Dp(t,n,s){var r=t.type||"unknown-event";t.currentTarget=s,hC(r,n,void 0,t),t.currentTarget=null}function _g(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],a=r.event;r=r.listeners;e:{var i=void 0;if(n)for(var o=r.length-1;0<=o;o--){var l=r[o],d=l.instance,h=l.currentTarget;if(l=l.listener,d!==i&&a.isPropagationStopped())break e;Dp(a,l,h),i=d}else for(o=0;o<r.length;o++){if(l=r[o],d=l.instance,h=l.currentTarget,l=l.listener,d!==i&&a.isPropagationStopped())break e;Dp(a,l,h),i=d}}}if(Oc)throw t=th,Oc=!1,th=null,t}function Bt(t,n){var s=n[uh];s===void 0&&(s=n[uh]=new Set);var r=t+"__bubble";s.has(r)||(Rg(n,t,2,!1),s.add(r))}function iu(t,n,s){var r=0;n&&(r|=4),Rg(s,t,r,n)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function ol(t){if(!t[Gl]){t[Gl]=!0,Kj.forEach(function(s){s!=="selectionchange"&&(mw.has(s)||iu(s,!1,t),iu(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Gl]||(n[Gl]=!0,iu("selectionchange",!1,n))}}function Rg(t,n,s,r){switch(yg(n)){case 1:var a=LC;break;case 4:a=DC;break;default:a=Cf}s=a.bind(null,n,s,t),a=void 0,!eh||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(n,s,{capture:!0,passive:a}):t.addEventListener(n,s,!0):a!==void 0?t.addEventListener(n,s,{passive:a}):t.addEventListener(n,s,!1)}function ou(t,n,s,r,a){var i=r;if(!(n&1)&&!(n&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Aa(l),o===null)return;if(d=o.tag,d===5||d===6){r=i=o;continue e}l=l.parentNode}}r=r.return}ag(function(){var h=i,u=yf(s),m=[];e:{var j=Bg.get(t);if(j!==void 0){var y=Nf,f=t;switch(t){case"keypress":if(mc(s)===0)break e;case"keydown":case"keyup":y=qC;break;case"focusin":f="focus",y=eu;break;case"focusout":f="blur",y=eu;break;case"beforeblur":case"afterblur":y=eu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=jp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=TC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=YC;break;case $g:case Og:case Tg:y=_C;break;case Ag:y=VC;break;case"scroll":y=$C;break;case"wheel":y=JC;break;case"copy":case"cut":case"paste":y=IC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=yp}var x=(n&4)!==0,S=!x&&t==="scroll",N=x?j!==null?j+"Capture":null:j;x=[];for(var b=h,E;b!==null;){E=b;var v=E.stateNode;if(E.tag===5&&v!==null&&(E=v,N!==null&&(v=tl(b,N),v!=null&&x.push(ll(b,v,E)))),S)break;b=b.return}0<x.length&&(j=new y(j,f,null,s,u),m.push({event:j,listeners:x}))}}if(!(n&7)){e:{if(j=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",j&&s!==Xu&&(f=s.relatedTarget||s.fromElement)&&(Aa(f)||f[_r]))break e;if((y||j)&&(j=u.window===u?u:(j=u.ownerDocument)?j.defaultView||j.parentWindow:window,y?(f=s.relatedTarget||s.toElement,y=h,f=f?Aa(f):null,f!==null&&(S=Va(f),f!==S||f.tag!==5&&f.tag!==6)&&(f=null)):(y=null,f=h),y!==f)){if(x=jp,v="onMouseLeave",N="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=yp,v="onPointerLeave",N="onPointerEnter",b="pointer"),S=y==null?j:ji(y),E=f==null?j:ji(f),j=new x(v,b+"leave",y,s,u),j.target=S,j.relatedTarget=E,v=null,Aa(u)===h&&(x=new x(N,b+"enter",f,s,u),x.target=E,x.relatedTarget=S,v=x),S=v,y&&f)t:{for(x=y,N=f,b=0,E=x;E;E=ri(E))b++;for(E=0,v=N;v;v=ri(v))E++;for(;0<b-E;)x=ri(x),b--;for(;0<E-b;)N=ri(N),E--;for(;b--;){if(x===N||N!==null&&x===N.alternate)break t;x=ri(x),N=ri(N)}x=null}else x=null;y!==null&&$p(m,j,y,x,!1),f!==null&&S!==null&&$p(m,S,f,x,!0)}}e:{if(j=h?ji(h):window,y=j.nodeName&&j.nodeName.toLowerCase(),y==="select"||y==="input"&&j.type==="file")var k=rw;else if(bp(j))if(Ng)k=lw;else{k=iw;var $=aw}else(y=j.nodeName)&&y.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(k=ow);if(k&&(k=k(t,h))){wg(m,k,s,u);break e}$&&$(t,j,h),t==="focusout"&&($=j._wrapperState)&&$.controlled&&j.type==="number"&&Yu(j,"number",j.value)}switch($=h?ji(h):window,t){case"focusin":(bp($)||$.contentEditable==="true")&&(pi=$,ah=h,Uo=null);break;case"focusout":Uo=ah=pi=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,Ep(m,s,u);break;case"selectionchange":if(uw)break;case"keydown":case"keyup":Ep(m,s,u)}var C;if(Ef)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else mi?bg(t,s)&&(w="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(w="onCompositionStart");w&&(Sg&&s.locale!=="ko"&&(mi||w!=="onCompositionStart"?w==="onCompositionEnd"&&mi&&(C=vg()):(na=u,wf="value"in na?na.value:na.textContent,mi=!0)),$=Rc(h,w),0<$.length&&(w=new gp(w,t,null,s,u),m.push({event:w,listeners:$}),C?w.data=C:(C=Cg(s),C!==null&&(w.data=C)))),(C=ZC?ew(t,s):tw(t,s))&&(h=Rc(h,"onBeforeInput"),0<h.length&&(u=new gp("onBeforeInput","beforeinput",null,s,u),m.push({event:u,listeners:h}),u.data=C))}_g(m,n)})}function ll(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Rc(t,n){for(var s=n+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=tl(t,s),i!=null&&r.unshift(ll(t,i,a)),i=tl(t,n),i!=null&&r.push(ll(t,i,a))),t=t.return}return r}function ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $p(t,n,s,r,a){for(var i=n._reactName,o=[];s!==null&&s!==r;){var l=s,d=l.alternate,h=l.stateNode;if(d!==null&&d===r)break;l.tag===5&&h!==null&&(l=h,a?(d=tl(s,i),d!=null&&o.unshift(ll(s,d,l))):a||(d=tl(s,i),d!=null&&o.push(ll(s,d,l)))),s=s.return}o.length!==0&&t.push({event:n,listeners:o})}var pw=/\r\n?/g,xw=/\u0000|\uFFFD/g;function Op(t){return(typeof t=="string"?t:""+t).replace(pw,`
`).replace(xw,"")}function Yl(t,n,s){if(n=Op(n),Op(t)!==n&&s)throw Error(J(425))}function Ic(){}var oh=null,lh=null;function ch(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dh=typeof setTimeout=="function"?setTimeout:void 0,jw=typeof clearTimeout=="function"?clearTimeout:void 0,Tp=typeof Promise=="function"?Promise:void 0,gw=typeof queueMicrotask=="function"?queueMicrotask:typeof Tp<"u"?function(t){return Tp.resolve(null).then(t).catch(yw)}:dh;function yw(t){setTimeout(function(){throw t})}function lu(t,n){var s=n,r=0;do{var a=s.nextSibling;if(t.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){t.removeChild(a),rl(n);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);rl(n)}function la(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Ap(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),ir="__reactFiber$"+Gi,cl="__reactProps$"+Gi,_r="__reactContainer$"+Gi,uh="__reactEvents$"+Gi,vw="__reactListeners$"+Gi,Sw="__reactHandles$"+Gi;function Aa(t){var n=t[ir];if(n)return n;for(var s=t.parentNode;s;){if(n=s[_r]||s[ir]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Ap(t);t!==null;){if(s=t[ir])return s;t=Ap(t)}return n}t=s,s=t.parentNode}return null}function kl(t){return t=t[ir]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function pd(t){return t[cl]||null}var hh=[],gi=-1;function va(t){return{current:t}}function Pt(t){0>gi||(t.current=hh[gi],hh[gi]=null,gi--)}function Et(t,n){gi++,hh[gi]=t.current,t.current=n}var xa={},zn=va(xa),ts=va(!1),za=xa;function Ti(t,n){var s=t.type.contextTypes;if(!s)return xa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=n[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=a),a}function ns(t){return t=t.childContextTypes,t!=null}function Pc(){Pt(ts),Pt(zn)}function Bp(t,n,s){if(zn.current!==xa)throw Error(J(168));Et(zn,n),Et(ts,s)}function Ig(t,n,s){var r=t.stateNode;if(n=n.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in n))throw Error(J(108,aC(t)||"Unknown",a));return Qt({},s,r)}function Fc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xa,za=zn.current,Et(zn,t),Et(ts,ts.current),!0}function _p(t,n,s){var r=t.stateNode;if(!r)throw Error(J(169));s?(t=Ig(t,n,za),r.__reactInternalMemoizedMergedChildContext=t,Pt(ts),Pt(zn),Et(zn,t)):Pt(ts),Et(ts,s)}var Nr=null,xd=!1,cu=!1;function Pg(t){Nr===null?Nr=[t]:Nr.push(t)}function bw(t){xd=!0,Pg(t)}function Sa(){if(!cu&&Nr!==null){cu=!0;var t=0,n=gt;try{var s=Nr;for(gt=1;t<s.length;t++){var r=s[t];do r=r(!0);while(r!==null)}Nr=null,xd=!1}catch(a){throw Nr!==null&&(Nr=Nr.slice(t+1)),cg(vf,Sa),a}finally{gt=n,cu=!1}}return null}var yi=[],vi=0,Mc=null,zc=0,Es=[],Ls=0,Ha=null,Lr=1,Dr="";function Oa(t,n){yi[vi++]=zc,yi[vi++]=Mc,Mc=t,zc=n}function Fg(t,n,s){Es[Ls++]=Lr,Es[Ls++]=Dr,Es[Ls++]=Ha,Ha=t;var r=Lr;t=Dr;var a=32-Xs(r)-1;r&=~(1<<a),s+=1;var i=32-Xs(n)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Lr=1<<32-Xs(n)+a|s<<a|r,Dr=i+t}else Lr=1<<i|s<<a|r,Dr=t}function Df(t){t.return!==null&&(Oa(t,1),Fg(t,1,0))}function $f(t){for(;t===Mc;)Mc=yi[--vi],yi[vi]=null,zc=yi[--vi],yi[vi]=null;for(;t===Ha;)Ha=Es[--Ls],Es[Ls]=null,Dr=Es[--Ls],Es[Ls]=null,Lr=Es[--Ls],Es[Ls]=null}var ms=null,fs=null,Mt=!1,Qs=null;function Mg(t,n){var s=$s(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=t,n=t.deletions,n===null?(t.deletions=[s],t.flags|=16):n.push(s)}function Rp(t,n){switch(t.tag){case 5:var s=t.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,ms=t,fs=la(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,ms=t,fs=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Ha!==null?{id:Lr,overflow:Dr}:null,t.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=$s(18,null,null,0),s.stateNode=n,s.return=t,t.child=s,ms=t,fs=null,!0):!1;default:return!1}}function fh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mh(t){if(Mt){var n=fs;if(n){var s=n;if(!Rp(t,n)){if(fh(t))throw Error(J(418));n=la(s.nextSibling);var r=ms;n&&Rp(t,n)?Mg(r,s):(t.flags=t.flags&-4097|2,Mt=!1,ms=t)}}else{if(fh(t))throw Error(J(418));t.flags=t.flags&-4097|2,Mt=!1,ms=t}}}function Ip(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ms=t}function Wl(t){if(t!==ms)return!1;if(!Mt)return Ip(t),Mt=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!ch(t.type,t.memoizedProps)),n&&(n=fs)){if(fh(t))throw zg(),Error(J(418));for(;n;)Mg(t,n),n=la(n.nextSibling)}if(Ip(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(n===0){fs=la(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}t=t.nextSibling}fs=null}}else fs=ms?la(t.stateNode.nextSibling):null;return!0}function zg(){for(var t=fs;t;)t=la(t.nextSibling)}function Ai(){fs=ms=null,Mt=!1}function Of(t){Qs===null?Qs=[t]:Qs.push(t)}var Cw=Mr.ReactCurrentBatchConfig;function Ys(t,n){if(t&&t.defaultProps){n=Qt({},n),t=t.defaultProps;for(var s in t)n[s]===void 0&&(n[s]=t[s]);return n}return n}var Hc=va(null),Kc=null,Si=null,Tf=null;function Af(){Tf=Si=Kc=null}function Bf(t){var n=Hc.current;Pt(Hc),t._currentValue=n}function ph(t,n,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),t===s)break;t=t.return}}function Li(t,n){Kc=t,Tf=Si=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&n&&(es=!0),t.firstContext=null)}function As(t){var n=t._currentValue;if(Tf!==t)if(t={context:t,memoizedValue:n,next:null},Si===null){if(Kc===null)throw Error(J(308));Si=t,Kc.dependencies={lanes:0,firstContext:t}}else Si=Si.next=t;return n}var Ba=null;function _f(t){Ba===null?Ba=[t]:Ba.push(t)}function Hg(t,n,s,r){var a=n.interleaved;return a===null?(s.next=s,_f(n)):(s.next=a.next,a.next=s),n.interleaved=s,Rr(t,r)}function Rr(t,n){t.lanes|=n;var s=t.alternate;for(s!==null&&(s.lanes|=n),s=t,t=t.return;t!==null;)t.childLanes|=n,s=t.alternate,s!==null&&(s.childLanes|=n),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Xr=!1;function Rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kg(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function ca(t,n,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,it&2){var a=r.pending;return a===null?n.next=n:(n.next=a.next,a.next=n),r.pending=n,Rr(t,s)}return a=r.interleaved,a===null?(n.next=n,_f(r)):(n.next=a.next,a.next=n),r.interleaved=n,Rr(t,s)}function pc(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var r=n.lanes;r&=t.pendingLanes,s|=r,n.lanes=s,Sf(t,s)}}function Pp(t,n){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?a=i=n:i=i.next=n}else a=i=n;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}function qc(t,n,s,r){var a=t.updateQueue;Xr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var d=l,h=d.next;d.next=null,o===null?i=h:o.next=h,o=d;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=h:l.next=h,u.lastBaseUpdate=d))}if(i!==null){var m=a.baseState;o=0,u=h=d=null,l=i;do{var j=l.lane,y=l.eventTime;if((r&j)===j){u!==null&&(u=u.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=t,x=l;switch(j=n,y=s,x.tag){case 1:if(f=x.payload,typeof f=="function"){m=f.call(y,m,j);break e}m=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=x.payload,j=typeof f=="function"?f.call(y,m,j):f,j==null)break e;m=Qt({},m,j);break e;case 2:Xr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,j=a.effects,j===null?a.effects=[l]:j.push(l))}else y={eventTime:y,lane:j,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(h=u=y,d=m):u=u.next=y,o|=j;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;j=l,l=j.next,j.next=null,a.lastBaseUpdate=j,a.shared.pending=null}}while(1);if(u===null&&(d=m),a.baseState=d,a.firstBaseUpdate=h,a.lastBaseUpdate=u,n=a.shared.interleaved,n!==null){a=n;do o|=a.lane,a=a.next;while(a!==n)}else i===null&&(a.shared.lanes=0);qa|=o,t.lanes=o,t.memoizedState=m}}function Fp(t,n,s){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var r=t[n],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error(J(191,a));a.call(r)}}}var qg=new Hj.Component().refs;function xh(t,n,s,r){n=t.memoizedState,s=s(r,n),s=s==null?n:Qt({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var jd={isMounted:function(t){return(t=t._reactInternals)?Va(t)===t:!1},enqueueSetState:function(t,n,s){t=t._reactInternals;var r=Yn(),a=ua(t),i=Or(r,a);i.payload=n,s!=null&&(i.callback=s),n=ca(t,i,a),n!==null&&(Zs(n,t,a,r),pc(n,t,a))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var r=Yn(),a=ua(t),i=Or(r,a);i.tag=1,i.payload=n,s!=null&&(i.callback=s),n=ca(t,i,a),n!==null&&(Zs(n,t,a,r),pc(n,t,a))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Yn(),r=ua(t),a=Or(s,r);a.tag=2,n!=null&&(a.callback=n),n=ca(t,a,r),n!==null&&(Zs(n,t,r,s),pc(n,t,r))}};function Mp(t,n,s,r,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):n.prototype&&n.prototype.isPureReactComponent?!il(s,r)||!il(a,i):!0}function Ug(t,n,s){var r=!1,a=xa,i=n.contextType;return typeof i=="object"&&i!==null?i=As(i):(a=ns(n)?za:zn.current,r=n.contextTypes,i=(r=r!=null)?Ti(t,a):xa),n=new n(s,i),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=jd,t.stateNode=n,n._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),n}function zp(t,n,s,r){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==t&&jd.enqueueReplaceState(n,n.state,null)}function jh(t,n,s,r){var a=t.stateNode;a.props=s,a.state=t.memoizedState,a.refs=qg,Rf(t);var i=n.contextType;typeof i=="object"&&i!==null?a.context=As(i):(i=ns(n)?za:zn.current,a.context=Ti(t,i)),a.state=t.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(xh(t,n,i,s),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(n=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),n!==a.state&&jd.enqueueReplaceState(a,a.state,null),qc(t,s,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function wo(t,n,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(J(309));var r=s.stateNode}if(!r)throw Error(J(147,t));var a=r,i=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===i?n.ref:(n=function(o){var l=a.refs;l===qg&&(l=a.refs={}),o===null?delete l[i]:l[i]=o},n._stringRef=i,n)}if(typeof t!="string")throw Error(J(284));if(!s._owner)throw Error(J(290,t))}return t}function Vl(t,n){throw t=Object.prototype.toString.call(n),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Hp(t){var n=t._init;return n(t._payload)}function Gg(t){function n(N,b){if(t){var E=N.deletions;E===null?(N.deletions=[b],N.flags|=16):E.push(b)}}function s(N,b){if(!t)return null;for(;b!==null;)n(N,b),b=b.sibling;return null}function r(N,b){for(N=new Map;b!==null;)b.key!==null?N.set(b.key,b):N.set(b.index,b),b=b.sibling;return N}function a(N,b){return N=ha(N,b),N.index=0,N.sibling=null,N}function i(N,b,E){return N.index=E,t?(E=N.alternate,E!==null?(E=E.index,E<b?(N.flags|=2,b):E):(N.flags|=2,b)):(N.flags|=1048576,b)}function o(N){return t&&N.alternate===null&&(N.flags|=2),N}function l(N,b,E,v){return b===null||b.tag!==6?(b=xu(E,N.mode,v),b.return=N,b):(b=a(b,E),b.return=N,b)}function d(N,b,E,v){var k=E.type;return k===fi?u(N,b,E.props.children,v,E.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Jr&&Hp(k)===b.type)?(v=a(b,E.props),v.ref=wo(N,b,E),v.return=N,v):(v=Sc(E.type,E.key,E.props,null,N.mode,v),v.ref=wo(N,b,E),v.return=N,v)}function h(N,b,E,v){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=ju(E,N.mode,v),b.return=N,b):(b=a(b,E.children||[]),b.return=N,b)}function u(N,b,E,v,k){return b===null||b.tag!==7?(b=Fa(E,N.mode,v,k),b.return=N,b):(b=a(b,E),b.return=N,b)}function m(N,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=xu(""+b,N.mode,E),b.return=N,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pl:return E=Sc(b.type,b.key,b.props,null,N.mode,E),E.ref=wo(N,null,b),E.return=N,E;case hi:return b=ju(b,N.mode,E),b.return=N,b;case Jr:var v=b._init;return m(N,v(b._payload),E)}if(Ro(b)||yo(b))return b=Fa(b,N.mode,E,null),b.return=N,b;Vl(N,b)}return null}function j(N,b,E,v){var k=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return k!==null?null:l(N,b,""+E,v);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pl:return E.key===k?d(N,b,E,v):null;case hi:return E.key===k?h(N,b,E,v):null;case Jr:return k=E._init,j(N,b,k(E._payload),v)}if(Ro(E)||yo(E))return k!==null?null:u(N,b,E,v,null);Vl(N,E)}return null}function y(N,b,E,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return N=N.get(E)||null,l(b,N,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pl:return N=N.get(v.key===null?E:v.key)||null,d(b,N,v,k);case hi:return N=N.get(v.key===null?E:v.key)||null,h(b,N,v,k);case Jr:var $=v._init;return y(N,b,E,$(v._payload),k)}if(Ro(v)||yo(v))return N=N.get(E)||null,u(b,N,v,k,null);Vl(b,v)}return null}function f(N,b,E,v){for(var k=null,$=null,C=b,w=b=0,A=null;C!==null&&w<E.length;w++){C.index>w?(A=C,C=null):A=C.sibling;var B=j(N,C,E[w],v);if(B===null){C===null&&(C=A);break}t&&C&&B.alternate===null&&n(N,C),b=i(B,b,w),$===null?k=B:$.sibling=B,$=B,C=A}if(w===E.length)return s(N,C),Mt&&Oa(N,w),k;if(C===null){for(;w<E.length;w++)C=m(N,E[w],v),C!==null&&(b=i(C,b,w),$===null?k=C:$.sibling=C,$=C);return Mt&&Oa(N,w),k}for(C=r(N,C);w<E.length;w++)A=y(C,N,w,E[w],v),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?w:A.key),b=i(A,b,w),$===null?k=A:$.sibling=A,$=A);return t&&C.forEach(function(H){return n(N,H)}),Mt&&Oa(N,w),k}function x(N,b,E,v){var k=yo(E);if(typeof k!="function")throw Error(J(150));if(E=k.call(E),E==null)throw Error(J(151));for(var $=k=null,C=b,w=b=0,A=null,B=E.next();C!==null&&!B.done;w++,B=E.next()){C.index>w?(A=C,C=null):A=C.sibling;var H=j(N,C,B.value,v);if(H===null){C===null&&(C=A);break}t&&C&&H.alternate===null&&n(N,C),b=i(H,b,w),$===null?k=H:$.sibling=H,$=H,C=A}if(B.done)return s(N,C),Mt&&Oa(N,w),k;if(C===null){for(;!B.done;w++,B=E.next())B=m(N,B.value,v),B!==null&&(b=i(B,b,w),$===null?k=B:$.sibling=B,$=B);return Mt&&Oa(N,w),k}for(C=r(N,C);!B.done;w++,B=E.next())B=y(C,N,w,B.value,v),B!==null&&(t&&B.alternate!==null&&C.delete(B.key===null?w:B.key),b=i(B,b,w),$===null?k=B:$.sibling=B,$=B);return t&&C.forEach(function(I){return n(N,I)}),Mt&&Oa(N,w),k}function S(N,b,E,v){if(typeof E=="object"&&E!==null&&E.type===fi&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Pl:e:{for(var k=E.key,$=b;$!==null;){if($.key===k){if(k=E.type,k===fi){if($.tag===7){s(N,$.sibling),b=a($,E.props.children),b.return=N,N=b;break e}}else if($.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Jr&&Hp(k)===$.type){s(N,$.sibling),b=a($,E.props),b.ref=wo(N,$,E),b.return=N,N=b;break e}s(N,$);break}else n(N,$);$=$.sibling}E.type===fi?(b=Fa(E.props.children,N.mode,v,E.key),b.return=N,N=b):(v=Sc(E.type,E.key,E.props,null,N.mode,v),v.ref=wo(N,b,E),v.return=N,N=v)}return o(N);case hi:e:{for($=E.key;b!==null;){if(b.key===$)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){s(N,b.sibling),b=a(b,E.children||[]),b.return=N,N=b;break e}else{s(N,b);break}else n(N,b);b=b.sibling}b=ju(E,N.mode,v),b.return=N,N=b}return o(N);case Jr:return $=E._init,S(N,b,$(E._payload),v)}if(Ro(E))return f(N,b,E,v);if(yo(E))return x(N,b,E,v);Vl(N,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(s(N,b.sibling),b=a(b,E),b.return=N,N=b):(s(N,b),b=xu(E,N.mode,v),b.return=N,N=b),o(N)):s(N,b)}return S}var Bi=Gg(!0),Yg=Gg(!1),El={},cr=va(El),dl=va(El),ul=va(El);function _a(t){if(t===El)throw Error(J(174));return t}function If(t,n){switch(Et(ul,n),Et(dl,t),Et(cr,El),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Vu(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=Vu(n,t)}Pt(cr),Et(cr,n)}function _i(){Pt(cr),Pt(dl),Pt(ul)}function Wg(t){_a(ul.current);var n=_a(cr.current),s=Vu(n,t.type);n!==s&&(Et(dl,t),Et(cr,s))}function Pf(t){dl.current===t&&(Pt(cr),Pt(dl))}var Yt=va(0);function Uc(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var du=[];function Ff(){for(var t=0;t<du.length;t++)du[t]._workInProgressVersionPrimary=null;du.length=0}var xc=Mr.ReactCurrentDispatcher,uu=Mr.ReactCurrentBatchConfig,Ka=0,Vt=null,vn=null,Nn=null,Gc=!1,Go=!1,hl=0,ww=0;function Rn(){throw Error(J(321))}function Mf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!er(t[s],n[s]))return!1;return!0}function zf(t,n,s,r,a,i){if(Ka=i,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,xc.current=t===null||t.memoizedState===null?Lw:Dw,t=s(r,a),Go){i=0;do{if(Go=!1,hl=0,25<=i)throw Error(J(301));i+=1,Nn=vn=null,n.updateQueue=null,xc.current=$w,t=s(r,a)}while(Go)}if(xc.current=Yc,n=vn!==null&&vn.next!==null,Ka=0,Nn=vn=Vt=null,Gc=!1,n)throw Error(J(300));return t}function Hf(){var t=hl!==0;return hl=0,t}function ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Vt.memoizedState=Nn=t:Nn=Nn.next=t,Nn}function Bs(){if(vn===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=vn.next;var n=Nn===null?Vt.memoizedState:Nn.next;if(n!==null)Nn=n,vn=t;else{if(t===null)throw Error(J(310));vn=t,t={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},Nn===null?Vt.memoizedState=Nn=t:Nn=Nn.next=t}return Nn}function fl(t,n){return typeof n=="function"?n(t):n}function hu(t){var n=Bs(),s=n.queue;if(s===null)throw Error(J(311));s.lastRenderedReducer=t;var r=vn,a=r.baseQueue,i=s.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,d=null,h=i;do{var u=h.lane;if((Ka&u)===u)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:u,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(l=d=m,o=r):d=d.next=m,Vt.lanes|=u,qa|=u}h=h.next}while(h!==null&&h!==i);d===null?o=r:d.next=l,er(r,n.memoizedState)||(es=!0),n.memoizedState=r,n.baseState=o,n.baseQueue=d,s.lastRenderedState=r}if(t=s.interleaved,t!==null){a=t;do i=a.lane,Vt.lanes|=i,qa|=i,a=a.next;while(a!==t)}else a===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function fu(t){var n=Bs(),s=n.queue;if(s===null)throw Error(J(311));s.lastRenderedReducer=t;var r=s.dispatch,a=s.pending,i=n.memoizedState;if(a!==null){s.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);er(i,n.memoizedState)||(es=!0),n.memoizedState=i,n.baseQueue===null&&(n.baseState=i),s.lastRenderedState=i}return[i,r]}function Vg(){}function Qg(t,n){var s=Vt,r=Bs(),a=n(),i=!er(r.memoizedState,a);if(i&&(r.memoizedState=a,es=!0),r=r.queue,Kf(Zg.bind(null,s,r,t),[t]),r.getSnapshot!==n||i||Nn!==null&&Nn.memoizedState.tag&1){if(s.flags|=2048,ml(9,Xg.bind(null,s,r,a,n),void 0,null),kn===null)throw Error(J(349));Ka&30||Jg(s,n,a)}return a}function Jg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Vt.updateQueue,n===null?(n={lastEffect:null,stores:null},Vt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Xg(t,n,s,r){n.value=s,n.getSnapshot=r,ey(n)&&ty(t)}function Zg(t,n,s){return s(function(){ey(n)&&ty(t)})}function ey(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!er(t,s)}catch{return!0}}function ty(t){var n=Rr(t,1);n!==null&&Zs(n,t,1,-1)}function Kp(t){var n=ar();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:t},n.queue=t,t=t.dispatch=Ew.bind(null,Vt,t),[n.memoizedState,t]}function ml(t,n,s,r){return t={tag:t,create:n,destroy:s,deps:r,next:null},n=Vt.updateQueue,n===null?(n={lastEffect:null,stores:null},Vt.updateQueue=n,n.lastEffect=t.next=t):(s=n.lastEffect,s===null?n.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,n.lastEffect=t)),t}function ny(){return Bs().memoizedState}function jc(t,n,s,r){var a=ar();Vt.flags|=t,a.memoizedState=ml(1|n,s,void 0,r===void 0?null:r)}function gd(t,n,s,r){var a=Bs();r=r===void 0?null:r;var i=void 0;if(vn!==null){var o=vn.memoizedState;if(i=o.destroy,r!==null&&Mf(r,o.deps)){a.memoizedState=ml(n,s,i,r);return}}Vt.flags|=t,a.memoizedState=ml(1|n,s,i,r)}function qp(t,n){return jc(8390656,8,t,n)}function Kf(t,n){return gd(2048,8,t,n)}function sy(t,n){return gd(4,2,t,n)}function ry(t,n){return gd(4,4,t,n)}function ay(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function iy(t,n,s){return s=s!=null?s.concat([t]):null,gd(4,4,ay.bind(null,n,t),s)}function qf(){}function oy(t,n){var s=Bs();n=n===void 0?null:n;var r=s.memoizedState;return r!==null&&n!==null&&Mf(n,r[1])?r[0]:(s.memoizedState=[t,n],t)}function ly(t,n){var s=Bs();n=n===void 0?null:n;var r=s.memoizedState;return r!==null&&n!==null&&Mf(n,r[1])?r[0]:(t=t(),s.memoizedState=[t,n],t)}function cy(t,n,s){return Ka&21?(er(s,n)||(s=hg(),Vt.lanes|=s,qa|=s,t.baseState=!0),n):(t.baseState&&(t.baseState=!1,es=!0),t.memoizedState=s)}function Nw(t,n){var s=gt;gt=s!==0&&4>s?s:4,t(!0);var r=uu.transition;uu.transition={};try{t(!1),n()}finally{gt=s,uu.transition=r}}function dy(){return Bs().memoizedState}function kw(t,n,s){var r=ua(t);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},uy(t))hy(n,s);else if(s=Hg(t,n,s,r),s!==null){var a=Yn();Zs(s,t,r,a),fy(s,n,r)}}function Ew(t,n,s){var r=ua(t),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(uy(t))hy(n,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=n.lastRenderedReducer,i!==null))try{var o=n.lastRenderedState,l=i(o,s);if(a.hasEagerState=!0,a.eagerState=l,er(l,o)){var d=n.interleaved;d===null?(a.next=a,_f(n)):(a.next=d.next,d.next=a),n.interleaved=a;return}}catch{}finally{}s=Hg(t,n,a,r),s!==null&&(a=Yn(),Zs(s,t,r,a),fy(s,n,r))}}function uy(t){var n=t.alternate;return t===Vt||n!==null&&n===Vt}function hy(t,n){Go=Gc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function fy(t,n,s){if(s&4194240){var r=n.lanes;r&=t.pendingLanes,s|=r,n.lanes=s,Sf(t,s)}}var Yc={readContext:As,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},Lw={readContext:As,useCallback:function(t,n){return ar().memoizedState=[t,n===void 0?null:n],t},useContext:As,useEffect:qp,useImperativeHandle:function(t,n,s){return s=s!=null?s.concat([t]):null,jc(4194308,4,ay.bind(null,n,t),s)},useLayoutEffect:function(t,n){return jc(4194308,4,t,n)},useInsertionEffect:function(t,n){return jc(4,2,t,n)},useMemo:function(t,n){var s=ar();return n=n===void 0?null:n,t=t(),s.memoizedState=[t,n],t},useReducer:function(t,n,s){var r=ar();return n=s!==void 0?s(n):n,r.memoizedState=r.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},r.queue=t,t=t.dispatch=kw.bind(null,Vt,t),[r.memoizedState,t]},useRef:function(t){var n=ar();return t={current:t},n.memoizedState=t},useState:Kp,useDebugValue:qf,useDeferredValue:function(t){return ar().memoizedState=t},useTransition:function(){var t=Kp(!1),n=t[0];return t=Nw.bind(null,t[1]),ar().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,s){var r=Vt,a=ar();if(Mt){if(s===void 0)throw Error(J(407));s=s()}else{if(s=n(),kn===null)throw Error(J(349));Ka&30||Jg(r,n,s)}a.memoizedState=s;var i={value:s,getSnapshot:n};return a.queue=i,qp(Zg.bind(null,r,i,t),[t]),r.flags|=2048,ml(9,Xg.bind(null,r,i,s,n),void 0,null),s},useId:function(){var t=ar(),n=kn.identifierPrefix;if(Mt){var s=Dr,r=Lr;s=(r&~(1<<32-Xs(r)-1)).toString(32)+s,n=":"+n+"R"+s,s=hl++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=ww++,n=":"+n+"r"+s.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Dw={readContext:As,useCallback:oy,useContext:As,useEffect:Kf,useImperativeHandle:iy,useInsertionEffect:sy,useLayoutEffect:ry,useMemo:ly,useReducer:hu,useRef:ny,useState:function(){return hu(fl)},useDebugValue:qf,useDeferredValue:function(t){var n=Bs();return cy(n,vn.memoizedState,t)},useTransition:function(){var t=hu(fl)[0],n=Bs().memoizedState;return[t,n]},useMutableSource:Vg,useSyncExternalStore:Qg,useId:dy,unstable_isNewReconciler:!1},$w={readContext:As,useCallback:oy,useContext:As,useEffect:Kf,useImperativeHandle:iy,useInsertionEffect:sy,useLayoutEffect:ry,useMemo:ly,useReducer:fu,useRef:ny,useState:function(){return fu(fl)},useDebugValue:qf,useDeferredValue:function(t){var n=Bs();return vn===null?n.memoizedState=t:cy(n,vn.memoizedState,t)},useTransition:function(){var t=fu(fl)[0],n=Bs().memoizedState;return[t,n]},useMutableSource:Vg,useSyncExternalStore:Qg,useId:dy,unstable_isNewReconciler:!1};function Ri(t,n){try{var s="",r=n;do s+=rC(r),r=r.return;while(r);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:n,stack:a,digest:null}}function mu(t,n,s){return{value:t,source:null,stack:s??null,digest:n??null}}function gh(t,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Ow=typeof WeakMap=="function"?WeakMap:Map;function my(t,n,s){s=Or(-1,s),s.tag=3,s.payload={element:null};var r=n.value;return s.callback=function(){Vc||(Vc=!0,Lh=r),gh(t,n)},s}function py(t,n,s){s=Or(-1,s),s.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=n.value;s.payload=function(){return r(a)},s.callback=function(){gh(t,n)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){gh(t,n),typeof r!="function"&&(da===null?da=new Set([this]):da.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})}),s}function Up(t,n,s){var r=t.pingCache;if(r===null){r=t.pingCache=new Ow;var a=new Set;r.set(n,a)}else a=r.get(n),a===void 0&&(a=new Set,r.set(n,a));a.has(s)||(a.add(s),t=Uw.bind(null,t,n,s),n.then(t,t))}function Gp(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Yp(t,n,s,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===n?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Or(-1,1),n.tag=2,ca(s,n,1))),s.lanes|=1),t)}var Tw=Mr.ReactCurrentOwner,es=!1;function Gn(t,n,s,r){n.child=t===null?Yg(n,null,s,r):Bi(n,t.child,s,r)}function Wp(t,n,s,r,a){s=s.render;var i=n.ref;return Li(n,a),r=zf(t,n,s,r,i,a),s=Hf(),t!==null&&!es?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a,Ir(t,n,a)):(Mt&&s&&Df(n),n.flags|=1,Gn(t,n,r,a),n.child)}function Vp(t,n,s,r,a){if(t===null){var i=s.type;return typeof i=="function"&&!Xf(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=i,xy(t,n,i,r,a)):(t=Sc(s.type,null,r,n,n.mode,a),t.ref=n.ref,t.return=n,n.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:il,s(o,r)&&t.ref===n.ref)return Ir(t,n,a)}return n.flags|=1,t=ha(i,r),t.ref=n.ref,t.return=n,n.child=t}function xy(t,n,s,r,a){if(t!==null){var i=t.memoizedProps;if(il(i,r)&&t.ref===n.ref)if(es=!1,n.pendingProps=r=i,(t.lanes&a)!==0)t.flags&131072&&(es=!0);else return n.lanes=t.lanes,Ir(t,n,a)}return yh(t,n,s,r,a)}function jy(t,n,s){var r=n.pendingProps,a=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Ci,hs),hs|=s;else{if(!(s&1073741824))return t=i!==null?i.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Et(Ci,hs),hs|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:s,Et(Ci,hs),hs|=r}else i!==null?(r=i.baseLanes|s,n.memoizedState=null):r=s,Et(Ci,hs),hs|=r;return Gn(t,n,a,s),n.child}function gy(t,n){var s=n.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function yh(t,n,s,r,a){var i=ns(s)?za:zn.current;return i=Ti(n,i),Li(n,a),s=zf(t,n,s,r,i,a),r=Hf(),t!==null&&!es?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a,Ir(t,n,a)):(Mt&&r&&Df(n),n.flags|=1,Gn(t,n,s,a),n.child)}function Qp(t,n,s,r,a){if(ns(s)){var i=!0;Fc(n)}else i=!1;if(Li(n,a),n.stateNode===null)gc(t,n),Ug(n,s,r),jh(n,s,r,a),r=!0;else if(t===null){var o=n.stateNode,l=n.memoizedProps;o.props=l;var d=o.context,h=s.contextType;typeof h=="object"&&h!==null?h=As(h):(h=ns(s)?za:zn.current,h=Ti(n,h));var u=s.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||d!==h)&&zp(n,o,r,h),Xr=!1;var j=n.memoizedState;o.state=j,qc(n,r,o,a),d=n.memoizedState,l!==r||j!==d||ts.current||Xr?(typeof u=="function"&&(xh(n,s,u,r),d=n.memoizedState),(l=Xr||Mp(n,s,l,r,j,d,h))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(n.flags|=4194308)):(typeof o.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=d),o.props=r,o.state=d,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{o=n.stateNode,Kg(t,n),l=n.memoizedProps,h=n.type===n.elementType?l:Ys(n.type,l),o.props=h,m=n.pendingProps,j=o.context,d=s.contextType,typeof d=="object"&&d!==null?d=As(d):(d=ns(s)?za:zn.current,d=Ti(n,d));var y=s.getDerivedStateFromProps;(u=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||j!==d)&&zp(n,o,r,d),Xr=!1,j=n.memoizedState,o.state=j,qc(n,r,o,a);var f=n.memoizedState;l!==m||j!==f||ts.current||Xr?(typeof y=="function"&&(xh(n,s,y,r),f=n.memoizedState),(h=Xr||Mp(n,s,h,r,j,f,d)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,f,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,f,d)),typeof o.componentDidUpdate=="function"&&(n.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=f),o.props=r,o.state=f,o.context=d,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),r=!1)}return vh(t,n,s,r,i,a)}function vh(t,n,s,r,a,i){gy(t,n);var o=(n.flags&128)!==0;if(!r&&!o)return a&&_p(n,s,!1),Ir(t,n,i);r=n.stateNode,Tw.current=n;var l=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return n.flags|=1,t!==null&&o?(n.child=Bi(n,t.child,null,i),n.child=Bi(n,null,l,i)):Gn(t,n,l,i),n.memoizedState=r.state,a&&_p(n,s,!0),n.child}function yy(t){var n=t.stateNode;n.pendingContext?Bp(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Bp(t,n.context,!1),If(t,n.containerInfo)}function Jp(t,n,s,r,a){return Ai(),Of(a),n.flags|=256,Gn(t,n,s,r),n.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function bh(t){return{baseLanes:t,cachePool:null,transitions:null}}function vy(t,n,s){var r=n.pendingProps,a=Yt.current,i=!1,o=(n.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Et(Yt,a&1),t===null)return mh(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(n.mode&1?t.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(o=r.children,t=r.fallback,i?(r=n.mode,i=n.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Sd(o,r,0,null),t=Fa(t,r,s,null),i.return=n,t.return=n,i.sibling=t,n.child=i,n.child.memoizedState=bh(s),n.memoizedState=Sh,t):Uf(n,o));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Aw(t,n,o,r,l,a,s);if(i){i=r.fallback,o=n.mode,a=t.child,l=a.sibling;var d={mode:"hidden",children:r.children};return!(o&1)&&n.child!==a?(r=n.child,r.childLanes=0,r.pendingProps=d,n.deletions=null):(r=ha(a,d),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ha(l,i):(i=Fa(i,o,s,null),i.flags|=2),i.return=n,r.return=n,r.sibling=i,n.child=r,r=i,i=n.child,o=t.child.memoizedState,o=o===null?bh(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~s,n.memoizedState=Sh,r}return i=t.child,t=i.sibling,r=ha(i,{mode:"visible",children:r.children}),!(n.mode&1)&&(r.lanes=s),r.return=n,r.sibling=null,t!==null&&(s=n.deletions,s===null?(n.deletions=[t],n.flags|=16):s.push(t)),n.child=r,n.memoizedState=null,r}function Uf(t,n){return n=Sd({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function Ql(t,n,s,r){return r!==null&&Of(r),Bi(n,t.child,null,s),t=Uf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Aw(t,n,s,r,a,i,o){if(s)return n.flags&256?(n.flags&=-257,r=mu(Error(J(422))),Ql(t,n,o,r)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(i=r.fallback,a=n.mode,r=Sd({mode:"visible",children:r.children},a,0,null),i=Fa(i,a,o,null),i.flags|=2,r.return=n,i.return=n,r.sibling=i,n.child=r,n.mode&1&&Bi(n,t.child,null,o),n.child.memoizedState=bh(o),n.memoizedState=Sh,i);if(!(n.mode&1))return Ql(t,n,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(J(419)),r=mu(i,r,void 0),Ql(t,n,o,r)}if(l=(o&t.childLanes)!==0,es||l){if(r=kn,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Rr(t,a),Zs(r,t,a,-1))}return Jf(),r=mu(Error(J(421))),Ql(t,n,o,r)}return a.data==="$?"?(n.flags|=128,n.child=t.child,n=Gw.bind(null,t),a._reactRetry=n,null):(t=i.treeContext,fs=la(a.nextSibling),ms=n,Mt=!0,Qs=null,t!==null&&(Es[Ls++]=Lr,Es[Ls++]=Dr,Es[Ls++]=Ha,Lr=t.id,Dr=t.overflow,Ha=n),n=Uf(n,r.children),n.flags|=4096,n)}function Xp(t,n,s){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n),ph(t.return,n,s)}function pu(t,n,s,r,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(i.isBackwards=n,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=s,i.tailMode=a)}function Sy(t,n,s){var r=n.pendingProps,a=r.revealOrder,i=r.tail;if(Gn(t,n,r.children,s),r=Yt.current,r&2)r=r&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xp(t,s,n);else if(t.tag===19)Xp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Et(Yt,r),!(n.mode&1))n.memoizedState=null;else switch(a){case"forwards":for(s=n.child,a=null;s!==null;)t=s.alternate,t!==null&&Uc(t)===null&&(a=s),s=s.sibling;s=a,s===null?(a=n.child,n.child=null):(a=s.sibling,s.sibling=null),pu(n,!1,a,s,i);break;case"backwards":for(s=null,a=n.child,n.child=null;a!==null;){if(t=a.alternate,t!==null&&Uc(t)===null){n.child=a;break}t=a.sibling,a.sibling=s,s=a,a=t}pu(n,!0,s,null,i);break;case"together":pu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function gc(t,n){!(n.mode&1)&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function Ir(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),qa|=n.lanes,!(s&n.childLanes))return null;if(t!==null&&n.child!==t.child)throw Error(J(153));if(n.child!==null){for(t=n.child,s=ha(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ha(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Bw(t,n,s){switch(n.tag){case 3:yy(n),Ai();break;case 5:Wg(n);break;case 1:ns(n.type)&&Fc(n);break;case 4:If(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,a=n.memoizedProps.value;Et(Hc,r._currentValue),r._currentValue=a;break;case 13:if(r=n.memoizedState,r!==null)return r.dehydrated!==null?(Et(Yt,Yt.current&1),n.flags|=128,null):s&n.child.childLanes?vy(t,n,s):(Et(Yt,Yt.current&1),t=Ir(t,n,s),t!==null?t.sibling:null);Et(Yt,Yt.current&1);break;case 19:if(r=(s&n.childLanes)!==0,t.flags&128){if(r)return Sy(t,n,s);n.flags|=128}if(a=n.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Et(Yt,Yt.current),r)break;return null;case 22:case 23:return n.lanes=0,jy(t,n,s)}return Ir(t,n,s)}var by,Ch,Cy,wy;by=function(t,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Ch=function(){};Cy=function(t,n,s,r){var a=t.memoizedProps;if(a!==r){t=n.stateNode,_a(cr.current);var i=null;switch(s){case"input":a=Uu(t,a),r=Uu(t,r),i=[];break;case"select":a=Qt({},a,{value:void 0}),r=Qt({},r,{value:void 0}),i=[];break;case"textarea":a=Wu(t,a),r=Wu(t,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ic)}Qu(s,r);var o;s=null;for(h in a)if(!r.hasOwnProperty(h)&&a.hasOwnProperty(h)&&a[h]!=null)if(h==="style"){var l=a[h];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Zo.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var d=r[h];if(l=a!=null?a[h]:void 0,r.hasOwnProperty(h)&&d!==l&&(d!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(s||(s={}),s[o]=d[o])}else s||(i||(i=[]),i.push(h,s)),s=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(i=i||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Zo.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&Bt("scroll",t),i||l===d||(i=[])):(i=i||[]).push(h,d))}s&&(i=i||[]).push("style",s);var h=i;(n.updateQueue=h)&&(n.flags|=4)}};wy=function(t,n,s,r){s!==r&&(n.flags|=4)};function No(t,n){if(!Mt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function In(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(n)for(var a=t.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=s,n}function _w(t,n,s){var r=n.pendingProps;switch($f(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(n),null;case 1:return ns(n.type)&&Pc(),In(n),null;case 3:return r=n.stateNode,_i(),Pt(ts),Pt(zn),Ff(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wl(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Qs!==null&&(Oh(Qs),Qs=null))),Ch(t,n),In(n),null;case 5:Pf(n);var a=_a(ul.current);if(s=n.type,t!==null&&n.stateNode!=null)Cy(t,n,s,r,a),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(n.stateNode===null)throw Error(J(166));return In(n),null}if(t=_a(cr.current),Wl(n)){r=n.stateNode,s=n.type;var i=n.memoizedProps;switch(r[ir]=n,r[cl]=i,t=(n.mode&1)!==0,s){case"dialog":Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":case"embed":Bt("load",r);break;case"video":case"audio":for(a=0;a<Po.length;a++)Bt(Po[a],r);break;case"source":Bt("error",r);break;case"img":case"image":case"link":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"input":op(r,i),Bt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Bt("invalid",r);break;case"textarea":cp(r,i),Bt("invalid",r)}Qu(s,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Yl(r.textContent,l,t),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Yl(r.textContent,l,t),a=["children",""+l]):Zo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Bt("scroll",r)}switch(s){case"input":Fl(r),lp(r,i,!0);break;case"textarea":Fl(r),dp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ic)}r=a,n.updateQueue=r,r!==null&&(n.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jj(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(s,{is:r.is}):(t=o.createElement(s),s==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,s),t[ir]=n,t[cl]=r,by(t,n,!1,!1),n.stateNode=t;e:{switch(o=Ju(s,r),s){case"dialog":Bt("cancel",t),Bt("close",t),a=r;break;case"iframe":case"object":case"embed":Bt("load",t),a=r;break;case"video":case"audio":for(a=0;a<Po.length;a++)Bt(Po[a],t);a=r;break;case"source":Bt("error",t),a=r;break;case"img":case"image":case"link":Bt("error",t),Bt("load",t),a=r;break;case"details":Bt("toggle",t),a=r;break;case"input":op(t,r),a=Uu(t,r),Bt("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=Qt({},r,{value:void 0}),Bt("invalid",t);break;case"textarea":cp(t,r),a=Wu(t,r),Bt("invalid",t);break;default:a=r}Qu(s,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="style"?eg(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Xj(t,d)):i==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&el(t,d):typeof d=="number"&&el(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zo.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Bt("scroll",t):d!=null&&pf(t,i,d,o))}switch(s){case"input":Fl(t),lp(t,r,!1);break;case"textarea":Fl(t),dp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pa(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?wi(t,!!r.multiple,i,!1):r.defaultValue!=null&&wi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Ic)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return In(n),null;case 6:if(t&&n.stateNode!=null)wy(t,n,t.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(J(166));if(s=_a(ul.current),_a(cr.current),Wl(n)){if(r=n.stateNode,s=n.memoizedProps,r[ir]=n,(i=r.nodeValue!==s)&&(t=ms,t!==null))switch(t.tag){case 3:Yl(r.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yl(r.nodeValue,s,(t.mode&1)!==0)}i&&(n.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[ir]=n,n.stateNode=r}return In(n),null;case 13:if(Pt(Yt),r=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mt&&fs!==null&&n.mode&1&&!(n.flags&128))zg(),Ai(),n.flags|=98560,i=!1;else if(i=Wl(n),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(J(318));if(i=n.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[ir]=n}else Ai(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;In(n),i=!1}else Qs!==null&&(Oh(Qs),Qs=null),i=!0;if(!i)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(n.child.flags|=8192,n.mode&1&&(t===null||Yt.current&1?Sn===0&&(Sn=3):Jf())),n.updateQueue!==null&&(n.flags|=4),In(n),null);case 4:return _i(),Ch(t,n),t===null&&ol(n.stateNode.containerInfo),In(n),null;case 10:return Bf(n.type._context),In(n),null;case 17:return ns(n.type)&&Pc(),In(n),null;case 19:if(Pt(Yt),i=n.memoizedState,i===null)return In(n),null;if(r=(n.flags&128)!==0,o=i.rendering,o===null)if(r)No(i,!1);else{if(Sn!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(o=Uc(t),o!==null){for(n.flags|=128,No(i,!1),r=o.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=s,s=n.child;s!==null;)i=s,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Et(Yt,Yt.current&1|2),n.child}t=t.sibling}i.tail!==null&&rn()>Ii&&(n.flags|=128,r=!0,No(i,!1),n.lanes=4194304)}else{if(!r)if(t=Uc(o),t!==null){if(n.flags|=128,r=!0,s=t.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),No(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Mt)return In(n),null}else 2*rn()-i.renderingStartTime>Ii&&s!==1073741824&&(n.flags|=128,r=!0,No(i,!1),n.lanes=4194304);i.isBackwards?(o.sibling=n.child,n.child=o):(s=i.last,s!==null?s.sibling=o:n.child=o,i.last=o)}return i.tail!==null?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.renderingStartTime=rn(),n.sibling=null,s=Yt.current,Et(Yt,r?s&1|2:s&1),n):(In(n),null);case 22:case 23:return Qf(),r=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(n.flags|=8192),r&&n.mode&1?hs&1073741824&&(In(n),n.subtreeFlags&6&&(n.flags|=8192)):In(n),null;case 24:return null;case 25:return null}throw Error(J(156,n.tag))}function Rw(t,n){switch($f(n),n.tag){case 1:return ns(n.type)&&Pc(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return _i(),Pt(ts),Pt(zn),Ff(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 5:return Pf(n),null;case 13:if(Pt(Yt),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(J(340));Ai()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Pt(Yt),null;case 4:return _i(),null;case 10:return Bf(n.type._context),null;case 22:case 23:return Qf(),null;case 24:return null;default:return null}}var Jl=!1,Mn=!1,Iw=typeof WeakSet=="function"?WeakSet:Set,me=null;function bi(t,n){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){Zt(t,n,r)}else s.current=null}function wh(t,n,s){try{s()}catch(r){Zt(t,n,r)}}var Zp=!1;function Pw(t,n){if(oh=Bc,t=Lg(),Lf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,l=-1,d=-1,h=0,u=0,m=t,j=null;t:for(;;){for(var y;m!==s||a!==0&&m.nodeType!==3||(l=o+a),m!==i||r!==0&&m.nodeType!==3||(d=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)j=m,m=y;for(;;){if(m===t)break t;if(j===s&&++h===a&&(l=o),j===i&&++u===r&&(d=o),(y=m.nextSibling)!==null)break;m=j,j=m.parentNode}m=y}s=l===-1||d===-1?null:{start:l,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(lh={focusedElem:t,selectionRange:s},Bc=!1,me=n;me!==null;)if(n=me,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,me=t;else for(;me!==null;){n=me;try{var f=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var x=f.memoizedProps,S=f.memoizedState,N=n.stateNode,b=N.getSnapshotBeforeUpdate(n.elementType===n.type?x:Ys(n.type,x),S);N.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=n.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(v){Zt(n,n.return,v)}if(t=n.sibling,t!==null){t.return=n.return,me=t;break}me=n.return}return f=Zp,Zp=!1,f}function Yo(t,n,s){var r=n.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&wh(n,s,i)}a=a.next}while(a!==r)}}function yd(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var r=s.create;s.destroy=r()}s=s.next}while(s!==n)}}function Nh(t){var n=t.ref;if(n!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof n=="function"?n(t):n.current=t}}function Ny(t){var n=t.alternate;n!==null&&(t.alternate=null,Ny(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[ir],delete n[cl],delete n[uh],delete n[vw],delete n[Sw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ky(t){return t.tag===5||t.tag===3||t.tag===4}function ex(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kh(t,n,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(t,s)):(n=s,n.appendChild(t)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ic));else if(r!==4&&(t=t.child,t!==null))for(kh(t,n,s),t=t.sibling;t!==null;)kh(t,n,s),t=t.sibling}function Eh(t,n,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Eh(t,n,s),t=t.sibling;t!==null;)Eh(t,n,s),t=t.sibling}var Dn=null,Ws=!1;function Wr(t,n,s){for(s=s.child;s!==null;)Ey(t,n,s),s=s.sibling}function Ey(t,n,s){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(ud,s)}catch{}switch(s.tag){case 5:Mn||bi(s,n);case 6:var r=Dn,a=Ws;Dn=null,Wr(t,n,s),Dn=r,Ws=a,Dn!==null&&(Ws?(t=Dn,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):Dn.removeChild(s.stateNode));break;case 18:Dn!==null&&(Ws?(t=Dn,s=s.stateNode,t.nodeType===8?lu(t.parentNode,s):t.nodeType===1&&lu(t,s),rl(t)):lu(Dn,s.stateNode));break;case 4:r=Dn,a=Ws,Dn=s.stateNode.containerInfo,Ws=!0,Wr(t,n,s),Dn=r,Ws=a;break;case 0:case 11:case 14:case 15:if(!Mn&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&wh(s,n,o),a=a.next}while(a!==r)}Wr(t,n,s);break;case 1:if(!Mn&&(bi(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){Zt(s,n,l)}Wr(t,n,s);break;case 21:Wr(t,n,s);break;case 22:s.mode&1?(Mn=(r=Mn)||s.memoizedState!==null,Wr(t,n,s),Mn=r):Wr(t,n,s);break;default:Wr(t,n,s)}}function tx(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new Iw),n.forEach(function(r){var a=Yw.bind(null,t,r);s.has(r)||(s.add(r),r.then(a,a))})}}function Gs(t,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var i=t,o=n,l=o;e:for(;l!==null;){switch(l.tag){case 5:Dn=l.stateNode,Ws=!1;break e;case 3:Dn=l.stateNode.containerInfo,Ws=!0;break e;case 4:Dn=l.stateNode.containerInfo,Ws=!0;break e}l=l.return}if(Dn===null)throw Error(J(160));Ey(i,o,a),Dn=null,Ws=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(h){Zt(a,n,h)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Ly(n,t),n=n.sibling}function Ly(t,n){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gs(n,t),rr(t),r&4){try{Yo(3,t,t.return),yd(3,t)}catch(x){Zt(t,t.return,x)}try{Yo(5,t,t.return)}catch(x){Zt(t,t.return,x)}}break;case 1:Gs(n,t),rr(t),r&512&&s!==null&&bi(s,s.return);break;case 5:if(Gs(n,t),rr(t),r&512&&s!==null&&bi(s,s.return),t.flags&32){var a=t.stateNode;try{el(a,"")}catch(x){Zt(t,t.return,x)}}if(r&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=s!==null?s.memoizedProps:i,l=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Vj(a,i),Ju(l,o);var h=Ju(l,i);for(o=0;o<d.length;o+=2){var u=d[o],m=d[o+1];u==="style"?eg(a,m):u==="dangerouslySetInnerHTML"?Xj(a,m):u==="children"?el(a,m):pf(a,u,m,h)}switch(l){case"input":Gu(a,i);break;case"textarea":Qj(a,i);break;case"select":var j=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?wi(a,!!i.multiple,y,!1):j!==!!i.multiple&&(i.defaultValue!=null?wi(a,!!i.multiple,i.defaultValue,!0):wi(a,!!i.multiple,i.multiple?[]:"",!1))}a[cl]=i}catch(x){Zt(t,t.return,x)}}break;case 6:if(Gs(n,t),rr(t),r&4){if(t.stateNode===null)throw Error(J(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(x){Zt(t,t.return,x)}}break;case 3:if(Gs(n,t),rr(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{rl(n.containerInfo)}catch(x){Zt(t,t.return,x)}break;case 4:Gs(n,t),rr(t);break;case 13:Gs(n,t),rr(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Wf=rn())),r&4&&tx(t);break;case 22:if(u=s!==null&&s.memoizedState!==null,t.mode&1?(Mn=(h=Mn)||u,Gs(n,t),Mn=h):Gs(n,t),rr(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!u&&t.mode&1)for(me=t,u=t.child;u!==null;){for(m=me=u;me!==null;){switch(j=me,y=j.child,j.tag){case 0:case 11:case 14:case 15:Yo(4,j,j.return);break;case 1:bi(j,j.return);var f=j.stateNode;if(typeof f.componentWillUnmount=="function"){r=j,s=j.return;try{n=r,f.props=n.memoizedProps,f.state=n.memoizedState,f.componentWillUnmount()}catch(x){Zt(r,s,x)}}break;case 5:bi(j,j.return);break;case 22:if(j.memoizedState!==null){sx(m);continue}}y!==null?(y.return=j,me=y):sx(m)}u=u.sibling}e:for(u=null,m=t;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,h?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,d=m.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=Zj("display",o))}catch(x){Zt(t,t.return,x)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(x){Zt(t,t.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Gs(n,t),rr(t),r&4&&tx(t);break;case 21:break;default:Gs(n,t),rr(t)}}function rr(t){var n=t.flags;if(n&2){try{e:{for(var s=t.return;s!==null;){if(ky(s)){var r=s;break e}s=s.return}throw Error(J(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(el(a,""),r.flags&=-33);var i=ex(t);Eh(t,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ex(t);kh(t,l,o);break;default:throw Error(J(161))}}catch(d){Zt(t,t.return,d)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Fw(t,n,s){me=t,Dy(t)}function Dy(t,n,s){for(var r=(t.mode&1)!==0;me!==null;){var a=me,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Jl;if(!o){var l=a.alternate,d=l!==null&&l.memoizedState!==null||Mn;l=Jl;var h=Mn;if(Jl=o,(Mn=d)&&!h)for(me=a;me!==null;)o=me,d=o.child,o.tag===22&&o.memoizedState!==null?rx(a):d!==null?(d.return=o,me=d):rx(a);for(;i!==null;)me=i,Dy(i),i=i.sibling;me=a,Jl=l,Mn=h}nx(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,me=i):nx(t)}}function nx(t){for(;me!==null;){var n=me;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Mn||yd(5,n);break;case 1:var r=n.stateNode;if(n.flags&4&&!Mn)if(s===null)r.componentDidMount();else{var a=n.elementType===n.type?s.memoizedProps:Ys(n.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=n.updateQueue;i!==null&&Fp(n,i,r);break;case 3:var o=n.updateQueue;if(o!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Fp(n,o,s)}break;case 5:var l=n.stateNode;if(s===null&&n.flags&4){s=l;var d=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var h=n.alternate;if(h!==null){var u=h.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&rl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Mn||n.flags&512&&Nh(n)}catch(j){Zt(n,n.return,j)}}if(n===t){me=null;break}if(s=n.sibling,s!==null){s.return=n.return,me=s;break}me=n.return}}function sx(t){for(;me!==null;){var n=me;if(n===t){me=null;break}var s=n.sibling;if(s!==null){s.return=n.return,me=s;break}me=n.return}}function rx(t){for(;me!==null;){var n=me;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{yd(4,n)}catch(d){Zt(n,s,d)}break;case 1:var r=n.stateNode;if(typeof r.componentDidMount=="function"){var a=n.return;try{r.componentDidMount()}catch(d){Zt(n,a,d)}}var i=n.return;try{Nh(n)}catch(d){Zt(n,i,d)}break;case 5:var o=n.return;try{Nh(n)}catch(d){Zt(n,o,d)}}}catch(d){Zt(n,n.return,d)}if(n===t){me=null;break}var l=n.sibling;if(l!==null){l.return=n.return,me=l;break}me=n.return}}var Mw=Math.ceil,Wc=Mr.ReactCurrentDispatcher,Gf=Mr.ReactCurrentOwner,Os=Mr.ReactCurrentBatchConfig,it=0,kn=null,cn=null,$n=0,hs=0,Ci=va(0),Sn=0,pl=null,qa=0,vd=0,Yf=0,Wo=null,Zn=null,Wf=0,Ii=1/0,wr=null,Vc=!1,Lh=null,da=null,Xl=!1,sa=null,Qc=0,Vo=0,Dh=null,yc=-1,vc=0;function Yn(){return it&6?rn():yc!==-1?yc:yc=rn()}function ua(t){return t.mode&1?it&2&&$n!==0?$n&-$n:Cw.transition!==null?(vc===0&&(vc=hg()),vc):(t=gt,t!==0||(t=window.event,t=t===void 0?16:yg(t.type)),t):1}function Zs(t,n,s,r){if(50<Vo)throw Vo=0,Dh=null,Error(J(185));wl(t,s,r),(!(it&2)||t!==kn)&&(t===kn&&(!(it&2)&&(vd|=s),Sn===4&&ta(t,$n)),ss(t,r),s===1&&it===0&&!(n.mode&1)&&(Ii=rn()+500,xd&&Sa()))}function ss(t,n){var s=t.callbackNode;CC(t,n);var r=Ac(t,t===kn?$n:0);if(r===0)s!==null&&fp(s),t.callbackNode=null,t.callbackPriority=0;else if(n=r&-r,t.callbackPriority!==n){if(s!=null&&fp(s),n===1)t.tag===0?bw(ax.bind(null,t)):Pg(ax.bind(null,t)),gw(function(){!(it&6)&&Sa()}),s=null;else{switch(fg(r)){case 1:s=vf;break;case 4:s=dg;break;case 16:s=Tc;break;case 536870912:s=ug;break;default:s=Tc}s=Iy(s,$y.bind(null,t))}t.callbackPriority=n,t.callbackNode=s}}function $y(t,n){if(yc=-1,vc=0,it&6)throw Error(J(327));var s=t.callbackNode;if(Di()&&t.callbackNode!==s)return null;var r=Ac(t,t===kn?$n:0);if(r===0)return null;if(r&30||r&t.expiredLanes||n)n=Jc(t,r);else{n=r;var a=it;it|=2;var i=Ty();(kn!==t||$n!==n)&&(wr=null,Ii=rn()+500,Pa(t,n));do try{Kw();break}catch(l){Oy(t,l)}while(1);Af(),Wc.current=i,it=a,cn!==null?n=0:(kn=null,$n=0,n=Sn)}if(n!==0){if(n===2&&(a=nh(t),a!==0&&(r=a,n=$h(t,a))),n===1)throw s=pl,Pa(t,0),ta(t,r),ss(t,rn()),s;if(n===6)ta(t,r);else{if(a=t.current.alternate,!(r&30)&&!zw(a)&&(n=Jc(t,r),n===2&&(i=nh(t),i!==0&&(r=i,n=$h(t,i))),n===1))throw s=pl,Pa(t,0),ta(t,r),ss(t,rn()),s;switch(t.finishedWork=a,t.finishedLanes=r,n){case 0:case 1:throw Error(J(345));case 2:Ta(t,Zn,wr);break;case 3:if(ta(t,r),(r&130023424)===r&&(n=Wf+500-rn(),10<n)){if(Ac(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){Yn(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=dh(Ta.bind(null,t,Zn,wr),n);break}Ta(t,Zn,wr);break;case 4:if(ta(t,r),(r&4194240)===r)break;for(n=t.eventTimes,a=-1;0<r;){var o=31-Xs(r);i=1<<o,o=n[o],o>a&&(a=o),r&=~i}if(r=a,r=rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mw(r/1960))-r,10<r){t.timeoutHandle=dh(Ta.bind(null,t,Zn,wr),r);break}Ta(t,Zn,wr);break;case 5:Ta(t,Zn,wr);break;default:throw Error(J(329))}}}return ss(t,rn()),t.callbackNode===s?$y.bind(null,t):null}function $h(t,n){var s=Wo;return t.current.memoizedState.isDehydrated&&(Pa(t,n).flags|=256),t=Jc(t,n),t!==2&&(n=Zn,Zn=s,n!==null&&Oh(n)),t}function Oh(t){Zn===null?Zn=t:Zn.push.apply(Zn,t)}function zw(t){for(var n=t;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],i=a.getSnapshot;a=a.value;try{if(!er(i(),a))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ta(t,n){for(n&=~Yf,n&=~vd,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var s=31-Xs(n),r=1<<s;t[s]=-1,n&=~r}}function ax(t){if(it&6)throw Error(J(327));Di();var n=Ac(t,0);if(!(n&1))return ss(t,rn()),null;var s=Jc(t,n);if(t.tag!==0&&s===2){var r=nh(t);r!==0&&(n=r,s=$h(t,r))}if(s===1)throw s=pl,Pa(t,0),ta(t,n),ss(t,rn()),s;if(s===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Ta(t,Zn,wr),ss(t,rn()),null}function Vf(t,n){var s=it;it|=1;try{return t(n)}finally{it=s,it===0&&(Ii=rn()+500,xd&&Sa())}}function Ua(t){sa!==null&&sa.tag===0&&!(it&6)&&Di();var n=it;it|=1;var s=Os.transition,r=gt;try{if(Os.transition=null,gt=1,t)return t()}finally{gt=r,Os.transition=s,it=n,!(it&6)&&Sa()}}function Qf(){hs=Ci.current,Pt(Ci)}function Pa(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,jw(s)),cn!==null)for(s=cn.return;s!==null;){var r=s;switch($f(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pc();break;case 3:_i(),Pt(ts),Pt(zn),Ff();break;case 5:Pf(r);break;case 4:_i();break;case 13:Pt(Yt);break;case 19:Pt(Yt);break;case 10:Bf(r.type._context);break;case 22:case 23:Qf()}s=s.return}if(kn=t,cn=t=ha(t.current,null),$n=hs=n,Sn=0,pl=null,Yf=vd=qa=0,Zn=Wo=null,Ba!==null){for(n=0;n<Ba.length;n++)if(s=Ba[n],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,i=s.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}s.pending=r}Ba=null}return t}function Oy(t,n){do{var s=cn;try{if(Af(),xc.current=Yc,Gc){for(var r=Vt.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Gc=!1}if(Ka=0,Nn=vn=Vt=null,Go=!1,hl=0,Gf.current=null,s===null||s.return===null){Sn=1,pl=n,cn=null;break}e:{var i=t,o=s.return,l=s,d=n;if(n=$n,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var j=u.alternate;j?(u.updateQueue=j.updateQueue,u.memoizedState=j.memoizedState,u.lanes=j.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=Gp(o);if(y!==null){y.flags&=-257,Yp(y,o,l,i,n),y.mode&1&&Up(i,h,n),n=y,d=h;var f=n.updateQueue;if(f===null){var x=new Set;x.add(d),n.updateQueue=x}else f.add(d);break e}else{if(!(n&1)){Up(i,h,n),Jf();break e}d=Error(J(426))}}else if(Mt&&l.mode&1){var S=Gp(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Yp(S,o,l,i,n),Of(Ri(d,l));break e}}i=d=Ri(d,l),Sn!==4&&(Sn=2),Wo===null?Wo=[i]:Wo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,n&=-n,i.lanes|=n;var N=my(i,d,n);Pp(i,N);break e;case 1:l=d;var b=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(da===null||!da.has(E)))){i.flags|=65536,n&=-n,i.lanes|=n;var v=py(i,l,n);Pp(i,v);break e}}i=i.return}while(i!==null)}By(s)}catch(k){n=k,cn===s&&s!==null&&(cn=s=s.return);continue}break}while(1)}function Ty(){var t=Wc.current;return Wc.current=Yc,t===null?Yc:t}function Jf(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),kn===null||!(qa&268435455)&&!(vd&268435455)||ta(kn,$n)}function Jc(t,n){var s=it;it|=2;var r=Ty();(kn!==t||$n!==n)&&(wr=null,Pa(t,n));do try{Hw();break}catch(a){Oy(t,a)}while(1);if(Af(),it=s,Wc.current=r,cn!==null)throw Error(J(261));return kn=null,$n=0,Sn}function Hw(){for(;cn!==null;)Ay(cn)}function Kw(){for(;cn!==null&&!mC();)Ay(cn)}function Ay(t){var n=Ry(t.alternate,t,hs);t.memoizedProps=t.pendingProps,n===null?By(t):cn=n,Gf.current=null}function By(t){var n=t;do{var s=n.alternate;if(t=n.return,n.flags&32768){if(s=Rw(s,n),s!==null){s.flags&=32767,cn=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Sn=6,cn=null;return}}else if(s=_w(s,n,hs),s!==null){cn=s;return}if(n=n.sibling,n!==null){cn=n;return}cn=n=t}while(n!==null);Sn===0&&(Sn=5)}function Ta(t,n,s){var r=gt,a=Os.transition;try{Os.transition=null,gt=1,qw(t,n,s,r)}finally{Os.transition=a,gt=r}return null}function qw(t,n,s,r){do Di();while(sa!==null);if(it&6)throw Error(J(327));s=t.finishedWork;var a=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var i=s.lanes|s.childLanes;if(wC(t,i),t===kn&&(cn=kn=null,$n=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Xl||(Xl=!0,Iy(Tc,function(){return Di(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=Os.transition,Os.transition=null;var o=gt;gt=1;var l=it;it|=4,Gf.current=null,Pw(t,s),Ly(s,t),dw(lh),Bc=!!oh,lh=oh=null,t.current=s,Fw(s),pC(),it=l,gt=o,Os.transition=i}else t.current=s;if(Xl&&(Xl=!1,sa=t,Qc=a),i=t.pendingLanes,i===0&&(da=null),gC(s.stateNode),ss(t,rn()),n!==null)for(r=t.onRecoverableError,s=0;s<n.length;s++)a=n[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(Vc)throw Vc=!1,t=Lh,Lh=null,t;return Qc&1&&t.tag!==0&&Di(),i=t.pendingLanes,i&1?t===Dh?Vo++:(Vo=0,Dh=t):Vo=0,Sa(),null}function Di(){if(sa!==null){var t=fg(Qc),n=Os.transition,s=gt;try{if(Os.transition=null,gt=16>t?16:t,sa===null)var r=!1;else{if(t=sa,sa=null,Qc=0,it&6)throw Error(J(331));var a=it;for(it|=4,me=t.current;me!==null;){var i=me,o=i.child;if(me.flags&16){var l=i.deletions;if(l!==null){for(var d=0;d<l.length;d++){var h=l[d];for(me=h;me!==null;){var u=me;switch(u.tag){case 0:case 11:case 15:Yo(8,u,i)}var m=u.child;if(m!==null)m.return=u,me=m;else for(;me!==null;){u=me;var j=u.sibling,y=u.return;if(Ny(u),u===h){me=null;break}if(j!==null){j.return=y,me=j;break}me=y}}}var f=i.alternate;if(f!==null){var x=f.child;if(x!==null){f.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,me=o;else e:for(;me!==null;){if(i=me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Yo(9,i,i.return)}var N=i.sibling;if(N!==null){N.return=i.return,me=N;break e}me=i.return}}var b=t.current;for(me=b;me!==null;){o=me;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,me=E;else e:for(o=b;me!==null;){if(l=me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yd(9,l)}}catch(k){Zt(l,l.return,k)}if(l===o){me=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,me=v;break e}me=l.return}}if(it=a,Sa(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(ud,t)}catch{}r=!0}return r}finally{gt=s,Os.transition=n}}return!1}function ix(t,n,s){n=Ri(s,n),n=my(t,n,1),t=ca(t,n,1),n=Yn(),t!==null&&(wl(t,1,n),ss(t,n))}function Zt(t,n,s){if(t.tag===3)ix(t,t,s);else for(;n!==null;){if(n.tag===3){ix(n,t,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(da===null||!da.has(r))){t=Ri(s,t),t=py(n,t,1),n=ca(n,t,1),t=Yn(),n!==null&&(wl(n,1,t),ss(n,t));break}}n=n.return}}function Uw(t,n,s){var r=t.pingCache;r!==null&&r.delete(n),n=Yn(),t.pingedLanes|=t.suspendedLanes&s,kn===t&&($n&s)===s&&(Sn===4||Sn===3&&($n&130023424)===$n&&500>rn()-Wf?Pa(t,0):Yf|=s),ss(t,n)}function _y(t,n){n===0&&(t.mode&1?(n=Hl,Hl<<=1,!(Hl&130023424)&&(Hl=4194304)):n=1);var s=Yn();t=Rr(t,n),t!==null&&(wl(t,n,s),ss(t,s))}function Gw(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),_y(t,s)}function Yw(t,n){var s=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(n),_y(t,s)}var Ry;Ry=function(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps||ts.current)es=!0;else{if(!(t.lanes&s)&&!(n.flags&128))return es=!1,Bw(t,n,s);es=!!(t.flags&131072)}else es=!1,Mt&&n.flags&1048576&&Fg(n,zc,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;gc(t,n),t=n.pendingProps;var a=Ti(n,zn.current);Li(n,s),a=zf(null,n,r,t,a,s);var i=Hf();return n.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ns(r)?(i=!0,Fc(n)):i=!1,n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Rf(n),a.updater=jd,n.stateNode=a,a._reactInternals=n,jh(n,r,t,s),n=vh(null,n,r,!0,i,s)):(n.tag=0,Mt&&i&&Df(n),Gn(null,n,a,s),n=n.child),n;case 16:r=n.elementType;e:{switch(gc(t,n),t=n.pendingProps,a=r._init,r=a(r._payload),n.type=r,a=n.tag=Vw(r),t=Ys(r,t),a){case 0:n=yh(null,n,r,t,s);break e;case 1:n=Qp(null,n,r,t,s);break e;case 11:n=Wp(null,n,r,t,s);break e;case 14:n=Vp(null,n,r,Ys(r.type,t),s);break e}throw Error(J(306,r,""))}return n;case 0:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Ys(r,a),yh(t,n,r,a,s);case 1:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Ys(r,a),Qp(t,n,r,a,s);case 3:e:{if(yy(n),t===null)throw Error(J(387));r=n.pendingProps,i=n.memoizedState,a=i.element,Kg(t,n),qc(n,r,null,s);var o=n.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},n.updateQueue.baseState=i,n.memoizedState=i,n.flags&256){a=Ri(Error(J(423)),n),n=Jp(t,n,r,s,a);break e}else if(r!==a){a=Ri(Error(J(424)),n),n=Jp(t,n,r,s,a);break e}else for(fs=la(n.stateNode.containerInfo.firstChild),ms=n,Mt=!0,Qs=null,s=Yg(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ai(),r===a){n=Ir(t,n,s);break e}Gn(t,n,r,s)}n=n.child}return n;case 5:return Wg(n),t===null&&mh(n),r=n.type,a=n.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,ch(r,a)?o=null:i!==null&&ch(r,i)&&(n.flags|=32),gy(t,n),Gn(t,n,o,s),n.child;case 6:return t===null&&mh(n),null;case 13:return vy(t,n,s);case 4:return If(n,n.stateNode.containerInfo),r=n.pendingProps,t===null?n.child=Bi(n,null,r,s):Gn(t,n,r,s),n.child;case 11:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Ys(r,a),Wp(t,n,r,a,s);case 7:return Gn(t,n,n.pendingProps,s),n.child;case 8:return Gn(t,n,n.pendingProps.children,s),n.child;case 12:return Gn(t,n,n.pendingProps.children,s),n.child;case 10:e:{if(r=n.type._context,a=n.pendingProps,i=n.memoizedProps,o=a.value,Et(Hc,r._currentValue),r._currentValue=o,i!==null)if(er(i.value,o)){if(i.children===a.children&&!ts.current){n=Ir(t,n,s);break e}}else for(i=n.child,i!==null&&(i.return=n);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var d=l.firstContext;d!==null;){if(d.context===r){if(i.tag===1){d=Or(-1,s&-s),d.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var u=h.pending;u===null?d.next=d:(d.next=u.next,u.next=d),h.pending=d}}i.lanes|=s,d=i.alternate,d!==null&&(d.lanes|=s),ph(i.return,s,n),l.lanes|=s;break}d=d.next}}else if(i.tag===10)o=i.type===n.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(J(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),ph(o,s,n),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===n){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Gn(t,n,a.children,s),n=n.child}return n;case 9:return a=n.type,r=n.pendingProps.children,Li(n,s),a=As(a),r=r(a),n.flags|=1,Gn(t,n,r,s),n.child;case 14:return r=n.type,a=Ys(r,n.pendingProps),a=Ys(r.type,a),Vp(t,n,r,a,s);case 15:return xy(t,n,n.type,n.pendingProps,s);case 17:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Ys(r,a),gc(t,n),n.tag=1,ns(r)?(t=!0,Fc(n)):t=!1,Li(n,s),Ug(n,r,a),jh(n,r,a,s),vh(null,n,r,!0,t,s);case 19:return Sy(t,n,s);case 22:return jy(t,n,s)}throw Error(J(156,n.tag))};function Iy(t,n){return cg(t,n)}function Ww(t,n,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $s(t,n,s,r){return new Ww(t,n,s,r)}function Xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vw(t){if(typeof t=="function")return Xf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jf)return 11;if(t===gf)return 14}return 2}function ha(t,n){var s=t.alternate;return s===null?(s=$s(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Sc(t,n,s,r,a,i){var o=2;if(r=t,typeof t=="function")Xf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fi:return Fa(s.children,a,i,n);case xf:o=8,a|=8;break;case zu:return t=$s(12,s,n,a|2),t.elementType=zu,t.lanes=i,t;case Hu:return t=$s(13,s,n,a),t.elementType=Hu,t.lanes=i,t;case Ku:return t=$s(19,s,n,a),t.elementType=Ku,t.lanes=i,t;case Gj:return Sd(s,a,i,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qj:o=10;break e;case Uj:o=9;break e;case jf:o=11;break e;case gf:o=14;break e;case Jr:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return n=$s(o,s,n,a),n.elementType=t,n.type=r,n.lanes=i,n}function Fa(t,n,s,r){return t=$s(7,t,r,n),t.lanes=s,t}function Sd(t,n,s,r){return t=$s(22,t,r,n),t.elementType=Gj,t.lanes=s,t.stateNode={isHidden:!1},t}function xu(t,n,s){return t=$s(6,t,null,n),t.lanes=s,t}function ju(t,n,s){return n=$s(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Qw(t,n,s,r,a){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jd(0),this.expirationTimes=Jd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jd(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Zf(t,n,s,r,a,i,o,l,d){return t=new Qw(t,n,s,l,d),n===1?(n=1,i===!0&&(n|=8)):n=0,i=$s(3,null,null,n),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rf(i),t}function Jw(t,n,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hi,key:r==null?null:""+r,children:t,containerInfo:n,implementation:s}}function Py(t){if(!t)return xa;t=t._reactInternals;e:{if(Va(t)!==t||t.tag!==1)throw Error(J(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ns(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(J(171))}if(t.tag===1){var s=t.type;if(ns(s))return Ig(t,s,n)}return n}function Fy(t,n,s,r,a,i,o,l,d){return t=Zf(s,r,!0,t,a,i,o,l,d),t.context=Py(null),s=t.current,r=Yn(),a=ua(s),i=Or(r,a),i.callback=n??null,ca(s,i,a),t.current.lanes=a,wl(t,a,r),ss(t,r),t}function bd(t,n,s,r){var a=n.current,i=Yn(),o=ua(a);return s=Py(s),n.context===null?n.context=s:n.pendingContext=s,n=Or(i,o),n.payload={element:t},r=r===void 0?null:r,r!==null&&(n.callback=r),t=ca(a,n,o),t!==null&&(Zs(t,a,o,i),pc(t,a,o)),o}function Xc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ox(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function em(t,n){ox(t,n),(t=t.alternate)&&ox(t,n)}function Xw(){return null}var My=typeof reportError=="function"?reportError:function(t){console.error(t)};function tm(t){this._internalRoot=t}Cd.prototype.render=tm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(J(409));bd(t,n,null,null)};Cd.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ua(function(){bd(null,t,null,null)}),n[_r]=null}};function Cd(t){this._internalRoot=t}Cd.prototype.unstable_scheduleHydration=function(t){if(t){var n=xg();t={blockedOn:null,target:t,priority:n};for(var s=0;s<ea.length&&n!==0&&n<ea[s].priority;s++);ea.splice(s,0,t),s===0&&gg(t)}};function nm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lx(){}function Zw(t,n,s,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var h=Xc(o);i.call(h)}}var o=Fy(n,r,t,0,null,!1,!1,"",lx);return t._reactRootContainer=o,t[_r]=o.current,ol(t.nodeType===8?t.parentNode:t),Ua(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var h=Xc(d);l.call(h)}}var d=Zf(t,0,!1,null,null,!1,!1,"",lx);return t._reactRootContainer=d,t[_r]=d.current,ol(t.nodeType===8?t.parentNode:t),Ua(function(){bd(n,d,s,r)}),d}function Nd(t,n,s,r,a){var i=s._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var d=Xc(o);l.call(d)}}bd(n,o,t,a)}else o=Zw(s,n,t,a,r);return Xc(o)}mg=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var s=Io(n.pendingLanes);s!==0&&(Sf(n,s|1),ss(n,rn()),!(it&6)&&(Ii=rn()+500,Sa()))}break;case 13:Ua(function(){var r=Rr(t,1);if(r!==null){var a=Yn();Zs(r,t,1,a)}}),em(t,1)}};bf=function(t){if(t.tag===13){var n=Rr(t,134217728);if(n!==null){var s=Yn();Zs(n,t,134217728,s)}em(t,134217728)}};pg=function(t){if(t.tag===13){var n=ua(t),s=Rr(t,n);if(s!==null){var r=Yn();Zs(s,t,n,r)}em(t,n)}};xg=function(){return gt};jg=function(t,n){var s=gt;try{return gt=t,n()}finally{gt=s}};Zu=function(t,n,s){switch(n){case"input":if(Gu(t,s),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==t&&r.form===t.form){var a=pd(r);if(!a)throw Error(J(90));Wj(r),Gu(r,a)}}}break;case"textarea":Qj(t,s);break;case"select":n=s.value,n!=null&&wi(t,!!s.multiple,n,!1)}};sg=Vf;rg=Ua;var eN={usingClientEntryPoint:!1,Events:[kl,ji,pd,tg,ng,Vf]},ko={findFiberByHostInstance:Aa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tN={bundleType:ko.bundleType,version:ko.version,rendererPackageName:ko.rendererPackageName,rendererConfig:ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=og(t),t===null?null:t.stateNode},findFiberByHostInstance:ko.findFiberByHostInstance||Xw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{ud=Zl.inject(tN),lr=Zl}catch{}}js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eN;js.createPortal=function(t,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nm(n))throw Error(J(200));return Jw(t,n,null,s)};js.createRoot=function(t,n){if(!nm(t))throw Error(J(299));var s=!1,r="",a=My;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),n=Zf(t,1,!1,null,null,s,!1,r,a),t[_r]=n.current,ol(t.nodeType===8?t.parentNode:t),new tm(n)};js.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=og(n),t=t===null?null:t.stateNode,t};js.flushSync=function(t){return Ua(t)};js.hydrate=function(t,n,s){if(!wd(n))throw Error(J(200));return Nd(null,t,n,!0,s)};js.hydrateRoot=function(t,n,s){if(!nm(t))throw Error(J(405));var r=s!=null&&s.hydratedSources||null,a=!1,i="",o=My;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),n=Fy(n,null,t,1,s??null,a,!1,i,o),t[_r]=n.current,ol(t),r)for(t=0;t<r.length;t++)s=r[t],a=s._getVersion,a=a(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,a]:n.mutableSourceEagerHydrationData.push(s,a);return new Cd(n)};js.render=function(t,n,s){if(!wd(n))throw Error(J(200));return Nd(null,t,n,!1,s)};js.unmountComponentAtNode=function(t){if(!wd(t))throw Error(J(40));return t._reactRootContainer?(Ua(function(){Nd(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};js.unstable_batchedUpdates=Vf;js.unstable_renderSubtreeIntoContainer=function(t,n,s,r){if(!wd(s))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Nd(t,n,s,!1,r)};js.version="18.2.0-next-9e3b772b8-20220608";function zy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zy)}catch(t){console.error(t)}}zy(),Fj.exports=js;var sm=Fj.exports;const Ra=Ki(sm);var cx=sm;Fu.createRoot=cx.createRoot,Fu.hydrateRoot=cx.hydrateRoot;var Hy={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var n={}.hasOwnProperty;function s(){for(var r=[],a=0;a<arguments.length;a++){var i=arguments[a];if(i){var o=typeof i;if(o==="string"||o==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var l=s.apply(null,i);l&&r.push(l)}}else if(o==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var d in i)n.call(i,d)&&i[d]&&r.push(d)}}}return r.join(" ")}t.exports?(s.default=s,t.exports=s):window.classNames=s})()})(Hy);var nN=Hy.exports;const ae=Ki(nN),sN=["xxl","xl","lg","md","sm","xs"],rN="xs",kd=c.createContext({prefixes:{},breakpoints:sN,minBreakpoint:rN});function ue(t,n){const{prefixes:s}=c.useContext(kd);return t||s[n]||n}function Ky(){const{breakpoints:t}=c.useContext(kd);return t}function qy(){const{minBreakpoint:t}=c.useContext(kd);return t}function Ed(){const{dir:t}=c.useContext(kd);return t==="rtl"}const Uy=c.forwardRef(({bsPrefix:t,fluid:n=!1,as:s="div",className:r,...a},i)=>{const o=ue(t,"container"),l=typeof n=="string"?`-${n}`:"-fluid";return e.jsx(s,{ref:i,...a,className:ae(r,n?`${o}${l}`:o)})});Uy.displayName="Container";const te=Uy;var dx={exports:{}},Th={exports:{}};(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;function s(r){function a(o,l,d,h,u,m){var j=h||"<<anonymous>>",y=m||d;if(l[d]==null)return o?new Error("Required "+u+" `"+y+"` was not specified "+("in `"+j+"`.")):null;for(var f=arguments.length,x=Array(f>6?f-6:0),S=6;S<f;S++)x[S-6]=arguments[S];return r.apply(void 0,[l,d,j,u,y].concat(x))}var i=a.bind(null,!1);return i.isRequired=a.bind(null,!0),i}t.exports=n.default})(Th,Th.exports);var aN=Th.exports;(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var s=aN,r=a(s);function a(o){return o&&o.__esModule?o:{default:o}}function i(){for(var o=arguments.length,l=Array(o),d=0;d<o;d++)l[d]=arguments[d];function h(){for(var u=arguments.length,m=Array(u),j=0;j<u;j++)m[j]=arguments[j];var y=null;return l.forEach(function(f){if(y==null){var x=f.apply(void 0,m);x!=null&&(y=x)}}),y}return(0,r.default)(h)}t.exports=n.default})(dx,dx.exports);function Ah(){return Ah=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Ah.apply(this,arguments)}function Gy(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}function ux(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function iN(t){var n=oN(t,"string");return typeof n=="symbol"?n:String(n)}function oN(t,n){if(typeof t!="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,n||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Yy(t,n,s){var r=c.useRef(t!==void 0),a=c.useState(n),i=a[0],o=a[1],l=t!==void 0,d=r.current;return r.current=l,!l&&d&&i!==n&&o(n),[l?t:i,c.useCallback(function(h){for(var u=arguments.length,m=new Array(u>1?u-1:0),j=1;j<u;j++)m[j-1]=arguments[j];s&&s.apply(void 0,[h].concat(m)),o(h)},[s])]}function Ll(t,n){return Object.keys(n).reduce(function(s,r){var a,i=s,o=i[ux(r)],l=i[r],d=Gy(i,[ux(r),r].map(iN)),h=n[r],u=Yy(l,o,t[h]),m=u[0],j=u[1];return Ah({},d,(a={},a[r]=m,a[h]=j,a))},t)}function Bh(t,n){return Bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Bh(t,n)}function lN(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,Bh(t,n)}var cN=Function.prototype.bind.call(Function.prototype.call,[].slice);function kr(t,n){return cN(t.querySelectorAll(n))}function Wy(){const[,t]=c.useReducer(n=>!n,!1);return t}const hx=t=>!t||typeof t=="function"?t:n=>{t.current=n};function dN(t,n){const s=hx(t),r=hx(n);return a=>{s&&s(a),r&&r(a)}}function xr(t,n){return c.useMemo(()=>dN(t,n),[t,n])}const Vy=c.createContext(null);Vy.displayName="NavContext";const rm=Vy,uN=c.createContext(null),ja=(t,n=null)=>t!=null?String(t):n||null,fr=uN,hN=c.createContext(null),Yi=hN,fN="data-rr-ui-",mN="rrUi";function Wi(t){return`${fN}${t}`}function pN(t){return`${mN}${t}`}function xN(t){const n=c.useRef(t);return c.useEffect(()=>{n.current=t},[t]),n}function _t(t){const n=xN(t);return c.useCallback(function(...s){return n.current&&n.current(...s)},[n])}const jN=["as","disabled"];function gN(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}function yN(t){return!t||t.trim()==="#"}function am({tagName:t,disabled:n,href:s,target:r,rel:a,role:i,onClick:o,tabIndex:l=0,type:d}){t||(s!=null||r!=null||a!=null?t="a":t="button");const h={tagName:t};if(t==="button")return[{type:d||"button",disabled:n},h];const u=j=>{if((n||t==="a"&&yN(s))&&j.preventDefault(),n){j.stopPropagation();return}o==null||o(j)},m=j=>{j.key===" "&&(j.preventDefault(),u(j))};return t==="a"&&(s||(s="#"),n&&(s=void 0)),[{role:i??"button",disabled:void 0,tabIndex:n?void 0:l,href:s,target:t==="a"?r:void 0,"aria-disabled":n||void 0,rel:t==="a"?a:void 0,onClick:u,onKeyDown:m},h]}const im=c.forwardRef((t,n)=>{let{as:s,disabled:r}=t,a=gN(t,jN);const[i,{tagName:o}]=am(Object.assign({tagName:s,disabled:r},a));return e.jsx(o,Object.assign({},a,i,{ref:n}))});im.displayName="Button";const vN=["as","active","eventKey"];function SN(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}function om({key:t,onClick:n,active:s,id:r,role:a,disabled:i}){const o=c.useContext(fr),l=c.useContext(rm),d=c.useContext(Yi);let h=s;const u={role:a};if(l){!a&&l.role==="tablist"&&(u.role="tab");const m=l.getControllerId(t??null),j=l.getControlledId(t??null);u[Wi("event-key")]=t,u.id=m||r,h=s==null&&t!=null?l.activeKey===t:s,(h||!(d!=null&&d.unmountOnExit)&&!(d!=null&&d.mountOnEnter))&&(u["aria-controls"]=j)}return u.role==="tab"&&(u["aria-selected"]=h,h||(u.tabIndex=-1),i&&(u.tabIndex=-1,u["aria-disabled"]=!0)),u.onClick=_t(m=>{i||(n==null||n(m),t!=null&&o&&!m.isPropagationStopped()&&o(t,m))}),[u,{isActive:h}]}const Qy=c.forwardRef((t,n)=>{let{as:s=im,active:r,eventKey:a}=t,i=SN(t,vN);const[o,l]=om(Object.assign({key:ja(a,i.href),active:r},i));return o[Wi("active")]=l.isActive,e.jsx(s,Object.assign({},i,o,{ref:n}))});Qy.displayName="NavItem";const bN=Qy,CN=["as","onSelect","activeKey","role","onKeyDown"];function wN(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}const fx=()=>{},mx=Wi("event-key"),Jy=c.forwardRef((t,n)=>{let{as:s="div",onSelect:r,activeKey:a,role:i,onKeyDown:o}=t,l=wN(t,CN);const d=Wy(),h=c.useRef(!1),u=c.useContext(fr),m=c.useContext(Yi);let j,y;m&&(i=i||"tablist",a=m.activeKey,j=m.getControlledId,y=m.getControllerId);const f=c.useRef(null),x=E=>{const v=f.current;if(!v)return null;const k=kr(v,`[${mx}]:not([aria-disabled=true])`),$=v.querySelector("[aria-selected=true]");if(!$||$!==document.activeElement)return null;const C=k.indexOf($);if(C===-1)return null;let w=C+E;return w>=k.length&&(w=0),w<0&&(w=k.length-1),k[w]},S=(E,v)=>{E!=null&&(r==null||r(E,v),u==null||u(E,v))},N=E=>{if(o==null||o(E),!m)return;let v;switch(E.key){case"ArrowLeft":case"ArrowUp":v=x(-1);break;case"ArrowRight":case"ArrowDown":v=x(1);break;default:return}v&&(E.preventDefault(),S(v.dataset[pN("EventKey")]||null,E),h.current=!0,d())};c.useEffect(()=>{if(f.current&&h.current){const E=f.current.querySelector(`[${mx}][aria-selected=true]`);E==null||E.focus()}h.current=!1});const b=xr(n,f);return e.jsx(fr.Provider,{value:S,children:e.jsx(rm.Provider,{value:{role:i,activeKey:ja(a),getControlledId:j||fx,getControllerId:y||fx},children:e.jsx(s,Object.assign({},l,{onKeyDown:N,ref:b,role:i}))})})});Jy.displayName="Nav";const Xy=Object.assign(Jy,{Item:bN}),Zy=c.createContext(null);Zy.displayName="NavbarContext";const Qa=Zy,ev=c.createContext(null);ev.displayName="CardHeaderContext";const tv=ev,nv=c.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=ue(n,"nav-item"),e.jsx(s,{ref:a,className:ae(t,n),...r})));nv.displayName="NavItem";const sv=nv;function Zc(){return c.useState(null)}function NN(t,n,s,r=!1){const a=_t(s);c.useEffect(()=>{const i=typeof t=="function"?t():t;return i.addEventListener(n,a,r),()=>i.removeEventListener(n,a,r)},[t])}function lm(){const t=c.useRef(!0),n=c.useRef(()=>t.current);return c.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),n.current}function rv(t){const n=c.useRef(null);return c.useEffect(()=>{n.current=t}),n.current}const kN=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",EN=typeof document<"u",xl=EN||kN?c.useLayoutEffect:c.useEffect,LN=["onKeyDown"];function DN(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}function $N(t){return!t||t.trim()==="#"}const av=c.forwardRef((t,n)=>{let{onKeyDown:s}=t,r=DN(t,LN);const[a]=am(Object.assign({tagName:"a"},r)),i=_t(o=>{a.onKeyDown(o),s==null||s(o)});return $N(r.href)||r.role==="button"?e.jsx("a",Object.assign({ref:n},r,a,{onKeyDown:i})):e.jsx("a",Object.assign({ref:n},r,{onKeyDown:s}))});av.displayName="Anchor";const cm=av,iv=c.forwardRef(({bsPrefix:t,className:n,as:s=cm,active:r,eventKey:a,disabled:i=!1,...o},l)=>{t=ue(t,"nav-link");const[d,h]=om({key:ja(a,o.href),active:r,disabled:i,...o});return e.jsx(s,{...o,...d,ref:l,disabled:i,className:ae(n,t,i&&"disabled",h.isActive&&"active")})});iv.displayName="NavLink";const dm=iv,ov=c.forwardRef((t,n)=>{const{as:s="div",bsPrefix:r,variant:a,fill:i=!1,justify:o=!1,navbar:l,navbarScroll:d,className:h,activeKey:u,...m}=Ll(t,{activeKey:"onSelect"}),j=ue(r,"nav");let y,f,x=!1;const S=c.useContext(Qa),N=c.useContext(tv);return S?(y=S.bsPrefix,x=l??!0):N&&({cardHeaderBsPrefix:f}=N),e.jsx(Xy,{as:s,ref:n,activeKey:u,className:ae(h,{[j]:!x,[`${y}-nav`]:x,[`${y}-nav-scroll`]:x&&d,[`${f}-${a}`]:!!f,[`${j}-${a}`]:!!a,[`${j}-fill`]:i,[`${j}-justified`]:o}),...m})});ov.displayName="Nav";const us=Object.assign(ov,{Item:sv,Link:dm}),lv=c.forwardRef(({bsPrefix:t,className:n,as:s,...r},a)=>{t=ue(t,"navbar-brand");const i=s||(r.href?"a":"span");return e.jsx(i,{...r,ref:a,className:ae(n,t)})});lv.displayName="NavbarBrand";const ON=lv;function Vi(t){return t&&t.ownerDocument||document}function TN(t){var n=Vi(t);return n&&n.defaultView||window}function AN(t,n){return TN(t).getComputedStyle(t,n)}var BN=/([A-Z])/g;function _N(t){return t.replace(BN,"-$1").toLowerCase()}var RN=/^ms-/;function ec(t){return _N(t).replace(RN,"-ms-")}var IN=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function PN(t){return!!(t&&IN.test(t))}function Tr(t,n){var s="",r="";if(typeof n=="string")return t.style.getPropertyValue(ec(n))||AN(t).getPropertyValue(ec(n));Object.keys(n).forEach(function(a){var i=n[a];!i&&i!==0?t.style.removeProperty(ec(a)):PN(a)?r+=a+"("+i+") ":s+=ec(a)+": "+i+";"}),r&&(s+="transform: "+r+";"),t.style.cssText+=";"+s}var cv={exports:{}},FN="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",MN=FN,zN=MN;function dv(){}function uv(){}uv.resetWarningCache=dv;var HN=function(){function t(r,a,i,o,l,d){if(d!==zN){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function n(){return t}var s={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:n,element:t,elementType:t,instanceOf:n,node:t,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:uv,resetWarningCache:dv};return s.PropTypes=s,s};cv.exports=HN();var KN=cv.exports;const Pn=Ki(KN),px={disabled:!1},hv=It.createContext(null);var qN=function(n){return n.scrollTop},Fo="unmounted",Zr="exited",Js="entering",Er="entered",jl="exiting",zr=function(t){lN(n,t);function n(r,a){var i;i=t.call(this,r,a)||this;var o=a,l=o&&!o.isMounting?r.enter:r.appear,d;return i.appearStatus=null,r.in?l?(d=Zr,i.appearStatus=Js):d=Er:r.unmountOnExit||r.mountOnEnter?d=Fo:d=Zr,i.state={status:d},i.nextCallback=null,i}n.getDerivedStateFromProps=function(a,i){var o=a.in;return o&&i.status===Fo?{status:Zr}:null};var s=n.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(a){var i=null;if(a!==this.props){var o=this.state.status;this.props.in?o!==Js&&o!==Er&&(i=Js):(o===Js||o===Er)&&(i=jl)}this.updateStatus(!1,i)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var a=this.props.timeout,i,o,l;return i=o=l=a,a!=null&&typeof a!="number"&&(i=a.exit,o=a.enter,l=a.appear!==void 0?a.appear:o),{exit:i,enter:o,appear:l}},s.updateStatus=function(a,i){if(a===void 0&&(a=!1),i!==null)if(this.cancelNextCallback(),i===Js){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ra.findDOMNode(this);o&&qN(o)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Zr&&this.setState({status:Fo})},s.performEnter=function(a){var i=this,o=this.props.enter,l=this.context?this.context.isMounting:a,d=this.props.nodeRef?[l]:[Ra.findDOMNode(this),l],h=d[0],u=d[1],m=this.getTimeouts(),j=l?m.appear:m.enter;if(!a&&!o||px.disabled){this.safeSetState({status:Er},function(){i.props.onEntered(h)});return}this.props.onEnter(h,u),this.safeSetState({status:Js},function(){i.props.onEntering(h,u),i.onTransitionEnd(j,function(){i.safeSetState({status:Er},function(){i.props.onEntered(h,u)})})})},s.performExit=function(){var a=this,i=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:Ra.findDOMNode(this);if(!i||px.disabled){this.safeSetState({status:Zr},function(){a.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:jl},function(){a.props.onExiting(l),a.onTransitionEnd(o.exit,function(){a.safeSetState({status:Zr},function(){a.props.onExited(l)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(a,i){i=this.setNextCallback(i),this.setState(a,i)},s.setNextCallback=function(a){var i=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,i.nextCallback=null,a(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},s.onTransitionEnd=function(a,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Ra.findDOMNode(this),l=a==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],h=d[0],u=d[1];this.props.addEndListener(h,u)}a!=null&&setTimeout(this.nextCallback,a)},s.render=function(){var a=this.state.status;if(a===Fo)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=Gy(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return It.createElement(hv.Provider,{value:null},typeof o=="function"?o(a,l):It.cloneElement(It.Children.only(o),l))},n}(It.Component);zr.contextType=hv;zr.propTypes={};function ai(){}zr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ai,onEntering:ai,onEntered:ai,onExit:ai,onExiting:ai,onExited:ai};zr.UNMOUNTED=Fo;zr.EXITED=Zr;zr.ENTERING=Js;zr.ENTERED=Er;zr.EXITING=jl;const UN=zr,Qi=!!(typeof window<"u"&&window.document&&window.document.createElement);var _h=!1,Rh=!1;try{var gu={get passive(){return _h=!0},get once(){return Rh=_h=!0}};Qi&&(window.addEventListener("test",gu,gu),window.removeEventListener("test",gu,!0))}catch{}function um(t,n,s,r){if(r&&typeof r!="boolean"&&!Rh){var a=r.once,i=r.capture,o=s;!Rh&&a&&(o=s.__once||function l(d){this.removeEventListener(n,l,i),s.call(this,d)},s.__once=o),t.addEventListener(n,o,_h?r:i)}t.addEventListener(n,s,r)}function Ih(t,n,s,r){var a=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(n,s,a),s.__once&&t.removeEventListener(n,s.__once,a)}function $r(t,n,s,r){return um(t,n,s,r),function(){Ih(t,n,s,r)}}function GN(t,n,s,r){if(s===void 0&&(s=!1),r===void 0&&(r=!0),t){var a=document.createEvent("HTMLEvents");a.initEvent(n,s,r),t.dispatchEvent(a)}}function YN(t){var n=Tr(t,"transitionDuration")||"",s=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*s}function WN(t,n,s){s===void 0&&(s=5);var r=!1,a=setTimeout(function(){r||GN(t,"transitionend",!0)},n+s),i=$r(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(a),i()}}function fv(t,n,s,r){s==null&&(s=YN(t)||0);var a=WN(t,s,r),i=$r(t,"transitionend",n);return function(){a(),i()}}function xx(t,n){const s=Tr(t,n)||"",r=s.indexOf("ms")===-1?1e3:1;return parseFloat(s)*r}function hm(t,n){const s=xx(t,"transitionDuration"),r=xx(t,"transitionDelay"),a=fv(t,i=>{i.target===t&&(a(),n(i))},s+r)}function Eo(...t){return t.filter(n=>n!=null).reduce((n,s)=>{if(typeof s!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===null?s:function(...a){n.apply(this,a),s.apply(this,a)}},null)}function mv(t){t.offsetHeight}function ed(t){return t&&"setState"in t?Ra.findDOMNode(t):t??null}const VN=It.forwardRef(({onEnter:t,onEntering:n,onEntered:s,onExit:r,onExiting:a,onExited:i,addEndListener:o,children:l,childRef:d,...h},u)=>{const m=c.useRef(null),j=xr(m,d),y=$=>{j(ed($))},f=$=>C=>{$&&m.current&&$(m.current,C)},x=c.useCallback(f(t),[t]),S=c.useCallback(f(n),[n]),N=c.useCallback(f(s),[s]),b=c.useCallback(f(r),[r]),E=c.useCallback(f(a),[a]),v=c.useCallback(f(i),[i]),k=c.useCallback(f(o),[o]);return e.jsx(UN,{ref:u,...h,onEnter:x,onEntered:N,onEntering:S,onExit:b,onExited:v,onExiting:E,addEndListener:k,nodeRef:m,children:typeof l=="function"?($,C)=>l($,{...C,ref:y}):It.cloneElement(l,{ref:y})})}),fm=VN,QN={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function JN(t,n){const s=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=n[s],a=QN[t];return r+parseInt(Tr(n,a[0]),10)+parseInt(Tr(n,a[1]),10)}const XN={[Zr]:"collapse",[jl]:"collapsing",[Js]:"collapsing",[Er]:"collapse show"},ZN=It.forwardRef(({onEnter:t,onEntering:n,onEntered:s,onExit:r,onExiting:a,className:i,children:o,dimension:l="height",in:d=!1,timeout:h=300,mountOnEnter:u=!1,unmountOnExit:m=!1,appear:j=!1,getDimensionValue:y=JN,...f},x)=>{const S=typeof l=="function"?l():l,N=c.useMemo(()=>Eo($=>{$.style[S]="0"},t),[S,t]),b=c.useMemo(()=>Eo($=>{const C=`scroll${S[0].toUpperCase()}${S.slice(1)}`;$.style[S]=`${$[C]}px`},n),[S,n]),E=c.useMemo(()=>Eo($=>{$.style[S]=null},s),[S,s]),v=c.useMemo(()=>Eo($=>{$.style[S]=`${y(S,$)}px`,mv($)},r),[r,y,S]),k=c.useMemo(()=>Eo($=>{$.style[S]=null},a),[S,a]);return e.jsx(fm,{ref:x,addEndListener:hm,...f,"aria-expanded":f.role?d:null,onEnter:N,onEntering:b,onEntered:E,onExit:v,onExiting:k,childRef:o.ref,in:d,timeout:h,mountOnEnter:u,unmountOnExit:m,appear:j,children:($,C)=>It.cloneElement(o,{...C,className:ae(i,o.props.className,XN[$],S==="width"&&"collapse-horizontal")})})}),ek=ZN,pv=c.forwardRef(({children:t,bsPrefix:n,...s},r)=>{n=ue(n,"navbar-collapse");const a=c.useContext(Qa);return e.jsx(ek,{in:!!(a&&a.expanded),...s,children:e.jsx("div",{ref:r,className:n,children:t})})});pv.displayName="NavbarCollapse";const tk=pv,xv=c.forwardRef(({bsPrefix:t,className:n,children:s,label:r="Toggle navigation",as:a="button",onClick:i,...o},l)=>{t=ue(t,"navbar-toggler");const{onToggle:d,expanded:h}=c.useContext(Qa)||{},u=_t(m=>{i&&i(m),d&&d()});return a==="button"&&(o.type="button"),e.jsx(a,{...o,ref:l,onClick:u,"aria-label":r,className:ae(n,t,!h&&"collapsed"),children:s||e.jsx("span",{className:`${t}-icon`})})});xv.displayName="NavbarToggle";const nk=xv,Ph=new WeakMap,jx=(t,n)=>{if(!t||!n)return;const s=Ph.get(n)||new Map;Ph.set(n,s);let r=s.get(t);return r||(r=n.matchMedia(t),r.refCount=0,s.set(r.media,r)),r};function sk(t,n=typeof window>"u"?void 0:window){const s=jx(t,n),[r,a]=c.useState(()=>s?s.matches:!1);return xl(()=>{let i=jx(t,n);if(!i)return a(!1);let o=Ph.get(n);const l=()=>{a(i.matches)};return i.refCount++,i.addListener(l),l(),()=>{i.removeListener(l),i.refCount--,i.refCount<=0&&(o==null||o.delete(i.media)),i=void 0}},[t]),r}function rk(t){const n=Object.keys(t);function s(l,d){return l===d?d:l?`${l} and ${d}`:d}function r(l){return n[Math.min(n.indexOf(l)+1,n.length-1)]}function a(l){const d=r(l);let h=t[d];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function i(l){let d=t[l];return typeof d=="number"&&(d=`${d}px`),`(min-width: ${d})`}function o(l,d,h){let u;typeof l=="object"?(u=l,h=d,d=!0):(d=d||!0,u={[l]:d});let m=c.useMemo(()=>Object.entries(u).reduce((j,[y,f])=>((f==="up"||f===!0)&&(j=s(j,i(y))),(f==="down"||f===!0)&&(j=s(j,a(y))),j),""),[JSON.stringify(u)]);return sk(m,h)}return o}const ak=rk({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function yu(t){t===void 0&&(t=Vi());try{var n=t.activeElement;return!n||!n.nodeName?null:n}catch{return t.body}}function gl(t,n){if(t.contains)return t.contains(n);if(t.compareDocumentPosition)return t===n||!!(t.compareDocumentPosition(n)&16)}function ik(t){const n=c.useRef(t);return n.current=t,n}function mm(t){const n=ik(t);c.useEffect(()=>()=>n.current(),[])}function ok(t=document){const n=t.defaultView;return Math.abs(n.innerWidth-t.documentElement.clientWidth)}const gx=Wi("modal-open");class lk{constructor({ownerDocument:n,handleContainerOverflow:s=!0,isRTL:r=!1}={}){this.handleContainerOverflow=s,this.isRTL=r,this.modals=[],this.ownerDocument=n}getScrollbarWidth(){return ok(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(n){}removeModalAttributes(n){}setContainerStyle(n){const s={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();n.style={overflow:a.style.overflow,[r]:a.style[r]},n.scrollBarWidth&&(s[r]=`${parseInt(Tr(a,r)||"0",10)+n.scrollBarWidth}px`),a.setAttribute(gx,""),Tr(a,s)}reset(){[...this.modals].forEach(n=>this.remove(n))}removeContainerStyle(n){const s=this.getElement();s.removeAttribute(gx),Object.assign(s.style,n.style)}add(n){let s=this.modals.indexOf(n);return s!==-1||(s=this.modals.length,this.modals.push(n),this.setModalAttributes(n),s!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),s}remove(n){const s=this.modals.indexOf(n);s!==-1&&(this.modals.splice(s,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(n))}isTopModal(n){return!!this.modals.length&&this.modals[this.modals.length-1]===n}}const pm=lk,jv=c.createContext(Qi?window:void 0);jv.Provider;function Ld(){return c.useContext(jv)}const vu=(t,n)=>Qi?t==null?(n||Vi()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function Fh(t,n){const s=Ld(),[r,a]=c.useState(()=>vu(t,s==null?void 0:s.document));if(!r){const i=vu(t);i&&a(i)}return c.useEffect(()=>{n&&r&&n(r)},[n,r]),c.useEffect(()=>{const i=vu(t);i!==r&&a(i)},[t,r]),r}function xm({children:t,in:n,onExited:s,mountOnEnter:r,unmountOnExit:a}){const i=c.useRef(null),o=c.useRef(n),l=_t(s);c.useEffect(()=>{n?o.current=!0:l(i.current)},[n,l]);const d=xr(i,t.ref),h=c.cloneElement(t,{ref:d});return n?h:a||!o.current&&r?null:h}function ck({in:t,onTransition:n}){const s=c.useRef(null),r=c.useRef(!0),a=_t(n);return xl(()=>{if(!s.current)return;let i=!1;return a({in:t,element:s.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[t,a]),xl(()=>(r.current=!1,()=>{r.current=!0}),[]),s}function dk({children:t,in:n,onExited:s,onEntered:r,transition:a}){const[i,o]=c.useState(!n);n&&i&&o(!1);const l=ck({in:!!n,onTransition:h=>{const u=()=>{h.isStale()||(h.in?r==null||r(h.element,h.initial):(o(!0),s==null||s(h.element)))};Promise.resolve(a(h)).then(u,m=>{throw h.in||o(!0),m})}}),d=xr(l,t.ref);return i&&!n?null:c.cloneElement(t,{ref:d})}function Mh(t,n,s){return t?e.jsx(t,Object.assign({},s)):n?e.jsx(dk,Object.assign({},s,{transition:n})):e.jsx(xm,Object.assign({},s))}function gv(t){return t.code==="Escape"||t.keyCode===27}const uk=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function hk(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}let Su;function fk(t){return Su||(Su=new pm({ownerDocument:t==null?void 0:t.document})),Su}function mk(t){const n=Ld(),s=t||fk(n),r=c.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>s.add(r.current),remove:()=>s.remove(r.current),isTopModal:()=>s.isTopModal(r.current),setDialogRef:c.useCallback(a=>{r.current.dialog=a},[]),setBackdropRef:c.useCallback(a=>{r.current.backdrop=a},[])})}const yv=c.forwardRef((t,n)=>{let{show:s=!1,role:r="dialog",className:a,style:i,children:o,backdrop:l=!0,keyboard:d=!0,onBackdropClick:h,onEscapeKeyDown:u,transition:m,runTransition:j,backdropTransition:y,runBackdropTransition:f,autoFocus:x=!0,enforceFocus:S=!0,restoreFocus:N=!0,restoreFocusOptions:b,renderDialog:E,renderBackdrop:v=De=>e.jsx("div",Object.assign({},De)),manager:k,container:$,onShow:C,onHide:w=()=>{},onExit:A,onExited:B,onExiting:H,onEnter:I,onEntering:L,onEntered:R}=t,G=hk(t,uk);const Z=Ld(),ne=Fh($),M=mk(k),K=lm(),F=rv(s),[xe,ge]=c.useState(!s),_e=c.useRef(null);c.useImperativeHandle(n,()=>M,[M]),Qi&&!F&&s&&(_e.current=yu(Z==null?void 0:Z.document)),s&&xe&&ge(!1);const je=_t(()=>{if(M.add(),Ht.current=$r(document,"keydown",Je),zt.current=$r(document,"focus",()=>setTimeout(Ve),!0),C&&C(),x){var De,en;const wt=yu((De=(en=M.dialog)==null?void 0:en.ownerDocument)!=null?De:Z==null?void 0:Z.document);M.dialog&&wt&&!gl(M.dialog,wt)&&(_e.current=wt,M.dialog.focus())}}),le=_t(()=>{if(M.remove(),Ht.current==null||Ht.current(),zt.current==null||zt.current(),N){var De;(De=_e.current)==null||De.focus==null||De.focus(b),_e.current=null}});c.useEffect(()=>{!s||!ne||je()},[s,ne,je]),c.useEffect(()=>{xe&&le()},[xe,le]),mm(()=>{le()});const Ve=_t(()=>{if(!S||!K()||!M.isTopModal())return;const De=yu(Z==null?void 0:Z.document);M.dialog&&De&&!gl(M.dialog,De)&&M.dialog.focus()}),Qe=_t(De=>{De.target===De.currentTarget&&(h==null||h(De),l===!0&&w())}),Je=_t(De=>{d&&gv(De)&&M.isTopModal()&&(u==null||u(De),De.defaultPrevented||w())}),zt=c.useRef(),Ht=c.useRef(),ye=(...De)=>{ge(!0),B==null||B(...De)};if(!ne)return null;const Tt=Object.assign({role:r,ref:M.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},G,{style:i,className:a,tabIndex:-1});let At=E?E(Tt):e.jsx("div",Object.assign({},Tt,{children:c.cloneElement(o,{role:"document"})}));At=Mh(m,j,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!s,onExit:A,onExiting:H,onExited:ye,onEnter:I,onEntering:L,onEntered:R,children:At});let He=null;return l&&(He=v({ref:M.setBackdropRef,onClick:Qe}),He=Mh(y,f,{in:!!s,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:He})),e.jsx(e.Fragment,{children:Ra.createPortal(e.jsxs(e.Fragment,{children:[He,At]}),ne)})});yv.displayName="Modal";const vv=Object.assign(yv,{Manager:pm}),pk={[Js]:"show",[Er]:"show"},Sv=c.forwardRef(({className:t,children:n,transitionClasses:s={},onEnter:r,...a},i)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},l=c.useCallback((d,h)=>{mv(d),r==null||r(d,h)},[r]);return e.jsx(fm,{ref:i,addEndListener:hm,...o,onEnter:l,childRef:n.ref,children:(d,h)=>c.cloneElement(n,{...h,className:ae("fade",t,n.props.className,pk[d],s[d])})})});Sv.displayName="Fade";const Ga=Sv,bv=c.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=ue(n,"offcanvas-body"),e.jsx(s,{ref:a,className:ae(t,n),...r})));bv.displayName="OffcanvasBody";const xk=bv,jk={[Js]:"show",[Er]:"show"},Cv=c.forwardRef(({bsPrefix:t,className:n,children:s,in:r=!1,mountOnEnter:a=!1,unmountOnExit:i=!1,appear:o=!1,...l},d)=>(t=ue(t,"offcanvas"),e.jsx(fm,{ref:d,addEndListener:hm,in:r,mountOnEnter:a,unmountOnExit:i,appear:o,...l,childRef:s.ref,children:(h,u)=>c.cloneElement(s,{...u,className:ae(n,s.props.className,(h===Js||h===jl)&&`${t}-toggling`,jk[h])})})));Cv.displayName="OffcanvasToggling";const gk=Cv,yk=c.createContext({onHide(){}}),jm=yk,vk={"aria-label":Pn.string,onClick:Pn.func,variant:Pn.oneOf(["white"])},gm=c.forwardRef(({className:t,variant:n,"aria-label":s="Close",...r},a)=>e.jsx("button",{ref:a,type:"button",className:ae("btn-close",n&&`btn-close-${n}`,t),"aria-label":s,...r}));gm.displayName="CloseButton";gm.propTypes=vk;const Sk=gm,bk=c.forwardRef(({closeLabel:t="Close",closeVariant:n,closeButton:s=!1,onHide:r,children:a,...i},o)=>{const l=c.useContext(jm),d=_t(()=>{l==null||l.onHide(),r==null||r()});return e.jsxs("div",{ref:o,...i,children:[a,s&&e.jsx(Sk,{"aria-label":t,variant:n,onClick:d})]})}),wv=bk,Nv=c.forwardRef(({bsPrefix:t,className:n,closeLabel:s="Close",closeButton:r=!1,...a},i)=>(t=ue(t,"offcanvas-header"),e.jsx(wv,{ref:i,...a,className:ae(n,t),closeLabel:s,closeButton:r})));Nv.displayName="OffcanvasHeader";const Ck=Nv,Dd=t=>c.forwardRef((n,s)=>e.jsx("div",{...n,ref:s,className:ae(n.className,t)})),wk=Dd("h5"),kv=c.forwardRef(({className:t,bsPrefix:n,as:s=wk,...r},a)=>(n=ue(n,"offcanvas-title"),e.jsx(s,{ref:a,className:ae(t,n),...r})));kv.displayName="OffcanvasTitle";const Nk=kv;function zh(t,n){return t.classList?!!n&&t.classList.contains(n):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+n+" ")!==-1}function kk(t,n){t.classList?t.classList.add(n):zh(t,n)||(typeof t.className=="string"?t.className=t.className+" "+n:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+n))}function yx(t,n){return t.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ek(t,n){t.classList?t.classList.remove(n):typeof t.className=="string"?t.className=yx(t.className,n):t.setAttribute("class",yx(t.className&&t.className.baseVal||"",n))}const ii={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Ev extends pm{adjustAndStore(n,s,r){const a=s.style[n];s.dataset[n]=a,Tr(s,{[n]:`${parseFloat(Tr(s,n))+r}px`})}restore(n,s){const r=s.dataset[n];r!==void 0&&(delete s.dataset[n],Tr(s,{[n]:r}))}setContainerStyle(n){super.setContainerStyle(n);const s=this.getElement();if(kk(s,"modal-open"),!n.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";kr(s,ii.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,n.scrollBarWidth)),kr(s,ii.STICKY_CONTENT).forEach(i=>this.adjustAndStore(a,i,-n.scrollBarWidth)),kr(s,ii.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(a,i,n.scrollBarWidth))}removeContainerStyle(n){super.removeContainerStyle(n);const s=this.getElement();Ek(s,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";kr(s,ii.FIXED_CONTENT).forEach(i=>this.restore(r,i)),kr(s,ii.STICKY_CONTENT).forEach(i=>this.restore(a,i)),kr(s,ii.NAVBAR_TOGGLER).forEach(i=>this.restore(a,i))}}let bu;function Lv(t){return bu||(bu=new Ev(t)),bu}const Lk=Ev;function Dk(t){return e.jsx(gk,{...t})}function $k(t){return e.jsx(Ga,{...t})}const Dv=c.forwardRef(({bsPrefix:t,className:n,children:s,"aria-labelledby":r,placement:a="start",responsive:i,show:o=!1,backdrop:l=!0,keyboard:d=!0,scroll:h=!1,onEscapeKeyDown:u,onShow:m,onHide:j,container:y,autoFocus:f=!0,enforceFocus:x=!0,restoreFocus:S=!0,restoreFocusOptions:N,onEntered:b,onExit:E,onExiting:v,onEnter:k,onEntering:$,onExited:C,backdropClassName:w,manager:A,renderStaticNode:B=!1,...H},I)=>{const L=c.useRef();t=ue(t,"offcanvas");const{onToggle:R}=c.useContext(Qa)||{},[G,Z]=c.useState(!1),ne=ak(i||"xs","up");c.useEffect(()=>{Z(i?o&&!ne:o)},[o,i,ne]);const M=_t(()=>{R==null||R(),j==null||j()}),K=c.useMemo(()=>({onHide:M}),[M]);function F(){return A||(h?(L.current||(L.current=new Lk({handleContainerOverflow:!1})),L.current):Lv())}const xe=(le,...Ve)=>{le&&(le.style.visibility="visible"),k==null||k(le,...Ve)},ge=(le,...Ve)=>{le&&(le.style.visibility=""),C==null||C(...Ve)},_e=c.useCallback(le=>e.jsx("div",{...le,className:ae(`${t}-backdrop`,w)}),[w,t]),je=le=>e.jsx("div",{...le,...H,className:ae(n,i?`${t}-${i}`:t,`${t}-${a}`),"aria-labelledby":r,children:s});return e.jsxs(e.Fragment,{children:[!G&&(i||B)&&je({}),e.jsx(jm.Provider,{value:K,children:e.jsx(vv,{show:G,ref:I,backdrop:l,container:y,keyboard:d,autoFocus:f,enforceFocus:x&&!h,restoreFocus:S,restoreFocusOptions:N,onEscapeKeyDown:u,onShow:m,onHide:M,onEnter:xe,onEntering:$,onEntered:b,onExit:E,onExiting:v,onExited:ge,manager:F(),transition:Dk,backdropTransition:$k,renderBackdrop:_e,renderDialog:je})})]})});Dv.displayName="Offcanvas";const Ok=Object.assign(Dv,{Body:xk,Header:Ck,Title:Nk}),$v=c.forwardRef((t,n)=>{const s=c.useContext(Qa);return e.jsx(Ok,{ref:n,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0})});$v.displayName="NavbarOffcanvas";const Tk=$v,Ov=c.forwardRef(({className:t,bsPrefix:n,as:s="span",...r},a)=>(n=ue(n,"navbar-text"),e.jsx(s,{ref:a,className:ae(t,n),...r})));Ov.displayName="NavbarText";const Ak=Ov,Tv=c.forwardRef((t,n)=>{const{bsPrefix:s,expand:r=!0,variant:a="light",bg:i,fixed:o,sticky:l,className:d,as:h="nav",expanded:u,onToggle:m,onSelect:j,collapseOnSelect:y=!1,...f}=Ll(t,{expanded:"onToggle"}),x=ue(s,"navbar"),S=c.useCallback((...E)=>{j==null||j(...E),y&&u&&(m==null||m(!1))},[j,y,u,m]);f.role===void 0&&h!=="nav"&&(f.role="navigation");let N=`${x}-expand`;typeof r=="string"&&(N=`${N}-${r}`);const b=c.useMemo(()=>({onToggle:()=>m==null?void 0:m(!u),bsPrefix:x,expanded:!!u,expand:r}),[x,u,r,m]);return e.jsx(Qa.Provider,{value:b,children:e.jsx(fr.Provider,{value:S,children:e.jsx(h,{ref:n,...f,className:ae(d,x,r&&N,a&&`${x}-${a}`,i&&`bg-${i}`,l&&`sticky-${l}`,o&&`fixed-${o}`)})})})});Tv.displayName="Navbar";const tc=Object.assign(Tv,{Brand:ON,Collapse:tk,Offcanvas:Tk,Text:Ak,Toggle:nk});function Av(t,n,s){const r=c.useRef(t!==void 0),[a,i]=c.useState(n),o=t!==void 0,l=r.current;return r.current=o,!o&&l&&a!==n&&i(n),[o?t:a,c.useCallback((...d)=>{const[h,...u]=d;let m=s==null?void 0:s(h,...u);return i(h),m},[s])]}const Bk=c.createContext(null),$d=Bk;var vx=Object.prototype.hasOwnProperty;function Sx(t,n,s){for(s of t.keys())if(Qo(s,n))return s}function Qo(t,n){var s,r,a;if(t===n)return!0;if(t&&n&&(s=t.constructor)===n.constructor){if(s===Date)return t.getTime()===n.getTime();if(s===RegExp)return t.toString()===n.toString();if(s===Array){if((r=t.length)===n.length)for(;r--&&Qo(t[r],n[r]););return r===-1}if(s===Set){if(t.size!==n.size)return!1;for(r of t)if(a=r,a&&typeof a=="object"&&(a=Sx(n,a),!a)||!n.has(a))return!1;return!0}if(s===Map){if(t.size!==n.size)return!1;for(r of t)if(a=r[0],a&&typeof a=="object"&&(a=Sx(n,a),!a)||!Qo(r[1],n.get(a)))return!1;return!0}if(s===ArrayBuffer)t=new Uint8Array(t),n=new Uint8Array(n);else if(s===DataView){if((r=t.byteLength)===n.byteLength)for(;r--&&t.getInt8(r)===n.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===n.byteLength)for(;r--&&t[r]===n[r];);return r===-1}if(!s||typeof t=="object"){r=0;for(s in t)if(vx.call(t,s)&&++r&&!vx.call(n,s)||!(s in n)||!Qo(t[s],n[s]))return!1;return Object.keys(n).length===r}}return t!==t&&n!==n}function _k(t){const n=lm();return[t[0],c.useCallback(s=>{if(n())return t[1](s)},[n,t[1]])]}var rs="top",_s="bottom",Rs="right",as="left",ym="auto",Dl=[rs,_s,Rs,as],Pi="start",yl="end",Rk="clippingParents",Bv="viewport",Lo="popper",Ik="reference",bx=Dl.reduce(function(t,n){return t.concat([n+"-"+Pi,n+"-"+yl])},[]),_v=[].concat(Dl,[ym]).reduce(function(t,n){return t.concat([n,n+"-"+Pi,n+"-"+yl])},[]),Pk="beforeRead",Fk="read",Mk="afterRead",zk="beforeMain",Hk="main",Kk="afterMain",qk="beforeWrite",Uk="write",Gk="afterWrite",Yk=[Pk,Fk,Mk,zk,Hk,Kk,qk,Uk,Gk];function dr(t){return t.split("-")[0]}function xs(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function Ya(t){var n=xs(t).Element;return t instanceof n||t instanceof Element}function ur(t){var n=xs(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function vm(t){if(typeof ShadowRoot>"u")return!1;var n=xs(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}var Ma=Math.max,td=Math.min,Fi=Math.round;function Hh(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function Rv(){return!/^((?!chrome|android).)*safari/i.test(Hh())}function Mi(t,n,s){n===void 0&&(n=!1),s===void 0&&(s=!1);var r=t.getBoundingClientRect(),a=1,i=1;n&&ur(t)&&(a=t.offsetWidth>0&&Fi(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Fi(r.height)/t.offsetHeight||1);var o=Ya(t)?xs(t):window,l=o.visualViewport,d=!Rv()&&s,h=(r.left+(d&&l?l.offsetLeft:0))/a,u=(r.top+(d&&l?l.offsetTop:0))/i,m=r.width/a,j=r.height/i;return{width:m,height:j,top:u,right:h+m,bottom:u+j,left:h,x:h,y:u}}function Sm(t){var n=Mi(t),s=t.offsetWidth,r=t.offsetHeight;return Math.abs(n.width-s)<=1&&(s=n.width),Math.abs(n.height-r)<=1&&(r=n.height),{x:t.offsetLeft,y:t.offsetTop,width:s,height:r}}function Iv(t,n){var s=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(s&&vm(s)){var r=n;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ga(t){return t?(t.nodeName||"").toLowerCase():null}function Pr(t){return xs(t).getComputedStyle(t)}function Wk(t){return["table","td","th"].indexOf(ga(t))>=0}function ba(t){return((Ya(t)?t.ownerDocument:t.document)||window.document).documentElement}function Od(t){return ga(t)==="html"?t:t.assignedSlot||t.parentNode||(vm(t)?t.host:null)||ba(t)}function Cx(t){return!ur(t)||Pr(t).position==="fixed"?null:t.offsetParent}function Vk(t){var n=/firefox/i.test(Hh()),s=/Trident/i.test(Hh());if(s&&ur(t)){var r=Pr(t);if(r.position==="fixed")return null}var a=Od(t);for(vm(a)&&(a=a.host);ur(a)&&["html","body"].indexOf(ga(a))<0;){var i=Pr(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||n&&i.willChange==="filter"||n&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function $l(t){for(var n=xs(t),s=Cx(t);s&&Wk(s)&&Pr(s).position==="static";)s=Cx(s);return s&&(ga(s)==="html"||ga(s)==="body"&&Pr(s).position==="static")?n:s||Vk(t)||n}function bm(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Jo(t,n,s){return Ma(t,td(n,s))}function Qk(t,n,s){var r=Jo(t,n,s);return r>s?s:r}function Pv(){return{top:0,right:0,bottom:0,left:0}}function Fv(t){return Object.assign({},Pv(),t)}function Mv(t,n){return n.reduce(function(s,r){return s[r]=t,s},{})}var Jk=function(n,s){return n=typeof n=="function"?n(Object.assign({},s.rects,{placement:s.placement})):n,Fv(typeof n!="number"?n:Mv(n,Dl))};function Xk(t){var n,s=t.state,r=t.name,a=t.options,i=s.elements.arrow,o=s.modifiersData.popperOffsets,l=dr(s.placement),d=bm(l),h=[as,Rs].indexOf(l)>=0,u=h?"height":"width";if(!(!i||!o)){var m=Jk(a.padding,s),j=Sm(i),y=d==="y"?rs:as,f=d==="y"?_s:Rs,x=s.rects.reference[u]+s.rects.reference[d]-o[d]-s.rects.popper[u],S=o[d]-s.rects.reference[d],N=$l(i),b=N?d==="y"?N.clientHeight||0:N.clientWidth||0:0,E=x/2-S/2,v=m[y],k=b-j[u]-m[f],$=b/2-j[u]/2+E,C=Jo(v,$,k),w=d;s.modifiersData[r]=(n={},n[w]=C,n.centerOffset=C-$,n)}}function Zk(t){var n=t.state,s=t.options,r=s.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=n.elements.popper.querySelector(a),!a)||Iv(n.elements.popper,a)&&(n.elements.arrow=a))}const e1={name:"arrow",enabled:!0,phase:"main",fn:Xk,effect:Zk,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zi(t){return t.split("-")[1]}var t1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function n1(t,n){var s=t.x,r=t.y,a=n.devicePixelRatio||1;return{x:Fi(s*a)/a||0,y:Fi(r*a)/a||0}}function wx(t){var n,s=t.popper,r=t.popperRect,a=t.placement,i=t.variation,o=t.offsets,l=t.position,d=t.gpuAcceleration,h=t.adaptive,u=t.roundOffsets,m=t.isFixed,j=o.x,y=j===void 0?0:j,f=o.y,x=f===void 0?0:f,S=typeof u=="function"?u({x:y,y:x}):{x:y,y:x};y=S.x,x=S.y;var N=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),E=as,v=rs,k=window;if(h){var $=$l(s),C="clientHeight",w="clientWidth";if($===xs(s)&&($=ba(s),Pr($).position!=="static"&&l==="absolute"&&(C="scrollHeight",w="scrollWidth")),$=$,a===rs||(a===as||a===Rs)&&i===yl){v=_s;var A=m&&$===k&&k.visualViewport?k.visualViewport.height:$[C];x-=A-r.height,x*=d?1:-1}if(a===as||(a===rs||a===_s)&&i===yl){E=Rs;var B=m&&$===k&&k.visualViewport?k.visualViewport.width:$[w];y-=B-r.width,y*=d?1:-1}}var H=Object.assign({position:l},h&&t1),I=u===!0?n1({x:y,y:x},xs(s)):{x:y,y:x};if(y=I.x,x=I.y,d){var L;return Object.assign({},H,(L={},L[v]=b?"0":"",L[E]=N?"0":"",L.transform=(k.devicePixelRatio||1)<=1?"translate("+y+"px, "+x+"px)":"translate3d("+y+"px, "+x+"px, 0)",L))}return Object.assign({},H,(n={},n[v]=b?x+"px":"",n[E]=N?y+"px":"",n.transform="",n))}function s1(t){var n=t.state,s=t.options,r=s.gpuAcceleration,a=r===void 0?!0:r,i=s.adaptive,o=i===void 0?!0:i,l=s.roundOffsets,d=l===void 0?!0:l,h={placement:dr(n.placement),variation:zi(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:a,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,wx(Object.assign({},h,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:o,roundOffsets:d})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,wx(Object.assign({},h,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const r1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:s1,data:{}};var nc={passive:!0};function a1(t){var n=t.state,s=t.instance,r=t.options,a=r.scroll,i=a===void 0?!0:a,o=r.resize,l=o===void 0?!0:o,d=xs(n.elements.popper),h=[].concat(n.scrollParents.reference,n.scrollParents.popper);return i&&h.forEach(function(u){u.addEventListener("scroll",s.update,nc)}),l&&d.addEventListener("resize",s.update,nc),function(){i&&h.forEach(function(u){u.removeEventListener("scroll",s.update,nc)}),l&&d.removeEventListener("resize",s.update,nc)}}const i1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:a1,data:{}};var o1={left:"right",right:"left",bottom:"top",top:"bottom"};function bc(t){return t.replace(/left|right|bottom|top/g,function(n){return o1[n]})}var l1={start:"end",end:"start"};function Nx(t){return t.replace(/start|end/g,function(n){return l1[n]})}function Cm(t){var n=xs(t),s=n.pageXOffset,r=n.pageYOffset;return{scrollLeft:s,scrollTop:r}}function wm(t){return Mi(ba(t)).left+Cm(t).scrollLeft}function c1(t,n){var s=xs(t),r=ba(t),a=s.visualViewport,i=r.clientWidth,o=r.clientHeight,l=0,d=0;if(a){i=a.width,o=a.height;var h=Rv();(h||!h&&n==="fixed")&&(l=a.offsetLeft,d=a.offsetTop)}return{width:i,height:o,x:l+wm(t),y:d}}function d1(t){var n,s=ba(t),r=Cm(t),a=(n=t.ownerDocument)==null?void 0:n.body,i=Ma(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Ma(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-r.scrollLeft+wm(t),d=-r.scrollTop;return Pr(a||s).direction==="rtl"&&(l+=Ma(s.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:l,y:d}}function Nm(t){var n=Pr(t),s=n.overflow,r=n.overflowX,a=n.overflowY;return/auto|scroll|overlay|hidden/.test(s+a+r)}function zv(t){return["html","body","#document"].indexOf(ga(t))>=0?t.ownerDocument.body:ur(t)&&Nm(t)?t:zv(Od(t))}function Xo(t,n){var s;n===void 0&&(n=[]);var r=zv(t),a=r===((s=t.ownerDocument)==null?void 0:s.body),i=xs(r),o=a?[i].concat(i.visualViewport||[],Nm(r)?r:[]):r,l=n.concat(o);return a?l:l.concat(Xo(Od(o)))}function Kh(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function u1(t,n){var s=Mi(t,!1,n==="fixed");return s.top=s.top+t.clientTop,s.left=s.left+t.clientLeft,s.bottom=s.top+t.clientHeight,s.right=s.left+t.clientWidth,s.width=t.clientWidth,s.height=t.clientHeight,s.x=s.left,s.y=s.top,s}function kx(t,n,s){return n===Bv?Kh(c1(t,s)):Ya(n)?u1(n,s):Kh(d1(ba(t)))}function h1(t){var n=Xo(Od(t)),s=["absolute","fixed"].indexOf(Pr(t).position)>=0,r=s&&ur(t)?$l(t):t;return Ya(r)?n.filter(function(a){return Ya(a)&&Iv(a,r)&&ga(a)!=="body"}):[]}function f1(t,n,s,r){var a=n==="clippingParents"?h1(t):[].concat(n),i=[].concat(a,[s]),o=i[0],l=i.reduce(function(d,h){var u=kx(t,h,r);return d.top=Ma(u.top,d.top),d.right=td(u.right,d.right),d.bottom=td(u.bottom,d.bottom),d.left=Ma(u.left,d.left),d},kx(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Hv(t){var n=t.reference,s=t.element,r=t.placement,a=r?dr(r):null,i=r?zi(r):null,o=n.x+n.width/2-s.width/2,l=n.y+n.height/2-s.height/2,d;switch(a){case rs:d={x:o,y:n.y-s.height};break;case _s:d={x:o,y:n.y+n.height};break;case Rs:d={x:n.x+n.width,y:l};break;case as:d={x:n.x-s.width,y:l};break;default:d={x:n.x,y:n.y}}var h=a?bm(a):null;if(h!=null){var u=h==="y"?"height":"width";switch(i){case Pi:d[h]=d[h]-(n[u]/2-s[u]/2);break;case yl:d[h]=d[h]+(n[u]/2-s[u]/2);break}}return d}function vl(t,n){n===void 0&&(n={});var s=n,r=s.placement,a=r===void 0?t.placement:r,i=s.strategy,o=i===void 0?t.strategy:i,l=s.boundary,d=l===void 0?Rk:l,h=s.rootBoundary,u=h===void 0?Bv:h,m=s.elementContext,j=m===void 0?Lo:m,y=s.altBoundary,f=y===void 0?!1:y,x=s.padding,S=x===void 0?0:x,N=Fv(typeof S!="number"?S:Mv(S,Dl)),b=j===Lo?Ik:Lo,E=t.rects.popper,v=t.elements[f?b:j],k=f1(Ya(v)?v:v.contextElement||ba(t.elements.popper),d,u,o),$=Mi(t.elements.reference),C=Hv({reference:$,element:E,strategy:"absolute",placement:a}),w=Kh(Object.assign({},E,C)),A=j===Lo?w:$,B={top:k.top-A.top+N.top,bottom:A.bottom-k.bottom+N.bottom,left:k.left-A.left+N.left,right:A.right-k.right+N.right},H=t.modifiersData.offset;if(j===Lo&&H){var I=H[a];Object.keys(B).forEach(function(L){var R=[Rs,_s].indexOf(L)>=0?1:-1,G=[rs,_s].indexOf(L)>=0?"y":"x";B[L]+=I[G]*R})}return B}function m1(t,n){n===void 0&&(n={});var s=n,r=s.placement,a=s.boundary,i=s.rootBoundary,o=s.padding,l=s.flipVariations,d=s.allowedAutoPlacements,h=d===void 0?_v:d,u=zi(r),m=u?l?bx:bx.filter(function(f){return zi(f)===u}):Dl,j=m.filter(function(f){return h.indexOf(f)>=0});j.length===0&&(j=m);var y=j.reduce(function(f,x){return f[x]=vl(t,{placement:x,boundary:a,rootBoundary:i,padding:o})[dr(x)],f},{});return Object.keys(y).sort(function(f,x){return y[f]-y[x]})}function p1(t){if(dr(t)===ym)return[];var n=bc(t);return[Nx(t),n,Nx(n)]}function x1(t){var n=t.state,s=t.options,r=t.name;if(!n.modifiersData[r]._skip){for(var a=s.mainAxis,i=a===void 0?!0:a,o=s.altAxis,l=o===void 0?!0:o,d=s.fallbackPlacements,h=s.padding,u=s.boundary,m=s.rootBoundary,j=s.altBoundary,y=s.flipVariations,f=y===void 0?!0:y,x=s.allowedAutoPlacements,S=n.options.placement,N=dr(S),b=N===S,E=d||(b||!f?[bc(S)]:p1(S)),v=[S].concat(E).reduce(function(je,le){return je.concat(dr(le)===ym?m1(n,{placement:le,boundary:u,rootBoundary:m,padding:h,flipVariations:f,allowedAutoPlacements:x}):le)},[]),k=n.rects.reference,$=n.rects.popper,C=new Map,w=!0,A=v[0],B=0;B<v.length;B++){var H=v[B],I=dr(H),L=zi(H)===Pi,R=[rs,_s].indexOf(I)>=0,G=R?"width":"height",Z=vl(n,{placement:H,boundary:u,rootBoundary:m,altBoundary:j,padding:h}),ne=R?L?Rs:as:L?_s:rs;k[G]>$[G]&&(ne=bc(ne));var M=bc(ne),K=[];if(i&&K.push(Z[I]<=0),l&&K.push(Z[ne]<=0,Z[M]<=0),K.every(function(je){return je})){A=H,w=!1;break}C.set(H,K)}if(w)for(var F=f?3:1,xe=function(le){var Ve=v.find(function(Qe){var Je=C.get(Qe);if(Je)return Je.slice(0,le).every(function(zt){return zt})});if(Ve)return A=Ve,"break"},ge=F;ge>0;ge--){var _e=xe(ge);if(_e==="break")break}n.placement!==A&&(n.modifiersData[r]._skip=!0,n.placement=A,n.reset=!0)}}const j1={name:"flip",enabled:!0,phase:"main",fn:x1,requiresIfExists:["offset"],data:{_skip:!1}};function Ex(t,n,s){return s===void 0&&(s={x:0,y:0}),{top:t.top-n.height-s.y,right:t.right-n.width+s.x,bottom:t.bottom-n.height+s.y,left:t.left-n.width-s.x}}function Lx(t){return[rs,Rs,_s,as].some(function(n){return t[n]>=0})}function g1(t){var n=t.state,s=t.name,r=n.rects.reference,a=n.rects.popper,i=n.modifiersData.preventOverflow,o=vl(n,{elementContext:"reference"}),l=vl(n,{altBoundary:!0}),d=Ex(o,r),h=Ex(l,a,i),u=Lx(d),m=Lx(h);n.modifiersData[s]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:u,hasPopperEscaped:m},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":m})}const y1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:g1};function v1(t,n,s){var r=dr(t),a=[as,rs].indexOf(r)>=0?-1:1,i=typeof s=="function"?s(Object.assign({},n,{placement:t})):s,o=i[0],l=i[1];return o=o||0,l=(l||0)*a,[as,Rs].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function S1(t){var n=t.state,s=t.options,r=t.name,a=s.offset,i=a===void 0?[0,0]:a,o=_v.reduce(function(u,m){return u[m]=v1(m,n.rects,i),u},{}),l=o[n.placement],d=l.x,h=l.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=d,n.modifiersData.popperOffsets.y+=h),n.modifiersData[r]=o}const b1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:S1};function C1(t){var n=t.state,s=t.name;n.modifiersData[s]=Hv({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}const w1={name:"popperOffsets",enabled:!0,phase:"read",fn:C1,data:{}};function N1(t){return t==="x"?"y":"x"}function k1(t){var n=t.state,s=t.options,r=t.name,a=s.mainAxis,i=a===void 0?!0:a,o=s.altAxis,l=o===void 0?!1:o,d=s.boundary,h=s.rootBoundary,u=s.altBoundary,m=s.padding,j=s.tether,y=j===void 0?!0:j,f=s.tetherOffset,x=f===void 0?0:f,S=vl(n,{boundary:d,rootBoundary:h,padding:m,altBoundary:u}),N=dr(n.placement),b=zi(n.placement),E=!b,v=bm(N),k=N1(v),$=n.modifiersData.popperOffsets,C=n.rects.reference,w=n.rects.popper,A=typeof x=="function"?x(Object.assign({},n.rects,{placement:n.placement})):x,B=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),H=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,I={x:0,y:0};if($){if(i){var L,R=v==="y"?rs:as,G=v==="y"?_s:Rs,Z=v==="y"?"height":"width",ne=$[v],M=ne+S[R],K=ne-S[G],F=y?-w[Z]/2:0,xe=b===Pi?C[Z]:w[Z],ge=b===Pi?-w[Z]:-C[Z],_e=n.elements.arrow,je=y&&_e?Sm(_e):{width:0,height:0},le=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:Pv(),Ve=le[R],Qe=le[G],Je=Jo(0,C[Z],je[Z]),zt=E?C[Z]/2-F-Je-Ve-B.mainAxis:xe-Je-Ve-B.mainAxis,Ht=E?-C[Z]/2+F+Je+Qe+B.mainAxis:ge+Je+Qe+B.mainAxis,ye=n.elements.arrow&&$l(n.elements.arrow),Tt=ye?v==="y"?ye.clientTop||0:ye.clientLeft||0:0,At=(L=H==null?void 0:H[v])!=null?L:0,He=ne+zt-At-Tt,De=ne+Ht-At,en=Jo(y?td(M,He):M,ne,y?Ma(K,De):K);$[v]=en,I[v]=en-ne}if(l){var wt,Tn=v==="x"?rs:as,ot=v==="x"?_s:Rs,Kt=$[k],Is=k==="y"?"height":"width",qr=Kt+S[Tn],Ps=Kt-S[ot],Fs=[rs,as].indexOf(N)!==-1,O=(wt=H==null?void 0:H[k])!=null?wt:0,_=Fs?qr:Kt-C[Is]-w[Is]-O+B.altAxis,P=Fs?Kt+C[Is]+w[Is]-O-B.altAxis:Ps,q=y&&Fs?Qk(_,Kt,P):Jo(y?_:qr,Kt,y?P:Ps);$[k]=q,I[k]=q-Kt}n.modifiersData[r]=I}}const E1={name:"preventOverflow",enabled:!0,phase:"main",fn:k1,requiresIfExists:["offset"]};function L1(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function D1(t){return t===xs(t)||!ur(t)?Cm(t):L1(t)}function $1(t){var n=t.getBoundingClientRect(),s=Fi(n.width)/t.offsetWidth||1,r=Fi(n.height)/t.offsetHeight||1;return s!==1||r!==1}function O1(t,n,s){s===void 0&&(s=!1);var r=ur(n),a=ur(n)&&$1(n),i=ba(n),o=Mi(t,a,s),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!s)&&((ga(n)!=="body"||Nm(i))&&(l=D1(n)),ur(n)?(d=Mi(n,!0),d.x+=n.clientLeft,d.y+=n.clientTop):i&&(d.x=wm(i))),{x:o.left+l.scrollLeft-d.x,y:o.top+l.scrollTop-d.y,width:o.width,height:o.height}}function T1(t){var n=new Map,s=new Set,r=[];t.forEach(function(i){n.set(i.name,i)});function a(i){s.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!s.has(l)){var d=n.get(l);d&&a(d)}}),r.push(i)}return t.forEach(function(i){s.has(i.name)||a(i)}),r}function A1(t){var n=T1(t);return Yk.reduce(function(s,r){return s.concat(n.filter(function(a){return a.phase===r}))},[])}function B1(t){var n;return function(){return n||(n=new Promise(function(s){Promise.resolve().then(function(){n=void 0,s(t())})})),n}}function _1(t){var n=t.reduce(function(s,r){var a=s[r.name];return s[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,s},{});return Object.keys(n).map(function(s){return n[s]})}var Dx={placement:"bottom",modifiers:[],strategy:"absolute"};function $x(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return!n.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function R1(t){t===void 0&&(t={});var n=t,s=n.defaultModifiers,r=s===void 0?[]:s,a=n.defaultOptions,i=a===void 0?Dx:a;return function(l,d,h){h===void 0&&(h=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dx,i),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},m=[],j=!1,y={state:u,setOptions:function(N){var b=typeof N=="function"?N(u.options):N;x(),u.options=Object.assign({},i,u.options,b),u.scrollParents={reference:Ya(l)?Xo(l):l.contextElement?Xo(l.contextElement):[],popper:Xo(d)};var E=A1(_1([].concat(r,u.options.modifiers)));return u.orderedModifiers=E.filter(function(v){return v.enabled}),f(),y.update()},forceUpdate:function(){if(!j){var N=u.elements,b=N.reference,E=N.popper;if($x(b,E)){u.rects={reference:O1(b,$l(E),u.options.strategy==="fixed"),popper:Sm(E)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(B){return u.modifiersData[B.name]=Object.assign({},B.data)});for(var v=0;v<u.orderedModifiers.length;v++){if(u.reset===!0){u.reset=!1,v=-1;continue}var k=u.orderedModifiers[v],$=k.fn,C=k.options,w=C===void 0?{}:C,A=k.name;typeof $=="function"&&(u=$({state:u,options:w,name:A,instance:y})||u)}}}},update:B1(function(){return new Promise(function(S){y.forceUpdate(),S(u)})}),destroy:function(){x(),j=!0}};if(!$x(l,d))return y;y.setOptions(h).then(function(S){!j&&h.onFirstUpdate&&h.onFirstUpdate(S)});function f(){u.orderedModifiers.forEach(function(S){var N=S.name,b=S.options,E=b===void 0?{}:b,v=S.effect;if(typeof v=="function"){var k=v({state:u,name:N,instance:y,options:E}),$=function(){};m.push(k||$)}})}function x(){m.forEach(function(S){return S()}),m=[]}return y}}const I1=R1({defaultModifiers:[y1,w1,r1,i1,b1,j1,E1,e1]}),P1=["enabled","placement","strategy","modifiers"];function F1(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}const M1={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},z1={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:n,popper:s}=t.elements;if("removeAttribute"in n){const r=(n.getAttribute("aria-describedby")||"").split(",").filter(a=>a.trim()!==s.id);r.length?n.setAttribute("aria-describedby",r.join(",")):n.removeAttribute("aria-describedby")}},fn:({state:t})=>{var n;const{popper:s,reference:r}=t.elements,a=(n=s.getAttribute("role"))==null?void 0:n.toLowerCase();if(s.id&&a==="tooltip"&&"setAttribute"in r){const i=r.getAttribute("aria-describedby");if(i&&i.split(",").indexOf(s.id)!==-1)return;r.setAttribute("aria-describedby",i?`${i},${s.id}`:s.id)}}},H1=[];function Kv(t,n,s={}){let{enabled:r=!0,placement:a="bottom",strategy:i="absolute",modifiers:o=H1}=s,l=F1(s,P1);const d=c.useRef(o),h=c.useRef(),u=c.useCallback(()=>{var S;(S=h.current)==null||S.update()},[]),m=c.useCallback(()=>{var S;(S=h.current)==null||S.forceUpdate()},[]),[j,y]=_k(c.useState({placement:a,update:u,forceUpdate:m,attributes:{},styles:{popper:{},arrow:{}}})),f=c.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:S})=>{const N={},b={};Object.keys(S.elements).forEach(E=>{N[E]=S.styles[E],b[E]=S.attributes[E]}),y({state:S,styles:N,attributes:b,update:u,forceUpdate:m,placement:S.placement})}}),[u,m,y]),x=c.useMemo(()=>(Qo(d.current,o)||(d.current=o),d.current),[o]);return c.useEffect(()=>{!h.current||!r||h.current.setOptions({placement:a,strategy:i,modifiers:[...x,f,M1]})},[i,a,f,r,x]),c.useEffect(()=>{if(!(!r||t==null||n==null))return h.current=I1(t,n,Object.assign({},l,{placement:a,strategy:i,modifiers:[...x,z1,f]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,y(S=>Object.assign({},S,{attributes:{},styles:{popper:{}}})))}},[r,t,n]),j}var K1=function(){},q1=K1;const U1=Ki(q1),Ox=()=>{};function G1(t){return t.button===0}function Y1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Cc=t=>t&&("current"in t?t.current:t),Tx={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function qv(t,n=Ox,{disabled:s,clickTrigger:r="click"}={}){const a=c.useRef(!1),i=c.useRef(!1),o=c.useCallback(h=>{const u=Cc(t);U1(!!u,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),a.current=!u||Y1(h)||!G1(h)||!!gl(u,h.target)||i.current,i.current=!1},[t]),l=_t(h=>{const u=Cc(t);u&&gl(u,h.target)&&(i.current=!0)}),d=_t(h=>{a.current||n(h)});c.useEffect(()=>{var h,u;if(s||t==null)return;const m=Vi(Cc(t)),j=m.defaultView||window;let y=(h=j.event)!=null?h:(u=j.parent)==null?void 0:u.event,f=null;Tx[r]&&(f=$r(m,Tx[r],l,!0));const x=$r(m,r,o,!0),S=$r(m,r,b=>{if(b===y){y=void 0;return}d(b)});let N=[];return"ontouchstart"in m.documentElement&&(N=[].slice.call(m.body.children).map(b=>$r(b,"mousemove",Ox))),()=>{f==null||f(),x(),S(),N.forEach(b=>b())}},[t,s,r,o,l,d])}function W1(t){const n={};return Array.isArray(t)?(t==null||t.forEach(s=>{n[s.name]=s}),n):t||n}function V1(t={}){return Array.isArray(t)?t:Object.keys(t).map(n=>(t[n].name=n,t[n]))}function Uv({enabled:t,enableEvents:n,placement:s,flip:r,offset:a,fixed:i,containerPadding:o,arrowElement:l,popperConfig:d={}}){var h,u,m,j,y;const f=W1(d.modifiers);return Object.assign({},d,{placement:s,enabled:t,strategy:i?"fixed":d.strategy,modifiers:V1(Object.assign({},f,{eventListeners:{enabled:n,options:(h=f.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},f.preventOverflow,{options:o?Object.assign({padding:o},(u=f.preventOverflow)==null?void 0:u.options):(m=f.preventOverflow)==null?void 0:m.options}),offset:{options:Object.assign({offset:a},(j=f.offset)==null?void 0:j.options)},arrow:Object.assign({},f.arrow,{enabled:!!l,options:Object.assign({},(y=f.arrow)==null?void 0:y.options,{element:l})}),flip:Object.assign({enabled:!!r},f.flip)}))})}const Q1=["children"];function J1(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}const X1=()=>{};function Gv(t={}){const n=c.useContext($d),[s,r]=Zc(),a=c.useRef(!1),{flip:i,offset:o,rootCloseEvent:l,fixed:d=!1,placement:h,popperConfig:u={},enableEventListeners:m=!0,usePopper:j=!!n}=t,y=(n==null?void 0:n.show)==null?!!t.show:n.show;y&&!a.current&&(a.current=!0);const f=$=>{n==null||n.toggle(!1,$)},{placement:x,setMenu:S,menuElement:N,toggleElement:b}=n||{},E=Kv(b,N,Uv({placement:h||x||"bottom-start",enabled:j,enableEvents:m??y,offset:o,flip:i,fixed:d,arrowElement:s,popperConfig:u})),v=Object.assign({ref:S||X1,"aria-labelledby":b==null?void 0:b.id},E.attributes.popper,{style:E.styles.popper}),k={show:y,placement:x,hasShown:a.current,toggle:n==null?void 0:n.toggle,popper:j?E:null,arrowProps:j?Object.assign({ref:r},E.attributes.arrow,{style:E.styles.arrow}):{}};return qv(N,f,{clickTrigger:l,disabled:!y}),[v,k]}const Z1={usePopper:!0};function km(t){let{children:n}=t,s=J1(t,Q1);const[r,a]=Gv(s);return e.jsx(e.Fragment,{children:n(r,a)})}km.displayName="DropdownMenu";km.defaultProps=Z1;const nd={prefix:String(Math.round(Math.random()*1e10)),current:0},Yv=It.createContext(nd),eE=It.createContext(!1);let tE=!!(typeof window<"u"&&window.document&&window.document.createElement),Cu=new WeakMap;function nE(t=!1){let n=c.useContext(Yv),s=c.useRef(null);if(s.current===null&&!t){var r,a;let i=(r=It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(a=r.ReactCurrentOwner)===null||a===void 0?void 0:a.current;if(i){let o=Cu.get(i);o==null?Cu.set(i,{id:n.current,state:i.memoizedState}):i.memoizedState!==o.state&&(n.current=o.id,Cu.delete(i))}s.current=++n.current}return s.current}function sE(t){let n=c.useContext(Yv);n===nd&&!tE&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let s=nE(!!t),r=`react-aria${n.prefix}`;return t||`${r}-${s}`}function rE(t){let n=It.useId(),[s]=c.useState(lE()),r=s?"react-aria":`react-aria${nd.prefix}`;return t||`${r}-${n}`}const Wv=typeof It.useId=="function"?rE:sE;function aE(){return!1}function iE(){return!0}function oE(t){return()=>{}}function lE(){return typeof It.useSyncExternalStore=="function"?It.useSyncExternalStore(oE,aE,iE):c.useContext(eE)}const Vv=t=>{var n;return((n=t.getAttribute("role"))==null?void 0:n.toLowerCase())==="menu"},Ax=()=>{};function Qv(){const t=Wv(),{show:n=!1,toggle:s=Ax,setToggle:r,menuElement:a}=c.useContext($d)||{},i=c.useCallback(l=>{s(!n,l)},[n,s]),o={id:t,ref:r||Ax,onClick:i,"aria-expanded":!!n};return a&&Vv(a)&&(o["aria-haspopup"]=!0),[o,{show:n,toggle:s}]}function Jv({children:t}){const[n,s]=Qv();return e.jsx(e.Fragment,{children:t(n,s)})}Jv.displayName="DropdownToggle";const cE=["eventKey","disabled","onClick","active","as"];function dE(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}function Xv({key:t,href:n,active:s,disabled:r,onClick:a}){const i=c.useContext(fr),o=c.useContext(rm),{activeKey:l}=o||{},d=ja(t,n),h=s==null&&t!=null?ja(l)===d:s;return[{onClick:_t(m=>{r||(a==null||a(m),i&&!m.isPropagationStopped()&&i(d,m))}),"aria-disabled":r||void 0,"aria-selected":h,[Wi("dropdown-item")]:""},{isActive:h}]}const Zv=c.forwardRef((t,n)=>{let{eventKey:s,disabled:r,onClick:a,active:i,as:o=im}=t,l=dE(t,cE);const[d]=Xv({key:s,href:l.href,disabled:r,onClick:a,active:i});return e.jsx(o,Object.assign({},l,{ref:n},d))});Zv.displayName="DropdownItem";function Bx(){const t=Wy(),n=c.useRef(null),s=c.useCallback(r=>{n.current=r,t()},[t]);return[n,s]}function Ol({defaultShow:t,show:n,onSelect:s,onToggle:r,itemSelector:a=`* [${Wi("dropdown-item")}]`,focusFirstItemOnShow:i,placement:o="bottom-start",children:l}){const d=Ld(),[h,u]=Av(n,t,r),[m,j]=Bx(),y=m.current,[f,x]=Bx(),S=f.current,N=rv(h),b=c.useRef(null),E=c.useRef(!1),v=c.useContext(fr),k=c.useCallback((H,I,L=I==null?void 0:I.type)=>{u(H,{originalEvent:I,source:L})},[u]),$=_t((H,I)=>{s==null||s(H,I),k(!1,I,"select"),I.isPropagationStopped()||v==null||v(H,I)}),C=c.useMemo(()=>({toggle:k,placement:o,show:h,menuElement:y,toggleElement:S,setMenu:j,setToggle:x}),[k,o,h,y,S,j,x]);y&&N&&!h&&(E.current=y.contains(y.ownerDocument.activeElement));const w=_t(()=>{S&&S.focus&&S.focus()}),A=_t(()=>{const H=b.current;let I=i;if(I==null&&(I=m.current&&Vv(m.current)?"keyboard":!1),I===!1||I==="keyboard"&&!/^key.+$/.test(H))return;const L=kr(m.current,a)[0];L&&L.focus&&L.focus()});c.useEffect(()=>{h?A():E.current&&(E.current=!1,w())},[h,E,w,A]),c.useEffect(()=>{b.current=null});const B=(H,I)=>{if(!m.current)return null;const L=kr(m.current,a);let R=L.indexOf(H)+I;return R=Math.max(0,Math.min(R,L.length)),L[R]};return NN(c.useCallback(()=>d.document,[d]),"keydown",H=>{var I,L;const{key:R}=H,G=H.target,Z=(I=m.current)==null?void 0:I.contains(G),ne=(L=f.current)==null?void 0:L.contains(G);if(/input|textarea/i.test(G.tagName)&&(R===" "||R!=="Escape"&&Z||R==="Escape"&&G.type==="search")||!Z&&!ne||R==="Tab"&&(!m.current||!h))return;b.current=H.type;const K={originalEvent:H,source:H.type};switch(R){case"ArrowUp":{const F=B(G,-1);F&&F.focus&&F.focus(),H.preventDefault();return}case"ArrowDown":if(H.preventDefault(),!h)u(!0,K);else{const F=B(G,1);F&&F.focus&&F.focus()}return;case"Tab":um(G.ownerDocument,"keyup",F=>{var xe;(F.key==="Tab"&&!F.target||!((xe=m.current)!=null&&xe.contains(F.target)))&&u(!1,K)},{once:!0});break;case"Escape":R==="Escape"&&(H.preventDefault(),H.stopPropagation()),u(!1,K);break}}),e.jsx(fr.Provider,{value:$,children:e.jsx($d.Provider,{value:C,children:l})})}Ol.displayName="Dropdown";Ol.Menu=km;Ol.Toggle=Jv;Ol.Item=Zv;const eS=c.createContext({});eS.displayName="DropdownContext";const tS=eS,nS=c.forwardRef(({className:t,bsPrefix:n,as:s="hr",role:r="separator",...a},i)=>(n=ue(n,"dropdown-divider"),e.jsx(s,{ref:i,className:ae(t,n),role:r,...a})));nS.displayName="DropdownDivider";const uE=nS,sS=c.forwardRef(({className:t,bsPrefix:n,as:s="div",role:r="heading",...a},i)=>(n=ue(n,"dropdown-header"),e.jsx(s,{ref:i,className:ae(t,n),role:r,...a})));sS.displayName="DropdownHeader";const hE=sS,rS=c.forwardRef(({bsPrefix:t,className:n,eventKey:s,disabled:r=!1,onClick:a,active:i,as:o=cm,...l},d)=>{const h=ue(t,"dropdown-item"),[u,m]=Xv({key:s,href:l.href,disabled:r,onClick:a,active:i});return e.jsx(o,{...l,...u,ref:d,className:ae(n,h,m.isActive&&"active",r&&"disabled")})});rS.displayName="DropdownItem";const fE=rS,aS=c.forwardRef(({className:t,bsPrefix:n,as:s="span",...r},a)=>(n=ue(n,"dropdown-item-text"),e.jsx(s,{ref:a,className:ae(t,n),...r})));aS.displayName="DropdownItemText";const mE=aS,iS=c.createContext(null);iS.displayName="InputGroupContext";const Em=iS;function oS(t,n){return t}function lS(t,n,s){const r=s?"top-end":"top-start",a=s?"top-start":"top-end",i=s?"bottom-end":"bottom-start",o=s?"bottom-start":"bottom-end",l=s?"right-start":"left-start",d=s?"right-end":"left-end",h=s?"left-start":"right-start",u=s?"left-end":"right-end";let m=t?o:i;return n==="up"?m=t?a:r:n==="end"?m=t?u:h:n==="start"?m=t?d:l:n==="down-centered"?m="bottom":n==="up-centered"&&(m="top"),m}const cS=c.forwardRef(({bsPrefix:t,className:n,align:s,rootCloseEvent:r,flip:a=!0,show:i,renderOnMount:o,as:l="div",popperConfig:d,variant:h,...u},m)=>{let j=!1;const y=c.useContext(Qa),f=ue(t,"dropdown-menu"),{align:x,drop:S,isRTL:N}=c.useContext(tS);s=s||x;const b=c.useContext(Em),E=[];if(s)if(typeof s=="object"){const H=Object.keys(s);if(H.length){const I=H[0],L=s[I];j=L==="start",E.push(`${f}-${I}-${L}`)}}else s==="end"&&(j=!0);const v=lS(j,S,N),[k,{hasShown:$,popper:C,show:w,toggle:A}]=Gv({flip:a,rootCloseEvent:r,show:i,usePopper:!y&&E.length===0,offset:[0,2],popperConfig:d,placement:v});if(k.ref=xr(oS(m),k.ref),xl(()=>{w&&(C==null||C.update())},[w]),!$&&!o&&!b)return null;typeof l!="string"&&(k.show=w,k.close=()=>A==null?void 0:A(!1),k.align=s);let B=u.style;return C!=null&&C.placement&&(B={...u.style,...k.style},u["x-placement"]=C.placement),e.jsx(l,{...u,...k,style:B,...(E.length||y)&&{"data-bs-popper":"static"},className:ae(n,f,w&&"show",j&&`${f}-end`,h&&`${f}-${h}`,...E)})});cS.displayName="DropdownMenu";const pE=cS,dS=c.forwardRef(({as:t,bsPrefix:n,variant:s="primary",size:r,active:a=!1,disabled:i=!1,className:o,...l},d)=>{const h=ue(n,"btn"),[u,{tagName:m}]=am({tagName:t,disabled:i,...l}),j=m;return e.jsx(j,{...u,...l,ref:d,disabled:i,className:ae(o,h,a&&"active",s&&`${h}-${s}`,r&&`${h}-${r}`,l.href&&i&&"disabled")})});dS.displayName="Button";const D=dS,uS=c.forwardRef(({bsPrefix:t,split:n,className:s,childBsPrefix:r,as:a=D,...i},o)=>{const l=ue(t,"dropdown-toggle"),d=c.useContext($d);r!==void 0&&(i.bsPrefix=r);const[h]=Qv();return h.ref=xr(h.ref,oS(o)),e.jsx(a,{className:ae(s,l,n&&`${l}-split`,(d==null?void 0:d.show)&&"show"),...h,...i})});uS.displayName="DropdownToggle";const xE=uS,hS=c.forwardRef((t,n)=>{const{bsPrefix:s,drop:r="down",show:a,className:i,align:o="start",onSelect:l,onToggle:d,focusFirstItemOnShow:h,as:u="div",navbar:m,autoClose:j=!0,...y}=Ll(t,{show:"onToggle"}),f=c.useContext(Em),x=ue(s,"dropdown"),S=Ed(),N=C=>j===!1?C==="click":j==="inside"?C!=="rootClose":j==="outside"?C!=="select":!0,b=_t((C,w)=>{w.originalEvent.currentTarget===document&&(w.source!=="keydown"||w.originalEvent.key==="Escape")&&(w.source="rootClose"),N(w.source)&&(d==null||d(C,w))}),v=lS(o==="end",r,S),k=c.useMemo(()=>({align:o,drop:r,isRTL:S}),[o,r,S]),$={down:x,"down-centered":`${x}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return e.jsx(tS.Provider,{value:k,children:e.jsx(Ol,{placement:v,show:a,onSelect:l,onToggle:b,focusFirstItemOnShow:h,itemSelector:`.${x}-item:not(.disabled):not(:disabled)`,children:f?y.children:e.jsx(u,{...y,ref:n,className:ae(i,a&&"show",$[r])})})})});hS.displayName="Dropdown";const Ia=Object.assign(hS,{Toggle:xE,Menu:pE,Item:fE,ItemText:mE,Divider:uE,Header:hE}),fS=c.forwardRef(({id:t,title:n,children:s,bsPrefix:r,className:a,rootCloseEvent:i,menuRole:o,disabled:l,active:d,renderMenuOnMount:h,menuVariant:u,...m},j)=>{const y=ue(void 0,"nav-item");return e.jsxs(Ia,{ref:j,...m,className:ae(a,y),children:[e.jsx(Ia.Toggle,{id:t,eventKey:null,active:d,disabled:l,childBsPrefix:r,as:dm,children:n}),e.jsx(Ia.Menu,{role:o,renderOnMount:h,rootCloseEvent:i,variant:u,children:s})]})});fS.displayName="NavDropdown";const sc=Object.assign(fS,{Item:Ia.Item,ItemText:Ia.ItemText,Divider:Ia.Divider,Header:Ia.Header});/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Sl.apply(this,arguments)}var ra;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ra||(ra={}));const _x="popstate";function jE(t){t===void 0&&(t={});function n(r,a){let{pathname:i,search:o,hash:l}=r.location;return qh("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:sd(a)}return yE(n,s,null,t)}function an(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Lm(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function gE(){return Math.random().toString(36).substr(2,8)}function Rx(t,n){return{usr:t.state,key:t.key,idx:n}}function qh(t,n,s,r){return s===void 0&&(s=null),Sl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof n=="string"?Ji(n):n,{state:s,key:n&&n.key||r||gE()})}function sd(t){let{pathname:n="/",search:s="",hash:r=""}=t;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Ji(t){let n={};if(t){let s=t.indexOf("#");s>=0&&(n.hash=t.substr(s),t=t.substr(0,s));let r=t.indexOf("?");r>=0&&(n.search=t.substr(r),t=t.substr(0,r)),t&&(n.pathname=t)}return n}function yE(t,n,s,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=ra.Pop,d=null,h=u();h==null&&(h=0,o.replaceState(Sl({},o.state,{idx:h}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=ra.Pop;let S=u(),N=S==null?null:S-h;h=S,d&&d({action:l,location:x.location,delta:N})}function j(S,N){l=ra.Push;let b=qh(x.location,S,N);s&&s(b,S),h=u()+1;let E=Rx(b,h),v=x.createHref(b);try{o.pushState(E,"",v)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(v)}i&&d&&d({action:l,location:x.location,delta:1})}function y(S,N){l=ra.Replace;let b=qh(x.location,S,N);s&&s(b,S),h=u();let E=Rx(b,h),v=x.createHref(b);o.replaceState(E,"",v),i&&d&&d({action:l,location:x.location,delta:0})}function f(S){let N=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof S=="string"?S:sd(S);return an(N,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,N)}let x={get action(){return l},get location(){return t(a,o)},listen(S){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(_x,m),d=S,()=>{a.removeEventListener(_x,m),d=null}},createHref(S){return n(a,S)},createURL:f,encodeLocation(S){let N=f(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:j,replace:y,go(S){return o.go(S)}};return x}var Ix;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ix||(Ix={}));function vE(t,n,s){s===void 0&&(s="/");let r=typeof n=="string"?Ji(n):n,a=Dm(r.pathname||"/",s);if(a==null)return null;let i=mS(t);SE(i);let o=null;for(let l=0;o==null&&l<i.length;++l)o=$E(i[l],AE(a));return o}function mS(t,n,s,r){n===void 0&&(n=[]),s===void 0&&(s=[]),r===void 0&&(r="");let a=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(an(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let h=fa([r,d.relativePath]),u=s.concat(d);i.children&&i.children.length>0&&(an(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),mS(i.children,n,u,h)),!(i.path==null&&!i.index)&&n.push({path:h,score:LE(h,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let d of pS(i.path))a(i,o,d)}),n}function pS(t){let n=t.split("/");if(n.length===0)return[];let[s,...r]=n,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=pS(r.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&l.push(...o),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function SE(t){t.sort((n,s)=>n.score!==s.score?s.score-n.score:DE(n.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const bE=/^:\w+$/,CE=3,wE=2,NE=1,kE=10,EE=-2,Px=t=>t==="*";function LE(t,n){let s=t.split("/"),r=s.length;return s.some(Px)&&(r+=EE),n&&(r+=wE),s.filter(a=>!Px(a)).reduce((a,i)=>a+(bE.test(i)?CE:i===""?NE:kE),r)}function DE(t,n){return t.length===n.length&&t.slice(0,-1).every((r,a)=>r===n[a])?t[t.length-1]-n[n.length-1]:0}function $E(t,n){let{routesMeta:s}=t,r={},a="/",i=[];for(let o=0;o<s.length;++o){let l=s[o],d=o===s.length-1,h=a==="/"?n:n.slice(a.length)||"/",u=OE({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h);if(!u)return null;Object.assign(r,u.params);let m=l.route;i.push({params:r,pathname:fa([a,u.pathname]),pathnameBase:IE(fa([a,u.pathnameBase])),route:m}),u.pathnameBase!=="/"&&(a=fa([a,u.pathnameBase]))}return i}function OE(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=TE(t.path,t.caseSensitive,t.end),a=n.match(s);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((h,u,m)=>{if(u==="*"){let j=l[m]||"";o=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}return h[u]=BE(l[m]||"",u),h},{}),pathname:i,pathnameBase:o,pattern:t}}function TE(t,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),Lm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,n?void 0:"i"),r]}function AE(t){try{return decodeURI(t)}catch(n){return Lm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),t}}function BE(t,n){try{return decodeURIComponent(t)}catch(s){return Lm(!1,'The value for the URL param "'+n+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+s+").")),t}}function Dm(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}function _E(t,n){n===void 0&&(n="/");let{pathname:s,search:r="",hash:a=""}=typeof t=="string"?Ji(t):t;return{pathname:s?s.startsWith("/")?s:RE(s,n):n,search:PE(r),hash:FE(a)}}function RE(t,n){let s=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function wu(t,n,s,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $m(t){return t.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function Om(t,n,s,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=Ji(t):(a=Sl({},t),an(!a.pathname||!a.pathname.includes("?"),wu("?","pathname","search",a)),an(!a.pathname||!a.pathname.includes("#"),wu("#","pathname","hash",a)),an(!a.search||!a.search.includes("#"),wu("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(r||o==null)l=s;else{let m=n.length-1;if(o.startsWith("..")){let j=o.split("/");for(;j[0]==="..";)j.shift(),m-=1;a.pathname=j.join("/")}l=m>=0?n[m]:"/"}let d=_E(a,l),h=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(h||u)&&(d.pathname+="/"),d}const fa=t=>t.join("/").replace(/\/\/+/g,"/"),IE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ME(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xS=["post","put","patch","delete"];new Set(xS);const zE=["get",...xS];new Set(zE);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},rd.apply(this,arguments)}const Tm=c.createContext(null),HE=c.createContext(null),Xi=c.createContext(null),Td=c.createContext(null),Hr=c.createContext({outlet:null,matches:[],isDataRoute:!1}),jS=c.createContext(null);function KE(t,n){let{relative:s}=n===void 0?{}:n;Zi()||an(!1);let{basename:r,navigator:a}=c.useContext(Xi),{hash:i,pathname:o,search:l}=yS(t,{relative:s}),d=o;return r!=="/"&&(d=o==="/"?r:fa([r,o])),a.createHref({pathname:d,search:l,hash:i})}function Zi(){return c.useContext(Td)!=null}function Tl(){return Zi()||an(!1),c.useContext(Td).location}function gS(t){c.useContext(Xi).static||c.useLayoutEffect(t)}function eo(){let{isDataRoute:t}=c.useContext(Hr);return t?nL():qE()}function qE(){Zi()||an(!1);let t=c.useContext(Tm),{basename:n,navigator:s}=c.useContext(Xi),{matches:r}=c.useContext(Hr),{pathname:a}=Tl(),i=JSON.stringify($m(r).map(d=>d.pathnameBase)),o=c.useRef(!1);return gS(()=>{o.current=!0}),c.useCallback(function(d,h){if(h===void 0&&(h={}),!o.current)return;if(typeof d=="number"){s.go(d);return}let u=Om(d,JSON.parse(i),a,h.relative==="path");t==null&&n!=="/"&&(u.pathname=u.pathname==="/"?n:fa([n,u.pathname])),(h.replace?s.replace:s.push)(u,h.state,h)},[n,s,i,a,t])}function is(){let{matches:t}=c.useContext(Hr),n=t[t.length-1];return n?n.params:{}}function yS(t,n){let{relative:s}=n===void 0?{}:n,{matches:r}=c.useContext(Hr),{pathname:a}=Tl(),i=JSON.stringify($m(r).map(o=>o.pathnameBase));return c.useMemo(()=>Om(t,JSON.parse(i),a,s==="path"),[t,i,a,s])}function UE(t,n){return GE(t,n)}function GE(t,n,s){Zi()||an(!1);let{navigator:r}=c.useContext(Xi),{matches:a}=c.useContext(Hr),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let d=Tl(),h;if(n){var u;let x=typeof n=="string"?Ji(n):n;l==="/"||(u=x.pathname)!=null&&u.startsWith(l)||an(!1),h=x}else h=d;let m=h.pathname||"/",j=l==="/"?m:m.slice(l.length)||"/",y=vE(t,{pathname:j}),f=JE(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:fa([l,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:fa([l,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,s);return n&&f?c.createElement(Td.Provider,{value:{location:rd({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ra.Pop}},f):f}function YE(){let t=tL(),n=ME(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},n),s?c.createElement("pre",{style:a},s):null,i)}const WE=c.createElement(YE,null);class VE extends c.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error||s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error?c.createElement(Hr.Provider,{value:this.props.routeContext},c.createElement(jS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QE(t){let{routeContext:n,match:s,children:r}=t,a=c.useContext(Tm);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),c.createElement(Hr.Provider,{value:n},r)}function JE(t,n,s){var r;if(n===void 0&&(n=[]),s===void 0&&(s=null),t==null){var a;if((a=s)!=null&&a.errors)t=s.matches;else return null}let i=t,o=(r=s)==null?void 0:r.errors;if(o!=null){let l=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id]));l>=0||an(!1),i=i.slice(0,Math.min(i.length,l+1))}return i.reduceRight((l,d,h)=>{let u=d.route.id?o==null?void 0:o[d.route.id]:null,m=null;s&&(m=d.route.errorElement||WE);let j=n.concat(i.slice(0,h+1)),y=()=>{let f;return u?f=m:d.route.Component?f=c.createElement(d.route.Component,null):d.route.element?f=d.route.element:f=l,c.createElement(QE,{match:d,routeContext:{outlet:l,matches:j,isDataRoute:s!=null},children:f})};return s&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?c.createElement(VE,{location:s.location,revalidation:s.revalidation,component:m,error:u,children:y(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):y()},null)}var vS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vS||{}),ad=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ad||{});function XE(t){let n=c.useContext(Tm);return n||an(!1),n}function ZE(t){let n=c.useContext(HE);return n||an(!1),n}function eL(t){let n=c.useContext(Hr);return n||an(!1),n}function SS(t){let n=eL(),s=n.matches[n.matches.length-1];return s.route.id||an(!1),s.route.id}function tL(){var t;let n=c.useContext(jS),s=ZE(ad.UseRouteError),r=SS(ad.UseRouteError);return n||((t=s.errors)==null?void 0:t[r])}function nL(){let{router:t}=XE(vS.UseNavigateStable),n=SS(ad.UseNavigateStable),s=c.useRef(!1);return gS(()=>{s.current=!0}),c.useCallback(function(a,i){i===void 0&&(i={}),s.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,rd({fromRouteId:n},i)))},[t,n])}function ht(t){let{to:n,replace:s,state:r,relative:a}=t;Zi()||an(!1);let{matches:i}=c.useContext(Hr),{pathname:o}=Tl(),l=eo(),d=Om(n,$m(i).map(u=>u.pathnameBase),o,a==="path"),h=JSON.stringify(d);return c.useEffect(()=>l(JSON.parse(h),{replace:s,state:r,relative:a}),[l,h,a,s,r]),null}function st(t){an(!1)}function sL(t){let{basename:n="/",children:s=null,location:r,navigationType:a=ra.Pop,navigator:i,static:o=!1}=t;Zi()&&an(!1);let l=n.replace(/^\/*/,"/"),d=c.useMemo(()=>({basename:l,navigator:i,static:o}),[l,i,o]);typeof r=="string"&&(r=Ji(r));let{pathname:h="/",search:u="",hash:m="",state:j=null,key:y="default"}=r,f=c.useMemo(()=>{let x=Dm(h,l);return x==null?null:{location:{pathname:x,search:u,hash:m,state:j,key:y},navigationType:a}},[l,h,u,m,j,y,a]);return f==null?null:c.createElement(Xi.Provider,{value:d},c.createElement(Td.Provider,{children:s,value:f}))}function bS(t){let{children:n,location:s}=t;return UE(Uh(n),s)}new Promise(()=>{});function Uh(t,n){n===void 0&&(n=[]);let s=[];return c.Children.forEach(t,(r,a)=>{if(!c.isValidElement(r))return;let i=[...n,a];if(r.type===c.Fragment){s.push.apply(s,Uh(r.props.children,i));return}r.type!==st&&an(!1),!r.props.index||!r.props.children||an(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Uh(r.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Gh.apply(this,arguments)}function rL(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}function aL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iL(t,n){return t.button===0&&(!n||n==="_self")&&!aL(t)}const oL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],lL="startTransition",Fx=G0[lL];function cL(t){let{basename:n,children:s,future:r,window:a}=t,i=c.useRef();i.current==null&&(i.current=jE({window:a,v5Compat:!0}));let o=i.current,[l,d]=c.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},u=c.useCallback(m=>{h&&Fx?Fx(()=>d(m)):d(m)},[d,h]);return c.useLayoutEffect(()=>o.listen(u),[o,u]),c.createElement(sL,{basename:n,children:s,location:l.location,navigationType:l.action,navigator:o})}const dL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=c.forwardRef(function(n,s){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:d,to:h,preventScrollReset:u}=n,m=rL(n,oL),{basename:j}=c.useContext(Xi),y,f=!1;if(typeof h=="string"&&uL.test(h)&&(y=h,dL))try{let b=new URL(window.location.href),E=h.startsWith("//")?new URL(b.protocol+h):new URL(h),v=Dm(E.pathname,j);E.origin===b.origin&&v!=null?h=v+E.search+E.hash:f=!0}catch{}let x=KE(h,{relative:a}),S=hL(h,{replace:o,state:l,target:d,preventScrollReset:u,relative:a});function N(b){r&&r(b),b.defaultPrevented||S(b)}return c.createElement("a",Gh({},m,{href:y||x,onClick:f||i?r:N,ref:s,target:d}))});var Mx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Mx||(Mx={}));var zx;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zx||(zx={}));function hL(t,n){let{target:s,replace:r,state:a,preventScrollReset:i,relative:o}=n===void 0?{}:n,l=eo(),d=Tl(),h=yS(t,{relative:o});return c.useCallback(u=>{if(iL(u,s)){u.preventDefault();let m=r!==void 0?r:sd(d)===sd(h);l(t,{replace:m,state:a,preventScrollReset:i,relative:o})}},[d,l,h,r,a,s,t,i,o])}var CS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hx=It.createContext&&It.createContext(CS),ma=globalThis&&globalThis.__assign||function(){return ma=Object.assign||function(t){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ma.apply(this,arguments)},fL=globalThis&&globalThis.__rest||function(t,n){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(s[r[a]]=t[r[a]]);return s};function wS(t){return t&&t.map(function(n,s){return It.createElement(n.tag,ma({key:s},n.attr),wS(n.child))})}function to(t){return function(n){return It.createElement(mL,ma({attr:ma({},t.attr)},n),wS(t.child))}}function mL(t){var n=function(s){var r=t.attr,a=t.size,i=t.title,o=fL(t,["attr","size","title"]),l=a||s.size||"1em",d;return s.className&&(d=s.className),t.className&&(d=(d?d+" ":"")+t.className),It.createElement("svg",ma({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,r,o,{className:d,style:ma(ma({color:t.color||s.color},s.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&It.createElement("title",null,i),t.children)};return Hx!==void 0?It.createElement(Hx.Consumer,null,function(s){return n(s)}):n(CS)}function pL(t){return to({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"}}]})(t)}function xL(t){return to({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"}}]})(t)}function jL(t){return to({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"}}]})(t)}const NS=c.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=ue(n,"card-body"),e.jsx(s,{ref:a,className:ae(t,n),...r})));NS.displayName="CardBody";const kS=NS,ES=c.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=ue(n,"card-footer"),e.jsx(s,{ref:a,className:ae(t,n),...r})));ES.displayName="CardFooter";const gL=ES,LS=c.forwardRef(({bsPrefix:t,className:n,as:s="div",...r},a)=>{const i=ue(t,"card-header"),o=c.useMemo(()=>({cardHeaderBsPrefix:i}),[i]);return e.jsx(tv.Provider,{value:o,children:e.jsx(s,{ref:a,...r,className:ae(n,i)})})});LS.displayName="CardHeader";const yL=LS,DS=c.forwardRef(({bsPrefix:t,className:n,variant:s,as:r="img",...a},i)=>{const o=ue(t,"card-img");return e.jsx(r,{ref:i,className:ae(s?`${o}-${s}`:o,n),...a})});DS.displayName="CardImg";const vL=DS,$S=c.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=ue(n,"card-img-overlay"),e.jsx(s,{ref:a,className:ae(t,n),...r})));$S.displayName="CardImgOverlay";const SL=$S,OS=c.forwardRef(({className:t,bsPrefix:n,as:s="a",...r},a)=>(n=ue(n,"card-link"),e.jsx(s,{ref:a,className:ae(t,n),...r})));OS.displayName="CardLink";const bL=OS,CL=Dd("h6"),TS=c.forwardRef(({className:t,bsPrefix:n,as:s=CL,...r},a)=>(n=ue(n,"card-subtitle"),e.jsx(s,{ref:a,className:ae(t,n),...r})));TS.displayName="CardSubtitle";const wL=TS,AS=c.forwardRef(({className:t,bsPrefix:n,as:s="p",...r},a)=>(n=ue(n,"card-text"),e.jsx(s,{ref:a,className:ae(t,n),...r})));AS.displayName="CardText";const NL=AS,kL=Dd("h5"),BS=c.forwardRef(({className:t,bsPrefix:n,as:s=kL,...r},a)=>(n=ue(n,"card-title"),e.jsx(s,{ref:a,className:ae(t,n),...r})));BS.displayName="CardTitle";const EL=BS,_S=c.forwardRef(({bsPrefix:t,className:n,bg:s,text:r,border:a,body:i=!1,children:o,as:l="div",...d},h)=>{const u=ue(t,"card");return e.jsx(l,{ref:h,...d,className:ae(n,u,s&&`bg-${s}`,r&&`text-${r}`,a&&`border-${a}`),children:i?e.jsx(kS,{children:o}):o})});_S.displayName="Card";const Fn=Object.assign(_S,{Img:vL,Title:EL,Subtitle:wL,Body:kS,Link:bL,Text:NL,Header:yL,Footer:gL,ImgOverlay:SL}),Yh=2**31-1;function RS(t,n,s){const r=s-Date.now();t.current=r<=Yh?setTimeout(n,r):setTimeout(()=>RS(t,n,s),Yh)}function LL(){const t=lm(),n=c.useRef();return mm(()=>clearTimeout(n.current)),c.useMemo(()=>{const s=()=>clearTimeout(n.current);function r(a,i=0){t()&&(s(),i<=Yh?n.current=setTimeout(a,i):RS(n,a,Date.now()+i))}return{set:r,clear:s}},[])}function Kx(t,n){let s=0;return c.Children.map(t,r=>c.isValidElement(r)?n(r,s++):r)}function DL(t,n){let s=0;c.Children.forEach(t,r=>{c.isValidElement(r)&&n(r,s++)})}function $L(t,n){return c.Children.toArray(t).some(s=>c.isValidElement(s)&&s.type===n)}function OL({as:t,bsPrefix:n,className:s,...r}){n=ue(n,"col");const a=Ky(),i=qy(),o=[],l=[];return a.forEach(d=>{const h=r[d];delete r[d];let u,m,j;typeof h=="object"&&h!=null?{span:u,offset:m,order:j}=h:u=h;const y=d!==i?`-${d}`:"";u&&o.push(u===!0?`${n}${y}`:`${n}${y}-${u}`),j!=null&&l.push(`order${y}-${j}`),m!=null&&l.push(`offset${y}-${m}`)}),[{...r,className:ae(s,...o,...l)},{as:t,bsPrefix:n,spans:o}]}const IS=c.forwardRef((t,n)=>{const[{className:s,...r},{as:a="div",bsPrefix:i,spans:o}]=OL(t);return e.jsx(a,{...r,ref:n,className:ae(s,!o.length&&i)})});IS.displayName="Col";const Y=IS,TL={type:Pn.string,tooltip:Pn.bool,as:Pn.elementType},Am=c.forwardRef(({as:t="div",className:n,type:s="valid",tooltip:r=!1,...a},i)=>e.jsx(t,{...a,ref:i,className:ae(n,`${s}-${r?"tooltip":"feedback"}`)}));Am.displayName="Feedback";Am.propTypes=TL;const PS=Am,AL=c.createContext({}),Fr=AL,FS=c.forwardRef(({id:t,bsPrefix:n,className:s,type:r="checkbox",isValid:a=!1,isInvalid:i=!1,as:o="input",...l},d)=>{const{controlId:h}=c.useContext(Fr);return n=ue(n,"form-check-input"),e.jsx(o,{...l,ref:d,type:r,id:t||h,className:ae(s,n,a&&"is-valid",i&&"is-invalid")})});FS.displayName="FormCheckInput";const Ad=FS,MS=c.forwardRef(({bsPrefix:t,className:n,htmlFor:s,...r},a)=>{const{controlId:i}=c.useContext(Fr);return t=ue(t,"form-check-label"),e.jsx("label",{...r,ref:a,htmlFor:s||i,className:ae(n,t)})});MS.displayName="FormCheckLabel";const Wh=MS,zS=c.forwardRef(({id:t,bsPrefix:n,bsSwitchPrefix:s,inline:r=!1,reverse:a=!1,disabled:i=!1,isValid:o=!1,isInvalid:l=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:u,className:m,style:j,title:y="",type:f="checkbox",label:x,children:S,as:N="input",...b},E)=>{n=ue(n,"form-check"),s=ue(s,"form-switch");const{controlId:v}=c.useContext(Fr),k=c.useMemo(()=>({controlId:t||v}),[v,t]),$=!S&&x!=null&&x!==!1||$L(S,Wh),C=e.jsx(Ad,{...b,type:f==="switch"?"checkbox":f,ref:E,isValid:o,isInvalid:l,disabled:i,as:N});return e.jsx(Fr.Provider,{value:k,children:e.jsx("div",{style:j,className:ae(m,$&&n,r&&`${n}-inline`,a&&`${n}-reverse`,f==="switch"&&s),children:S||e.jsxs(e.Fragment,{children:[C,$&&e.jsx(Wh,{title:y,children:x}),h&&e.jsx(PS,{type:u,tooltip:d,children:h})]})})})});zS.displayName="FormCheck";const id=Object.assign(zS,{Input:Ad,Label:Wh}),HS=c.forwardRef(({bsPrefix:t,type:n,size:s,htmlSize:r,id:a,className:i,isValid:o=!1,isInvalid:l=!1,plaintext:d,readOnly:h,as:u="input",...m},j)=>{const{controlId:y}=c.useContext(Fr);return t=ue(t,"form-control"),e.jsx(u,{...m,type:n,size:r,ref:j,readOnly:h,id:a||y,className:ae(i,d?`${t}-plaintext`:t,s&&`${t}-${s}`,n==="color"&&`${t}-color`,o&&"is-valid",l&&"is-invalid")})});HS.displayName="FormControl";const BL=Object.assign(HS,{Feedback:PS}),KS=c.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=ue(n,"form-floating"),e.jsx(s,{ref:a,className:ae(t,n),...r})));KS.displayName="FormFloating";const _L=KS,qS=c.forwardRef(({controlId:t,as:n="div",...s},r)=>{const a=c.useMemo(()=>({controlId:t}),[t]);return e.jsx(Fr.Provider,{value:a,children:e.jsx(n,{...s,ref:r})})});qS.displayName="FormGroup";const US=qS,GS=c.forwardRef(({as:t="label",bsPrefix:n,column:s=!1,visuallyHidden:r=!1,className:a,htmlFor:i,...o},l)=>{const{controlId:d}=c.useContext(Fr);n=ue(n,"form-label");let h="col-form-label";typeof s=="string"&&(h=`${h} ${h}-${s}`);const u=ae(a,n,r&&"visually-hidden",s&&h);return i=i||d,s?e.jsx(Y,{ref:l,as:"label",className:u,htmlFor:i,...o}):e.jsx(t,{ref:l,className:u,htmlFor:i,...o})});GS.displayName="FormLabel";const RL=GS,YS=c.forwardRef(({bsPrefix:t,className:n,id:s,...r},a)=>{const{controlId:i}=c.useContext(Fr);return t=ue(t,"form-range"),e.jsx("input",{...r,type:"range",ref:a,className:ae(n,t),id:s||i})});YS.displayName="FormRange";const IL=YS,WS=c.forwardRef(({bsPrefix:t,size:n,htmlSize:s,className:r,isValid:a=!1,isInvalid:i=!1,id:o,...l},d)=>{const{controlId:h}=c.useContext(Fr);return t=ue(t,"form-select"),e.jsx("select",{...l,size:s,ref:d,className:ae(r,t,n&&`${t}-${n}`,a&&"is-valid",i&&"is-invalid"),id:o||h})});WS.displayName="FormSelect";const PL=WS,VS=c.forwardRef(({bsPrefix:t,className:n,as:s="small",muted:r,...a},i)=>(t=ue(t,"form-text"),e.jsx(s,{...a,ref:i,className:ae(n,t,r&&"text-muted")})));VS.displayName="FormText";const FL=VS,QS=c.forwardRef((t,n)=>e.jsx(id,{...t,ref:n,type:"switch"}));QS.displayName="Switch";const ML=Object.assign(QS,{Input:id.Input,Label:id.Label}),JS=c.forwardRef(({bsPrefix:t,className:n,children:s,controlId:r,label:a,...i},o)=>(t=ue(t,"form-floating"),e.jsxs(US,{ref:o,className:ae(n,t),controlId:r,...i,children:[s,e.jsx("label",{htmlFor:r,children:a})]})));JS.displayName="FloatingLabel";const zL=JS,HL={_ref:Pn.any,validated:Pn.bool,as:Pn.elementType},Bm=c.forwardRef(({className:t,validated:n,as:s="form",...r},a)=>e.jsx(s,{...r,ref:a,className:ae(t,n&&"was-validated")}));Bm.displayName="Form";Bm.propTypes=HL;const p=Object.assign(Bm,{Group:US,Control:BL,Floating:_L,Check:id,Switch:ML,Label:RL,Text:FL,Range:IL,Select:PL,FloatingLabel:zL}),XS=c.forwardRef(({className:t,bsPrefix:n,as:s="span",...r},a)=>(n=ue(n,"input-group-text"),e.jsx(s,{ref:a,className:ae(t,n),...r})));XS.displayName="InputGroupText";const _m=XS,KL=t=>e.jsx(_m,{children:e.jsx(Ad,{type:"checkbox",...t})}),qL=t=>e.jsx(_m,{children:e.jsx(Ad,{type:"radio",...t})}),ZS=c.forwardRef(({bsPrefix:t,size:n,hasValidation:s,className:r,as:a="div",...i},o)=>{t=ue(t,"input-group");const l=c.useMemo(()=>({}),[]);return e.jsx(Em.Provider,{value:l,children:e.jsx(a,{ref:o,...i,className:ae(r,t,n&&`${t}-${n}`,s&&"has-validation")})})});ZS.displayName="InputGroup";const Ja=Object.assign(ZS,{Text:_m,Radio:qL,Checkbox:KL}),eb=c.forwardRef(({bsPrefix:t,active:n,disabled:s,eventKey:r,className:a,variant:i,action:o,as:l,...d},h)=>{t=ue(t,"list-group-item");const[u,m]=om({key:ja(r,d.href),active:n,...d}),j=_t(f=>{if(s){f.preventDefault(),f.stopPropagation();return}u.onClick(f)});s&&d.tabIndex===void 0&&(d.tabIndex=-1,d["aria-disabled"]=!0);const y=l||(o?d.href?"a":"button":"div");return e.jsx(y,{ref:h,...d,...u,onClick:j,className:ae(a,t,m.isActive&&"active",s&&"disabled",i&&`${t}-${i}`,o&&`${t}-action`)})});eb.displayName="ListGroupItem";const UL=eb,tb=c.forwardRef((t,n)=>{const{className:s,bsPrefix:r,variant:a,horizontal:i,numbered:o,as:l="div",...d}=Ll(t,{activeKey:"onSelect"}),h=ue(r,"list-group");let u;return i&&(u=i===!0?"horizontal":`horizontal-${i}`),e.jsx(Xy,{ref:n,...d,as:l,className:ae(s,h,a&&`${h}-${a}`,u&&`${h}-${u}`,o&&`${h}-numbered`)})});tb.displayName="ListGroup";const et=Object.assign(tb,{Item:UL});var rc;function qx(t){if((!rc&&rc!==0||t)&&Qi){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),rc=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return rc}const nb=c.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=ue(n,"modal-body"),e.jsx(s,{ref:a,className:ae(t,n),...r})));nb.displayName="ModalBody";const GL=nb,sb=c.forwardRef(({bsPrefix:t,className:n,contentClassName:s,centered:r,size:a,fullscreen:i,children:o,scrollable:l,...d},h)=>{t=ue(t,"modal");const u=`${t}-dialog`,m=typeof i=="string"?`${t}-fullscreen-${i}`:`${t}-fullscreen`;return e.jsx("div",{...d,ref:h,className:ae(u,n,a&&`${t}-${a}`,r&&`${u}-centered`,l&&`${u}-scrollable`,i&&m),children:e.jsx("div",{className:ae(`${t}-content`,s),children:o})})});sb.displayName="ModalDialog";const rb=sb,ab=c.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=ue(n,"modal-footer"),e.jsx(s,{ref:a,className:ae(t,n),...r})));ab.displayName="ModalFooter";const YL=ab,ib=c.forwardRef(({bsPrefix:t,className:n,closeLabel:s="Close",closeButton:r=!1,...a},i)=>(t=ue(t,"modal-header"),e.jsx(wv,{ref:i,...a,className:ae(n,t),closeLabel:s,closeButton:r})));ib.displayName="ModalHeader";const WL=ib,VL=Dd("h4"),ob=c.forwardRef(({className:t,bsPrefix:n,as:s=VL,...r},a)=>(n=ue(n,"modal-title"),e.jsx(s,{ref:a,className:ae(t,n),...r})));ob.displayName="ModalTitle";const QL=ob;function JL(t){return e.jsx(Ga,{...t,timeout:null})}function XL(t){return e.jsx(Ga,{...t,timeout:null})}const lb=c.forwardRef(({bsPrefix:t,className:n,style:s,dialogClassName:r,contentClassName:a,children:i,dialogAs:o=rb,"aria-labelledby":l,"aria-describedby":d,"aria-label":h,show:u=!1,animation:m=!0,backdrop:j=!0,keyboard:y=!0,onEscapeKeyDown:f,onShow:x,onHide:S,container:N,autoFocus:b=!0,enforceFocus:E=!0,restoreFocus:v=!0,restoreFocusOptions:k,onEntered:$,onExit:C,onExiting:w,onEnter:A,onEntering:B,onExited:H,backdropClassName:I,manager:L,...R},G)=>{const[Z,ne]=c.useState({}),[M,K]=c.useState(!1),F=c.useRef(!1),xe=c.useRef(!1),ge=c.useRef(null),[_e,je]=Zc(),le=xr(G,je),Ve=_t(S),Qe=Ed();t=ue(t,"modal");const Je=c.useMemo(()=>({onHide:Ve}),[Ve]);function zt(){return L||Lv({isRTL:Qe})}function Ht(O){if(!Qi)return;const _=zt().getScrollbarWidth()>0,P=O.scrollHeight>Vi(O).documentElement.clientHeight;ne({paddingRight:_&&!P?qx():void 0,paddingLeft:!_&&P?qx():void 0})}const ye=_t(()=>{_e&&Ht(_e.dialog)});mm(()=>{Ih(window,"resize",ye),ge.current==null||ge.current()});const Tt=()=>{F.current=!0},At=O=>{F.current&&_e&&O.target===_e.dialog&&(xe.current=!0),F.current=!1},He=()=>{K(!0),ge.current=fv(_e.dialog,()=>{K(!1)})},De=O=>{O.target===O.currentTarget&&He()},en=O=>{if(j==="static"){De(O);return}if(xe.current||O.target!==O.currentTarget){xe.current=!1;return}S==null||S()},wt=O=>{y?f==null||f(O):(O.preventDefault(),j==="static"&&He())},Tn=(O,_)=>{O&&Ht(O),A==null||A(O,_)},ot=O=>{ge.current==null||ge.current(),C==null||C(O)},Kt=(O,_)=>{B==null||B(O,_),um(window,"resize",ye)},Is=O=>{O&&(O.style.display=""),H==null||H(O),Ih(window,"resize",ye)},qr=c.useCallback(O=>e.jsx("div",{...O,className:ae(`${t}-backdrop`,I,!m&&"show")}),[m,I,t]),Ps={...s,...Z};Ps.display="block";const Fs=O=>e.jsx("div",{role:"dialog",...O,style:Ps,className:ae(n,t,M&&`${t}-static`,!m&&"show"),onClick:j?en:void 0,onMouseUp:At,"aria-label":h,"aria-labelledby":l,"aria-describedby":d,children:e.jsx(o,{...R,onMouseDown:Tt,className:r,contentClassName:a,children:i})});return e.jsx(jm.Provider,{value:Je,children:e.jsx(vv,{show:u,ref:le,backdrop:j,container:N,keyboard:!0,autoFocus:b,enforceFocus:E,restoreFocus:v,restoreFocusOptions:k,onEscapeKeyDown:wt,onShow:x,onHide:S,onEnter:Tn,onEntering:Kt,onEntered:$,onExit:ot,onExiting:w,onExited:Is,manager:zt(),transition:m?JL:void 0,backdropTransition:m?XL:void 0,renderBackdrop:qr,renderDialog:Fs})})});lb.displayName="Modal";const g=Object.assign(lb,{Body:GL,Header:WL,Title:QL,Footer:YL,Dialog:rb,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),ZL=()=>{};function eD(t,n,{disabled:s,clickTrigger:r}={}){const a=n||ZL;qv(t,a,{disabled:s,clickTrigger:r});const i=_t(o=>{gv(o)&&a(o)});c.useEffect(()=>{if(s||t==null)return;const o=Vi(Cc(t));let l=(o.defaultView||window).event;const d=$r(o,"keyup",h=>{if(h===l){l=void 0;return}i(h)});return()=>{d()}},[t,s,i])}const cb=c.forwardRef((t,n)=>{const{flip:s,offset:r,placement:a,containerPadding:i,popperConfig:o={},transition:l,runTransition:d}=t,[h,u]=Zc(),[m,j]=Zc(),y=xr(u,n),f=Fh(t.container),x=Fh(t.target),[S,N]=c.useState(!t.show),b=Kv(x,h,Uv({placement:a,enableEvents:!!t.show,containerPadding:i||5,flip:s,offset:r,arrowElement:m,popperConfig:o}));t.show&&S&&N(!1);const E=(...H)=>{N(!0),t.onExited&&t.onExited(...H)},v=t.show||!S;if(eD(h,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!v)return null;const{onExit:k,onExiting:$,onEnter:C,onEntering:w,onEntered:A}=t;let B=t.children(Object.assign({},b.attributes.popper,{style:b.styles.popper,ref:y}),{popper:b,placement:a,show:!!t.show,arrowProps:Object.assign({},b.attributes.arrow,{style:b.styles.arrow,ref:j})});return B=Mh(l,d,{in:!!t.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:B,onExit:k,onExiting:$,onExited:E,onEnter:C,onEntering:w,onEntered:A}),f?Ra.createPortal(B,f):null});cb.displayName="Overlay";const tD=cb,db=c.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=ue(n,"popover-header"),e.jsx(s,{ref:a,className:ae(t,n),...r})));db.displayName="PopoverHeader";const nD=db,ub=c.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=ue(n,"popover-body"),e.jsx(s,{ref:a,className:ae(t,n),...r})));ub.displayName="PopoverBody";const hb=ub;function fb(t,n){let s=t;return t==="left"?s=n?"end":"start":t==="right"&&(s=n?"start":"end"),s}function mb(t="absolute"){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const sD=c.forwardRef(({bsPrefix:t,placement:n="right",className:s,style:r,children:a,body:i,arrowProps:o,hasDoneInitialMeasure:l,popper:d,show:h,...u},m)=>{const j=ue(t,"popover"),y=Ed(),[f]=(n==null?void 0:n.split("-"))||[],x=fb(f,y);let S=r;return h&&!l&&(S={...r,...mb(d==null?void 0:d.strategy)}),e.jsxs("div",{ref:m,role:"tooltip",style:S,"x-placement":f,className:ae(s,j,f&&`bs-popover-${x}`),...u,children:[e.jsx("div",{className:"popover-arrow",...o}),i?e.jsx(hb,{children:a}):a]})}),rD=Object.assign(sD,{Header:nD,Body:hb,POPPER_OFFSET:[0,8]}),pb=c.forwardRef(({bsPrefix:t,placement:n="right",className:s,style:r,children:a,arrowProps:i,hasDoneInitialMeasure:o,popper:l,show:d,...h},u)=>{t=ue(t,"tooltip");const m=Ed(),[j]=(n==null?void 0:n.split("-"))||[],y=fb(j,m);let f=r;return d&&!o&&(f={...r,...mb(l==null?void 0:l.strategy)}),e.jsxs("div",{ref:u,style:f,role:"tooltip","x-placement":j,className:ae(s,t,`bs-tooltip-${y}`),...h,children:[e.jsx("div",{className:"tooltip-arrow",...i}),e.jsx("div",{className:`${t}-inner`,children:a})]})});pb.displayName="Tooltip";const Rm=Object.assign(pb,{TOOLTIP_OFFSET:[0,6]});function aD(t){const n=c.useRef(null),s=ue(void 0,"popover"),r=ue(void 0,"tooltip"),a=c.useMemo(()=>({name:"offset",options:{offset:()=>{if(t)return t;if(n.current){if(zh(n.current,s))return rD.POPPER_OFFSET;if(zh(n.current,r))return Rm.TOOLTIP_OFFSET}return[0,0]}}}),[t,s,r]);return[n,[a]]}function iD(t,n){const{ref:s}=t,{ref:r}=n;t.ref=s.__wrapped||(s.__wrapped=a=>s(ed(a))),n.ref=r.__wrapped||(r.__wrapped=a=>r(ed(a)))}const xb=c.forwardRef(({children:t,transition:n=Ga,popperConfig:s={},rootClose:r=!1,placement:a="top",show:i=!1,...o},l)=>{const d=c.useRef({}),[h,u]=c.useState(null),[m,j]=aD(o.offset),y=xr(l,m),f=n===!0?Ga:n||void 0,x=_t(S=>{u(S),s==null||s.onFirstUpdate==null||s.onFirstUpdate(S)});return xl(()=>{h&&o.target&&(d.current.scheduleUpdate==null||d.current.scheduleUpdate())},[h,o.target]),c.useEffect(()=>{i||u(null)},[i]),e.jsx(tD,{...o,ref:y,popperConfig:{...s,modifiers:j.concat(s.modifiers||[]),onFirstUpdate:x},transition:f,rootClose:r,placement:a,show:i,children:(S,{arrowProps:N,popper:b,show:E})=>{var v,k;iD(S,N);const $=b==null?void 0:b.placement,C=Object.assign(d.current,{state:b==null?void 0:b.state,scheduleUpdate:b==null?void 0:b.update,placement:$,outOfBoundaries:(b==null||(v=b.state)==null||(k=v.modifiersData.hide)==null?void 0:k.isReferenceHidden)||!1,strategy:s.strategy}),w=!!h;return typeof t=="function"?t({...S,placement:$,show:E,...!n&&E&&{className:"show"},popper:C,arrowProps:N,hasDoneInitialMeasure:w}):c.cloneElement(t,{...S,placement:$,arrowProps:N,popper:C,hasDoneInitialMeasure:w,className:ae(t.props.className,!n&&E&&"show"),style:{...t.props.style,...S.style}})}})});xb.displayName="Overlay";const oD=xb;function lD(t){return t&&typeof t=="object"?t:{show:t,hide:t}}function Ux(t,n,s){const[r]=n,a=r.currentTarget,i=r.relatedTarget||r.nativeEvent[s];(!i||i!==a)&&!gl(a,i)&&t(...n)}function jb({trigger:t=["hover","focus"],overlay:n,children:s,popperConfig:r={},show:a,defaultShow:i=!1,onToggle:o,delay:l,placement:d,flip:h=d&&d.indexOf("auto")!==-1,...u}){const m=c.useRef(null),j=xr(m,s.ref),y=LL(),f=c.useRef(""),[x,S]=Yy(a,i,o),N=lD(l),{onFocus:b,onBlur:E,onClick:v}=typeof s!="function"?c.Children.only(s).props:{},k=G=>{j(ed(G))},$=c.useCallback(()=>{if(y.clear(),f.current="show",!N.show){S(!0);return}y.set(()=>{f.current==="show"&&S(!0)},N.show)},[N.show,S,y]),C=c.useCallback(()=>{if(y.clear(),f.current="hide",!N.hide){S(!1);return}y.set(()=>{f.current==="hide"&&S(!1)},N.hide)},[N.hide,S,y]),w=c.useCallback((...G)=>{$(),b==null||b(...G)},[$,b]),A=c.useCallback((...G)=>{C(),E==null||E(...G)},[C,E]),B=c.useCallback((...G)=>{S(!x),v==null||v(...G)},[v,S,x]),H=c.useCallback((...G)=>{Ux($,G,"fromElement")},[$]),I=c.useCallback((...G)=>{Ux(C,G,"toElement")},[C]),L=t==null?[]:[].concat(t),R={ref:k};return L.indexOf("click")!==-1&&(R.onClick=B),L.indexOf("focus")!==-1&&(R.onFocus=w,R.onBlur=A),L.indexOf("hover")!==-1&&(R.onMouseOver=H,R.onMouseOut=I),e.jsxs(e.Fragment,{children:[typeof s=="function"?s(R):c.cloneElement(s,R),e.jsx(oD,{...u,show:x,onHide:C,flip:h,placement:d,popperConfig:r,target:m.current,children:n})]})}const Im=c.forwardRef(({active:t=!1,disabled:n=!1,className:s,style:r,activeLabel:a="(current)",children:i,linkStyle:o,linkClassName:l,...d},h)=>{const u=t||n?"span":cm;return e.jsx("li",{ref:h,style:r,className:ae(s,"page-item",{active:t,disabled:n}),children:e.jsxs(u,{className:ae("page-link",l),style:o,...d,children:[i,t&&a&&e.jsx("span",{className:"visually-hidden",children:a})]})})});Im.displayName="PageItem";const cD=Im;function Al(t,n,s=t){const r=c.forwardRef(({children:a,...i},o)=>e.jsxs(Im,{...i,ref:o,children:[e.jsx("span",{"aria-hidden":"true",children:a||n}),e.jsx("span",{className:"visually-hidden",children:s})]}));return r.displayName=t,r}const dD=Al("First","«"),uD=Al("Prev","‹","Previous"),hD=Al("Ellipsis","…","More"),fD=Al("Next","›"),mD=Al("Last","»"),gb=c.forwardRef(({bsPrefix:t,className:n,size:s,...r},a)=>{const i=ue(t,"pagination");return e.jsx("ul",{ref:a,...r,className:ae(n,i,s&&`${i}-${s}`)})});gb.displayName="Pagination";const Hn=Object.assign(gb,{First:dD,Prev:uD,Ellipsis:hD,Item:cD,Next:fD,Last:mD}),yb=c.forwardRef(({bsPrefix:t,className:n,as:s="div",...r},a)=>{const i=ue(t,"row"),o=Ky(),l=qy(),d=`${i}-cols`,h=[];return o.forEach(u=>{const m=r[u];delete r[u];let j;m!=null&&typeof m=="object"?{cols:j}=m:j=m;const y=u!==l?`-${u}`:"";j!=null&&h.push(`${d}${y}-${j}`)}),e.jsx(s,{ref:a,...r,className:ae(n,i,...h)})});yb.displayName="Row";const Ne=yb,vb=c.forwardRef(({bsPrefix:t,variant:n,animation:s="border",size:r,as:a="div",className:i,...o},l)=>{t=ue(t,"spinner");const d=`${t}-${s}`;return e.jsx(a,{ref:l,...o,className:ae(i,d,r&&`${d}-${r}`,n&&`text-${n}`)})});vb.displayName="Spinner";const Sb=vb,pD=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],xD=["activeKey","getControlledId","getControllerId"],jD=["as"];function Vh(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}function bb(t){let{active:n,eventKey:s,mountOnEnter:r,transition:a,unmountOnExit:i,role:o="tabpanel",onEnter:l,onEntering:d,onEntered:h,onExit:u,onExiting:m,onExited:j}=t,y=Vh(t,pD);const f=c.useContext(Yi);if(!f)return[Object.assign({},y,{role:o}),{eventKey:s,isActive:n,mountOnEnter:r,transition:a,unmountOnExit:i,onEnter:l,onEntering:d,onEntered:h,onExit:u,onExiting:m,onExited:j}];const{activeKey:x,getControlledId:S,getControllerId:N}=f,b=Vh(f,xD),E=ja(s);return[Object.assign({},y,{role:o,id:S(s),"aria-labelledby":N(s)}),{eventKey:s,isActive:n==null&&E!=null?ja(x)===E:n,transition:a||b.transition,mountOnEnter:r??b.mountOnEnter,unmountOnExit:i??b.unmountOnExit,onEnter:l,onEntering:d,onEntered:h,onExit:u,onExiting:m,onExited:j}]}const Cb=c.forwardRef((t,n)=>{let{as:s="div"}=t,r=Vh(t,jD);const[a,{isActive:i,onEnter:o,onEntering:l,onEntered:d,onExit:h,onExiting:u,onExited:m,mountOnEnter:j,unmountOnExit:y,transition:f=xm}]=bb(r);return e.jsx(Yi.Provider,{value:null,children:e.jsx(fr.Provider,{value:null,children:e.jsx(f,{in:i,onEnter:o,onEntering:l,onEntered:d,onExit:h,onExiting:u,onExited:m,mountOnEnter:j,unmountOnExit:y,children:e.jsx(s,Object.assign({},a,{ref:n,hidden:!i,"aria-hidden":!i}))})})})});Cb.displayName="TabPanel";const wb=t=>{const{id:n,generateChildId:s,onSelect:r,activeKey:a,defaultActiveKey:i,transition:o,mountOnEnter:l,unmountOnExit:d,children:h}=t,[u,m]=Av(a,i,r),j=Wv(n),y=c.useMemo(()=>s||((x,S)=>j?`${j}-${S}-${x}`:null),[j,s]),f=c.useMemo(()=>({onSelect:m,activeKey:u,transition:o,mountOnEnter:l||!1,unmountOnExit:d||!1,getControlledId:x=>y(x,"tabpane"),getControllerId:x=>y(x,"tab")}),[m,u,o,l,d,y]);return e.jsx(Yi.Provider,{value:f,children:e.jsx(fr.Provider,{value:m||null,children:h})})};wb.Panel=Cb;const Nb=wb;function Pm(t){return typeof t=="boolean"?t?Ga:xm:t}const kb=({transition:t,...n})=>e.jsx(Nb,{...n,transition:Pm(t)});kb.displayName="TabContainer";const gD=kb,Eb=c.forwardRef(({className:t,bsPrefix:n,as:s="div",...r},a)=>(n=ue(n,"tab-content"),e.jsx(s,{ref:a,className:ae(t,n),...r})));Eb.displayName="TabContent";const Lb=Eb,Db=c.forwardRef(({bsPrefix:t,transition:n,...s},r)=>{const[{className:a,as:i="div",...o},{isActive:l,onEnter:d,onEntering:h,onEntered:u,onExit:m,onExiting:j,onExited:y,mountOnEnter:f,unmountOnExit:x,transition:S=Ga}]=bb({...s,transition:Pm(n)}),N=ue(t,"tab-pane");return e.jsx(Yi.Provider,{value:null,children:e.jsx(fr.Provider,{value:null,children:e.jsx(S,{in:l,onEnter:d,onEntering:h,onEntered:u,onExit:m,onExiting:j,onExited:y,mountOnEnter:f,unmountOnExit:x,children:e.jsx(i,{...o,ref:r,className:ae(a,N,l&&"active")})})})})});Db.displayName="TabPane";const $b=Db,yD={eventKey:Pn.oneOfType([Pn.string,Pn.number]),title:Pn.node.isRequired,disabled:Pn.bool,tabClassName:Pn.string,tabAttrs:Pn.object},Ob=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Ob.propTypes=yD;const X=Object.assign(Ob,{Container:gD,Content:Lb,Pane:$b}),vD=c.forwardRef(({bsPrefix:t,className:n,striped:s,bordered:r,borderless:a,hover:i,size:o,variant:l,responsive:d,...h},u)=>{const m=ue(t,"table"),j=ae(n,m,l&&`${m}-${l}`,o&&`${m}-${o}`,s&&`${m}-${typeof s=="string"?`striped-${s}`:"striped"}`,r&&`${m}-bordered`,a&&`${m}-borderless`,i&&`${m}-hover`),y=e.jsx("table",{...h,className:j,ref:u});if(d){let f=`${m}-responsive`;return typeof d=="string"&&(f=`${f}-${d}`),e.jsx("div",{className:f,children:y})}return y}),ee=vD;function SD(t){let n;return DL(t,s=>{n==null&&(n=s.props.eventKey)}),n}function bD(t){const{title:n,eventKey:s,disabled:r,tabClassName:a,tabAttrs:i,id:o}=t.props;return n==null?null:e.jsx(sv,{as:"li",role:"presentation",children:e.jsx(dm,{as:"button",type:"button",eventKey:s,disabled:r,id:o,className:a,...i,children:n})})}const Tb=t=>{const{id:n,onSelect:s,transition:r,mountOnEnter:a=!1,unmountOnExit:i=!1,variant:o="tabs",children:l,activeKey:d=SD(l),...h}=Ll(t,{activeKey:"onSelect"});return e.jsxs(Nb,{id:n,activeKey:d,onSelect:s,transition:Pm(r),mountOnEnter:a,unmountOnExit:i,children:[e.jsx(us,{...h,role:"tablist",as:"ul",variant:o,children:Kx(l,bD)}),e.jsx(Lb,{children:Kx(l,u=>{const m={...u.props};return delete m.title,delete m.disabled,delete m.tabClassName,delete m.tabAttrs,e.jsx($b,{...m})})})]})};Tb.displayName="Tabs";const Ft=Tb;function CD(){const[t,n]=c.useState("dark");document.body.dataset.bsTheme=t;const s=()=>{n(t==="dark"?"light":"dark"),document.body.dataset.bsTheme=t};return e.jsx(D,{variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center p-2",onClick:s,children:t==="light"?e.jsx(xL,{}):e.jsx(jL,{})})}const he=c.createContext(),wD=(t,n)=>{switch(n.type){case"LOGIN":return{user:n.payload};case"LOGOUT":return{user:null};default:return t}},ND=({children:t})=>{const[n,s]=c.useReducer(wD,{user:null}),[r,a]=c.useState(!0);return c.useEffect(()=>{(async()=>{try{const o=JSON.parse(localStorage.getItem("user"));o&&s({type:"LOGIN",payload:o})}catch(o){console.error(o)}finally{a(!1)}})()},[]),r?null:e.jsx(he.Provider,{value:{user:n.user,dispatch:s},children:t})};function kD(){const{user:t,dispatch:n}=c.useContext(he),s=()=>{n({type:"LOGOUT"}),localStorage.removeItem("user"),localStorage.removeItem("accessToken")};return c.useEffect(()=>{let r;const a=()=>{clearTimeout(r),r=setTimeout(()=>{s()},12e5)},i=()=>{a()};return a(),window.addEventListener("mousemove",i),window.addEventListener("keypress",i),()=>{window.removeEventListener("mousemove",i),window.removeEventListener("keypress",i),clearTimeout(r)}},[]),e.jsx(tc,{expand:"lg",bg:"black","data-bs-theme":"dark",children:e.jsxs(te,{children:[e.jsx(tc.Brand,{children:e.jsx(us.Link,{as:Me,to:"/",children:"Yussman"})}),e.jsx(tc.Toggle,{"aria-controls":"basic-navbar-nav"}),t&&e.jsxs(tc.Collapse,{id:"basic-navbar-nav",children:[" ",e.jsxs(us,{className:"me-auto",children:[e.jsx(us.Link,{as:Me,to:"/register",children:"Register"}),e.jsx(us.Link,{as:Me,to:"/store",children:"Store"}),e.jsx(us.Link,{as:Me,to:"/restaurant",children:"Restaurant"}),e.jsx(us.Link,{as:Me,to:"/shopa1",children:"Shop A1"}),e.jsx(us.Link,{as:Me,to:"/shopa2",children:"Shop A2"}),e.jsx(us.Link,{as:Me,to:"/shopb",children:"Shop B"}),e.jsxs(sc,{title:"Chinsali",id:"basic-nav-dropdown",children:[e.jsx(sc.Item,{as:Me,to:"/chinsalirestaurant",children:"Restaurant"}),e.jsx(sc.Item,{as:Me,to:"/chinsalistore",children:"Store"}),e.jsx(sc.Item,{as:Me,to:"/chinsaliregister",children:"Register"})]}),e.jsx(us.Link,{as:Me,to:"/goat",children:"Goat"}),e.jsx(us.Link,{as:Me,to:"/credit",children:"Credit"}),e.jsx(us.Link,{as:Me,to:"/employees",children:"Employees"}),t.role==="admin"&&e.jsx(e.Fragment,{children:e.jsx(us.Link,{as:Me,to:"/users",children:"Users"})})]}),e.jsxs("div",{className:"d-flex align-items-center ",children:[e.jsx("span",{className:"me-2 text-capitalize",children:t.firstName}),e.jsx(D,{variant:"outline-info",className:"me-2",onClick:s,children:"Logout"})]})]}),e.jsx(CD,{})]})})}function ED(){return c.useEffect(()=>{document.title="Yussman"},[]),e.jsxs(te,{children:[e.jsx("h1",{children:"Dasboard"}),e.jsx(Me,{to:"/store",children:"Store"}),e.jsx("hr",{}),e.jsx(Me,{to:"/register",children:"Register"}),e.jsx("hr",{}),e.jsx(Me,{to:"/restaurant",children:"Restaurant"}),e.jsx("hr",{}),e.jsx(Me,{to:"/shopa1",children:"Shop A1"}),e.jsx("hr",{}),e.jsx(Me,{to:"/shopa2",children:"Shop A2"}),e.jsx("hr",{}),e.jsx(Me,{to:"/shopb",children:"Shop B"}),e.jsx("hr",{}),e.jsx(Me,{to:"/chinsalirestaurant",children:"Chinsali"}),e.jsx("hr",{}),e.jsx(Me,{to:"/chinsalistore",children:"Chinsali store"}),e.jsx("hr",{}),e.jsx(Me,{to:"/chinsaliregister",children:"Chinsali Register"}),e.jsx("hr",{}),e.jsx(Me,{to:"/goat",children:"Goat"}),e.jsx("hr",{}),e.jsx(Me,{to:"/credit",children:"Credit"}),e.jsx("hr",{}),e.jsx(Me,{to:"/employees",children:"Employees"})]})}function Ab(t,n){return function(){return t.apply(n,arguments)}}const{toString:LD}=Object.prototype,{getPrototypeOf:Fm}=Object,Bd=(t=>n=>{const s=LD.call(n);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),jr=t=>(t=t.toLowerCase(),n=>Bd(n)===t),_d=t=>n=>typeof n===t,{isArray:no}=Array,bl=_d("undefined");function DD(t){return t!==null&&!bl(t)&&t.constructor!==null&&!bl(t.constructor)&&Ts(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Bb=jr("ArrayBuffer");function $D(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&Bb(t.buffer),n}const OD=_d("string"),Ts=_d("function"),_b=_d("number"),Rd=t=>t!==null&&typeof t=="object",TD=t=>t===!0||t===!1,wc=t=>{if(Bd(t)!=="object")return!1;const n=Fm(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},AD=jr("Date"),BD=jr("File"),_D=jr("Blob"),RD=jr("FileList"),ID=t=>Rd(t)&&Ts(t.pipe),PD=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||Ts(t.append)&&((n=Bd(t))==="formdata"||n==="object"&&Ts(t.toString)&&t.toString()==="[object FormData]"))},FD=jr("URLSearchParams"),MD=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bl(t,n,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),no(t))for(r=0,a=t.length;r<a;r++)n.call(null,t[r],r,t);else{const i=s?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(r=0;r<o;r++)l=i[r],n.call(null,t[l],l,t)}}function Rb(t,n){n=n.toLowerCase();const s=Object.keys(t);let r=s.length,a;for(;r-- >0;)if(a=s[r],n===a.toLowerCase())return a;return null}const Ib=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Pb=t=>!bl(t)&&t!==Ib;function Qh(){const{caseless:t}=Pb(this)&&this||{},n={},s=(r,a)=>{const i=t&&Rb(n,a)||a;wc(n[i])&&wc(r)?n[i]=Qh(n[i],r):wc(r)?n[i]=Qh({},r):no(r)?n[i]=r.slice():n[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Bl(arguments[r],s);return n}const zD=(t,n,s,{allOwnKeys:r}={})=>(Bl(n,(a,i)=>{s&&Ts(a)?t[i]=Ab(a,s):t[i]=a},{allOwnKeys:r}),t),HD=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),KD=(t,n,s,r)=>{t.prototype=Object.create(n.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),s&&Object.assign(t.prototype,s)},qD=(t,n,s,r)=>{let a,i,o;const l={};if(n=n||{},t==null)return n;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)o=a[i],(!r||r(o,t,n))&&!l[o]&&(n[o]=t[o],l[o]=!0);t=s!==!1&&Fm(t)}while(t&&(!s||s(t,n))&&t!==Object.prototype);return n},UD=(t,n,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=n.length;const r=t.indexOf(n,s);return r!==-1&&r===s},GD=t=>{if(!t)return null;if(no(t))return t;let n=t.length;if(!_b(n))return null;const s=new Array(n);for(;n-- >0;)s[n]=t[n];return s},YD=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&Fm(Uint8Array)),WD=(t,n)=>{const r=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=r.next())&&!a.done;){const i=a.value;n.call(t,i[0],i[1])}},VD=(t,n)=>{let s;const r=[];for(;(s=t.exec(n))!==null;)r.push(s);return r},QD=jr("HTMLFormElement"),JD=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),Gx=(({hasOwnProperty:t})=>(n,s)=>t.call(n,s))(Object.prototype),XD=jr("RegExp"),Fb=(t,n)=>{const s=Object.getOwnPropertyDescriptors(t),r={};Bl(s,(a,i)=>{let o;(o=n(a,i,t))!==!1&&(r[i]=o||a)}),Object.defineProperties(t,r)},ZD=t=>{Fb(t,(n,s)=>{if(Ts(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=t[s];if(Ts(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},e$=(t,n)=>{const s={},r=a=>{a.forEach(i=>{s[i]=!0})};return no(t)?r(t):r(String(t).split(n)),s},t$=()=>{},n$=(t,n)=>(t=+t,Number.isFinite(t)?t:n),Nu="abcdefghijklmnopqrstuvwxyz",Yx="0123456789",Mb={DIGIT:Yx,ALPHA:Nu,ALPHA_DIGIT:Nu+Nu.toUpperCase()+Yx},s$=(t=16,n=Mb.ALPHA_DIGIT)=>{let s="";const{length:r}=n;for(;t--;)s+=n[Math.random()*r|0];return s};function r$(t){return!!(t&&Ts(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const a$=t=>{const n=new Array(10),s=(r,a)=>{if(Rd(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[a]=r;const i=no(r)?[]:{};return Bl(r,(o,l)=>{const d=s(o,a+1);!bl(d)&&(i[l]=d)}),n[a]=void 0,i}}return r};return s(t,0)},i$=jr("AsyncFunction"),o$=t=>t&&(Rd(t)||Ts(t))&&Ts(t.then)&&Ts(t.catch),U={isArray:no,isArrayBuffer:Bb,isBuffer:DD,isFormData:PD,isArrayBufferView:$D,isString:OD,isNumber:_b,isBoolean:TD,isObject:Rd,isPlainObject:wc,isUndefined:bl,isDate:AD,isFile:BD,isBlob:_D,isRegExp:XD,isFunction:Ts,isStream:ID,isURLSearchParams:FD,isTypedArray:YD,isFileList:RD,forEach:Bl,merge:Qh,extend:zD,trim:MD,stripBOM:HD,inherits:KD,toFlatObject:qD,kindOf:Bd,kindOfTest:jr,endsWith:UD,toArray:GD,forEachEntry:WD,matchAll:VD,isHTMLForm:QD,hasOwnProperty:Gx,hasOwnProp:Gx,reduceDescriptors:Fb,freezeMethods:ZD,toObjectSet:e$,toCamelCase:JD,noop:t$,toFiniteNumber:n$,findKey:Rb,global:Ib,isContextDefined:Pb,ALPHABET:Mb,generateString:s$,isSpecCompliantForm:r$,toJSONObject:a$,isAsyncFn:i$,isThenable:o$};function rt(t,n,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a)}U.inherits(rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const zb=rt.prototype,Hb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Hb[t]={value:t}});Object.defineProperties(rt,Hb);Object.defineProperty(zb,"isAxiosError",{value:!0});rt.from=(t,n,s,r,a,i)=>{const o=Object.create(zb);return U.toFlatObject(t,o,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),rt.call(o,t.message,n,s,r,a),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const l$=null;function Jh(t){return U.isPlainObject(t)||U.isArray(t)}function Kb(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function Wx(t,n,s){return t?t.concat(n).map(function(a,i){return a=Kb(a),!s&&i?"["+a+"]":a}).join(s?".":""):n}function c$(t){return U.isArray(t)&&!t.some(Jh)}const d$=U.toFlatObject(U,{},null,function(n){return/^is[A-Z]/.test(n)});function Id(t,n,s){if(!U.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,s=U.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,S){return!U.isUndefined(S[x])});const r=s.metaTokens,a=s.visitor||u,i=s.dots,o=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(n);if(!U.isFunction(a))throw new TypeError("visitor must be a function");function h(f){if(f===null)return"";if(U.isDate(f))return f.toISOString();if(!d&&U.isBlob(f))throw new rt("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(f)||U.isTypedArray(f)?d&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function u(f,x,S){let N=f;if(f&&!S&&typeof f=="object"){if(U.endsWith(x,"{}"))x=r?x:x.slice(0,-2),f=JSON.stringify(f);else if(U.isArray(f)&&c$(f)||(U.isFileList(f)||U.endsWith(x,"[]"))&&(N=U.toArray(f)))return x=Kb(x),N.forEach(function(E,v){!(U.isUndefined(E)||E===null)&&n.append(o===!0?Wx([x],v,i):o===null?x:x+"[]",h(E))}),!1}return Jh(f)?!0:(n.append(Wx(S,x,i),h(f)),!1)}const m=[],j=Object.assign(d$,{defaultVisitor:u,convertValue:h,isVisitable:Jh});function y(f,x){if(!U.isUndefined(f)){if(m.indexOf(f)!==-1)throw Error("Circular reference detected in "+x.join("."));m.push(f),U.forEach(f,function(N,b){(!(U.isUndefined(N)||N===null)&&a.call(n,N,U.isString(b)?b.trim():b,x,j))===!0&&y(N,x?x.concat(b):[b])}),m.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return y(t),n}function Vx(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function Mm(t,n){this._pairs=[],t&&Id(t,this,n)}const qb=Mm.prototype;qb.append=function(n,s){this._pairs.push([n,s])};qb.toString=function(n){const s=n?function(r){return n.call(this,r,Vx)}:Vx;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function u$(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ub(t,n,s){if(!n)return t;const r=s&&s.encode||u$,a=s&&s.serialize;let i;if(a?i=a(n,s):i=U.isURLSearchParams(n)?n.toString():new Mm(n,s).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class h${constructor(){this.handlers=[]}use(n,s,r){return this.handlers.push({fulfilled:n,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){U.forEach(this.handlers,function(r){r!==null&&n(r)})}}const Qx=h$,Gb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},f$=typeof URLSearchParams<"u"?URLSearchParams:Mm,m$=typeof FormData<"u"?FormData:null,p$=typeof Blob<"u"?Blob:null,x$=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),j$=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),or={isBrowser:!0,classes:{URLSearchParams:f$,FormData:m$,Blob:p$},isStandardBrowserEnv:x$,isStandardBrowserWebWorkerEnv:j$,protocols:["http","https","file","blob","url","data"]};function g$(t,n){return Id(t,new or.classes.URLSearchParams,Object.assign({visitor:function(s,r,a,i){return or.isNode&&U.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},n))}function y$(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function v$(t){const n={},s=Object.keys(t);let r;const a=s.length;let i;for(r=0;r<a;r++)i=s[r],n[i]=t[i];return n}function Yb(t){function n(s,r,a,i){let o=s[i++];const l=Number.isFinite(+o),d=i>=s.length;return o=!o&&U.isArray(a)?a.length:o,d?(U.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!l):((!a[o]||!U.isObject(a[o]))&&(a[o]=[]),n(s,r,a[o],i)&&U.isArray(a[o])&&(a[o]=v$(a[o])),!l)}if(U.isFormData(t)&&U.isFunction(t.entries)){const s={};return U.forEachEntry(t,(r,a)=>{n(y$(r),a,s,0)}),s}return null}function S$(t,n,s){if(U.isString(t))try{return(n||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(t)}const zm={transitional:Gb,adapter:["xhr","http"],transformRequest:[function(n,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,i=U.isObject(n);if(i&&U.isHTMLForm(n)&&(n=new FormData(n)),U.isFormData(n))return a&&a?JSON.stringify(Yb(n)):n;if(U.isArrayBuffer(n)||U.isBuffer(n)||U.isStream(n)||U.isFile(n)||U.isBlob(n))return n;if(U.isArrayBufferView(n))return n.buffer;if(U.isURLSearchParams(n))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return g$(n,this.formSerializer).toString();if((l=U.isFileList(n))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Id(l?{"files[]":n}:n,d&&new d,this.formSerializer)}}return i||a?(s.setContentType("application/json",!1),S$(n)):n}],transformResponse:[function(n){const s=this.transitional||zm.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(n&&U.isString(n)&&(r&&!this.responseType||a)){const o=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(n)}catch(l){if(o)throw l.name==="SyntaxError"?rt.from(l,rt.ERR_BAD_RESPONSE,this,null,this.response):l}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:or.classes.FormData,Blob:or.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{zm.headers[t]={}});const Hm=zm,b$=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),C$=t=>{const n={};let s,r,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),s=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!s||n[s]&&b$[s])&&(s==="set-cookie"?n[s]?n[s].push(r):n[s]=[r]:n[s]=n[s]?n[s]+", "+r:r)}),n},Jx=Symbol("internals");function Do(t){return t&&String(t).trim().toLowerCase()}function Nc(t){return t===!1||t==null?t:U.isArray(t)?t.map(Nc):String(t)}function w$(t){const n=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(t);)n[r[1]]=r[2];return n}const N$=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ku(t,n,s,r,a){if(U.isFunction(r))return r.call(this,n,s);if(a&&(n=s),!!U.isString(n)){if(U.isString(r))return n.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(n)}}function k$(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,s,r)=>s.toUpperCase()+r)}function E$(t,n){const s=U.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+s,{value:function(a,i,o){return this[r].call(this,n,a,i,o)},configurable:!0})})}class Pd{constructor(n){n&&this.set(n)}set(n,s,r){const a=this;function i(l,d,h){const u=Do(d);if(!u)throw new Error("header name must be a non-empty string");const m=U.findKey(a,u);(!m||a[m]===void 0||h===!0||h===void 0&&a[m]!==!1)&&(a[m||d]=Nc(l))}const o=(l,d)=>U.forEach(l,(h,u)=>i(h,u,d));return U.isPlainObject(n)||n instanceof this.constructor?o(n,s):U.isString(n)&&(n=n.trim())&&!N$(n)?o(C$(n),s):n!=null&&i(s,n,r),this}get(n,s){if(n=Do(n),n){const r=U.findKey(this,n);if(r){const a=this[r];if(!s)return a;if(s===!0)return w$(a);if(U.isFunction(s))return s.call(this,a,r);if(U.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,s){if(n=Do(n),n){const r=U.findKey(this,n);return!!(r&&this[r]!==void 0&&(!s||ku(this,this[r],r,s)))}return!1}delete(n,s){const r=this;let a=!1;function i(o){if(o=Do(o),o){const l=U.findKey(r,o);l&&(!s||ku(r,r[l],l,s))&&(delete r[l],a=!0)}}return U.isArray(n)?n.forEach(i):i(n),a}clear(n){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const i=s[r];(!n||ku(this,this[i],i,n,!0))&&(delete this[i],a=!0)}return a}normalize(n){const s=this,r={};return U.forEach(this,(a,i)=>{const o=U.findKey(r,i);if(o){s[o]=Nc(a),delete s[i];return}const l=n?k$(i):String(i).trim();l!==i&&delete s[i],s[l]=Nc(a),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const s=Object.create(null);return U.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=n&&U.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,s])=>n+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...s){const r=new this(n);return s.forEach(a=>r.set(a)),r}static accessor(n){const r=(this[Jx]=this[Jx]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Do(o);r[l]||(E$(a,o),r[l]=!0)}return U.isArray(n)?n.forEach(i):i(n),this}}Pd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(Pd.prototype,({value:t},n)=>{let s=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(r){this[s]=r}}});U.freezeMethods(Pd);const Ar=Pd;function Eu(t,n){const s=this||Hm,r=n||s,a=Ar.from(r.headers);let i=r.data;return U.forEach(t,function(l){i=l.call(s,i,a.normalize(),n?n.status:void 0)}),a.normalize(),i}function Wb(t){return!!(t&&t.__CANCEL__)}function _l(t,n,s){rt.call(this,t??"canceled",rt.ERR_CANCELED,n,s),this.name="CanceledError"}U.inherits(_l,rt,{__CANCEL__:!0});function L$(t,n,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?t(s):n(new rt("Request failed with status code "+s.status,[rt.ERR_BAD_REQUEST,rt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const D$=or.isStandardBrowserEnv?function(){return{write:function(s,r,a,i,o,l){const d=[];d.push(s+"="+encodeURIComponent(r)),U.isNumber(a)&&d.push("expires="+new Date(a).toGMTString()),U.isString(i)&&d.push("path="+i),U.isString(o)&&d.push("domain="+o),l===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(s){const r=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function $$(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function O$(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}function Vb(t,n){return t&&!$$(n)?O$(t,n):n}const T$=or.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let r;function a(i){let o=i;return n&&(s.setAttribute("href",o),o=s.href),s.setAttribute("href",o),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return r=a(window.location.href),function(o){const l=U.isString(o)?a(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function A$(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function B$(t,n){t=t||10;const s=new Array(t),r=new Array(t);let a=0,i=0,o;return n=n!==void 0?n:1e3,function(d){const h=Date.now(),u=r[i];o||(o=h),s[a]=d,r[a]=h;let m=i,j=0;for(;m!==a;)j+=s[m++],m=m%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),h-o<n)return;const y=u&&h-u;return y?Math.round(j*1e3/y):void 0}}function Xx(t,n){let s=0;const r=B$(50,250);return a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,l=i-s,d=r(l),h=i<=o;s=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:l,rate:d||void 0,estimated:d&&o&&h?(o-i)/d:void 0,event:a};u[n?"download":"upload"]=!0,t(u)}}const _$=typeof XMLHttpRequest<"u",R$=_$&&function(t){return new Promise(function(s,r){let a=t.data;const i=Ar.from(t.headers).normalize(),o=t.responseType;let l;function d(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let h;U.isFormData(a)&&(or.isStandardBrowserEnv||or.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.getContentType(/^\s*multipart\/form-data/)?U.isString(h=i.getContentType())&&i.setContentType(h.replace(/^\s*(multipart\/form-data);+/,"$1")):i.setContentType("multipart/form-data"));let u=new XMLHttpRequest;if(t.auth){const f=t.auth.username||"",x=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(f+":"+x))}const m=Vb(t.baseURL,t.url);u.open(t.method.toUpperCase(),Ub(m,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function j(){if(!u)return;const f=Ar.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),S={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:f,config:t,request:u};L$(function(b){s(b),d()},function(b){r(b),d()},S),u=null}if("onloadend"in u?u.onloadend=j:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(j)},u.onabort=function(){u&&(r(new rt("Request aborted",rt.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new rt("Network Error",rt.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let x=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const S=t.transitional||Gb;t.timeoutErrorMessage&&(x=t.timeoutErrorMessage),r(new rt(x,S.clarifyTimeoutError?rt.ETIMEDOUT:rt.ECONNABORTED,t,u)),u=null},or.isStandardBrowserEnv){const f=(t.withCredentials||T$(m))&&t.xsrfCookieName&&D$.read(t.xsrfCookieName);f&&i.set(t.xsrfHeaderName,f)}a===void 0&&i.setContentType(null),"setRequestHeader"in u&&U.forEach(i.toJSON(),function(x,S){u.setRequestHeader(S,x)}),U.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",Xx(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Xx(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=f=>{u&&(r(!f||f.type?new _l(null,t,u):f),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const y=A$(m);if(y&&or.protocols.indexOf(y)===-1){r(new rt("Unsupported protocol "+y+":",rt.ERR_BAD_REQUEST,t));return}u.send(a||null)})},Xh={http:l$,xhr:R$};U.forEach(Xh,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const Zx=t=>`- ${t}`,I$=t=>U.isFunction(t)||t===null||t===!1,Qb={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:n}=t;let s,r;const a={};for(let i=0;i<n;i++){s=t[i];let o;if(r=s,!I$(s)&&(r=Xh[(o=String(s)).toLowerCase()],r===void 0))throw new rt(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=n?i.length>1?`since :
`+i.map(Zx).join(`
`):" "+Zx(i[0]):"as no adapter specified";throw new rt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Xh};function Lu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _l(null,t)}function ej(t){return Lu(t),t.headers=Ar.from(t.headers),t.data=Eu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Qb.getAdapter(t.adapter||Hm.adapter)(t).then(function(r){return Lu(t),r.data=Eu.call(t,t.transformResponse,r),r.headers=Ar.from(r.headers),r},function(r){return Wb(r)||(Lu(t),r&&r.response&&(r.response.data=Eu.call(t,t.transformResponse,r.response),r.response.headers=Ar.from(r.response.headers))),Promise.reject(r)})}const tj=t=>t instanceof Ar?t.toJSON():t;function Hi(t,n){n=n||{};const s={};function r(h,u,m){return U.isPlainObject(h)&&U.isPlainObject(u)?U.merge.call({caseless:m},h,u):U.isPlainObject(u)?U.merge({},u):U.isArray(u)?u.slice():u}function a(h,u,m){if(U.isUndefined(u)){if(!U.isUndefined(h))return r(void 0,h,m)}else return r(h,u,m)}function i(h,u){if(!U.isUndefined(u))return r(void 0,u)}function o(h,u){if(U.isUndefined(u)){if(!U.isUndefined(h))return r(void 0,h)}else return r(void 0,u)}function l(h,u,m){if(m in n)return r(h,u);if(m in t)return r(void 0,h)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,u)=>a(tj(h),tj(u),!0)};return U.forEach(Object.keys(Object.assign({},t,n)),function(u){const m=d[u]||a,j=m(t[u],n[u],u);U.isUndefined(j)&&m!==l||(s[u]=j)}),s}const Jb="1.5.1",Km={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{Km[t]=function(r){return typeof r===t||"a"+(n<1?"n ":" ")+t}});const nj={};Km.transitional=function(n,s,r){function a(i,o){return"[Axios v"+Jb+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(n===!1)throw new rt(a(o," has been removed"+(s?" in "+s:"")),rt.ERR_DEPRECATED);return s&&!nj[o]&&(nj[o]=!0,console.warn(a(o," has been deprecated since v"+s+" and will be removed in the near future"))),n?n(i,o,l):!0}};function P$(t,n,s){if(typeof t!="object")throw new rt("options must be an object",rt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const i=r[a],o=n[i];if(o){const l=t[i],d=l===void 0||o(l,i,t);if(d!==!0)throw new rt("option "+i+" must be "+d,rt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new rt("Unknown option "+i,rt.ERR_BAD_OPTION)}}const Zh={assertOptions:P$,validators:Km},Vr=Zh.validators;class od{constructor(n){this.defaults=n,this.interceptors={request:new Qx,response:new Qx}}request(n,s){typeof n=="string"?(s=s||{},s.url=n):s=n||{},s=Hi(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:i}=s;r!==void 0&&Zh.assertOptions(r,{silentJSONParsing:Vr.transitional(Vr.boolean),forcedJSONParsing:Vr.transitional(Vr.boolean),clarifyTimeoutError:Vr.transitional(Vr.boolean)},!1),a!=null&&(U.isFunction(a)?s.paramsSerializer={serialize:a}:Zh.assertOptions(a,{encode:Vr.function,serialize:Vr.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&U.merge(i.common,i[s.method]);i&&U.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),s.headers=Ar.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(s)===!1||(d=d&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const h=[];this.interceptors.response.forEach(function(x){h.push(x.fulfilled,x.rejected)});let u,m=0,j;if(!d){const f=[ej.bind(this),void 0];for(f.unshift.apply(f,l),f.push.apply(f,h),j=f.length,u=Promise.resolve(s);m<j;)u=u.then(f[m++],f[m++]);return u}j=l.length;let y=s;for(m=0;m<j;){const f=l[m++],x=l[m++];try{y=f(y)}catch(S){x.call(this,S);break}}try{u=ej.call(this,y)}catch(f){return Promise.reject(f)}for(m=0,j=h.length;m<j;)u=u.then(h[m++],h[m++]);return u}getUri(n){n=Hi(this.defaults,n);const s=Vb(n.baseURL,n.url);return Ub(s,n.params,n.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(n){od.prototype[n]=function(s,r){return this.request(Hi(r||{},{method:n,url:s,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(n){function s(r){return function(i,o,l){return this.request(Hi(l||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}od.prototype[n]=s(),od.prototype[n+"Form"]=s(!0)});const kc=od;class qm{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},n(function(i,o,l){r.reason||(r.reason=new _l(i,o,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}static source(){let n;return{token:new qm(function(a){n=a}),cancel:n}}}const F$=qm;function M$(t){return function(s){return t.apply(null,s)}}function z$(t){return U.isObject(t)&&t.isAxiosError===!0}const ef={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ef).forEach(([t,n])=>{ef[n]=t});const H$=ef;function Xb(t){const n=new kc(t),s=Ab(kc.prototype.request,n);return U.extend(s,kc.prototype,n,{allOwnKeys:!0}),U.extend(s,n,null,{allOwnKeys:!0}),s.create=function(a){return Xb(Hi(t,a))},s}const pn=Xb(Hm);pn.Axios=kc;pn.CanceledError=_l;pn.CancelToken=F$;pn.isCancel=Wb;pn.VERSION=Jb;pn.toFormData=Id;pn.AxiosError=rt;pn.Cancel=pn.CanceledError;pn.all=function(n){return Promise.all(n)};pn.spread=M$;pn.isAxiosError=z$;pn.mergeConfig=Hi;pn.AxiosHeaders=Ar;pn.formToJSON=t=>Yb(U.isHTMLForm(t)?new FormData(t):t);pn.getAdapter=Qb.getAdapter;pn.HttpStatusCode=H$;pn.default=pn;const T=pn;function K$({createNew:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(""),[i,o]=c.useState([0]),[l,d]=c.useState(""),[h,u]=c.useState(""),m={name:r.toLowerCase(),kgs:i,date:l,collectionDate:h},j=()=>{a(""),o([0]),d(""),u("")},y=()=>{const E=[...i,[]];o(E)},f=E=>{const v=[...i];v.splice(E,1),o(v)},x=(E,v)=>{const k=[...i];k[v]=E.target.value,o(k)},S=()=>{s(!1),j()},N=()=>s(!0),b=E=>{E.preventDefault(),t(m),j(),s(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:N,children:"New"}),e.jsxs(g,{show:n,onHide:S,backdrop:"static",keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:E=>b(E),children:[e.jsx(p.Group,{className:"mb-3",controlId:"formGroupName",children:e.jsx(p.Control,{type:"text",autoFocus:!0,placeholder:"Name",autoComplete:"off",value:r,onChange:E=>a(E.target.value),required:!0})}),i.map((E,v)=>e.jsxs(Ne,{className:"mb-2",children:[e.jsx(Y,{children:e.jsx(p.Control,{name:"kgs",min:0,type:"number",onChange:k=>x(k,v),required:!0})}),e.jsxs(Y,{className:"d-flex justify-content-between align-items-center",children:[e.jsxs(p.Label,{className:"pt-1",children:["K",E>19?E*25:E*15]}),i.length>1&&e.jsx(D,{onClick:()=>f(v),size:"sm mx-1",variant:"outline-danger",children:"x"})]})]},v)),e.jsx(D,{onClick:y,size:"sm mx-1",variant:"outline-info",children:"Add Field"}),e.jsxs(p.Group,{className:"mb-3",controlId:"formGroupDate",children:[e.jsx(p.Label,{children:"Date"}),e.jsx(p.Control,{type:"date",value:l,onChange:E=>d(E.target.value),required:!0})]}),e.jsxs(p.Group,{className:"mb-3",controlId:"formGroupCollectionDate",children:[e.jsx(p.Label,{children:"Collection Date"}),e.jsx(p.Control,{type:"date",value:h,onChange:E=>u(E.target.value),required:!0})]}),e.jsx(D,{variant:"primary",type:"submit",children:"Submit"})]})})]})]})}const q$=t=>e.jsx(te,{className:"mb-2",fluid:!0,children:e.jsxs(Ne,{children:[e.jsx(Y,{children:e.jsx(K$,{createNew:t.createNew})}),e.jsx(Y,{className:"text-center text-white",children:e.jsxs("h5",{children:["Amount Due : K",t.total.toLocaleString()]})})]})}),mr=Object.create(null);mr.open="0";mr.close="1";mr.ping="2";mr.pong="3";mr.message="4";mr.upgrade="5";mr.noop="6";const Ec=Object.create(null);Object.keys(mr).forEach(t=>{Ec[mr[t]]=t});const tf={type:"error",data:"parser error"},Zb=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",e0=typeof ArrayBuffer=="function",t0=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Um=({type:t,data:n},s,r)=>Zb&&n instanceof Blob?s?r(n):sj(n,r):e0&&(n instanceof ArrayBuffer||t0(n))?s?r(n):sj(new Blob([n]),r):r(mr[t]+(n||"")),sj=(t,n)=>{const s=new FileReader;return s.onload=function(){const r=s.result.split(",")[1];n("b"+(r||""))},s.readAsDataURL(t)};function rj(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Du;function U$(t,n){if(Zb&&t.data instanceof Blob)return t.data.arrayBuffer().then(rj).then(n);if(e0&&(t.data instanceof ArrayBuffer||t0(t.data)))return n(rj(t.data));Um(t,!1,s=>{Du||(Du=new TextEncoder),n(Du.encode(s))})}const aj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<aj.length;t++)Mo[aj.charCodeAt(t)]=t;const G$=t=>{let n=t.length*.75,s=t.length,r,a=0,i,o,l,d;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);const h=new ArrayBuffer(n),u=new Uint8Array(h);for(r=0;r<s;r+=4)i=Mo[t.charCodeAt(r)],o=Mo[t.charCodeAt(r+1)],l=Mo[t.charCodeAt(r+2)],d=Mo[t.charCodeAt(r+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|d&63;return h},Y$=typeof ArrayBuffer=="function",Gm=(t,n)=>{if(typeof t!="string")return{type:"message",data:n0(t,n)};const s=t.charAt(0);return s==="b"?{type:"message",data:W$(t.substring(1),n)}:Ec[s]?t.length>1?{type:Ec[s],data:t.substring(1)}:{type:Ec[s]}:tf},W$=(t,n)=>{if(Y$){const s=G$(t);return n0(s,n)}else return{base64:!0,data:t}},n0=(t,n)=>{switch(n){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},s0=String.fromCharCode(30),V$=(t,n)=>{const s=t.length,r=new Array(s);let a=0;t.forEach((i,o)=>{Um(i,!1,l=>{r[o]=l,++a===s&&n(r.join(s0))})})},Q$=(t,n)=>{const s=t.split(s0),r=[];for(let a=0;a<s.length;a++){const i=Gm(s[a],n);if(r.push(i),i.type==="error")break}return r};function J$(){return new TransformStream({transform(t,n){U$(t,s=>{const r=s.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(a[0]|=128),n.enqueue(a),n.enqueue(s)})}})}let $u;function ac(t){return t.reduce((n,s)=>n+s.length,0)}function ic(t,n){if(t[0].length===n)return t.shift();const s=new Uint8Array(n);let r=0;for(let a=0;a<n;a++)s[a]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),s}function X$(t,n){$u||($u=new TextDecoder);const s=[];let r=0,a=-1,i=!1;return new TransformStream({transform(o,l){for(s.push(o);;){if(r===0){if(ac(s)<1)break;const d=ic(s,1);i=(d[0]&128)===128,a=d[0]&127,a<126?r=3:a===126?r=1:r=2}else if(r===1){if(ac(s)<2)break;const d=ic(s,2);a=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),r=3}else if(r===2){if(ac(s)<8)break;const d=ic(s,8),h=new DataView(d.buffer,d.byteOffset,d.length),u=h.getUint32(0);if(u>Math.pow(2,53-32)-1){l.enqueue(tf);break}a=u*Math.pow(2,32)+h.getUint32(4),r=3}else{if(ac(s)<a)break;const d=ic(s,a);l.enqueue(Gm(i?d:$u.decode(d),n)),r=0}if(a===0||a>t){l.enqueue(tf);break}}}})}const r0=4;function hn(t){if(t)return Z$(t)}function Z$(t){for(var n in hn.prototype)t[n]=hn.prototype[n];return t}hn.prototype.on=hn.prototype.addEventListener=function(t,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(n),this};hn.prototype.once=function(t,n){function s(){this.off(t,s),n.apply(this,arguments)}return s.fn=n,this.on(t,s),this};hn.prototype.off=hn.prototype.removeListener=hn.prototype.removeAllListeners=hn.prototype.removeEventListener=function(t,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+t];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,a=0;a<s.length;a++)if(r=s[a],r===n||r.fn===n){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+t],this};hn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+t],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(s){s=s.slice(0);for(var r=0,a=s.length;r<a;++r)s[r].apply(this,n)}return this};hn.prototype.emitReserved=hn.prototype.emit;hn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};hn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Ds=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function a0(t,...n){return n.reduce((s,r)=>(t.hasOwnProperty(r)&&(s[r]=t[r]),s),{})}const eO=Ds.setTimeout,tO=Ds.clearTimeout;function Fd(t,n){n.useNativeTimers?(t.setTimeoutFn=eO.bind(Ds),t.clearTimeoutFn=tO.bind(Ds)):(t.setTimeoutFn=Ds.setTimeout.bind(Ds),t.clearTimeoutFn=Ds.clearTimeout.bind(Ds))}const nO=1.33;function sO(t){return typeof t=="string"?rO(t):Math.ceil((t.byteLength||t.size)*nO)}function rO(t){let n=0,s=0;for(let r=0,a=t.length;r<a;r++)n=t.charCodeAt(r),n<128?s+=1:n<2048?s+=2:n<55296||n>=57344?s+=3:(r++,s+=4);return s}function aO(t){let n="";for(let s in t)t.hasOwnProperty(s)&&(n.length&&(n+="&"),n+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return n}function iO(t){let n={},s=t.split("&");for(let r=0,a=s.length;r<a;r++){let i=s[r].split("=");n[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return n}class oO extends Error{constructor(n,s,r){super(n),this.description=s,this.context=r,this.type="TransportError"}}class Ym extends hn{constructor(n){super(),this.writable=!1,Fd(this,n),this.opts=n,this.query=n.query,this.socket=n.socket}onError(n,s,r){return super.emitReserved("error",new oO(n,s,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const s=Gm(n,this.socket.binaryType);this.onPacket(s)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,s={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const s=aO(n);return s.length?"?"+s:""}}const i0="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),nf=64,lO={};let ij=0,oc=0,oj;function lj(t){let n="";do n=i0[t%nf]+n,t=Math.floor(t/nf);while(t>0);return n}function o0(){const t=lj(+new Date);return t!==oj?(ij=0,oj=t):t+"."+lj(ij++)}for(;oc<nf;oc++)lO[i0[oc]]=oc;let l0=!1;try{l0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const cO=l0;function c0(t){const n=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||cO))return new XMLHttpRequest}catch{}if(!n)try{return new Ds[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function dO(){}const uO=function(){return new c0({xdomain:!1}).responseType!=null}();class hO extends Ym{constructor(n){if(super(n),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let a=location.port;a||(a=r?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||a!==n.port}const s=n&&n.forceBase64;this.supportsBinary=uO&&!s,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(n){this.readyState="pausing";const s=()=>{this.readyState="paused",n()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||s()})),this.writable||(r++,this.once("drain",function(){--r||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const s=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Q$(n,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,V$(n,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=o0()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(n,s)}request(n={}){return Object.assign(n,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new hr(this.uri(),n)}doWrite(n,s){const r=this.request({method:"POST",data:n});r.on("success",s),r.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(s,r)=>{this.onError("xhr poll error",s,r)}),this.pollXhr=n}}class hr extends hn{constructor(n,s){super(),Fd(this,s),this.opts=s,this.method=s.method||"GET",this.uri=n,this.data=s.data!==void 0?s.data:null,this.create()}create(){var n;const s=a0(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this.opts.xd;const r=this.xhr=new c0(s);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&r.setRequestHeader(a,this.opts.extraHeaders[a])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(n=this.opts.cookieJar)===null||n===void 0||n.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var a;r.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=hr.requestsCount++,hr.requests[this.index]=this)}onError(n){this.emitReserved("error",n,this.xhr),this.cleanup(!0)}cleanup(n){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=dO,n)try{this.xhr.abort()}catch{}typeof document<"u"&&delete hr.requests[this.index],this.xhr=null}}onLoad(){const n=this.xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}hr.requestsCount=0;hr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",cj);else if(typeof addEventListener=="function"){const t="onpagehide"in Ds?"pagehide":"unload";addEventListener(t,cj,!1)}}function cj(){for(let t in hr.requests)hr.requests.hasOwnProperty(t)&&hr.requests[t].abort()}const Wm=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,s)=>s(n,0))(),lc=Ds.WebSocket||Ds.MozWebSocket,dj=!0,fO="arraybuffer",uj=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class mO extends Ym{constructor(n){super(n),this.supportsBinary=!n.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const n=this.uri(),s=this.opts.protocols,r=uj?{}:a0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=dj&&!uj?s?new lc(n,s):new lc(n):new lc(n,s,r)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const r=n[s],a=s===n.length-1;Um(r,this.supportsBinary,i=>{const o={};try{dj&&this.ws.send(i)}catch{}a&&Wm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=o0()),this.supportsBinary||(s.b64=1),this.createUri(n,s)}check(){return!!lc}}class pO extends Ym{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(n=>{const s=X$(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=n.readable.pipeThrough(s).getReader(),a=J$();a.readable.pipeTo(n.writable),this.writer=a.writable.getWriter();const i=()=>{r.read().then(({done:l,value:d})=>{l||(this.onPacket(d),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const r=n[s],a=s===n.length-1;this.writer.write(r).then(()=>{a&&Wm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this.transport)===null||n===void 0||n.close()}}const xO={websocket:mO,webtransport:pO,polling:hO},jO=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,gO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function sf(t){const n=t,s=t.indexOf("["),r=t.indexOf("]");s!=-1&&r!=-1&&(t=t.substring(0,s)+t.substring(s,r).replace(/:/g,";")+t.substring(r,t.length));let a=jO.exec(t||""),i={},o=14;for(;o--;)i[gO[o]]=a[o]||"";return s!=-1&&r!=-1&&(i.source=n,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=yO(i,i.path),i.queryKey=vO(i,i.query),i}function yO(t,n){const s=/\/{2,9}/g,r=n.replace(s,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&r.splice(0,1),n.slice(-1)=="/"&&r.splice(r.length-1,1),r}function vO(t,n){const s={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,a,i){a&&(s[a]=i)}),s}let d0=class ui extends hn{constructor(n,s={}){super(),this.binaryType=fO,this.writeBuffer=[],n&&typeof n=="object"&&(s=n,n=null),n?(n=sf(n),s.hostname=n.host,s.secure=n.protocol==="https"||n.protocol==="wss",s.port=n.port,n.query&&(s.query=n.query)):s.host&&(s.hostname=sf(s.host).host),Fd(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=iO(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(n){const s=Object.assign({},this.opts.query);s.EIO=r0,s.transport=n,this.id&&(s.sid=this.id);const r=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new xO[n](r)}open(){let n;if(this.opts.rememberUpgrade&&ui.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)n="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else n=this.transports[0];this.readyState="opening";try{n=this.createTransport(n)}catch{this.transports.shift(),this.open();return}n.open(),this.setTransport(n)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(n){let s=this.createTransport(n),r=!1;ui.priorWebsocketSuccess=!1;const a=()=>{r||(s.send([{type:"ping",data:"probe"}]),s.once("packet",m=>{if(!r)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;ui.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const j=new Error("probe error");j.transport=s.name,this.emitReserved("upgradeError",j)}}))};function i(){r||(r=!0,u(),s.close(),s=null)}const o=m=>{const j=new Error("probe error: "+m);j.transport=s.name,i(),this.emitReserved("upgradeError",j)};function l(){o("transport closed")}function d(){o("socket closed")}function h(m){s&&m.name!==s.name&&i()}const u=()=>{s.removeListener("open",a),s.removeListener("error",o),s.removeListener("close",l),this.off("close",d),this.off("upgrading",h)};s.once("open",a),s.once("error",o),s.once("close",l),this.once("close",d),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{r||s.open()},200):s.open()}onOpen(){if(this.readyState="open",ui.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let n=0;const s=this.upgrades.length;for(;n<s;n++)this.probe(this.upgrades[n])}}onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),this.resetPingTimeout(),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=n.data,this.onError(s);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this.getWritablePackets();this.transport.send(n),this.prevBufferLen=n.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let r=0;r<this.writeBuffer.length;r++){const a=this.writeBuffer[r].data;if(a&&(s+=sO(a)),r>0&&s>this.maxPayload)return this.writeBuffer.slice(0,r);s+=2}return this.writeBuffer}write(n,s,r){return this.sendPacket("message",n,s,r),this}send(n,s,r){return this.sendPacket("message",n,s,r),this}sendPacket(n,s,r,a){if(typeof s=="function"&&(a=s,s=void 0),typeof r=="function"&&(a=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:n,data:s,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const n=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),n()},r=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():n()}):this.upgrading?r():n()),this}onError(n){ui.priorWebsocketSuccess=!1,this.emitReserved("error",n),this.onClose("transport error",n)}onClose(n,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",n,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(n){const s=[];let r=0;const a=n.length;for(;r<a;r++)~this.transports.indexOf(n[r])&&s.push(n[r]);return s}};d0.protocol=r0;function SO(t,n="",s){let r=t;s=s||typeof location<"u"&&location,t==null&&(t=s.protocol+"//"+s.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=s.protocol+t:t=s.host+t),/^(https?|wss?):\/\//.test(t)||(typeof s<"u"?t=s.protocol+"//"+t:t="https://"+t),r=sf(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+n,r.href=r.protocol+"://"+i+(s&&s.port===r.port?"":":"+r.port),r}const bO=typeof ArrayBuffer=="function",CO=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,u0=Object.prototype.toString,wO=typeof Blob=="function"||typeof Blob<"u"&&u0.call(Blob)==="[object BlobConstructor]",NO=typeof File=="function"||typeof File<"u"&&u0.call(File)==="[object FileConstructor]";function Vm(t){return bO&&(t instanceof ArrayBuffer||CO(t))||wO&&t instanceof Blob||NO&&t instanceof File}function Lc(t,n){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let s=0,r=t.length;s<r;s++)if(Lc(t[s]))return!0;return!1}if(Vm(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Lc(t.toJSON(),!0);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&Lc(t[s]))return!0;return!1}function kO(t){const n=[],s=t.data,r=t;return r.data=rf(s,n),r.attachments=n.length,{packet:r,buffers:n}}function rf(t,n){if(!t)return t;if(Vm(t)){const s={_placeholder:!0,num:n.length};return n.push(t),s}else if(Array.isArray(t)){const s=new Array(t.length);for(let r=0;r<t.length;r++)s[r]=rf(t[r],n);return s}else if(typeof t=="object"&&!(t instanceof Date)){const s={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=rf(t[r],n));return s}return t}function EO(t,n){return t.data=af(t.data,n),delete t.attachments,t}function af(t,n){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<n.length)return n[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=af(t[s],n);else if(typeof t=="object")for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=af(t[s],n));return t}const LO=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],DO=5;var nt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(nt||(nt={}));class $O{constructor(n){this.replacer=n}encode(n){return(n.type===nt.EVENT||n.type===nt.ACK)&&Lc(n)?this.encodeAsBinary({type:n.type===nt.EVENT?nt.BINARY_EVENT:nt.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let s=""+n.type;return(n.type===nt.BINARY_EVENT||n.type===nt.BINARY_ACK)&&(s+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(s+=n.nsp+","),n.id!=null&&(s+=n.id),n.data!=null&&(s+=JSON.stringify(n.data,this.replacer)),s}encodeAsBinary(n){const s=kO(n),r=this.encodeAsString(s.packet),a=s.buffers;return a.unshift(r),a}}function hj(t){return Object.prototype.toString.call(t)==="[object Object]"}class Qm extends hn{constructor(n){super(),this.reviver=n}add(n){let s;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(n);const r=s.type===nt.BINARY_EVENT;r||s.type===nt.BINARY_ACK?(s.type=r?nt.EVENT:nt.ACK,this.reconstructor=new OO(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Vm(n)||n.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(n),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let s=0;const r={type:Number(n.charAt(0))};if(nt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===nt.BINARY_EVENT||r.type===nt.BINARY_ACK){const i=s+1;for(;n.charAt(++s)!=="-"&&s!=n.length;);const o=n.substring(i,s);if(o!=Number(o)||n.charAt(s)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(n.charAt(s+1)==="/"){const i=s+1;for(;++s&&!(n.charAt(s)===","||s===n.length););r.nsp=n.substring(i,s)}else r.nsp="/";const a=n.charAt(s+1);if(a!==""&&Number(a)==a){const i=s+1;for(;++s;){const o=n.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===n.length)break}r.id=Number(n.substring(i,s+1))}if(n.charAt(++s)){const i=this.tryParse(n.substr(s));if(Qm.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,s){switch(n){case nt.CONNECT:return hj(s);case nt.DISCONNECT:return s===void 0;case nt.CONNECT_ERROR:return typeof s=="string"||hj(s);case nt.EVENT:case nt.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&LO.indexOf(s[0])===-1);case nt.ACK:case nt.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class OO{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const s=EO(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const TO=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Qm,Encoder:$O,get PacketType(){return nt},protocol:DO},Symbol.toStringTag,{value:"Module"}));function Vs(t,n,s){return t.on(n,s),function(){t.off(n,s)}}const AO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class h0 extends hn{constructor(n,s,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=s,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[Vs(n,"open",this.onopen.bind(this)),Vs(n,"packet",this.onpacket.bind(this)),Vs(n,"error",this.onerror.bind(this)),Vs(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...s){if(AO.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(s.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const r={type:nt.EVENT,data:s};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const o=this.ids++,l=s.pop();this._registerAckCallback(o,l),r.id=o}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(n,s){var r;const a=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(a===void 0){this.acks[n]=s;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===n&&this.sendBuffer.splice(o,1);s.call(this,new Error("operation has timed out"))},a);this.acks[n]=(...o)=>{this.io.clearTimeoutFn(i),s.apply(this,[null,...o])}}emitWithAck(n,...s){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,i)=>{s.push((o,l)=>r?o?i(o):a(l):a(o)),this.emit(n,...s)})}_addToQueue(n){let s;typeof n[n.length-1]=="function"&&(s=n.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((a,...i)=>r!==this._queue[0]?void 0:(a!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(a)):(this._queue.shift(),s&&s(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!n||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:nt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,s)}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case nt.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case nt.EVENT:case nt.BINARY_EVENT:this.onevent(n);break;case nt.ACK:case nt.BINARY_ACK:this.onack(n);break;case nt.DISCONNECT:this.ondisconnect();break;case nt.CONNECT_ERROR:this.destroy();const r=new Error(n.data.message);r.data=n.data.data,this.emitReserved("connect_error",r);break}}onevent(n){const s=n.data||[];n.id!=null&&s.push(this.ack(n.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const r of s)r.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const s=this;let r=!1;return function(...a){r||(r=!0,s.packet({type:nt.ACK,id:n,data:a}))}}onack(n){const s=this.acks[n.id];typeof s=="function"&&(s.apply(this,n.data),delete this.acks[n.id])}onconnect(n,s){this.id=n,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:nt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const s=this._anyListeners;for(let r=0;r<s.length;r++)if(n===s[r])return s.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const s=this._anyOutgoingListeners;for(let r=0;r<s.length;r++)if(n===s[r])return s.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const r of s)r.apply(this,n.data)}}}function so(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}so.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),s=Math.floor(n*this.jitter*t);t=Math.floor(n*10)&1?t+s:t-s}return Math.min(t,this.max)|0};so.prototype.reset=function(){this.attempts=0};so.prototype.setMin=function(t){this.ms=t};so.prototype.setMax=function(t){this.max=t};so.prototype.setJitter=function(t){this.jitter=t};class of extends hn{constructor(n,s){var r;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(s=n,n=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Fd(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((r=s.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new so({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=n;const a=s.parser||TO;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var s;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(s=this.backoff)===null||s===void 0||s.setMin(n),this)}randomizationFactor(n){var s;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(s=this.backoff)===null||s===void 0||s.setJitter(n),this)}reconnectionDelayMax(n){var s;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(s=this.backoff)===null||s===void 0||s.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new d0(this.uri,this.opts);const s=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const a=Vs(s,"open",function(){r.onopen(),n&&n()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),n?n(l):this.maybeReconnectOnOpen()},o=Vs(s,"error",i);if(this._timeout!==!1){const l=this._timeout,d=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),s.close()},l);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(a),this.subs.push(o),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(Vs(n,"ping",this.onping.bind(this)),Vs(n,"data",this.ondata.bind(this)),Vs(n,"error",this.onerror.bind(this)),Vs(n,"close",this.onclose.bind(this)),Vs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(s){this.onclose("parse error",s)}}ondecoded(n){Wm(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,s){let r=this.nsps[n];return r?this._autoConnect&&!r.active&&r.connect():(r=new h0(this,n,s),this.nsps[n]=r),r}_destroy(n){const s=Object.keys(this.nsps);for(const r of s)if(this.nsps[r].active)return;this._close()}_packet(n){const s=this.encoder.encode(n);for(let r=0;r<s.length;r++)this.engine.write(s[r],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(n,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(a=>{a?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",a)):n.onreconnect()}))},s);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const $o={};function En(t,n){typeof t=="object"&&(n=t,t=void 0),n=n||{};const s=SO(t,n.path||"/socket.io"),r=s.source,a=s.id,i=s.path,o=$o[a]&&i in $o[a].nsps,l=n.forceNew||n["force new connection"]||n.multiplex===!1||o;let d;return l?d=new of(r,n):($o[a]||($o[a]=new of(r,n)),d=$o[a]),s.query&&!n.query&&(n.query=s.queryKey),d.socket(s.path,n)}Object.assign(En,{Manager:of,Socket:h0,io:En,connect:En});const mt="https://yussman.net/",Md=`${mt}api`,Ou=`${mt}api/goat`,Ot=`${mt}api/restaurant`,fn=`${mt}api/store`,dn=`${mt}api/register`,pr=`${mt}api/employee`,Lt=`${mt}api/shopa1`,Dt=`${mt}api/shopa2`,$t=`${mt}api/shopb`,Rt=`${mt}api/shopc`,Wt=`${mt}api/shopw`,ro=`${mt}api/credit`,Ct=`${mt}api/chinsali/restaurant`,mn=`${mt}api/chinsali/store`,un=`${mt}api/chinsali/register`,Jm=c.createContext(),BO=(t,n)=>{switch(n.type){case"SET_SUPPLIERS":return{suppliers:n.payload};default:return t}},_O=({children:t})=>{const[n,s]=c.useReducer(BO,{suppliers:null});return c.useEffect(()=>{En(mt).on("suppliers",a=>{s({type:"SET_SUPPLIERS",payload:a})})},[]),e.jsx(Jm.Provider,{value:[n.suppliers,s],children:t})};function ze(t){return to({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]})(t)}function RO({id:t,handleDelete:n}){const[s,r]=c.useState(!1),a=()=>r(!1),i=()=>r(!0),o=eo();return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:i,children:e.jsx(ze,{})}),e.jsxs(g,{show:s,onHide:a,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",onClick:()=>{n(t),a(),o("/goat")},children:"Yes"})]})]})]})}function IO({amount:t,id:n,handleUpdate:s,name:r}){const{user:a}=c.useContext(he),[i,o]=c.useState(!1),[l,d]=c.useState(""),[h,u]=c.useState(a.firstName),m=eo(),j=()=>o(!1),y=()=>o(!0),f=x=>{x.preventDefault(),s(n,{collectionDate:l,paidBy:h,paid:!0}),m("/goat")};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"primary",onClick:y,children:"Pay"}),e.jsxs(g,{show:i,onHide:j,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:r})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:x=>f(x),children:[e.jsxs(g.Title,{children:["K ",t]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Collection Date"}),e.jsx(p.Control,{required:!0,type:"date",value:l,onChange:x=>d(x.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Paid By"}),e.jsx(p.Control,{autoFocus:!0,required:!0,type:"text",value:a.firstName,readOnly:!0,onChange:x=>u(x.target.value)})]}),e.jsx(D,{type:"submit",children:"Pay"})]})})]})]})}const PO=({handleDelete:t,handleUpdate:n})=>{const[s,r]=c.useState({}),[a,i]=c.useState(0),[o,l]=c.useState(0),[d,h]=c.useState(!0),[u]=c.useContext(Jm),{user:m}=c.useContext(he);let{id:j}=is();c.useEffect(()=>{y(j)},[j]),c.useEffect(()=>{d||i(s.kgs.map(f=>f<20?f*15:f*25).reduce((f,x)=>f+x)),d||l(s.kgs.reduce((f,x)=>f+x))},[d,s]);const y=f=>{u!==null&&u.map(x=>{x._id===f&&(r(x),h(!1))})};if(u!==null)return e.jsxs("div",{children:[e.jsx(Me,{to:"/goat",children:e.jsxs(D,{variant:"outline-secondary m-3",children:[e.jsx(pL,{}),"Back"]})}),d?e.jsx("div",{className:"text-center mt-5 pt-5",children:e.jsx(Sb,{variant:"light",className:"text-center",style:{width:"8rem",height:"8rem"}})}):e.jsx(te,{className:"mt-2",children:e.jsxs(Fn,{children:[e.jsx(Fn.Header,{as:"h2",children:s.name}),e.jsxs(Fn.Body,{children:[e.jsxs(Fn.Title,{children:["Total KGs : ",o]}),e.jsxs(Fn.Title,{children:["Total Amount : K ",a.toLocaleString()," "]}),e.jsxs(Fn.Text,{children:["Date : ",s.date]}),e.jsxs(Fn.Text,{children:["Collection Date : ",s.collectionDate]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx(IO,{id:j,amount:a,handleUpdate:n,name:s.name}),m!==null&&m.role==="admin"&&e.jsx(RO,{id:j,handleDelete:t})]})]})]})})]})};function ct(t){return to({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m7 17.013 4.413-.015 9.632-9.54c.378-.378.586-.88.586-1.414s-.208-1.036-.586-1.414l-1.586-1.586c-.756-.756-2.075-.752-2.825-.003L7 12.583v4.43zM18.045 4.458l1.589 1.583-1.597 1.582-1.586-1.585 1.594-1.58zM9 13.417l6.03-5.973 1.586 1.586-6.029 5.971L9 15.006v-1.589z"}},{tag:"path",attr:{d:"M5 21h14c1.103 0 2-.897 2-2v-8.668l-2 2V19H8.158c-.026 0-.053.01-.079.01-.033 0-.066-.009-.1-.01H5V5h6.847l2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2z"}}]})(t)}const FO=()=>{const[t,n]=c.useState("home"),[s,r]=c.useState([]),[a,i]=c.useState([]),[o,l]=c.useState(0),[d]=c.useContext(Jm);c.useEffect(()=>{document.title="Yussman - Goat"},[]),c.useEffect(()=>{d!==null&&r(d.map(j=>({...j,amount:j.kgs.map(y=>y<20?y*15:y*25)})))},[d]),c.useEffect(()=>{const j=s.map(y=>({...y,date:y.date=new Date(y.date)}));j.sort((y,f)=>f.date-y.date),j.map(y=>{const f=new Date(y.date);let x=f.getDate(),S=f.getMonth()+1;const N=f.getFullYear();x<10&&(x="0"+x),S<10&&(S="0"+S),y.date=`${N}-${S}-${x}`}),i(j)},[s]);async function h(j){T.post(Ou,j).then(()=>{})}const u=j=>{T.delete(Ou+"/"+j).then(()=>{}).catch(y=>{console.log(y.message),alert("Supplier nolonger exists")})},m=(j,y)=>{T.patch(Ou+"/"+j,y).then(()=>{}).catch(f=>{console.log(f.message),alert("Supplier nolonger exists")})};return c.useEffect(()=>{let j=0;s.map(y=>{y.paid===!1&&(j+=y.amount.reduce((f,x)=>f+x))}),l(j)},[s]),d===null?e.jsx("div",{className:"text-center mt-5 pt-5",children:e.jsx(Sb,{variant:"light",className:"text-center",style:{width:"8rem",height:"8rem"}})}):e.jsx("div",{children:e.jsxs(te,{className:"py-2",fluid:!0,children:[e.jsx(q$,{createNew:h,total:o}),e.jsxs(bS,{children:[e.jsx(st,{path:"/",element:e.jsxs(Ft,{id:"controlled-tab-example",activeKey:t,onSelect:j=>n(j),className:"mb-3",children:[e.jsx(X,{eventKey:"home",title:"Home",children:e.jsxs(ee,{size:"sm",bordered:!0,className:"text-center text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"KGs"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Collection"}),e.jsx("th",{})]})}),e.jsx("tbody",{className:"table-group-divider",children:a.map(j=>j.paid===!1&&e.jsxs("tr",{children:[e.jsx("td",{children:j.date}),e.jsx("td",{children:j.name}),e.jsxs("td",{children:[a.length>0?j.kgs.reduce((y,f)=>y+f):"","Kgs"]}),e.jsxs("td",{children:["K",a.length>0?j.amount.reduce((y,f)=>y+f).toLocaleString():""]}),e.jsx("td",{children:j.collectionDate}),e.jsx("td",{children:e.jsx(Me,{to:`/goat/details/${j._id}`,children:e.jsx(D,{variant:"outline-secondary",size:"sm",children:e.jsx(ct,{})})})})]},j._id))})]})}),e.jsx(X,{eventKey:"paid",title:"Paid",children:e.jsxs(ee,{size:"sm",bordered:!0,className:"text-center text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"KGs"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Collection"}),e.jsx("th",{children:"Paid By"})]})}),e.jsx("tbody",{className:"table-group-divider",children:a.map(j=>j.paid===!0&&e.jsxs("tr",{children:[e.jsx("td",{children:j.date}),e.jsx("td",{children:j.name}),e.jsx("td",{children:j>1?"":j.kgs.reduce((y,f)=>y+f)}),e.jsxs("td",{children:["K",j>1?"":j.amount.reduce((y,f)=>y+f).toLocaleString()]}),e.jsx("td",{children:j.collectionDate}),e.jsx("td",{children:j.paidBy})]},j._id))})]})})]})}),e.jsx(st,{path:"/details/:id",element:e.jsx(PO,{handleDelete:u,handleUpdate:m})})]})]})})};function MO({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(!1),[h,u]=c.useState(!1),m=()=>u(!1),j=()=>u(!0),y=()=>{s(""),a(""),o("")},f=x=>{x.preventDefault(),d(!0);const S={name:n.trim(),price:Number(r),section:i};T.post(`${Ot}/${t}/addtostock`,S).then(()=>{y(),m(),d(!1)}).catch(N=>{console.log(N),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:j,children:"New Product"}),e.jsxs(g,{show:h,onHide:()=>{m(),y()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:f,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:x=>s(x.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:x=>a(x.target.value)})]}),e.jsx(p.Label,{children:"Section"}),e.jsxs(p.Select,{className:"mb-3",required:!0,value:i,onChange:x=>o(x.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select section"}),e.jsx("option",{value:"drinks",children:"Drinks"}),e.jsx("option",{value:"food",children:"Food"}),e.jsx("option",{value:"bakery",children:"Bakery"})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:l,children:l?"Loading...":"Submit"})]})})]})]})}function Tu({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Ot}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex mx-2  justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}function Au({id:t,stock:n}){const[s,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState(!1);c.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[d,h]=c.useState(!1),u=()=>h(!1),m=()=>h(!0),j=()=>{r(""),i("")},y=f=>{f.preventDefault(),l(!0);const x={price:Number(s),name:a};T.post(`${Ot}/${t}/editname/${n._id}`,x).then(()=>{j(),u(),l(!1)}).catch(S=>{console.error(S),l(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:m,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:d,onHide:()=>{u()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:y,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}const Xa=c.createContext(),zO=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},HO=({children:t})=>{const[n,s]=c.useReducer(zO,{shift:null}),[r,a]=c.useState({});c.useEffect(()=>{T.get(Ot).then(o=>{i(o.data)})},[]),c.useEffect(()=>{const o=En(mt);return o.on("restaurant",l=>{s({type:"SET_SHIFT",payload:l})}),()=>{o.disconnect()}},[]);const i=o=>{if(o!==null){const l={};o.received&&Array.isArray(o.received)&&o.received.forEach(h=>{const u=h.code,m=h.amount;l[u]===void 0?l[u]=m:l[u]+=m});const d={...o,stock:o.stock.map(h=>{const u=h.code;return l[u]!==void 0?{...h,received:l[u]}:h})};d.stock.sort((h,u)=>h.name.localeCompare(u.name)),a(d)}};return c.useEffect(()=>{i(n.shift)},[n.shift]),e.jsx(Xa.Provider,{value:{shift:r,dispatch:s},children:t})},Bu="deletestock";function KO(){const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,i]=c.useState([]),[o,l]=c.useState(0),[d,h]=c.useState(0),[u,m]=c.useState(0),[j,y]=c.useState(null),[f,x]=c.useState(""),[S,N]=c.useState(""),[b,E]=c.useState(""),[v,k]=c.useState(!1),$=c.useRef(null),{shift:C}=c.useContext(Xa),{user:w}=c.useContext(he),A=L=>L.reduce((R,G)=>R+(G.ostock+G.received-G.damage-G.cstock)*G.price,0);c.useEffect(()=>{if(Object.keys(C).length!==0){const L=C.stock.filter(Z=>Z.section==="drinks"),R=C.stock.filter(Z=>Z.section==="food"),G=C.stock.filter(Z=>Z.section==="bakery");n(L),r(R),i(G),l(A(L)),h(A(R)),m(A(G))}},[C]),c.useEffect(()=>{$.current&&($.current.focus(),$.current.select())},[j]);const B=L=>{y(L);let R=t.find(G=>G._id===L);R||(R=s.find(G=>G._id===L)),R||(R=a.find(G=>G._id===L)),x(R.ostock.toString()),N(R.damage.toString()),E(R.cstock.toString())},H=(L,R)=>{if(L.preventDefault(),!R)return;if(!R||f<0||S<0||b<0){alert("Please ensure all values are non-negative.");return}k(!0);const G={ostock:Number(f),damage:Number(S),cstock:Number(b)};T.post(`${Ot}/${C._id}/editstock/${R}`,G).then(()=>{k(!1),x(""),N(""),E("");const Z=[...t,...s,...a],ne=Z.findIndex(M=>M._id===R);if(ne!==-1&&ne<Z.length-1){const M=Z[ne+1];y(M._id),x(M.ostock.toString()),N(M.damage.toString()),E(M.cstock.toString())}else y(null)}).catch(Z=>{console.log(Z),k(!1)})},I=()=>{y(null),x(""),N(""),E(""),k(!1)};return C===null?null:e.jsxs(p,{onSubmit:L=>H(L,j),children:[w!==null&&w.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(MO,{id:C._id})}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),e.jsx("th",{style:{width:"8rem"},children:"Actions"})]})}),e.jsxs("tbody",{children:[t.map(L=>e.jsxs("tr",{id:L.code,children:[e.jsx("td",{children:L.code}),e.jsx("td",{className:"text-capitalize",children:L.name}),e.jsxs("td",{children:["K",L.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:j===L._id?e.jsx(p.Control,{type:"number",size:"sm",readOnly:w.role!=="admin",value:f,className:"text-center",onChange:R=>x(R.target.value)}):L.ostock}),e.jsx("td",{className:L.received>0?"text-info":"",children:L.received}),e.jsx("td",{style:{width:"8rem"},children:j===L._id?e.jsx(p.Control,{type:"number",size:"sm",value:S,className:"text-center",onChange:R=>N(R.target.value)}):L.damage}),e.jsx("td",{style:{width:"8rem"},className:L.cstock<0?"text-danger":"",children:j===L._id?e.jsx(p.Control,{ref:$,type:"number",size:"sm",autoFocus:!0,value:b,className:"text-center",onChange:R=>E(R.target.value)}):L.cstock}),e.jsxs("td",{className:L.ostock+L.received-L.damage-L.cstock<0?"text-danger":L.ostock+L.received-L.damage-L.cstock===0?"text-muted":"",children:["K",((L.ostock+L.received-L.damage-L.cstock)*L.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:j===L._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(D,{size:"sm",disabled:v,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(D,{size:"sm",variant:"outline-danger",onClick:()=>I(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"sm",variant:"outline-secondary",onClick:()=>B(L._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),w!==null&&w.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Tu,{endpoint:Bu,id:L._id,shiftId:C._id}),e.jsx(Au,{stock:L,id:C._id})]})]})})]},L.code)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:7,children:"Drinks Total"}),e.jsxs("td",{children:["K",o.toLocaleString()]}),e.jsx("td",{})]})]}),e.jsxs("tbody",{className:"table-group-divider",children:[s.map(L=>e.jsxs("tr",{id:L.code,children:[e.jsx("td",{children:L.code}),e.jsx("td",{className:"text-capitalize",children:L.name}),e.jsxs("td",{children:["K",L.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:j===L._id?e.jsx(p.Control,{type:"number",size:"sm",readOnly:w.role!=="admin",value:f,className:"text-center",onChange:R=>x(R.target.value)}):L.ostock}),e.jsx("td",{className:L.received>0?"text-info":"",children:L.received}),e.jsx("td",{style:{width:"8rem"},children:j===L._id?e.jsx(p.Control,{type:"number",size:"sm",value:S,className:"text-center",onChange:R=>N(R.target.value)}):L.damage}),e.jsx("td",{style:{width:"8rem"},className:L.cstock<0?"text-danger":"",children:j===L._id?e.jsx(p.Control,{ref:$,type:"number",size:"sm",autoFocus:!0,value:b,className:"text-center",onChange:R=>E(R.target.value)}):L.cstock}),e.jsxs("td",{className:L.ostock+L.received-L.damage-L.cstock<0?"text-danger":L.ostock+L.received-L.damage-L.cstock===0?"text-muted":"",children:["K",((L.ostock+L.received-L.damage-L.cstock)*L.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:j===L._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(D,{size:"sm",disabled:v,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(D,{size:"sm",variant:"outline-danger",onClick:()=>I(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"sm",variant:"outline-secondary",onClick:()=>B(L._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),w!==null&&w.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Tu,{endpoint:Bu,id:L._id,shiftId:C._id}),e.jsx(Au,{stock:L,id:C._id})]})]})})]},L.code)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:7,children:"Food Total"}),e.jsxs("td",{children:["K",d.toLocaleString()]}),e.jsx("td",{})]})]}),e.jsxs("tbody",{className:"table-group-divider",children:[a.map(L=>e.jsxs("tr",{id:L.code,children:[e.jsx("td",{children:L.code}),e.jsx("td",{className:"text-capitalize",children:L.name}),e.jsxs("td",{children:["K",L.price>0&&L.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:j===L._id?e.jsx(p.Control,{type:"number",size:"sm",readOnly:w.role!=="admin",value:f,className:"text-center",onChange:R=>x(R.target.value)}):L.ostock}),e.jsx("td",{className:L.received>0?"text-info":"",children:L.received}),e.jsx("td",{style:{width:"8rem"},children:j===L._id?e.jsx(p.Control,{type:"number",size:"sm",value:S,className:"text-center",onChange:R=>N(R.target.value)}):L.damage}),e.jsx("td",{style:{width:"8rem"},className:L.cstock<0?"text-danger":"",children:j===L._id?e.jsx(p.Control,{ref:$,type:"number",size:"sm",autoFocus:!0,value:b,className:"text-center",onChange:R=>E(R.target.value)}):L.cstock}),e.jsxs("td",{className:L.ostock+L.received-L.damage-L.cstock<0?"text-danger":L.ostock+L.received-L.damage-L.cstock===0?"text-muted":"",children:["K",L.code>0&&((L.ostock+L.received-L.damage-L.cstock)*L.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:j===L._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(D,{size:"sm",disabled:v,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(D,{size:"sm",variant:"outline-danger",onClick:()=>I(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"sm",variant:"outline-secondary",onClick:()=>B(L._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),w!==null&&w.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Tu,{endpoint:Bu,id:L._id,shiftId:C._id}),e.jsx(Au,{stock:L,id:C._id})]})]})})]},L.code)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:7,children:"Bakery Total"}),e.jsxs("td",{children:["K",u.toLocaleString()]}),e.jsx("td",{})]})]})]})]})}function qO({show:t,handleClose:n,result:s,id:r}){const[a,i]=c.useState({code:"",name:"",amount:""}),[o,l]=c.useState(!1);c.useEffect(()=>{s&&i({code:s.code,name:s.name,amount:""})},[s]);const d=j=>{const{name:y,value:f}=j.target;i(x=>({...x,[y]:f}))},u=UO(()=>{o||(l(!0),T.post(`${Ot}/${r}/addtoreceived`,a).then(()=>{n(),l(!1)}).catch(j=>{console.log(j),l(!1)}))},200),m=j=>{j.preventDefault(),u()};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:n,hidden:!0}),e.jsxs(g,{show:t,onHide:n,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Received"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:m,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Code"}),e.jsx(p.Control,{type:"number",autoComplete:"off",name:"code",value:a.code,onChange:d,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",name:"name",value:a.name,onChange:d,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Quantity"}),e.jsx(p.Control,{autoFocus:!0,type:"number",autoComplete:"off",name:"amount",value:a.amount,onChange:d,required:!0})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}function UO(t,n){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{t(...r)},n)}}function ld({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Ot}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}const GO="deletereceived";function YO({activeTab:t}){const[n,s]=c.useState([]),[r,a]=c.useState([]),[i,o]=c.useState([]),[l,d]=c.useState(!1),[h,u]=c.useState(null),[m,j]=c.useState(""),[y,f]=c.useState(!1),[x,S]=c.useState(-1),{shift:N}=c.useContext(Xa);c.useEffect(()=>{Object.keys(N).length!==0&&(s(N.received),a(N.stock),o(N.stock),f(!0))},[N]),c.useEffect(()=>{const C=w=>{const A=document.getElementById("searchInput"),B=document.getElementById("resultsList");A&&B&&!A.contains(w.target)&&!B.contains(w.target)&&d(!1)};return document.addEventListener("click",C),()=>{document.removeEventListener("click",C)}},[]);const b=C=>{const w=C.target.value.toLowerCase(),A=r.filter(B=>B.name.toLowerCase().includes(w)||B.code.toString().includes(w));o(A),d(!0),S(-1),d(!!w)},E=C=>{C.key==="ArrowDown"&&x<i.length-1?S(x+1):C.key==="ArrowUp"&&x>0?S(x-1):C.key==="Enter"&&x>=0&&(C.preventDefault(),v(i[x]))},v=C=>{u(C),d(!1),S(-1)},k=()=>{u(null),j(""),f(!0)},$=c.useCallback(()=>{const C=document.getElementById("searchInput");t==="received"&&C&&C.focus(),y&&t==="received"&&C&&(C.focus(),f(!1))},[t,y]);return c.useEffect(()=>{$()},[t,$]),c.useEffect(()=>{$()},[t,y,$]),e.jsxs(te,{children:[e.jsx("div",{className:"w-50",children:e.jsxs(p,{onSubmit:C=>C.preventDefault(),children:[e.jsxs(Ja,{className:"mb-3",children:[e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,placeholder:"Code",name:"search",id:"searchInput",onChange:C=>{b(C),j(C.target.value)},onKeyDown:E,value:m}),e.jsx(qO,{show:h!==null,result:h,handleClose:k,id:N._id})]}),l&&e.jsx("ul",{id:"resultsList",className:"list-group",style:{position:"absolute",zIndex:1,width:"50%",cursor:"pointer"},children:i.map((C,w)=>e.jsxs("li",{className:`list-group-item text-capitalize ${w===x?"active":""}`,onClick:()=>v(C),children:[C.code," - ",C.name]},C.code))})]})}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:n.map(C=>e.jsxs("tr",{id:C._id,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsx("td",{children:C.amount}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(ld,{endpoint:GO,id:C._id,shiftId:N._id})})]},C._id))})]})]})}function WO({shift:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(!1),h=()=>s(!1),u=()=>s(!0),m=async j=>{j.preventDefault(),d(!0),await T.post(`${Ot}/${t._id}/addtocredit`,{description:r,amount:i}).then(()=>{a(""),o(""),h(),d(!1)}).catch(y=>{console.log(y),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:u,children:"New"}),e.jsxs(g,{show:n,onHide:()=>{h(),a(""),o("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Credit"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j=>m(j),children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Description"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:j=>o(j.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:l,children:l?"Loading...":"Submit"})]})})]})]})}const VO="deletecredit";function QO(){const[t,n]=c.useState([]),{shift:s}=c.useContext(Xa);return c.useEffect(()=>{Object.keys(s).length!==0&&n(s.credit)},[s]),e.jsxs(te,{children:[e.jsx("div",{className:"d-flex justify-content-between py-2",children:e.jsx(WO,{shift:s})}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(r=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:r.description}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(ld,{endpoint:VO,id:r._id,shiftId:s._id})})]},Math.floor(Math.random()*1e5)))})]})]})}function JO({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(""),[h,u]=c.useState(!1),[m,j]=c.useState(!1),y=()=>j(!1),f=()=>j(!0),x=S=>{S.preventDefault(),u(!0);const N={name:n,driver:r,status:i,amount:l};T.post(`${Ot}/${t}/addtobus`,N).then(()=>{s(""),a(""),o(""),d(""),u(!1)}).catch(b=>{console.log(b),u(!1)}),y()};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:f,size:"sm",children:"New"}),e.jsxs(g,{show:m,onHide:y,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Bus"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:S=>x(S),children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Bus Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:S=>s(S.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Driver"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,value:r,onChange:S=>a(S.target.value)})]}),e.jsx(p.Label,{children:"Status"}),e.jsxs(p.Select,{className:"mb-3",value:i,onChange:S=>{o(S.target.value)},required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select an option"}),e.jsx("option",{value:"collected",children:"Collected"}),e.jsx("option",{value:"not collected",children:"Not Collected"})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:l,onChange:S=>d(S.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:h,children:h?"Loading...":"Submit"})]})})]})]})}function XO({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(!1),[l,d]=c.useState(!1),h=()=>d(!1),u=()=>d(!0),m=j=>{j.preventDefault(),o(!0);const y={name:n,amount:r};T.post(`${Ot}/${t}/addtotopup`,y).then(()=>{s(""),a(""),o(!1)}).catch(f=>{console.log(f),o(!1)}),h()};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:u,size:"sm",children:"New"}),e.jsxs(g,{show:l,onHide:h,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Topup"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j=>m(j),children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:j=>s(j.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}const ZO="deletebus",eT="deletetopup";function tT(){const[t,n]=c.useState([]),[s,r]=c.useState([]),{shift:a}=c.useContext(Xa);return c.useEffect(()=>{Object.keys(a).length!==0&&n(a.bus)},[a]),c.useEffect(()=>{Object.keys(a).length!==0&&r(a.topup)},[a]),e.jsx(te,{children:e.jsxs(Ne,{children:[e.jsxs(Y,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Busses"}),e.jsxs("h5",{children:["C Total: K"," ",t.reduce((i,o)=>o.status==="collected"?i+o.amount:i,0)]}),e.jsxs("h5",{children:["Not C Total: K"," ",t.reduce((i,o)=>o.status==="not collected"?i+o.amount:i,0)]}),e.jsx(JO,{id:a._id})]}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Driver"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(i=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:i.name}),e.jsx("td",{className:"text-capitalize",children:i.driver}),e.jsx("td",{className:"text-capitalize",children:i.status}),e.jsxs("td",{children:["K",i.amount]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(ld,{endpoint:ZO,id:i._id,shiftId:a._id})})]},Math.floor(Math.random()*1e5)))})]})]}),e.jsxs(Y,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Topup"}),e.jsxs("h5",{children:["Total: K ",s.reduce((i,o)=>i+o.amount,0)]}),e.jsx(XO,{id:a._id})]}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.map(i=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:i.name}),e.jsxs("td",{children:["K",i.amount]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(ld,{endpoint:eT,id:i._id,shiftId:a._id})})]},Math.floor(Math.random()*1e5)))})]})]})]})})}function nT({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Ot}/${t}/addtocash`,{amount:n}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:d,size:"sm",children:"New"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function sT({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${Ot}/${t}/addtochange`,{amount:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:d,size:"sm",children:"New"}),e.jsxs(g,{show:i,onHide:l,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Change"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",autoFocus:!0,required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function fj({endpoint:t,id:n,amount:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Ot}/${n}/${t}/${s}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}const rT="deletecash",aT="deletechange";function iT(){const[t,n]=c.useState([]),[s,r]=c.useState([]),{shift:a}=c.useContext(Xa),{user:i}=c.useContext(he);return c.useEffect(()=>{Object.keys(a).length!==0&&(n(a.cash),r(a.change))},[a]),e.jsx(te,{children:e.jsxs(Ne,{children:[e.jsx(Y,{children:i!==null&&i.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Cash"}),e.jsxs("h5",{children:["Total: K ",t.reduce((o,l)=>o+l,0).toLocaleString()]}),e.jsx(nT,{id:a._id})]}),e.jsx(Fn,{children:e.jsx(et,{variant:"flush",children:t.map(o=>e.jsxs(et.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",o.toLocaleString(),e.jsx(fj,{endpoint:rT,id:a._id,amount:o})]},Math.floor(Math.random()*1e5)))})})]})}),e.jsxs(Y,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Change"}),e.jsxs("h5",{children:["Total: K ",s.reduce((o,l)=>o+l,0).toLocaleString()]}),e.jsx(sT,{id:a._id})]}),e.jsx(Fn,{children:e.jsx(et,{variant:"flush",children:s.map(o=>e.jsxs(et.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",o.toLocaleString(),e.jsx(fj,{endpoint:aT,id:a._id,amount:o})]},Math.floor(Math.random()*1e5)))})})]})]})})}function oT({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Ot}/${t}/addcashier`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function lT({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Ot}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function cT(){const[t,n]=c.useState(!1),[s,r]=c.useState(!1),a=()=>n(!1),i=()=>n(!0),o=l=>{l.preventDefault(),r(!0),T.post(`${Ot}/newshift`).then(()=>{a(),r(!1)}).catch(d=>{console.log(d),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(D,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(D,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading...":"Yes"})]})]})]})}function dT({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${Ot}/${t}/addshift`,{shift:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Shift"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsxs(p.Select,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Shift"}),e.jsx("option",{value:"day",children:"Day"}),e.jsx("option",{value:"night",children:"Night"})]})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function uT({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${Ot}/${t}/adddate`,{date:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function hT(){const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,i]=c.useState(!0),{shift:o}=c.useContext(Xa),{user:l}=c.useContext(he);let d=0,h=0,u=0;if(o!=null&&Object.keys(o).length>0){d=o.bus.filter(N=>N.status==="collected").reduce((N,b)=>N+b.amount,0),h=o.bus.filter(N=>N.status==="not collected").reduce((N,b)=>N+b.amount,0);const S=N=>(N.ostock+N.received-N.damage-N.cstock)*N.price;u=o.stock.reduce((N,b)=>N+S(b),0)}const m=c.useCallback(()=>{if(o!=null&&Object.keys(o).length>0){const S=o.cashier.length,N=o.acountant.length,b=o.date.length,E=o.shift.length,v=o.cash.reduce((k,$)=>k+$,0);S>0&&N>0&&b>0&&E>0&&v>0?i(!1):i(!0)}},[o]);c.useEffect(()=>{if(o!=null&&Object.keys(o).length>0){n(o.cash.reduce((b,E)=>b+E,0)+d+o.credit.reduce((b,E)=>b+E.amount,0)-o.change.reduce((b,E)=>b+E,0)-u);const S=[10082,10083,10084,10081,10098],N=o.stock.filter(b=>S.includes(b.code));r(N)}m()},[o,d,u,m]);const j=S=>{T.post(`${Ot}/${o._id}/removecashier`,{name:S.toLowerCase()}).then(()=>{m()})},y=()=>{T.post(`${Ot}/${o._id}/removeaccountant`).then(()=>{m()})},f=()=>{T.post(`${Ot}/${o._id}/deleteshift`).then(()=>{m()})},x=()=>{T.post(`${Ot}/${o._id}/deletedate`).then(()=>{m()})};return e.jsxs(te,{children:[o!=null&&Object.keys(o).length!==0&&e.jsxs(Ne,{className:"mx-1",children:[e.jsxs(Y,{className:"d-flex flex-column align-items-center border pt-3 me-1 ",children:[e.jsxs("p",{children:["Bus Not Collected: K",h.toLocaleString()]}),e.jsxs("p",{children:["Topup Total : K",o.topup.reduce((S,N)=>S+N.amount,0).toLocaleString()]}),e.jsx("hr",{className:" w-100 "}),!a&&l!==null&&l.role==="admin"&&e.jsxs("p",{children:["Cash : K",o.cash.reduce((S,N)=>S+N,0).toLocaleString()]}),e.jsxs("p",{children:["Change : K",o.change.reduce((S,N)=>S+N,0)]}),e.jsxs("p",{children:["Bus Collected: K",d.toLocaleString()]}),e.jsxs("p",{children:["Credit: K",o.credit.reduce((S,N)=>S+N.amount,0).toLocaleString()]}),l!==null&&l.role==="admin"&&e.jsxs("p",{children:["Sales Total : K",u.toLocaleString()]}),l!==null&&l.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:" w-100 "}),e.jsxs("p",{className:"display-6",children:["Result : K",e.jsx("span",{className:t<0?"text-danger":"",children:t.toLocaleString()})]})]})]}),e.jsxs(Y,{className:"border pt-3 ms-1 ",children:[e.jsx("p",{className:"text-center text-muted ",children:"Double click on of the fields below to delete"}),e.jsxs("div",{className:"d-flex justify-content-around",children:[e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h4",{className:"me-1",children:"Date :"}),o.date.length>0?e.jsxs("h4",{onDoubleClick:x,style:{cursor:"pointer"},children:[" ",o.date]}):e.jsx(uT,{id:o._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h4",{children:"Shift :"}),o.shift.length>0?e.jsx("h4",{className:"ms-1 text-capitalize",onDoubleClick:f,style:{cursor:"pointer"},children:o.shift}):e.jsx(dT,{id:o._id})]})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex justify-content-evenly",children:[e.jsx("h5",{className:"d-flex align-items-center",children:"Cashiers : "}),o.cashier.map(S=>e.jsx("h6",{className:"pt-1 prevent-select text-capitalize ",style:{cursor:"pointer"},onDoubleClick:()=>j(S),children:S},S)),e.jsx(oT,{id:o._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h5",{children:"Accountant : "}),o.acountant.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>y(),children:o.acountant})}):e.jsx(lT,{id:o._id})]}),e.jsx("div",{className:"d-flex justify-content-center mt-5 ",children:!a&&l!==null&&l.role==="admin"&&e.jsx(cT,{id:o._id})})]})]}),e.jsxs(Ne,{className:"mx-1",children:[e.jsx(Y,{className:"border mt-2  py-2",children:s&&s.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("h6",{className:"text-center",children:["Black Coffee :"," ",e.jsx("span",{children:s[0].ostock+s[0].received-s[0].cstock})]}),e.jsxs("h6",{className:"text-center",children:["Black Tea :"," ",e.jsx("span",{children:s[1].ostock+s[1].received-s[1].cstock})]}),e.jsxs("h6",{className:"text-center",children:["Coffee Milk :"," ",e.jsx("span",{children:s[2].ostock+s[2].received-s[2].cstock})]}),e.jsxs("h6",{className:"text-center",children:["Milk Tea :"," ",e.jsx("span",{children:s[4].ostock+s[4].received-s[4].cstock})]}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-center",children:["Total :",e.jsx("span",{children:s[0].ostock+s[0].received-s[0].cstock+(s[1].ostock+s[1].received-s[1].cstock)+(s[2].ostock+s[2].received-s[2].cstock)+(s[4].ostock+s[4].received-s[4].cstock)})]}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-center",children:["Cups :"," ",e.jsx("span",{children:s[3].ostock+s[3].received-(s[3].damage+s[3].cstock)})]})]})}),e.jsx(Y,{className:"mt-2 mx-1"})]})]})}function fT({shiftId:t,fetchData:n,disableDeleteBtn:s,setDisableDeleteBtn:r}){const[a,i]=c.useState(!1),[o,l]=c.useState(!1),d=()=>i(!1),h=()=>i(!0),u=()=>{l(!0),T.delete(`${Ot}/${t}`).then(()=>{window.location.reload(),d(),l(!1)}).catch(m=>{console.error(m),l(!1),d()}),setTimeout(()=>{n(),l(!1),d()},50)};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:()=>{h(),r(!0)},disabled:s,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:a,onHide:d,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:o,onClick:()=>{u()},children:o?"Deleting...":"Yes"})]})]})]})}function mT(){const t=new Date,n=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getFullYear(),[r,a]=c.useState(null),[i,o]=c.useState(!1),[l,d]=c.useState(`/${s}/${n}`),[h,u]=c.useState(0),m=c.useCallback(()=>{T.get(`${Ot}/paginatedshifts${l}`).then(f=>{if(a(f.data),o(!1),f.data.shifts){const x=f.data.shifts.reduce((S,N)=>S+N.cash.reduce((b,E)=>b+E,0),0);u(x.toFixed(2))}}).catch(f=>{console.log(f)})},[l]);c.useEffect(()=>{m()},[l,m]),c.useEffect(()=>{r!==null&&r.current&&d(`/${r.current}`)},[r]);let j=null;r!==null&&(j=r.shifts.sort((f,x)=>new Date(x.date)-new Date(f.date)));const y=f=>{const x=f.split("/")[2],S=x<10?`0${x}`:x,N=`/${f.split("/")[1]}/${S}`;d(N)};return r===null?e.jsx("div",{children:"Loading..."}):e.jsxs(te,{children:[e.jsx("div",{className:"d-flex justify-content-end"}),e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx(Hn,{size:"sm",children:r.distinctYearsMonths.map((f,x)=>{const S=f.month.toString().padStart(2,"0"),N=`/${f.year}/${S}`;return e.jsx(Hn.Item,{onClick:()=>y(`/${f.year}/${f.month}`),active:N===l,children:`${f.year}/${f.month}`},x)})})}),e.jsxs(ee,{bordered:!0,className:"text-center text-capitalize",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date"}),e.jsx("th",{style:{width:"15%"},children:"Shift"}),e.jsx("th",{style:{width:"15%"},children:"Accountant"}),e.jsx("th",{children:"Cashiers"}),e.jsx("th",{style:{width:"15%"},children:"Cash"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsxs("tbody",{className:"table-group-divider",children:[j.map(f=>e.jsxs("tr",{children:[e.jsx("td",{children:f.date}),e.jsx("td",{children:f.shift}),e.jsx("td",{children:f.acountant}),e.jsx("td",{className:"d-flex flex-row gap-1 justify-content-center",children:f.cashier.map((x,S)=>e.jsxs("span",{className:"d-block",children:[x," "]},S))}),e.jsxs("td",{children:["K",f.cash.reduce((x,S)=>x+S,0).toLocaleString()]}),e.jsx("td",{children:f.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[f.status==="previous"&&e.jsx(Me,{to:`/restaurant/${f._id}`,style:{textDecoration:"none"},target:"_blank",children:e.jsx(D,{variant:"outline-primary me-1",size:"sm",children:"V"})}),f.status==="current"&&e.jsx(fT,{shiftId:f._id,fetchData:m,disableDeleteBtn:i,setDisableDeleteBtn:o})]})]},f._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3}),e.jsx("th",{children:"Total"}),e.jsxs("td",{children:["K",Number(h).toLocaleString()]}),e.jsx("td",{colSpan:2})]})]})]})]})}function pT(){const[t,n]=c.useState("stock"),{user:s}=c.useContext(he);c.useEffect(()=>{document.title="Yussman - Restaurant"},[]);const r=i=>{n(i)},a=()=>{const i=document.getElementById("searchInput");i&&i.focus()};return e.jsx(e.Fragment,{children:e.jsx(te,{fluid:!0,className:"py-3",children:e.jsxs(Ft,{activeKey:t,onSelect:r,id:"restaurant",className:"mb-3",justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsx(KO,{})}),e.jsx(X,{eventKey:"received",title:"Received",children:e.jsx(YO,{activeTab:t,onModalClose:a})}),e.jsx(X,{eventKey:"credit",title:"Credit",children:e.jsx(QO,{})}),e.jsx(X,{eventKey:"busses",title:"Busses",children:e.jsx(tT,{})}),e.jsx(X,{eventKey:"cash",title:"Cash / Change",children:e.jsx(iT,{})}),e.jsx(X,{eventKey:"final",title:"Final",children:e.jsx(hT,{})}),s!==null&&s.role==="admin"&&e.jsx(X,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(mT,{})})]})})})}function xT({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(!1),[h,u]=c.useState(!1),m=()=>u(!1),j=()=>u(!0),y=()=>{s(""),a(""),o("")},f=x=>{x.preventDefault(),d(!0);const S={name:n.trim(),price:Number(r),section:i};T.post(`${Ct}/${t}/addtostock`,S).then(()=>{y(),m(),d(!1)}).catch(N=>{console.log(N),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:j,children:"New Product"}),e.jsxs(g,{show:h,onHide:()=>{m(),y()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:f,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:x=>s(x.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:x=>a(x.target.value)})]}),e.jsx(p.Label,{children:"Section"}),e.jsxs(p.Select,{className:"mb-3",required:!0,value:i,onChange:x=>o(x.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select section"}),e.jsx("option",{value:"drinks",children:"Restaurant"}),e.jsx("option",{value:"bakery",children:"Shop"})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:l,children:l?"Loading...":"Submit"})]})})]})]})}function mj({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Ct}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex mx-2  justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}function pj({id:t,stock:n}){const[s,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState(!1);c.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[d,h]=c.useState(!1),u=()=>h(!1),m=()=>h(!0),j=()=>{r(""),i("")},y=f=>{f.preventDefault(),l(!0);const x={price:Number(s),name:a};T.post(`${Ct}/${t}/editname/${n._id}`,x).then(()=>{j(),u(),l(!1)}).catch(S=>{console.error(S),l(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:m,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:d,onHide:()=>{u()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:y,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}const Kr=c.createContext(),jT=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},gT=({children:t})=>{const[n,s]=c.useReducer(jT,{shift:null}),[r,a]=c.useState({});c.useEffect(()=>{T.get(Ct).then(o=>{i(o.data)})},[]),c.useEffect(()=>{const o=En(mt);return o.on("chinsalirestaurant",l=>{s({type:"SET_SHIFT",payload:l})}),()=>{o.disconnect()}},[]);const i=o=>{if(o!==null){const l={};o.received&&Array.isArray(o.received)&&o.received.forEach(h=>{const u=h.code,m=h.amount;l[u]===void 0?l[u]=m:l[u]+=m});const d={...o,stock:o.stock.map(h=>{const u=h.code;return l[u]!==void 0?{...h,received:l[u]}:h})};d.stock.sort((h,u)=>h.name.localeCompare(u.name)),a(d)}};return c.useEffect(()=>{i(n.shift)},[n.shift]),e.jsx(Kr.Provider,{value:{shift:r,dispatch:s},children:t})},xj="deletestock";function yT(){const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,i]=c.useState([]),[o,l]=c.useState(0),[d,h]=c.useState(0),[u,m]=c.useState(0),[j,y]=c.useState(null),[f,x]=c.useState(""),[S,N]=c.useState(""),[b,E]=c.useState(""),[v,k]=c.useState(!1),$=c.useRef(null),{shift:C}=c.useContext(Kr),{user:w}=c.useContext(he),A=L=>L.reduce((R,G)=>R+(G.ostock+G.received-G.damage-G.cstock)*G.price,0);c.useEffect(()=>{if(Object.keys(C).length!==0){const L=C.stock.filter(Z=>Z.section==="drinks"),R=C.stock.filter(Z=>Z.section==="food"),G=C.stock.filter(Z=>Z.section==="bakery");n(L),r(R),i(G),l(A(L)),h(A(R)),m(A(G))}},[C]),c.useEffect(()=>{$.current&&($.current.focus(),$.current.select())},[j]);const B=L=>{y(L);let R=t.find(G=>G._id===L);R||(R=s.find(G=>G._id===L)),R||(R=a.find(G=>G._id===L)),x(R.ostock.toString()),N(R.damage.toString()),E(R.cstock.toString())},H=(L,R)=>{if(L.preventDefault(),!R)return;if(!R||f<0||S<0||b<0){alert("Please ensure all values are non-negative.");return}k(!0);const G={ostock:Number(f),damage:Number(S),cstock:Number(b)};T.post(`${Ct}/${C._id}/editstock/${R}`,G).then(()=>{k(!1),x(""),N(""),E("");const Z=[...t,...s,...a],ne=Z.findIndex(M=>M._id===R);if(ne!==-1&&ne<Z.length-1){const M=Z[ne+1];y(M._id),x(M.ostock.toString()),N(M.damage.toString()),E(M.cstock.toString())}else y(null)}).catch(Z=>{console.log(Z),k(!1)})},I=()=>{y(null),x(""),N(""),E(""),k(!1)};return C===null?null:e.jsxs(p,{onSubmit:L=>H(L,j),children:[w!==null&&w.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(xT,{id:C._id})}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),e.jsx("th",{style:{width:"8rem"},children:"Actions"})]})}),e.jsxs("tbody",{children:[t.map(L=>e.jsxs("tr",{id:L.code,children:[e.jsx("td",{children:L.code}),e.jsx("td",{className:"text-capitalize",children:L.name}),e.jsxs("td",{children:["K",L.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:j===L._id?e.jsx(p.Control,{type:"number",size:"sm",readOnly:w.role!=="admin",value:f,className:"text-center",onChange:R=>x(R.target.value)}):L.ostock}),e.jsx("td",{className:L.received>0?"text-info":"",children:L.received}),e.jsx("td",{style:{width:"8rem"},children:j===L._id?e.jsx(p.Control,{type:"number",size:"sm",value:S,className:"text-center",onChange:R=>N(R.target.value)}):L.damage}),e.jsx("td",{style:{width:"8rem"},className:L.cstock<0?"text-danger":"",children:j===L._id?e.jsx(p.Control,{ref:$,type:"number",size:"sm",autoFocus:!0,value:b,className:"text-center",onChange:R=>E(R.target.value)}):L.cstock}),e.jsxs("td",{className:L.ostock+L.received-L.damage-L.cstock<0?"text-danger":L.ostock+L.received-L.damage-L.cstock===0?"text-muted":"",children:["K",((L.ostock+L.received-L.damage-L.cstock)*L.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:j===L._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(D,{size:"sm",disabled:v,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(D,{size:"sm",variant:"outline-danger",onClick:()=>I(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"sm",variant:"outline-secondary",onClick:()=>B(L._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),w!==null&&w.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(mj,{endpoint:xj,id:L._id,shiftId:C._id}),e.jsx(pj,{stock:L,id:C._id})]})]})})]},L.code)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:7,children:"Restaurant Total"}),e.jsxs("td",{children:["K",o.toLocaleString()]}),e.jsx("td",{})]})]}),e.jsxs("tbody",{className:"table-group-divider",children:[a.map(L=>e.jsxs("tr",{id:L.code,children:[e.jsx("td",{children:L.code}),e.jsx("td",{className:"text-capitalize",children:L.name}),e.jsxs("td",{children:["K",L.price>0&&L.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:j===L._id?e.jsx(p.Control,{type:"number",size:"sm",readOnly:w.role!=="admin",value:f,className:"text-center",onChange:R=>x(R.target.value)}):L.ostock}),e.jsx("td",{className:L.received>0?"text-info":"",children:L.received}),e.jsx("td",{style:{width:"8rem"},children:j===L._id?e.jsx(p.Control,{type:"number",size:"sm",value:S,className:"text-center",onChange:R=>N(R.target.value)}):L.damage}),e.jsx("td",{style:{width:"8rem"},className:L.cstock<0?"text-danger":"",children:j===L._id?e.jsx(p.Control,{ref:$,type:"number",size:"sm",autoFocus:!0,value:b,className:"text-center",onChange:R=>E(R.target.value)}):L.cstock}),e.jsxs("td",{className:L.ostock+L.received-L.damage-L.cstock<0?"text-danger":L.ostock+L.received-L.damage-L.cstock===0?"text-muted":"",children:["K",L.code>0&&((L.ostock+L.received-L.damage-L.cstock)*L.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:j===L._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(D,{size:"sm",disabled:v,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(D,{size:"sm",variant:"outline-danger",onClick:()=>I(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"sm",variant:"outline-secondary",onClick:()=>B(L._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),w!==null&&w.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(mj,{endpoint:xj,id:L._id,shiftId:C._id}),e.jsx(pj,{stock:L,id:C._id})]})]})})]},L.code)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:7,children:"Shop Total"}),e.jsxs("td",{children:["K",u.toLocaleString()]}),e.jsx("td",{})]})]})]})]})}function vT({show:t,handleClose:n,result:s,id:r}){const[a,i]=c.useState({code:"",name:"",amount:""}),[o,l]=c.useState(!1);c.useEffect(()=>{s&&i({code:s.code,name:s.name,amount:""})},[s]);const d=j=>{const{name:y,value:f}=j.target;i(x=>({...x,[y]:f}))},u=ST(()=>{o||(l(!0),T.post(`${Ct}/${r}/addtoreceived`,a).then(()=>{n(),l(!1)}).catch(j=>{console.log(j),l(!1)}))},200),m=j=>{j.preventDefault(),u()};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:n,hidden:!0}),e.jsxs(g,{show:t,onHide:n,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Received"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:m,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Code"}),e.jsx(p.Control,{type:"number",autoComplete:"off",name:"code",value:a.code,onChange:d,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",name:"name",value:a.name,onChange:d,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Quantity"}),e.jsx(p.Control,{autoFocus:!0,type:"number",autoComplete:"off",name:"amount",value:a.amount,onChange:d,required:!0})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}function ST(t,n){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{t(...r)},n)}}function cd({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Ct}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}const bT="deletereceived";function CT({activeTab:t}){const[n,s]=c.useState([]),[r,a]=c.useState([]),[i,o]=c.useState([]),[l,d]=c.useState(!1),[h,u]=c.useState(null),[m,j]=c.useState(""),[y,f]=c.useState(!1),[x,S]=c.useState(-1),{shift:N}=c.useContext(Kr);c.useEffect(()=>{Object.keys(N).length!==0&&(s(N.received),a(N.stock),o(N.stock),f(!0))},[N]),c.useEffect(()=>{const C=w=>{const A=document.getElementById("searchInput"),B=document.getElementById("resultsList");A&&B&&!A.contains(w.target)&&!B.contains(w.target)&&d(!1)};return document.addEventListener("click",C),()=>{document.removeEventListener("click",C)}},[]);const b=C=>{const w=C.target.value.toLowerCase(),A=r.filter(B=>B.name.toLowerCase().includes(w)||B.code.toString().includes(w));o(A),d(!0),S(-1),d(!!w)},E=C=>{C.key==="ArrowDown"&&x<i.length-1?S(x+1):C.key==="ArrowUp"&&x>0?S(x-1):C.key==="Enter"&&x>=0&&(C.preventDefault(),v(i[x]))},v=C=>{u(C),d(!1),S(-1)},k=()=>{u(null),j(""),f(!0)},$=c.useCallback(()=>{const C=document.getElementById("searchInput");t==="received"&&C&&C.focus(),y&&t==="received"&&C&&(C.focus(),f(!1))},[t,y]);return c.useEffect(()=>{$()},[t,$]),c.useEffect(()=>{$()},[t,y,$]),e.jsxs(te,{children:[e.jsx("div",{className:"w-50",children:e.jsxs(p,{onSubmit:C=>C.preventDefault(),children:[e.jsxs(Ja,{className:"mb-3",children:[e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,placeholder:"Code",name:"search",id:"searchInput",onChange:C=>{b(C),j(C.target.value)},onKeyDown:E,value:m}),e.jsx(vT,{show:h!==null,result:h,handleClose:k,id:N._id})]}),l&&e.jsx("ul",{id:"resultsList",className:"list-group",style:{position:"absolute",zIndex:1,width:"50%",cursor:"pointer"},children:i.map((C,w)=>e.jsxs("li",{className:`list-group-item text-capitalize ${w===x?"active":""}`,onClick:()=>v(C),children:[C.code," - ",C.name]},C.code))})]})}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:n.map(C=>e.jsxs("tr",{id:C._id,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsx("td",{children:C.amount}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(cd,{endpoint:bT,id:C._id,shiftId:N._id})})]},C._id))})]})]})}function wT({shift:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(!1),h=()=>s(!1),u=()=>s(!0),m=async j=>{j.preventDefault(),d(!0),await T.post(`${Ct}/${t._id}/addtocredit`,{description:r,amount:i}).then(()=>{a(""),o(""),h(),d(!1)}).catch(y=>{console.log(y),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:u,children:"New"}),e.jsxs(g,{show:n,onHide:()=>{h(),a(""),o("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Credit"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j=>m(j),children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Description"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:j=>o(j.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:l,children:l?"Loading...":"Submit"})]})})]})]})}const NT="deletecredit";function kT(){const[t,n]=c.useState([]),{shift:s}=c.useContext(Kr);return c.useEffect(()=>{Object.keys(s).length!==0&&n(s.credit)},[s]),e.jsxs(te,{children:[e.jsx("div",{className:"d-flex justify-content-between py-2",children:e.jsx(wT,{shift:s})}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(r=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:r.description}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(cd,{endpoint:NT,id:r._id,shiftId:s._id})})]},Math.floor(Math.random()*1e5)))})]})]})}function ET({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(""),[h,u]=c.useState(!1),[m,j]=c.useState(!1),y=()=>j(!1),f=()=>j(!0),x=S=>{S.preventDefault(),u(!0);const N={name:n,driver:r,status:i,amount:l};T.post(`${Ct}/${t}/addtobus`,N).then(()=>{s(""),a(""),o(""),d(""),u(!1)}).catch(b=>{console.log(b),u(!1)}),y()};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:f,size:"sm",children:"New"}),e.jsxs(g,{show:m,onHide:y,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Bus"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:S=>x(S),children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Bus Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:S=>s(S.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Driver"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,value:r,onChange:S=>a(S.target.value)})]}),e.jsx(p.Label,{children:"Status"}),e.jsxs(p.Select,{className:"mb-3",value:i,onChange:S=>{o(S.target.value)},required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select an option"}),e.jsx("option",{value:"collected",children:"Collected"}),e.jsx("option",{value:"not collected",children:"Not Collected"})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:l,onChange:S=>d(S.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:h,children:h?"Loading...":"Submit"})]})})]})]})}function LT({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(!1),[l,d]=c.useState(!1),h=()=>d(!1),u=()=>d(!0),m=j=>{j.preventDefault(),o(!0);const y={name:n,amount:r};T.post(`${Ct}/${t}/addtotopup`,y).then(()=>{s(""),a(""),o(!1)}).catch(f=>{console.log(f),o(!1)}),h()};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:u,size:"sm",children:"New"}),e.jsxs(g,{show:l,onHide:h,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Topup"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j=>m(j),children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:j=>s(j.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}const DT="deletebus",$T="deletetopup";function OT(){const[t,n]=c.useState([]),[s,r]=c.useState([]),{shift:a}=c.useContext(Kr);return c.useEffect(()=>{Object.keys(a).length!==0&&n(a.bus)},[a]),c.useEffect(()=>{Object.keys(a).length!==0&&r(a.topup)},[a]),e.jsx(te,{children:e.jsxs(Ne,{children:[e.jsxs(Y,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Busses"}),e.jsxs("h5",{children:["C Total: K"," ",t.reduce((i,o)=>o.status==="collected"?i+o.amount:i,0)]}),e.jsxs("h5",{children:["Not C Total: K"," ",t.reduce((i,o)=>o.status==="not collected"?i+o.amount:i,0)]}),e.jsx(ET,{id:a._id})]}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Driver"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(i=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:i.name}),e.jsx("td",{className:"text-capitalize",children:i.driver}),e.jsx("td",{className:"text-capitalize",children:i.status}),e.jsxs("td",{children:["K",i.amount]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(cd,{endpoint:DT,id:i._id,shiftId:a._id})})]},Math.floor(Math.random()*1e5)))})]})]}),e.jsxs(Y,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Topup"}),e.jsxs("h5",{children:["Total: K ",s.reduce((i,o)=>i+o.amount,0)]}),e.jsx(LT,{id:a._id})]}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.map(i=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:i.name}),e.jsxs("td",{children:["K",i.amount]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(cd,{endpoint:$T,id:i._id,shiftId:a._id})})]},Math.floor(Math.random()*1e5)))})]})]})]})})}function TT({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Ct}/${t}/addtocash`,{amount:n}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:d,size:"sm",children:"New"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function AT({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${Ct}/${t}/addtochange`,{amount:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:d,size:"sm",children:"New"}),e.jsxs(g,{show:i,onHide:l,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Change"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",autoFocus:!0,required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function jj({endpoint:t,id:n,amount:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Ct}/${n}/${t}/${s}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}const BT="deletecash",_T="deletechange";function RT(){const[t,n]=c.useState([]),[s,r]=c.useState([]),{shift:a}=c.useContext(Kr),{user:i}=c.useContext(he);return c.useEffect(()=>{Object.keys(a).length!==0&&(n(a.cash),r(a.change))},[a]),e.jsx(te,{children:e.jsxs(Ne,{children:[e.jsx(Y,{children:i!==null&&i.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Cash"}),e.jsxs("h5",{children:["Total: K ",t.reduce((o,l)=>o+l,0).toLocaleString()]}),e.jsx(TT,{id:a._id})]}),e.jsx(Fn,{children:e.jsx(et,{variant:"flush",children:t.map(o=>e.jsxs(et.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",o.toLocaleString(),e.jsx(jj,{endpoint:BT,id:a._id,amount:o})]},Math.floor(Math.random()*1e5)))})})]})}),e.jsxs(Y,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Change"}),e.jsxs("h5",{children:["Total: K ",s.reduce((o,l)=>o+l,0).toLocaleString()]}),e.jsx(AT,{id:a._id})]}),e.jsx(Fn,{children:e.jsx(et,{variant:"flush",children:s.map(o=>e.jsxs(et.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",o.toLocaleString(),e.jsx(jj,{endpoint:_T,id:a._id,amount:o})]},Math.floor(Math.random()*1e5)))})})]})]})})}function IT({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Ct}/${t}/addcashier`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function PT({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Ct}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function FT(){const[t,n]=c.useState(!1),[s,r]=c.useState(!1),a=()=>n(!1),i=()=>n(!0),o=l=>{l.preventDefault(),r(!0),T.post(`${Ct}/newshift`).then(()=>{a(),r(!1)}).catch(d=>{console.log(d),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(D,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(D,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading...":"Yes"})]})]})]})}function MT({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${Ct}/${t}/addshift`,{shift:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Shift"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsxs(p.Select,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Shift"}),e.jsx("option",{value:"day",children:"Day"}),e.jsx("option",{value:"night",children:"Night"})]})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function zT({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${Ct}/${t}/adddate`,{date:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function HT(){const[t,n]=c.useState([]),[s,r]=c.useState(!0),{shift:a}=c.useContext(Kr),{user:i}=c.useContext(he);let o=0,l=0,d=0;if(a!=null&&Object.keys(a).length>0){o=a.bus.filter(x=>x.status==="collected").reduce((x,S)=>x+S.amount,0),l=a.bus.filter(x=>x.status==="not collected").reduce((x,S)=>x+S.amount,0);const f=x=>(x.ostock+x.received-x.damage-x.cstock)*x.price;d=a.stock.reduce((x,S)=>x+f(S),0)}const h=c.useCallback(()=>{if(a!=null&&Object.keys(a).length>0){const f=a.cashier.length,x=a.acountant.length,S=a.date.length,N=a.shift.length,b=a.cash.reduce((E,v)=>E+v,0);f>0&&x>0&&S>0&&N>0&&b>0?r(!1):r(!0)}},[a]);c.useEffect(()=>{a!=null&&Object.keys(a).length>0&&n(a.cash.reduce((f,x)=>f+x,0)+o+a.credit.reduce((f,x)=>f+x.amount,0)-a.change.reduce((f,x)=>f+x,0)-d),h()},[a,o,d,h]);const u=f=>{T.post(`${Ct}/${a._id}/removecashier`,{name:f.toLowerCase()}).then(()=>{h()})},m=()=>{T.post(`${Ct}/${a._id}/removeaccountant`).then(()=>{h()})},j=()=>{T.post(`${Ct}/${a._id}/deleteshift`).then(()=>{h()})},y=()=>{T.post(`${Ct}/${a._id}/deletedate`).then(()=>{h()})};return e.jsx(te,{children:a!=null&&Object.keys(a).length!==0&&e.jsxs(Ne,{className:"mx-1",children:[e.jsxs(Y,{className:"d-flex flex-column align-items-center border pt-3 me-1 ",children:[e.jsxs("p",{children:["Bus Not Collected: K",l.toLocaleString()]}),e.jsxs("p",{children:["Topup Total : K",a.topup.reduce((f,x)=>f+x.amount,0).toLocaleString()]}),e.jsx("hr",{className:" w-100 "}),!s&&i!==null&&i.role==="admin"&&e.jsxs("p",{children:["Cash : K",a.cash.reduce((f,x)=>f+x,0).toLocaleString()]}),e.jsxs("p",{children:["Change : K",a.change.reduce((f,x)=>f+x,0)]}),e.jsxs("p",{children:["Bus Collected: K",o.toLocaleString()]}),e.jsxs("p",{children:["Credit: K",a.credit.reduce((f,x)=>f+x.amount,0).toLocaleString()]}),i!==null&&i.role==="admin"&&e.jsxs("p",{children:["Sales Total : K",d.toLocaleString()]}),i!==null&&i.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:" w-100 "}),e.jsxs("p",{className:"display-6",children:["Result : K",e.jsx("span",{className:t<0?"text-danger":"",children:t.toLocaleString()})]})]})]}),e.jsxs(Y,{className:"border pt-3 ms-1 ",children:[e.jsx("p",{className:"text-center text-muted ",children:"Double click on of the fields below to delete"}),e.jsxs("div",{className:"d-flex justify-content-around",children:[e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h4",{className:"me-1",children:"Date :"}),a.date.length>0?e.jsxs("h4",{onDoubleClick:y,style:{cursor:"pointer"},children:[" ",a.date]}):e.jsx(zT,{id:a._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h4",{children:"Shift :"}),a.shift.length>0?e.jsx("h4",{className:"ms-1 text-capitalize",onDoubleClick:j,style:{cursor:"pointer"},children:a.shift}):e.jsx(MT,{id:a._id})]})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex justify-content-evenly",children:[e.jsx("h5",{className:"d-flex align-items-center",children:"Cashiers : "}),a.cashier.map(f=>e.jsx("h6",{className:"pt-1 prevent-select text-capitalize ",style:{cursor:"pointer"},onDoubleClick:()=>u(f),children:f},f)),e.jsx(IT,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h5",{children:"Accountant : "}),a.acountant.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>m(),children:a.acountant})}):e.jsx(PT,{id:a._id})]}),e.jsx("div",{className:"d-flex justify-content-center mt-5 ",children:!s&&i!==null&&i.role==="admin"&&e.jsx(FT,{id:a._id})})]})]})})}function KT({shiftId:t,fetchData:n,disableDeleteBtn:s,setDisableDeleteBtn:r}){const[a,i]=c.useState(!1),[o,l]=c.useState(!1),d=()=>i(!1),h=()=>i(!0),u=()=>{l(!0),T.delete(`${Ct}/${t}`).then(()=>{window.location.reload(),d(),l(!1)}).catch(m=>{console.error(m),l(!1),d()}),setTimeout(()=>{n(),l(!1),d()},50)};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:()=>{h(),r(!0)},disabled:s,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:a,onHide:d,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:o,onClick:()=>{u()},children:o?"Deleting...":"Yes"})]})]})]})}function qT(){const t=new Date,n=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getFullYear(),[r,a]=c.useState(null),[i,o]=c.useState(!1),[l,d]=c.useState(`/${s}/${n}`),[h,u]=c.useState(0),m=c.useCallback(()=>{T.get(`${Ct}/paginatedshifts${l}`).then(f=>{if(a(f.data),o(!1),f.data.shifts){const x=f.data.shifts.reduce((S,N)=>S+N.cash.reduce((b,E)=>b+E,0),0);u(x.toFixed(2))}}).catch(f=>{console.log(f)})},[l]);c.useEffect(()=>{m()},[l,m]),c.useEffect(()=>{r!==null&&r.current&&d(`/${r.current}`)},[r]);let j=null;r!==null&&(j=r.shifts.sort((f,x)=>new Date(x.date)-new Date(f.date)));const y=f=>{const x=f.split("/")[2],S=x<10?`0${x}`:x,N=`/${f.split("/")[1]}/${S}`;d(N)};return r===null?e.jsx("div",{children:"Loading..."}):e.jsxs(te,{children:[e.jsx("div",{className:"d-flex justify-content-end"}),e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx(Hn,{size:"sm",children:r.distinctYearsMonths.map((f,x)=>{const S=f.month.toString().padStart(2,"0"),N=`/${f.year}/${S}`;return e.jsx(Hn.Item,{onClick:()=>y(`/${f.year}/${f.month}`),active:N===l,children:`${f.year}/${f.month}`},x)})})}),e.jsxs(ee,{bordered:!0,className:"text-center text-capitalize",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date"}),e.jsx("th",{style:{width:"15%"},children:"Shift"}),e.jsx("th",{style:{width:"15%"},children:"Accountant"}),e.jsx("th",{children:"Cashiers"}),e.jsx("th",{style:{width:"15%"},children:"Cash"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsxs("tbody",{className:"table-group-divider",children:[j.map(f=>e.jsxs("tr",{children:[e.jsx("td",{children:f.date}),e.jsx("td",{children:f.shift}),e.jsx("td",{children:f.acountant}),e.jsx("td",{className:"d-flex flex-row gap-1 justify-content-center",children:f.cashier.map((x,S)=>e.jsxs("span",{className:"d-block",children:[x," "]},S))}),e.jsxs("td",{children:["K",f.cash.reduce((x,S)=>x+S,0).toLocaleString()]}),e.jsx("td",{children:f.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[f.status==="previous"&&e.jsx(Me,{to:`/chinsalirestaurant/${f._id}`,style:{textDecoration:"none"},target:"_blank",children:e.jsx(D,{variant:"outline-primary me-1",size:"sm",children:"V"})}),f.status==="current"&&e.jsx(KT,{shiftId:f._id,fetchData:m,disableDeleteBtn:i,setDisableDeleteBtn:o})]})]},f._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3}),e.jsx("th",{children:"Total"}),e.jsxs("td",{children:["K",Number(h).toLocaleString()]}),e.jsx("td",{colSpan:2})]})]})]})]})}function UT(){const[t,n]=c.useState("stock"),{user:s}=c.useContext(he);c.useEffect(()=>{document.title="Yussman -Chinsali  Restaurant"},[]);const r=i=>{n(i)},a=()=>{const i=document.getElementById("searchInput");i&&i.focus()};return e.jsx(e.Fragment,{children:e.jsx(te,{fluid:!0,className:"py-3",children:e.jsxs(Ft,{activeKey:t,onSelect:r,id:"restaurant",className:"mb-3",justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsx(yT,{})}),e.jsx(X,{eventKey:"received",title:"Received",children:e.jsx(CT,{activeTab:t,onModalClose:a})}),e.jsx(X,{eventKey:"credit",title:"Credit",children:e.jsx(kT,{})}),e.jsx(X,{eventKey:"busses",title:"Busses",children:e.jsx(OT,{})}),e.jsx(X,{eventKey:"cash",title:"Cash / Change",children:e.jsx(RT,{})}),e.jsx(X,{eventKey:"final",title:"Final",children:e.jsx(HT,{})}),s!==null&&s.role==="admin"&&e.jsx(X,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(qT,{})})]})})})}function GT(){c.useEffect(()=>{document.title="Yussman - Login"},[]);const[t,n]=c.useState(""),[s,r]=c.useState(""),[a,i]=c.useState(null),[o,l]=c.useState(!1),{dispatch:d}=c.useContext(he),h=u=>{u.preventDefault(),l(!0),T.post(`${Md}/users/login`,{number:t,password:s}).then(m=>{d({type:"LOGIN",payload:m.data.user}),localStorage.setItem("accessToken",m.data.accessToken),localStorage.setItem("user",JSON.stringify(m.data.user)),l(!1)}).catch(m=>{i(m.response.data.msg),l(!1)})};return e.jsx(te,{children:e.jsxs("div",{className:"w-50 mx-auto mt-5 border p-5 rounded ",children:[e.jsx("h2",{className:"text-center",children:"Login"}),e.jsxs("p",{className:"text-danger",children:[" ",a]}),e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",controlId:"number",children:[e.jsx(p.Label,{children:"Number"}),e.jsx(p.Control,{type:"text",placeholder:"Enter  number",required:!0,autoFocus:!0,minLength:10,maxLength:10,value:t,autoComplete:"off",onChange:u=>n(u.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",controlId:"password",children:[e.jsx(p.Label,{children:"Password"}),e.jsx(p.Control,{type:"password",placeholder:"Enter password",required:!0,value:s,onChange:u=>r(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Login"})]})]})})}function YT({setUsers:t}){const[n,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(""),[h,u]=c.useState(""),[m,j]=c.useState(!1),[y,f]=c.useState(!1),x=()=>f(!1),S=()=>f(!0),N=()=>{s(""),a(""),o(""),d(""),u("")},b=E=>{E.preventDefault(),T.post(`${Md}/users/signup`,{firstName:n.toLowerCase(),lastName:r.toLowerCase(),number:i,password:l,role:h}).then(v=>{t(v.data.users),N(),x(),j(!1)}).catch(v=>{console.log(v.response.data.msg),j(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:S,children:"Add User"}),e.jsxs(g,{show:y,onHide:()=>{x(),N()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New User"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:b,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"First Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:E=>s(E.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Last Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,value:r,onChange:E=>a(E.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Number"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,value:i,minLength:10,maxLength:10,onChange:E=>o(E.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Password"}),e.jsx(p.Control,{type:"password",autoComplete:"off",required:!0,value:l,minLength:5,onChange:E=>d(E.target.value)})]}),e.jsx(p.Label,{children:"Role"}),e.jsxs(p.Select,{className:"mb-3",required:!0,value:h,onChange:E=>u(E.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select role"}),e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"admin",children:"Admin"})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:m,children:m?"Loading...":"Submit"})]})})]})]})}function WT({id:t,getUsers:n}){const[s,r]=c.useState(!1),[a,i]=c.useState(!1),o=()=>r(!1),l=()=>r(!0),d=()=>{i(!0),T.delete(`${Md}/users/${t}`).then(()=>{n(),o(),i(!1)}).catch(h=>{console.log(h),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:l,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:a,onClick:()=>{d()},children:a?"Deleting...":"Yes"})]})]})]})}function VT(){const[t,n]=c.useState([]);c.useEffect(()=>{document.title="Yussman - Users"},[]);const s=c.useCallback(()=>{T.get(`${Md}/users`).then(r=>{n(r.data.users)}).catch(r=>{console.log(r.response.data.msg)})},[]);return c.useEffect(()=>{s()},[s]),e.jsxs(te,{children:[e.jsx("h2",{className:"text-center my-2 ",children:"Users Manager"}),e.jsx("div",{className:"d-flex justify-content-end align-items-center my-2",children:e.jsx(YT,{setUsers:n})}),e.jsxs(ee,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Number"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Actons"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.length>0&&t.map(r=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-capitalize",children:r.firstName}),e.jsx("td",{className:"text-capitalize",children:r.lastName}),e.jsx("td",{children:r.number}),e.jsx("td",{className:"text-capitalize",children:r.role}),e.jsx("td",{className:"d-flex justify-content-center",children:r.number!=="0972278488"&&r.number!=="0967162444"&&e.jsx(WT,{id:r._id,getUsers:s})})]},r._id))})]})]})}function _u({id:t,stock:n,getShift:s}){const[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(""),[h,u]=c.useState(!1),{user:m}=c.useContext(he);c.useEffect(()=>{Object.keys(n).length>0&&(a(n.ostock),o(n.damage),d(n.cstock))},[n]);const[j,y]=c.useState(!1),f=()=>y(!1),x=()=>y(!0),S=()=>{a(""),o(""),d("")},N=b=>{b.preventDefault(),u(!0);const E={ostock:Number(r),damage:Number(i),cstock:Number(l)};T.post(`${Ot}/${t}/editstock/${n._id}`,E).then(()=>{S(),f(),u(!1),s()}).catch(v=>{console.log(v),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:x,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:j,onHide:()=>{f()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:N,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Opening Stock"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,readOnly:m.role!=="admin",onChange:b=>a(b.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Damage"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:b=>o(b.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Closing Stock"}),e.jsx(p.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:l,onChange:b=>d(b.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:h,children:h?"Loading...":"Submit"})]})})]})]})}const QT=()=>{const[t,n]=c.useState({}),[s,r]=c.useState([]),[a,i]=c.useState([]),[o,l]=c.useState([]),[d,h]=c.useState([]),[u,m]=c.useState([]),[j,y]=c.useState([]),{id:f}=is(),{user:x}=c.useContext(he);let S=0,N=0;if(Object.keys(t).length>0){S=t.bus.filter($=>$.status==="collected").reduce(($,C)=>$+C.amount,0);const k=$=>($.ostock+$.received-$.damage-$.cstock)*$.price;N=s.stock.reduce(($,C)=>$+k(C),0)}c.useEffect(()=>{document.title="Yussman  - Restaurant - Details"},[]);const b=c.useCallback(()=>{T.get(`${Ot}/${f}`).then(k=>{n(k.data),E(k.data)}).catch(k=>{console.log(k)})},[f]);c.useEffect(()=>{b()},[b]),c.useEffect(()=>{Object.keys(t).length>0&&(m(t.cash.reduce((k,$)=>k+$,0)+S+t.credit.reduce((k,$)=>k+$.amount,0)-t.change.reduce((k,$)=>k+$,0)-N),y(t.received))},[t,S,N]);const E=k=>{if(k!==null){const $={};k.received&&Array.isArray(k.received)&&k.received.forEach(w=>{const A=w.code,B=w.amount;$[A]===void 0?$[A]=B:$[A]+=B});const C={...k,stock:k.stock.map(w=>{const A=w.code;return $[A]!==void 0?{...w,received:$[A]}:w})};C.stock.sort((w,A)=>w.name.localeCompare(A.name)),r(C)}};c.useEffect(()=>{if(Object.keys(t).length!==0){const k=s.stock.filter(w=>w.section==="drinks"),$=s.stock.filter(w=>w.section==="food"),C=s.stock.filter(w=>w.section==="bakery");i(k),l($),h(C)}},[s,t]);const v=k=>k.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return Object.keys(t).length===0?null:e.jsxs(te,{fluid:"xxl",children:[e.jsxs("div",{className:"d-flex justify-content-between mt-3 mx-3 text-capitalize",children:[e.jsxs("p",{children:["Date : ",t.date]}),e.jsxs("p",{children:["Shift : ",t.shift]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("p",{children:"Cashiers : "}),t.cashier.map(k=>e.jsx("p",{className:"mx-2 ",children:k},Math.floor(Math.random()*1e4)))]}),e.jsxs("p",{children:["Accountant : ",t.acountant]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between mx-3",children:[e.jsxs("p",{children:["Cash : K",v(t.cash.reduce((k,$)=>k+$,0))]}),e.jsxs("p",{children:["Change : K",v(t.change.reduce((k,$)=>k+$,0))]}),e.jsxs("p",{children:["Bus : K",v(S)]}),e.jsxs("p",{children:["Credit : K",v(t.credit.reduce((k,$)=>k+$.amount,0))]}),e.jsxs("p",{children:["Sales : K",v(N)]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("p",{className:"display-6 text-center ",children:["Result : K",e.jsx("span",{className:u<0?"text-danger":"",children:v(u)})]})}),e.jsx("hr",{}),e.jsxs(Ft,{justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsxs(ee,{className:"text-center mt-3",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),x&&x.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:a.map(k=>e.jsxs("tr",{id:k.code,children:[e.jsx("td",{children:k.code}),e.jsx("td",{children:k.name}),e.jsxs("td",{children:["K",k.price]}),e.jsx("td",{children:k.ostock}),e.jsx("td",{className:k.received>0?"text-info":"",children:k.received}),e.jsx("td",{children:k.damage}),e.jsx("td",{className:k.cstock<0?"text-danger":"",children:k.cstock}),e.jsxs("td",{className:k.ostock+k.received-k.damage-k.cstock<0?"text-danger":"",children:["K",v((k.ostock+k.received-k.damage-k.cstock)*k.price)]}),x&&x.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(_u,{id:f,stock:k,getShift:b})})]},k.code))}),e.jsx("tbody",{className:"table-group-divider",children:o.map(k=>e.jsxs("tr",{id:k.code,children:[e.jsx("td",{children:k.code}),e.jsx("td",{children:k.name}),e.jsxs("td",{children:["K",k.price]}),e.jsx("td",{children:k.ostock}),e.jsx("td",{className:k.received>0?"text-info":"",children:k.received}),e.jsx("td",{children:k.damage}),e.jsx("td",{className:k.cstock<0?"text-danger":"",children:k.cstock}),e.jsxs("td",{className:k.ostock+k.received-k.damage-k.cstock<0?"text-danger":"",children:["K",v((k.ostock+k.received-k.damage-k.cstock)*k.price)]}),x&&x.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(_u,{id:f,stock:k,getShift:b})})]},k.code))}),e.jsx("tbody",{className:"table-group-divider",children:d.map(k=>e.jsxs("tr",{id:k.code,children:[e.jsx("td",{children:k.code}),e.jsx("td",{children:k.name}),e.jsxs("td",{children:["K",k.price]}),e.jsx("td",{children:k.ostock}),e.jsx("td",{className:k.received>0?"text-info":"",children:k.received}),e.jsx("td",{children:k.damage}),e.jsx("td",{className:k.cstock<0?"text-danger":"",children:k.cstock}),e.jsxs("td",{className:k.ostock+k.received-k.damage-k.cstock<0?"text-danger":"",children:["K",v((k.ostock+k.received-k.damage-k.cstock)*k.price)]}),x&&x.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(_u,{id:f,stock:k,getShift:b})})]},k.code))})]})}),e.jsx(X,{eventKey:"received",title:"Received",children:e.jsxs(ee,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:j.map(k=>e.jsxs("tr",{id:k._id,children:[e.jsx("td",{children:k.code}),e.jsx("td",{className:"text-capitalize",children:k.name}),e.jsx("td",{children:k.amount})]},k._id))})]})}),e.jsx(X,{eventKey:"busses",title:"Busses",children:e.jsxs(Ne,{children:[e.jsxs(Y,{children:[e.jsx("h3",{className:"text-center",children:"Busses"}),e.jsxs(ee,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Bus Name"}),e.jsx("th",{children:"Driver"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.bus.map(k=>e.jsxs("tr",{children:[e.jsx("td",{children:k.name}),e.jsx("td",{children:k.driver}),e.jsx("td",{children:k.status}),e.jsxs("td",{children:["K",k.amount]})]},k._id))})]})]}),e.jsxs(Y,{children:[e.jsx("h3",{className:"text-center",children:"Topup"}),e.jsxs(ee,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.topup.map(k=>e.jsxs("tr",{children:[e.jsx("td",{children:k.name}),e.jsxs("td",{children:["K",k.amount]})]},k._id))})]})]})]})}),e.jsx(X,{eventKey:"credit",title:"Credit",children:e.jsxs(ee,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.credit.map(k=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:k.description}),e.jsxs("td",{children:["K",k.amount.toLocaleString()]})]},Math.floor(Math.random()*1e5)))})]})})]})]})},Za=c.createContext(),JT=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},XT=({children:t})=>{const[n,s]=c.useReducer(JT,{shift:null}),[r,a]=c.useState({});c.useEffect(()=>{T.get(fn).then(o=>{i(o.data)})},[]),c.useEffect(()=>{En(mt).on("store",l=>{s({type:"SET_SHIFT",payload:l})})},[]);const i=o=>{if(o!==null){const l={},d={};o.received&&Array.isArray(o.received)&&o.received.forEach(u=>{const{code:m,quantity:j}=u;l[m]=(l[m]||0)+j}),o.issued&&Array.isArray(o.issued)&&o.issued.forEach(u=>{const{code:m,quantity:j}=u;d[m]=(d[m]||0)+j});let h={...o,stock:o.stock.map(u=>{const{code:m,ostock:j,damage:y}=u,f=l[m]||0,x=d[m]||0,S=j+f-y-x;return{...u,received:f,issued:x,cstock:S}})};h.stock.sort((u,m)=>u.name.localeCompare(m.name)),a(h)}};return c.useEffect(()=>{i(n.shift)},[n.shift]),r===null?null:e.jsx(Za.Provider,{value:{storeShift:r,dispatch:s},children:t})};function ZT({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(!1),[h,u]=c.useState(!1),m=()=>u(!1),j=()=>u(!0),y=()=>{s(""),a(""),o("")},f=x=>{x.preventDefault(),d(!0);const S={name:n,price:Number(r),section:i};T.post(`${fn}/${t}/addtostock`,S).then(()=>{y(),m(),d(!1)}).catch(N=>{console.log(N),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:j,children:"New Product"}),e.jsxs(g,{show:h,onHide:()=>{m(),y()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:f,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:x=>s(x.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:x=>a(x.target.value)})]}),e.jsx(p.Label,{children:"Section"}),e.jsxs(p.Select,{className:"mb-3",required:!0,value:i,onChange:x=>o(x.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select section"}),e.jsx("option",{value:"drinks",children:"Drinks"}),e.jsx("option",{value:"food",children:"Food"}),e.jsx("option",{value:"other",children:"Other"}),e.jsx("option",{value:"shopA1",children:"Shop A1"}),e.jsx("option",{value:"shopA2",children:"Shop A2"})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:l,children:l?"Loading...":"Submit"})]})})]})]})}function Xm({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.post(`${fn}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}function eA({id:t,stock:n}){const[s,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState(!1);c.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[d,h]=c.useState(!1),u=()=>h(!1),m=()=>h(!0),j=()=>{r(""),i("")},y=f=>{f.preventDefault(),l(!0);const x={price:Number(s),name:a};T.post(`${fn}/${t}/updatename/${n._id}`,x).then(()=>{j(),u(),l(!1)}).catch(S=>{console.error(S),l(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:m,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:d,onHide:()=>{u()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Price or Name"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:y,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}function tA({id:t,stock:n}){const[s,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState(!1),{user:d}=c.useContext(he);c.useEffect(()=>{Object.keys(n).length>0&&(r(n.ostock),i(n.damage))},[n]);const[h,u]=c.useState(!1),m=()=>u(!1),j=()=>u(!0),y=()=>{r(""),i("")},f=x=>{x.preventDefault(),l(!0);const S={ostock:Number(s),damage:Number(a)};T.post(`${fn}/${t}/updatestock/${n._id}`,S).then(()=>{y(),m(),l(!1)}).catch(N=>{console.error(N),l(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:j,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:h,onHide:()=>{m()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit OStock or Damage"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:f,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"O Stock"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:s,readOnly:d.role!=="admin",onChange:x=>r(x.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Damage"}),e.jsx(p.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:x=>i(x.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}function nA(){const[t,n]=c.useState([]),[s,r]=c.useState(1),a=70,{storeShift:i}=c.useContext(Za),{user:o}=c.useContext(he),l=s*a,d=l-a;let h;return Object.keys(t).length!==0&&(h=t.slice(d,l)),c.useEffect(()=>{if(Object.keys(i).length!==0){const u=i.stock.filter(x=>x.section==="drinks"),m=i.stock.filter(x=>x.section==="food"),j=i.stock.filter(x=>x.section==="other"),y=i.stock.filter(x=>x.section==="shopa1"),f=i.stock.filter(x=>x.section==="shopa2");n([...u,...m,...j,...y,...f])}},[i]),e.jsxs(e.Fragment,{children:[o!==null&&o.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center mt-3 ",children:e.jsx(ZT,{id:i._id})}),e.jsxs(ee,{bordered:!0,size:"sm",className:"text-center my-3 text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),o!==null&&o.role==="admin"&&e.jsx("th",{children:"Price"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"OStock"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Issued"}),e.jsx("th",{children:"CStock"}),e.jsx("th",{children:"Action"}),o!==null&&o.role==="admin"&&e.jsx("th",{children:"Total"})]})}),e.jsx("tbody",{className:"table-group-divider",children:h!==void 0&&h.map(u=>e.jsxs("tr",{children:[e.jsx("td",{children:u.code}),o!==null&&o.role==="admin"&&e.jsxs("td",{children:["K",u.price]}),e.jsx("td",{children:u.name}),e.jsx("td",{className:u.ostock===0?"text-muted":"",children:u.ostock.toFixed(2)}),e.jsx("td",{className:u.damage===0?"text-muted":u.damage<0?"text-danger":u.damage>0?"text-primary":"",children:u.damage}),e.jsx("td",{className:u.received>0?"text-info":u.received===0?"text-muted":"",children:u.received}),e.jsx("td",{className:u.issued>0?"text-info":u.issued===0?"text-muted":"",children:u.issued}),e.jsx("td",{className:u.cstock<0?"text-danger":u.cstock===0?"text-muted":"",children:u.cstock.toFixed(2)}),e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(tA,{id:i._id,stock:u}),o!==null&&o.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Xm,{endpoint:"deleteStock",id:u._id,shiftId:i._id}),e.jsx(eA,{id:i._id,stock:u})]})]}),o!==null&&o.role==="admin"&&e.jsxs("td",{className:u.cstock<0?"text-danger":u.cstock===0?"text-muted":"",children:["K",(u.cstock*u.price).toLocaleString()]})]},u._id))})]}),Object.keys(i).length!==0&&e.jsx(Hn,{className:"justify-content-center",children:Array.from({length:Math.ceil(i.stock.length/a)},(u,m)=>e.jsx(Hn.Item,{active:m+1===s,onClick:()=>r(m+1),children:m+1},m+1))})]})}function sA({children:t,product:n,clear:s,storeShift:r}){const[a,i]=c.useState(!1),[o,l]=c.useState(""),[d,h]=c.useState(""),[u,m]=c.useState(!1),j=()=>{l(""),i(!1),s()},y=()=>i(!0);if(n===null)return;const f=async x=>{if(x.preventDefault(),m(!0),isNaN(Number(o)))return;const S={code:n.code,name:n.name,to:d,quantity:Number(o)};try{await T.post(`${fn}/${r._id}/addissued`,S).then(()=>{j(),m(!1)})}catch(N){console.error(N),m(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:y,className:"d-flex justify-content-center align-items-center",children:t}),e.jsxs(g,{show:a,onHide:j,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Issued "})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:f,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{htmlFor:"code",children:"Code"}),e.jsx(p.Control,{type:"text",id:"code",value:n.code,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{htmlFor:"name",children:"Name"}),e.jsx(p.Control,{type:"text",id:"name",value:n.name,readOnly:!0})]}),e.jsxs(p.Group,{children:[e.jsx(p.Label,{htmlFor:"to",children:"To"}),e.jsxs(p.Select,{id:"to",value:d,required:!0,autoFocus:!0,onChange:x=>h(x.target.value),children:[e.jsx("option",{value:"",children:"Select To"}),r.shops.map(x=>e.jsx("option",{value:x,children:x},x))]})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{htmlFor:"quantity",children:"Quantity"}),e.jsx(p.Control,{type:"text",id:"quantity",value:o,required:!0,autoComplete:"off",onChange:x=>l(x.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:u,children:u?"Loading...":"Submit"})]})})]})]})}function rA(){const[t,n]=c.useState([]),[s,r]=c.useState(""),[a,i]=c.useState([]),{storeShift:o}=c.useContext(Za),{user:l}=c.useContext(he);c.useEffect(()=>{Object.keys(o).length!==0&&n(o.issued)},[o]);const d=u=>{const m=u.target.value;r(m);const j=o.stock.filter(y=>y.name.toLowerCase().includes(m.toLowerCase())||y.code.toString().includes(m));i(j)},h=()=>{r(""),i([])};return e.jsxs(te,{className:"my-3",children:[e.jsxs("div",{className:"pb-3 w-50 ",children:[e.jsx(p.Control,{type:"text",placeholder:"Search",value:s,onChange:d,autoFocus:!0}),s&&e.jsx(et,{className:"position-absolute w-50 mt-1",children:a.map(u=>e.jsx(sA,{product:u,storeShift:o,clear:h,children:e.jsxs(et.Item,{action:!0,children:[u.code," - ",u.name]},u._id)},u._id))})]}),e.jsxs(ee,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"To"}),l&&l.role==="admin"&&e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(u=>e.jsxs("tr",{children:[e.jsx("td",{children:u.code}),e.jsx("td",{className:"text-capitalize",children:u.name}),e.jsx("td",{children:u.quantity}),e.jsx("td",{className:"text-capitalize",children:u.to}),l&&l.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Xm,{endpoint:"deleteissued",id:u._id,shiftId:o._id})})]},u._id))})]})]})}function aA({children:t,product:n,clear:s,storeShift:r}){const[a,i]=c.useState(!1),[o,l]=c.useState(""),[d,h]=c.useState(!1),u=()=>{l(""),i(!1),s()},m=()=>i(!0);if(n===null)return;const j=async y=>{if(y.preventDefault(),h(!0),isNaN(Number(o)))return;const f={code:n.code,name:n.name,quantity:Number(o)};try{await T.post(`${fn}/${r._id}/addreceived`,f).then(()=>{u(),h(!1)})}catch(x){console.error(x),h(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:m,className:"d-flex justify-content-center align-items-center",children:t}),e.jsxs(g,{show:a,onHide:u,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Receive"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{htmlFor:"code",children:"Code"}),e.jsx(p.Control,{type:"text",id:"code",value:n.code,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{htmlFor:"name",children:"Name"}),e.jsx(p.Control,{type:"text",id:"name",value:n.name,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{htmlFor:"quantity",children:"Quantity"}),e.jsx(p.Control,{type:"text",id:"quantity",value:o,required:!0,autoFocus:!0,autoComplete:"off",onChange:y=>l(y.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:d,children:d?"Loading...":"Submit"})]})})]})]})}function iA(){const[t,n]=c.useState([]),[s,r]=c.useState(""),[a,i]=c.useState([]),{storeShift:o}=c.useContext(Za),{user:l}=c.useContext(he);c.useEffect(()=>{Object.keys(o).length!==0&&n(o.received)},[o]);const d=u=>{const m=u.target.value;r(m);const j=o.stock.filter(y=>y.name.toLowerCase().includes(m.toLowerCase())||y.code.toString().includes(m));i(j)},h=()=>{r(""),i([])};return e.jsxs(te,{className:"my-3",children:[e.jsxs("div",{className:"pb-3 w-50 ",children:[e.jsx(p.Control,{type:"text",placeholder:"Search",value:s,onChange:d,autoFocus:!0}),s&&e.jsx(et,{className:"position-absolute w-50 mt-1",children:a.map(u=>e.jsx(aA,{product:u,storeShift:o,clear:h,children:e.jsxs(et.Item,{action:!0,children:[u.code," - ",u.name]},u._id)},u._id))})]}),e.jsxs(ee,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),l&&l.role==="admin"&&e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(u=>e.jsxs("tr",{children:[e.jsx("td",{children:u.code}),e.jsx("td",{className:"text-capitalize",children:u.name}),e.jsx("td",{children:u.quantity}),l&&l.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Xm,{endpoint:"deletereceived",id:u._id,shiftId:o._id})})]},u._id))})]})]})}function oA({shiftId:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(!1),i=()=>s(!1),o=()=>s(!0),l=()=>{a(!0),T.delete(`${fn}/${t}`).then(()=>{i(),a(!1),window.location.reload()}).catch(d=>{console.log(d),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:o,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:n,onHide:i,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:r,onClick:()=>{l()},children:r?"Loading...":"Yes"})]})]})]})}function lA(){const[t,n]=c.useState([]),s=()=>{T.get(`${fn}/shifts`).then(o=>{n(o.data)}).catch(o=>{console.log(o)})};c.useEffect(()=>{s()},[]);const r=()=>{const o={};t.forEach(d=>{const h=d.date?d.date.split("-")[1]:"undefined";o[h]||(o[h]=[]),o[h].push(d)});const l=Object.keys(o).sort((d,h)=>{var f,x;if(d==="undefined")return-1;if(h==="undefined")return 1;const u=(f=o[d][0])==null?void 0:f.date,m=(x=o[h][0])==null?void 0:x.date;if(!u||!m)return 0;const j=new Date(u);return new Date(m)-j});return l.forEach(d=>{o[d].sort((h,u)=>{const m=h.date?new Date(h.date).getTime():null,j=u.date?new Date(u.date).getTime():null;return!m&&!j?0:m?j?j-m:1:-1})}),{sortedMonths:l,groupedShifts:o}},{sortedMonths:a,groupedShifts:i}=r();return e.jsxs(te,{className:"my-3",children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(D,{variant:"outline-primary",onClick:s,className:"mb-3",children:"Refetch"})}),e.jsxs(ee,{bordered:!0,className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date"}),e.jsx("th",{style:{width:"15%"},children:"Acountant"}),e.jsx("th",{children:"Checked By"}),e.jsx("th",{style:{width:"15%"},children:"Keeper"}),e.jsx("th",{children:"Actions"})]})}),a.map((o,l)=>e.jsx("tbody",{className:"table-group-divider",children:i[o].map((d,h)=>e.jsxs("tr",{children:[e.jsx("td",{children:d.date}),e.jsx("td",{className:"text-capitalize",children:d.accountant}),e.jsx("td",{className:"text-capitalize",children:d.checkedBy}),e.jsx("td",{className:"text-capitalize",children:d.keeper}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Me,{to:`/store/${d._id}`,style:{textDecoration:"none"},children:e.jsx(D,{variant:"outline-primary me-1",size:"sm",children:"V"})}),l===0&&h===0&&e.jsx(oA,{shiftId:d._id})]})]},d._id))},o))]})]})}function cA({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${fn}/${t}/adddate`,{date:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Date"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:r?"Loading…":"Submit"})]})})]})]})}function dA({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${fn}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Acountant"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function uA({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${fn}/${t}/addkeeper`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Keeper"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Adding...":"Submit"})]})})]})]})}function hA({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${fn}/${t}/addcheckedby`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Checked By"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function fA(){const[t,n]=c.useState(!1),[s,r]=c.useState(!1),a=()=>n(!1),i=()=>n(!0),o=l=>{l.preventDefault(),r(!0),T.post(`${fn}/newshift`).then(()=>{r(!1),a(),window.location.reload()}).catch(d=>{console.log(d),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want to proceed to the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(D,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(D,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading...":"Continue"})]})]})]})}function mA(){const[t,n]=c.useState(!0),{storeShift:s}=c.useContext(Za),{user:r}=c.useContext(he),a=s&&s.stock?s.stock.reduce((u,m)=>{const j=m.cstock*m.price;return u+j},0):0,i=c.useCallback(()=>{if(s!==null&&Object.keys(s).length>0){const u=s&&s.date?s.date.length:0,m=s&&s.accountant?s.accountant.length:0,j=s&&s.checkedBy?s.checkedBy.length:0,y=s&&s.keeper?s.keeper.length:0;j>0&&m>0&&u>0&&y>0?n(!1):n(!0)}},[s]);c.useEffect(()=>{i()},[i]);const o=()=>{T.post(`${fn}/${s._id}/deletedate`).then(()=>{i()})},l=()=>{T.post(`${fn}/${s._id}/deleteaccountant`).then(()=>{i()})},d=()=>{T.post(`${fn}/${s._id}/deletekeeper`).then(()=>{i()})},h=()=>{T.post(`${fn}/${s._id}/deletecheckedby`).then(()=>{i()})};return e.jsx(te,{className:"mt-3",children:e.jsxs(Ne,{children:[e.jsxs(Y,{className:"border mx-2 p-4 d-flex flex-column justify-content-center align-items-center",children:[e.jsx("p",{className:"fw-lighter",children:"Double click on names or date to delete."}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Date :"}),s&&s.date&&s.date.length>0?e.jsx("h4",{onDoubleClick:o,style:{cursor:"pointer"},children:s.date}):e.jsx(cA,{id:s._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Accountant :"}),s&&s.accountant&&s.accountant.length>0?e.jsx("h4",{className:"text-capitalize",onDoubleClick:l,style:{cursor:"pointer"},children:s.accountant}):e.jsx(dA,{id:s._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Chacked By :"}),s&&s.checkedBy&&s.checkedBy.length>0?e.jsx("h4",{className:"text-capitalize",onDoubleClick:h,style:{cursor:"pointer"},children:s.checkedBy}):r&&r.role==="admin"?e.jsx(hA,{id:s._id}):null]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Keeper :"}),s&&s.keeper&&s.keeper.length>0?e.jsx("h4",{className:"text-capitalize",onDoubleClick:d,style:{cursor:"pointer"},children:s.keeper}):e.jsx(uA,{id:s._id})]}),e.jsx("div",{className:"d-flex justify-content-center align-items-center my-3 pt-2",children:!t&&e.jsx(fA,{})})]}),r&&r.role==="admin"&&e.jsx(Y,{className:"d-flex justify-content-center align-items-center border mx-2 p-4",children:e.jsxs("p",{className:"display-6",children:["Total :"," ",e.jsxs("span",{className:a<0?"text-danger":"",children:["K",a.toLocaleString()]})]})})]})})}function pA(){const{user:t}=c.useContext(he);return c.useEffect(()=>{document.title="Yussman - Store"},[]),e.jsx(e.Fragment,{children:e.jsx(te,{fluid:!0,className:"py-3",children:e.jsxs(Ft,{justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsx(nA,{})}),e.jsx(X,{eventKey:"issued",title:"Issued / Out",children:e.jsx(rA,{})}),e.jsx(X,{eventKey:"received",title:"Received / In",children:e.jsx(iA,{})}),e.jsx(X,{eventKey:"final",title:"Final",children:e.jsx(mA,{})}),t&&t.role==="admin"&&e.jsx(X,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(lA,{})})]})})})}const ei=c.createContext(),xA=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},jA=({children:t})=>{const[n,s]=c.useReducer(xA,{shift:null}),[r,a]=c.useState({});c.useEffect(()=>{T.get(mn).then(o=>{i(o.data)})},[]),c.useEffect(()=>{En(mt).on("chinsalistore",l=>{s({type:"SET_SHIFT",payload:l})})},[]);const i=o=>{if(o!==null){const l={},d={};o.received&&Array.isArray(o.received)&&o.received.forEach(u=>{const{code:m,quantity:j}=u;l[m]=(l[m]||0)+j}),o.issued&&Array.isArray(o.issued)&&o.issued.forEach(u=>{const{code:m,quantity:j}=u;d[m]=(d[m]||0)+j});let h={...o,stock:o.stock.map(u=>{const{code:m,ostock:j,damage:y}=u,f=l[m]||0,x=d[m]||0,S=j+f-y-x;return{...u,received:f,issued:x,cstock:S}})};h.stock.sort((u,m)=>u.name.localeCompare(m.name)),a(h)}};return c.useEffect(()=>{i(n.shift)},[n.shift]),r===null?null:e.jsx(ei.Provider,{value:{storeShift:r,dispatch:s},children:t})};function gA({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(!1),[l,d]=c.useState(!1),h=()=>d(!1),u=()=>d(!0),m=()=>{s(""),a("")},j=y=>{y.preventDefault(),o(!0);const f={name:n,price:Number(r),section:"food"};T.post(`${mn}/${t}/addtostock`,f).then(()=>{m(),h(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:u,children:"New Product"}),e.jsxs(g,{show:l,onHide:()=>{h(),m()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:y=>s(y.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:y=>a(y.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function Zm({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.post(`${mn}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Deleting...":"Yes"})]})]})]})}function yA({id:t,stock:n}){const[s,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState(!1);c.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[d,h]=c.useState(!1),u=()=>h(!1),m=()=>h(!0),j=()=>{r(""),i("")},y=f=>{f.preventDefault(),l(!0);const x={price:Number(s),name:a};T.post(`${mn}/${t}/updatename/${n._id}`,x).then(()=>{j(),u(),l(!1)}).catch(S=>{console.error(S),l(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:m,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:d,onHide:()=>{u()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Price or Name"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:y,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}function vA({id:t,stock:n}){const[s,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState(!1),{user:d}=c.useContext(he);c.useEffect(()=>{Object.keys(n).length>0&&(r(n.ostock),i(n.damage))},[n]);const[h,u]=c.useState(!1),m=()=>u(!1),j=()=>u(!0),y=()=>{r(""),i("")},f=x=>{x.preventDefault(),l(!0);const S={ostock:Number(s),damage:Number(a)};T.post(`${mn}/${t}/updatestock/${n._id}`,S).then(()=>{y(),m(),l(!1)}).catch(N=>{console.error(N),l(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:j,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:h,onHide:()=>{m()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit OStock or Damage"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:f,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"O Stock"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:s,readOnly:d.role!=="admin",onChange:x=>r(x.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Damage"}),e.jsx(p.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:x=>i(x.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:o?"Loading...":"Submit"})]})})]})]})}function SA(){const[t,n]=c.useState([]),[s,r]=c.useState(1),a=70,{storeShift:i}=c.useContext(ei),{user:o}=c.useContext(he),l=s*a,d=l-a;let h;return Object.keys(t).length!==0&&(h=t.slice(d,l)),c.useEffect(()=>{if(Object.keys(i).length!==0){const u=i.stock.filter(x=>x.section==="drinks"),m=i.stock.filter(x=>x.section==="food"),j=i.stock.filter(x=>x.section==="other"),y=i.stock.filter(x=>x.section==="shopa1"),f=i.stock.filter(x=>x.section==="shopa2");n([...u,...m,...j,...y,...f])}},[i]),e.jsxs(e.Fragment,{children:[o!==null&&o.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center mt-3 ",children:e.jsx(gA,{id:i._id})}),e.jsxs(ee,{bordered:!0,size:"sm",className:"text-center my-3 text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),o!==null&&o.role==="admin"&&e.jsx("th",{children:"Price"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"OStock"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Issued"}),e.jsx("th",{children:"CStock"}),e.jsx("th",{children:"Action"}),o!==null&&o.role==="admin"&&e.jsx("th",{children:"Total"})]})}),e.jsx("tbody",{className:"table-group-divider",children:h!==void 0&&h.map(u=>e.jsxs("tr",{children:[e.jsx("td",{children:u.code}),o!==null&&o.role==="admin"&&e.jsxs("td",{children:["K",u.price]}),e.jsx("td",{children:u.name}),e.jsx("td",{className:u.ostock===0?"text-muted":"",children:u.ostock.toFixed(2)}),e.jsx("td",{className:u.damage===0?"text-muted":u.damage<0?"text-danger":u.damage>0?"text-primary":"",children:u.damage}),e.jsx("td",{className:u.received>0?"text-info":u.received===0?"text-muted":"",children:u.received}),e.jsx("td",{className:u.issued>0?"text-info":u.issued===0?"text-muted":"",children:u.issued}),e.jsx("td",{className:u.cstock<0?"text-danger":u.cstock===0?"text-muted":"",children:u.cstock.toFixed(2)}),e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(vA,{id:i._id,stock:u}),o!==null&&o.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Zm,{endpoint:"deleteStock",id:u._id,shiftId:i._id}),e.jsx(yA,{id:i._id,stock:u})]})]}),o!==null&&o.role==="admin"&&e.jsxs("td",{className:u.cstock<0?"text-danger":u.cstock===0?"text-muted":"",children:["K",(u.cstock*u.price).toLocaleString()]})]},u._id))})]}),Object.keys(i).length!==0&&e.jsx(Hn,{className:"justify-content-center",children:Array.from({length:Math.ceil(i.stock.length/a)},(u,m)=>e.jsx(Hn.Item,{active:m+1===s,onClick:()=>r(m+1),children:m+1},m+1))})]})}function bA({children:t,product:n,clear:s,storeShift:r}){const[a,i]=c.useState(!1),[o,l]=c.useState(""),[d,h]=c.useState(""),[u,m]=c.useState(!1),j=()=>{l(""),i(!1),s()},y=()=>i(!0);if(n===null)return;const f=async x=>{if(x.preventDefault(),m(!0),isNaN(Number(o)))return;const S={code:n.code,name:n.name,to:d,quantity:Number(o)};try{await T.post(`${mn}/${r._id}/addissued`,S).then(()=>{j(),m(!1)})}catch(N){console.error(N),m(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:y,className:"d-flex justify-content-center align-items-center",children:t}),e.jsxs(g,{show:a,onHide:j,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Issued "})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:f,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{htmlFor:"code",children:"Code"}),e.jsx(p.Control,{type:"text",id:"code",value:n.code,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{htmlFor:"name",children:"Name"}),e.jsx(p.Control,{type:"text",id:"name",value:n.name,readOnly:!0})]}),e.jsxs(p.Group,{children:[e.jsx(p.Label,{htmlFor:"to",children:"To"}),e.jsxs(p.Select,{id:"to",value:d,required:!0,autoFocus:!0,onChange:x=>h(x.target.value),children:[e.jsx("option",{value:"",children:"Select To"}),r.shops.map(x=>e.jsx("option",{value:x,children:x},x))]})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{htmlFor:"quantity",children:"Quantity"}),e.jsx(p.Control,{type:"text",id:"quantity",value:o,required:!0,autoComplete:"off",onChange:x=>l(x.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:u,children:u?"Loading...":"Submit"})]})})]})]})}function CA(){const[t,n]=c.useState([]),[s,r]=c.useState(""),[a,i]=c.useState([]),{storeShift:o}=c.useContext(ei),{user:l}=c.useContext(he);c.useEffect(()=>{Object.keys(o).length!==0&&n(o.issued)},[o]);const d=u=>{const m=u.target.value;r(m);const j=o.stock.filter(y=>y.name.toLowerCase().includes(m.toLowerCase())||y.code.toString().includes(m));i(j)},h=()=>{r(""),i([])};return e.jsxs(te,{className:"my-3",children:[e.jsxs("div",{className:"pb-3 w-50 ",children:[e.jsx(p.Control,{type:"text",placeholder:"Search",value:s,onChange:d,autoFocus:!0}),s&&e.jsx(et,{className:"position-absolute w-50 mt-1",children:a.map(u=>e.jsx(bA,{product:u,storeShift:o,clear:h,children:e.jsxs(et.Item,{action:!0,children:[u.code," - ",u.name]},u._id)},u._id))})]}),e.jsxs(ee,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"To"}),l&&l.role==="admin"&&e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(u=>e.jsxs("tr",{children:[e.jsx("td",{children:u.code}),e.jsx("td",{className:"text-capitalize",children:u.name}),e.jsx("td",{children:u.quantity}),e.jsx("td",{className:"text-capitalize",children:u.to}),l&&l.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Zm,{endpoint:"deleteissued",id:u._id,shiftId:o._id})})]},u._id))})]})]})}function wA({children:t,product:n,clear:s,storeShift:r}){const[a,i]=c.useState(!1),[o,l]=c.useState(""),[d,h]=c.useState(!1),u=()=>{l(""),i(!1),s()},m=()=>i(!0);if(n===null)return;const j=async y=>{if(y.preventDefault(),h(!0),isNaN(Number(o)))return;const f={code:n.code,name:n.name,quantity:Number(o)};try{await T.post(`${mn}/${r._id}/addreceived`,f).then(()=>{u(),h(!1)})}catch(x){console.error(x),h(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:m,className:"d-flex justify-content-center align-items-center",children:t}),e.jsxs(g,{show:a,onHide:u,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Receive"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{htmlFor:"code",children:"Code"}),e.jsx(p.Control,{type:"text",id:"code",value:n.code,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{htmlFor:"name",children:"Name"}),e.jsx(p.Control,{type:"text",id:"name",value:n.name,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{htmlFor:"quantity",children:"Quantity"}),e.jsx(p.Control,{type:"text",id:"quantity",value:o,required:!0,autoFocus:!0,autoComplete:"off",onChange:y=>l(y.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:d,children:d?"Loading...":"Submit"})]})})]})]})}function NA(){const[t,n]=c.useState([]),[s,r]=c.useState(""),[a,i]=c.useState([]),{storeShift:o}=c.useContext(ei),{user:l}=c.useContext(he);c.useEffect(()=>{Object.keys(o).length!==0&&n(o.received)},[o]);const d=u=>{const m=u.target.value;r(m);const j=o.stock.filter(y=>y.name.toLowerCase().includes(m.toLowerCase())||y.code.toString().includes(m));i(j)},h=()=>{r(""),i([])};return e.jsxs(te,{className:"my-3",children:[e.jsxs("div",{className:"pb-3 w-50 ",children:[e.jsx(p.Control,{type:"text",placeholder:"Search",value:s,onChange:d,autoFocus:!0}),s&&e.jsx(et,{className:"position-absolute w-50 mt-1",children:a.map(u=>e.jsx(wA,{product:u,storeShift:o,clear:h,children:e.jsxs(et.Item,{action:!0,children:[u.code," - ",u.name]},u._id)},u._id))})]}),e.jsxs(ee,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),l&&l.role==="admin"&&e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(u=>e.jsxs("tr",{children:[e.jsx("td",{children:u.code}),e.jsx("td",{className:"text-capitalize",children:u.name}),e.jsx("td",{children:u.quantity}),l&&l.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Zm,{endpoint:"deletereceived",id:u._id,shiftId:o._id})})]},u._id))})]})]})}function kA({shiftId:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(!1),i=()=>s(!1),o=()=>s(!0),l=()=>{a(!0),T.delete(`${mn}/${t}`).then(()=>{i(),a(!1),window.location.reload()}).catch(d=>{console.log(d),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:o,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:n,onHide:i,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:r,onClick:()=>{l()},children:r?"Loading...":"Yes"})]})]})]})}function EA(){const[t,n]=c.useState([]),s=()=>{T.get(`${mn}/shifts`).then(o=>{n(o.data)}).catch(o=>{console.log(o)})};c.useEffect(()=>{s()},[]);const r=()=>{const o={};t.forEach(d=>{const h=d.date?d.date.split("-")[1]:"undefined";o[h]||(o[h]=[]),o[h].push(d)});const l=Object.keys(o).sort((d,h)=>{var f,x;if(d==="undefined")return-1;if(h==="undefined")return 1;const u=(f=o[d][0])==null?void 0:f.date,m=(x=o[h][0])==null?void 0:x.date;if(!u||!m)return 0;const j=new Date(u);return new Date(m)-j});return l.forEach(d=>{o[d].sort((h,u)=>{const m=h.date?new Date(h.date).getTime():null,j=u.date?new Date(u.date).getTime():null;return!m&&!j?0:m?j?j-m:1:-1})}),{sortedMonths:l,groupedShifts:o}},{sortedMonths:a,groupedShifts:i}=r();return e.jsxs(te,{className:"my-3",children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(D,{variant:"outline-primary",onClick:s,className:"mb-3",children:"Refetch"})}),e.jsxs(ee,{bordered:!0,className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date"}),e.jsx("th",{style:{width:"15%"},children:"Acountant"}),e.jsx("th",{children:"Checked By"}),e.jsx("th",{style:{width:"15%"},children:"Keeper"}),e.jsx("th",{children:"Actions"})]})}),a.map((o,l)=>e.jsx("tbody",{className:"table-group-divider",children:i[o].map((d,h)=>e.jsxs("tr",{children:[e.jsx("td",{children:d.date}),e.jsx("td",{className:"text-capitalize",children:d.accountant}),e.jsx("td",{className:"text-capitalize",children:d.checkedBy}),e.jsx("td",{className:"text-capitalize",children:d.keeper}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Me,{to:`/chinsalistore/${d._id}`,style:{textDecoration:"none"},children:e.jsx(D,{variant:"outline-primary me-1",size:"sm",children:"V"})}),l===0&&h===0&&e.jsx(kA,{shiftId:d._id})]})]},d._id))},o))]})]})}function LA({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${mn}/${t}/adddate`,{date:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Date"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:r?"Loading…":"Submit"})]})})]})]})}function DA({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${mn}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Acountant"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function $A({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${mn}/${t}/addkeeper`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Keeper"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Adding...":"Submit"})]})})]})]})}function OA({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${mn}/${t}/addcheckedby`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Checked By"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function TA(){const[t,n]=c.useState(!1),[s,r]=c.useState(!1),a=()=>n(!1),i=()=>n(!0),o=l=>{l.preventDefault(),r(!0),T.post(`${mn}/newshift`).then(()=>{r(!1),a(),window.location.reload()}).catch(d=>{console.log(d),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want to proceed to the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(D,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(D,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading...":"Continue"})]})]})]})}function AA(){const[t,n]=c.useState(!0),{storeShift:s}=c.useContext(ei),{user:r}=c.useContext(he),a=s&&s.stock?s.stock.reduce((u,m)=>{const j=m.cstock*m.price;return u+j},0):0,i=c.useCallback(()=>{if(s!==null&&Object.keys(s).length>0){const u=s&&s.date?s.date.length:0,m=s&&s.accountant?s.accountant.length:0,j=s&&s.checkedBy?s.checkedBy.length:0,y=s&&s.keeper?s.keeper.length:0;j>0&&m>0&&u>0&&y>0?n(!1):n(!0)}},[s]);c.useEffect(()=>{i()},[i]);const o=()=>{T.post(`${mn}/${s._id}/deletedate`).then(()=>{i()})},l=()=>{T.post(`${mn}/${s._id}/deleteaccountant`).then(()=>{i()})},d=()=>{T.post(`${mn}/${s._id}/deletekeeper`).then(()=>{i()})},h=()=>{T.post(`${mn}/${s._id}/deletecheckedby`).then(()=>{i()})};return e.jsx(te,{className:"mt-3",children:e.jsxs(Ne,{children:[e.jsxs(Y,{className:"border mx-2 p-4 d-flex flex-column justify-content-center align-items-center",children:[e.jsx("p",{className:"fw-lighter",children:"Double click on names or date to delete."}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Date :"}),s&&s.date&&s.date.length>0?e.jsx("h4",{onDoubleClick:o,style:{cursor:"pointer"},children:s.date}):e.jsx(LA,{id:s._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Accountant :"}),s&&s.accountant&&s.accountant.length>0?e.jsx("h4",{className:"text-capitalize",onDoubleClick:l,style:{cursor:"pointer"},children:s.accountant}):e.jsx(DA,{id:s._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Chacked By :"}),s&&s.checkedBy&&s.checkedBy.length>0?e.jsx("h4",{className:"text-capitalize",onDoubleClick:h,style:{cursor:"pointer"},children:s.checkedBy}):r&&r.role==="admin"?e.jsx(OA,{id:s._id}):null]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select py-2",children:[e.jsx("h4",{className:"me-1",children:"Keeper :"}),s&&s.keeper&&s.keeper.length>0?e.jsx("h4",{className:"text-capitalize",onDoubleClick:d,style:{cursor:"pointer"},children:s.keeper}):e.jsx($A,{id:s._id})]}),e.jsx("div",{className:"d-flex justify-content-center align-items-center my-3 pt-2",children:!t&&e.jsx(TA,{})})]}),r&&r.role==="admin"&&e.jsx(Y,{className:"d-flex justify-content-center align-items-center border mx-2 p-4",children:e.jsxs("p",{className:"display-6",children:["Total :"," ",e.jsxs("span",{className:a<0?"text-danger":"",children:["K",a.toLocaleString()]})]})})]})})}function BA(){const{user:t}=c.useContext(he);return c.useEffect(()=>{document.title="Yussman - Chinsali Store"},[]),e.jsx(e.Fragment,{children:e.jsx(te,{fluid:!0,className:"py-3",children:e.jsxs(Ft,{justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsx(SA,{})}),e.jsx(X,{eventKey:"issued",title:"Issued / Out",children:e.jsx(CA,{})}),e.jsx(X,{eventKey:"received",title:"Received / In",children:e.jsx(NA,{})}),e.jsx(X,{eventKey:"final",title:"Final",children:e.jsx(AA,{})}),t&&t.role==="admin"&&e.jsx(X,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(EA,{})})]})})})}const zd=c.createContext(),_A=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},RA=({children:t})=>{const[n,s]=c.useReducer(_A,{shift:null}),[r,a]=c.useState({});c.useEffect(()=>{T.get(dn).then(o=>{i(o.data)})},[]),c.useEffect(()=>{En(mt).on("register",l=>{s({type:"SET_SHIFT",payload:l})})},[]);const i=o=>{o!==null&&a(o)};return c.useEffect(()=>{i(n.shift)},[n.shift]),r===null?null:e.jsx(zd.Provider,{value:{RegisterShift:r,dispatch:s},children:t})},Ca=c.createContext(),IA=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},PA=({children:t})=>{const[n,s]=c.useReducer(IA,{shift:null}),[r,a]=c.useState({});c.useEffect(()=>{T.get(Lt).then(o=>{i(o.data)})},[]),c.useEffect(()=>{En(mt).on("shopa1",l=>{s({type:"SET_SHIFT",payload:l})})},[]);const i=o=>{if(o!==null){const l={};o.received&&Array.isArray(o.received)&&o.received.forEach(h=>{const u=h.code,m=h.amount;l[u]===void 0?l[u]=m:l[u]+=m});const d={...o,stock:o.stock.map(h=>{const u=h.code;return l[u]!==void 0?{...h,received:l[u]}:h})};d.stock.sort((h,u)=>h.name.localeCompare(u.name)),a(d)}};return c.useEffect(()=>{i(n.shift)},[n.shift]),e.jsx(Ca.Provider,{value:{shopA1Shift:r,dispatch:s},children:t})},wa=c.createContext(),FA=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},MA=({children:t})=>{const[n,s]=c.useReducer(FA,{shift:null}),[r,a]=c.useState({});c.useEffect(()=>{T.get(Dt).then(o=>{i(o.data)})},[]),c.useEffect(()=>{En(mt).on("shopa2",l=>{s({type:"SET_SHIFT",payload:l})})},[]);const i=o=>{if(o!==null){const l={};o.received&&Array.isArray(o.received)&&o.received.forEach(h=>{const u=h.code,m=h.amount;l[u]===void 0?l[u]=m:l[u]+=m});const d={...o,stock:o.stock.map(h=>{const u=h.code;return l[u]!==void 0?{...h,received:l[u]}:h})};d.stock.sort((h,u)=>h.name.localeCompare(u.name)),a(d)}};return c.useEffect(()=>{i(n.shift)},[n.shift]),e.jsx(wa.Provider,{value:{shopA2Shift:r,dispatch:s},children:t})},Na=c.createContext(),zA=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},HA=({children:t})=>{const[n,s]=c.useReducer(zA,{shift:null}),[r,a]=c.useState({});c.useEffect(()=>{T.get($t).then(o=>{i(o.data)})},[]),c.useEffect(()=>{En(mt).on("shopb",l=>{s({type:"SET_SHIFT",payload:l})})},[]);const i=o=>{if(o!==null){const l={};o.received&&Array.isArray(o.received)&&o.received.forEach(h=>{const u=h.code,m=h.amount;l[u]===void 0?l[u]=m:l[u]+=m});const d={...o,stock:o.stock.map(h=>{const u=h.code;return l[u]!==void 0?{...h,received:l[u]}:h})};d.stock.sort((h,u)=>h.name.localeCompare(u.name)),a(d)}};return c.useEffect(()=>{i(n.shift)},[n.shift]),e.jsx(Na.Provider,{value:{shopBShift:r,dispatch:s},children:t})},ti=c.createContext(),KA=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},qA=({children:t})=>{const[n,s]=c.useReducer(KA,{shift:null}),[r,a]=c.useState({});c.useEffect(()=>{T.get(Wt).then(o=>{i(o.data)})},[]),c.useEffect(()=>{En(mt).on("shopw",l=>{s({type:"SET_SHIFT",payload:l})})},[]);const i=o=>{if(o!==null){const l={};o.received&&Array.isArray(o.received)&&o.received.forEach(h=>{const u=h.code,m=h.amount;l[u]===void 0?l[u]=m:l[u]+=m});const d={...o,stock:o.stock.map(h=>{const u=h.code;return l[u]!==void 0?{...h,received:l[u]}:h})};d.stock.sort((h,u)=>h.name.localeCompare(u.name)),a(d)}};return c.useEffect(()=>{i(n.shift)},[n.shift]),e.jsx(ti.Provider,{value:{shopWShift:r,dispatch:s},children:t})};function UA({id:t}){const{shopA1Shift:n}=c.useContext(Ca),{shopA2Shift:s}=c.useContext(wa),{shopBShift:r}=c.useContext(Na),{shopWShift:a}=c.useContext(ti),{storeShift:i}=c.useContext(Za),[o,l]=c.useState([]);c.useEffect(()=>{const F=Array.isArray(n.stock)?n.stock:[],xe=Array.isArray(s.stock)?s.stock:[],ge=Array.isArray(r.stock)?r.stock:[],_e=Array.isArray(a.stock)?a.stock:[],je=Array.isArray(i.stock)?i.stock:[];l([...F,...xe,...ge,..._e,...je])},[n,s,r,a,i]);const[d,h]=c.useState(!1),[u,m]=c.useState(!1),[j,y]=c.useState(""),[f,x]=c.useState([]),[S,N]=c.useState(null),[b,E]=c.useState(""),[v,k]=c.useState(""),[$,C]=c.useState(""),[w,A]=c.useState(""),[B,H]=c.useState(""),[I,L]=c.useState(""),R=()=>{h(!1),M()},G=()=>h(!0),Z=F=>{const xe=F.target.value.toLowerCase();y(xe);const ge=o.filter(_e=>{const je=_e.code.toString().includes(xe),le=_e.name.toLowerCase().includes(xe);return je||le});x(ge)},ne=F=>{N(F),E(F.name),k(F.code),C(F.price)},M=()=>{N(null),E(""),k(""),C(""),H(""),A(""),L(""),y("")},K=F=>{if(F.preventDefault(),m(!0),u)return;const xe={name:b.toLowerCase(),code:Number(v),unitPrice:Number($),quantity:Number(w),priceBought:Number(B),section:I.toLowerCase()};T.post(`${dn}/${t}/addtostock`,xe).then(()=>{R(),m(!1)}).catch(ge=>{console.log(ge),m(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"primary",onClick:G,size:"sm",children:"New"}),e.jsxs(g,{show:d,onHide:R,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New "})}),e.jsxs(g.Body,{children:[!S&&e.jsxs(e.Fragment,{children:[e.jsxs(p.Group,{className:" mb-3",children:[e.jsx(p.Label,{children:"Name or Code"}),e.jsx(p.Control,{autoFocus:!0,type:"text",placeholder:"Name or Code",value:j,onChange:F=>Z(F)})]}),j&&e.jsx(et,{children:f.map(F=>e.jsxs(et.Item,{action:!0,className:" text-capitalize",onClick:()=>{ne(F)},children:[F.code," - ",F.name," - ",`K${F.price}`]},F._id))})]}),S&&e.jsx(e.Fragment,{children:e.jsxs(p,{onSubmit:K,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{readOnly:!0,value:b})]}),e.jsxs(Ne,{className:"mb-3",children:[e.jsxs(Y,{children:[e.jsx(p.Label,{children:"Code"}),e.jsx(p.Control,{readOnly:!0,value:v})]}),e.jsxs(Y,{children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{readOnly:!0,value:$})]})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Quantity"}),e.jsx(p.Control,{autoFocus:!0,required:!0,type:"number",placeholder:"Quantity",min:0,value:w,onChange:F=>A(F.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price Bought"}),e.jsx(p.Control,{required:!0,type:"number",placeholder:"Price Bought",min:0,value:B,onChange:F=>H(F.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"From"}),e.jsxs(p.Select,{required:!0,value:I,onChange:F=>L(F.target.value),children:[e.jsx("option",{value:"",children:"Open this select menu"}),e.jsx("option",{value:"local",children:"Local"}),e.jsx("option",{value:"mearaj",children:"Mearaj"}),e.jsx("option",{value:"ilyas",children:"Ilyas"}),e.jsx("option",{value:"outside",children:"Outside"}),e.jsx("option",{value:"chansa",children:"Chansa"})]})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:u,children:u?"Submitting...":"Submit"})]})})]})]})]})}function Oo({id:t,shiftId:n}){const[s,r]=c.useState(!1),[a,i]=c.useState(!1),o=()=>r(!1),l=()=>r(!0),d=()=>{i(!0),!a&&T.post(`${dn}/${n}/deletestock/${t}`).then(()=>{o(),i(!1)}).catch(h=>{console.log(h),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:l,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:a,onClick:()=>{d()},children:a?"Deleting...":"Yes"})]})]})]})}function To({id:t,item:n}){const[s,r]=c.useState(!1),[a,i]=c.useState(!1),[o,l]=c.useState(""),[d,h]=c.useState(""),[u,m]=c.useState(""),[j,y]=c.useState(""),[f,x]=c.useState(""),[S,N]=c.useState("");c.useEffect(()=>{l(n.name),h(n.code),m(n.unitPrice),x(n.priceBought),y(n.quantity),N(n.section)},[n]);const b=()=>{r(!1)},E=()=>r(!0),v=k=>{if(k.preventDefault(),i(!0),a)return;const $={unitPrice:Number(u),quantity:Number(j),priceBought:Number(f),section:S.toLowerCase()};T.post(`${dn}/${t}/updatestock/${n._id}`,$).then(()=>{i(!1),b()}).catch(C=>{console.log(C),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-primary",size:"sm",onClick:E,className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:s,onHide:b,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New "})}),e.jsx(g.Body,{children:e.jsx(e.Fragment,{children:e.jsxs(p,{onSubmit:v,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{readOnly:!0,value:o})]}),e.jsxs(Ne,{className:"mb-3",children:[e.jsxs(Y,{children:[e.jsx(p.Label,{children:"Code"}),e.jsx(p.Control,{readOnly:!0,value:d})]}),e.jsxs(Y,{children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{readOnly:!0,value:u})]})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Quantity"}),e.jsx(p.Control,{autoFocus:!0,required:!0,type:"number",placeholder:"Quantity",min:0,value:j,onChange:k=>y(k.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price Bought"}),e.jsx(p.Control,{required:!0,type:"number",placeholder:"Price Bought",min:0,value:f,onChange:k=>x(k.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"From"}),e.jsxs(p.Select,{required:!0,value:S,onChange:k=>N(k.target.value),children:[e.jsx("option",{value:"",children:"Open this select menu"}),e.jsx("option",{value:"local",children:"Local"}),e.jsx("option",{value:"mearaj",children:"Mearaj"}),e.jsx("option",{value:"ilyas",children:"Ilyas"}),e.jsx("option",{value:"outside",children:"Outside"}),e.jsx("option",{value:"chansa",children:"Chansa"})]})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:a,children:a?"Submitting...":"Submit"})]})})})]})]})}function GA(){const{shopA1Shift:t}=c.useContext(Ca),{shopA2Shift:n}=c.useContext(wa),{shopBShift:s}=c.useContext(Na),{storeShift:r}=c.useContext(Za),[a,i]=c.useState([]);c.useEffect(()=>{const I=Array.isArray(t.stock)?t.stock.map(Z=>({...Z,source:"shopA1",shiftId:t._id})):[],L=Array.isArray(n.stock)?n.stock.map(Z=>({...Z,source:"shopA2",shiftId:n._id})):[],R=Array.isArray(s.stock)?s.stock.map(Z=>({...Z,source:"shopB",shiftId:s._id})):[],G=Array.isArray(r.stock)?r.stock.map(Z=>({...Z,source:"store",shiftId:r._id})):[];i([...I,...L,...R,...G])},[t,n,s,r]);const[o,l]=c.useState(!1),[d,h]=c.useState(!1),[u,m]=c.useState(""),[j,y]=c.useState([]),[f,x]=c.useState(null),[S,N]=c.useState(""),[b,E]=c.useState(""),[v,k]=c.useState(""),$=()=>{l(!1),B()},C=()=>l(!0),w=I=>{const L=I.target.value.toLowerCase();m(L);const R=a.filter(G=>{const Z=G.code.toString().includes(L),ne=G.name.toLowerCase().includes(L);return Z||ne});y(R)},A=I=>{x(I),N(I.name),E(I.code),k(I.price)},B=()=>{x(null),N(""),E(""),k(""),m("")},H=I=>{if(I.preventDefault(),h(!0),!f){console.error("No product selected"),h(!1);return}const L={price:Number(v),name:S};let R;if(f.source==="store")R=`${fn}/${f.shiftId}/updatename/${f._id}`;else{let G;switch(f.source){case"shopA1":G=Lt;break;case"shopA2":G=Dt;break;case"shopB":G=$t;break;default:console.error("Invalid product source"),h(!1);return}R=`${G}/${f.shiftId}/editname/${f._id}`}T.post(R,L).then(()=>{B(),$(),h(!1)}).catch(G=>{console.error(G),h(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-primary",onClick:C,size:"sm",children:"Change Price"}),e.jsxs(g,{show:o,onHide:$,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New "})}),e.jsxs(g.Body,{children:[!f&&e.jsxs(e.Fragment,{children:[e.jsxs(p.Group,{className:" mb-3",children:[e.jsx(p.Label,{children:"Name or Code"}),e.jsx(p.Control,{autoFocus:!0,type:"text",placeholder:"Name or Code",value:u,onChange:I=>w(I)})]}),u&&e.jsx(et,{children:j.map(I=>e.jsxs(et.Item,{action:!0,className:" text-capitalize",onClick:()=>{A(I)},children:[I.code," - ",I.name," - ",`K${I.price}`]},I._id))})]}),f&&e.jsx(e.Fragment,{children:e.jsxs(p,{onSubmit:H,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{readOnly:!0,value:S})]}),e.jsxs(Ne,{className:"mb-3",children:[e.jsxs(Y,{children:[e.jsx(p.Label,{children:"Code"}),e.jsx(p.Control,{readOnly:!0,value:b})]}),e.jsxs(Y,{children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{value:v,onChange:I=>k(I.target.value),autoFocus:!0})]})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:d,children:d?"Submitting...":"Submit"})]})})]})]})]})}function YA(){const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,i]=c.useState([]),[o,l]=c.useState([]),[d,h]=c.useState([]),[u,m]=c.useState(0),[j,y]=c.useState(0),[f,x]=c.useState(0),[S,N]=c.useState(0),[b,E]=c.useState(0),[v,k]=c.useState(0),{RegisterShift:$}=c.useContext(zd),{user:C}=c.useContext(he);return c.useEffect(()=>{if(Object.keys($).length!==0){const w=$.stock.filter(K=>K.section==="local"),A=$.stock.filter(K=>K.section==="outside"),B=$.stock.filter(K=>K.section==="mearaj"),H=$.stock.filter(K=>K.section==="ilyas"),I=$.stock.filter(K=>K.section==="chansa");n(w),r(A),i(B),l(H),h(I);const L=w.reduce((K,F)=>K+F.priceBought,0),R=A.reduce((K,F)=>K+F.priceBought,0),G=B.reduce((K,F)=>K+F.priceBought,0),Z=H.reduce((K,F)=>K+F.priceBought,0),ne=I.reduce((K,F)=>K+F.priceBought,0);m(L),y(R),x(G),N(Z),E(ne);const M=$.stock.reduce((K,F)=>K+(F.quantity*F.unitPrice-F.priceBought),0);k(M)}},[$]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-around   align-items-center py-2",children:[e.jsx(UA,{id:$._id}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(GA,{}),e.jsxs("h6",{children:["Total Profit: K",v.toLocaleString()]})]})]}),e.jsxs(ee,{size:"sm",bordered:!0,className:" text-capitalize text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Price Bought"}),e.jsx("th",{children:"Unit Price"}),e.jsx("th",{children:"Price Sold"}),C&&C.role==="admin"&&e.jsx("th",{children:"Profit"}),C&&C.role==="admin"&&e.jsx("th",{children:"Profit %"}),e.jsx("th",{children:"From"}),C&&C.role==="admin"&&e.jsx("th",{children:"Action"})]})}),t.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[t==null?void 0:t.map((w,A)=>e.jsxs("tr",{children:[e.jsx("td",{children:A+1}),e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsx("td",{children:w.quantity}),e.jsxs("td",{children:["K",w.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",w.unitPrice]}),e.jsxs("td",{children:["K",(w.quantity*w.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:w.quantity*w.unitPrice-w.priceBought<0?"text-danger":"",children:["K",(w.quantity*w.unitPrice-w.priceBought).toLocaleString()]}),e.jsxs("td",{className:(w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100<30?"text-danger":"",children:[((w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:w.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(To,{id:$._id,item:w}),e.jsx(Oo,{id:w._id,shiftId:$._id})]})]},w._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",u.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),s.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[s==null?void 0:s.map((w,A)=>e.jsxs("tr",{children:[e.jsx("td",{children:A+1}),e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsx("td",{children:w.quantity}),e.jsxs("td",{children:["K",w.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",w.unitPrice]}),e.jsxs("td",{children:["K",(w.quantity*w.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:w.quantity*w.unitPrice-w.priceBought<0?"text-danger":"",children:["K",(w.quantity*w.unitPrice-w.priceBought).toLocaleString()]}),e.jsxs("td",{className:(w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100<30?"text-danger":"",children:[((w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:w.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(To,{id:$._id,item:w}),e.jsx(Oo,{id:w._id,shiftId:$._id})]})]},w._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",j.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),a.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[a==null?void 0:a.map((w,A)=>e.jsxs("tr",{children:[e.jsx("td",{children:A+1}),e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsx("td",{children:w.quantity}),e.jsxs("td",{children:["K",w.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",w.unitPrice]}),e.jsxs("td",{children:["K",(w.quantity*w.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:w.quantity*w.unitPrice-w.priceBought<0?"text-danger":"",children:["K",(w.quantity*w.unitPrice-w.priceBought).toLocaleString()]}),e.jsxs("td",{className:(w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100<30?"text-danger":"",children:[((w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:w.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(To,{id:$._id,item:w}),e.jsx(Oo,{id:w._id,shiftId:$._id})]})]},w._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",f.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),o.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[o==null?void 0:o.map((w,A)=>e.jsxs("tr",{children:[e.jsx("td",{children:A+1}),e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsx("td",{children:w.quantity}),e.jsxs("td",{children:["K",w.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",w.unitPrice]}),e.jsxs("td",{children:["K",(w.quantity*w.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:w.quantity*w.unitPrice-w.priceBought<0?"text-danger":"",children:["K",(w.quantity*w.unitPrice-w.priceBought).toLocaleString()]}),e.jsxs("td",{className:(w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100<30?"text-danger":"",children:[((w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:w.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(To,{id:$._id,item:w}),e.jsx(Oo,{id:w._id,shiftId:$._id})]})]},w._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",S.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),d.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[d==null?void 0:d.map((w,A)=>e.jsxs("tr",{children:[e.jsx("td",{children:A+1}),e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsx("td",{children:w.quantity}),e.jsxs("td",{children:["K",w.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",w.unitPrice]}),e.jsxs("td",{children:["K",(w.quantity*w.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:w.quantity*w.unitPrice-w.priceBought<0?"text-danger":"",children:["K",(w.quantity*w.unitPrice-w.priceBought).toLocaleString()]}),e.jsxs("td",{className:(w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100<30?"text-danger":"",children:[((w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:w.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(To,{id:$._id,item:w}),e.jsx(Oo,{id:w._id,shiftId:$._id})]})]},w._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",b.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]})]})]})}function WA({id:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(!1),h=()=>{s(!1),m()},u=()=>s(!0),m=()=>{a(""),o("")},j=y=>{y.preventDefault(),d(!0),!l&&T.post(`${dn}/${t}/addtoexpense`,{description:r.toLowerCase(),amount:Number(i)}).then(()=>{h(),d(!1)}).catch(f=>{console.log(f),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"primary",onClick:u,children:"New"}),e.jsxs(g,{show:n,onHide:h,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Modal heading"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Description"}),e.jsx(p.Control,{type:"text",placeholder:"Description",autoFocus:!0,value:r,onChange:y=>a(y.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",placeholder:"Amount",min:0,value:i,onChange:y=>o(y.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:l,children:l?"Submitting...":"Submit"})]})})]})]})}function VA({id:t,shiftId:n}){const[s,r]=c.useState(!1),[a,i]=c.useState(!1),o=()=>r(!1),l=()=>r(!0),d=()=>{i(!0),!a&&T.post(`${dn}/${n}/deleteexpense/${t}`).then(()=>{o(),i(!1)}).catch(h=>{console.log(h),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:l,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:a,onClick:()=>{d()},children:a?"Deleting...":"Yes"})]})]})]})}function QA(){const[t,n]=c.useState([]),{RegisterShift:s}=c.useContext(zd),{user:r}=c.useContext(he);return c.useEffect(()=>{n(s.expense)},[s]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(WA,{id:s._id})}),e.jsxs(ee,{size:"sm",bordered:!0,className:"text-capitalize text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Decription"}),e.jsx("th",{children:"Amount"}),r&&r.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t==null?void 0:t.map((a,i)=>e.jsxs("tr",{children:[e.jsx("td",{children:i+1}),e.jsx("td",{children:a.description}),e.jsxs("td",{children:["K",a.amount]}),r&&r.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center ",children:e.jsx(VA,{id:a._id,shiftId:s._id})})]},a._id))})]})]})}function JA({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${dn}/${t}/adddate`,{date:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function XA({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${dn}/${t}/addname`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function ZA({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${dn}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function eB({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${dn}/${t}/addcash`,{amount:n}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function tB({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${dn}/${t}/addchange`,{amount:n}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function nB(){const[t,n]=c.useState(!1),[s,r]=c.useState(!1),a=()=>n(!1),i=()=>n(!0),o=l=>{l.preventDefault(),r(!0),!s&&T.post(`${dn}/newshift`).then(()=>{a(),r(!1)}).catch(d=>{console.log(d),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"lg",variant:"primary",onClick:i,children:"Next"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(D,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(D,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading...":"Yes"})]})]})]})}function sB(){const[t,n]=c.useState(!0),{RegisterShift:s}=c.useContext(zd);let r=0,a=0;Object.keys(s).length>0&&(r=s.stock.reduce((m,j)=>m+j.priceBought,0),a=s.expense.reduce((m,j)=>m+j.amount,0));const i=c.useCallback(()=>{if(s!=null&&Object.keys(s).length>0){const m=s.name.length,j=s.accountant.length,y=s.date.length,f=s.cash;m>0&&j>0&&y>0&&f>0?n(!1):n(!0)}},[s]);c.useEffect(()=>{i()},[i]);const o=()=>{T.post(`${dn}/${s._id}/deletedate`).then(()=>{i()})},l=()=>{T.post(`${dn}/${s._id}/deletename`).then(()=>{i()})},d=()=>{T.post(`${dn}/${s._id}/deleteaccountant`).then(()=>{i()})},h=()=>{T.post(`${dn}/${s._id}/deletecash`).then(()=>{i()})},u=()=>{T.post(`${dn}/${s._id}/deletechange`).then(()=>{i()})};return e.jsx(e.Fragment,{children:Object.keys(s).length>0&&e.jsxs(Ne,{className:"m-3 text-capitalize prevent-select",children:[e.jsxs(Y,{className:"border mx-2 p-3",children:[e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:o,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Date :"}),s.date.length>0?e.jsx("h5",{children:s.date}):e.jsx(JA,{id:s._id})]}),e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:l,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Name :"}),s.name.length>0?e.jsx("h5",{children:s.name}):e.jsx(XA,{id:s._id})]}),e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:d,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Accountant :"}),s.accountant.length>0?e.jsx("h5",{children:s.accountant}):e.jsx(ZA,{id:s._id})]}),t?"":e.jsx("div",{className:"d-flex align-items-center justify-content-center h-50",children:e.jsx(nB,{id:s._id})})]}),e.jsxs(Y,{className:"border mx-2 p-3",children:[e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:h,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Cash :"}),s.cash>0?e.jsxs("h5",{children:["K",s.cash.toLocaleString()]}):e.jsx(eB,{id:s._id})]}),e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:u,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Change :"}),s.change>0?e.jsxs("h5",{children:["K",s.change.toLocaleString()]}):e.jsx(tB,{id:s._id})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Total Bought :"}),e.jsxs("h5",{children:["K",r.toLocaleString()]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Expense :"}),e.jsxs("h5",{children:["K",a.toLocaleString()]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Total :"}),e.jsxs("h5",{children:["K",(r+a).toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("p",{className:r+a-s.cash+s.change<0?"text-danger display-6 text-center":"display-6 text-center",children:["Result : K",(r+a-s.cash+s.change).toLocaleString()]})]})]})})}function rB({shiftId:t,getShifts:n}){const[s,r]=c.useState(!1),[a,i]=c.useState(!1),o=()=>r(!1),l=()=>r(!0),d=()=>{i(!0),!a&&T.delete(`${dn}/${t}`).then(()=>{o(),i(!1),n()}).catch(h=>{console.log(h),i(!1),o()})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:l,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:a,onClick:()=>{d()},children:a?"Deleting...":"Yes"})]})]})]})}function aB(){const[t,n]=c.useState([]),{user:s}=c.useContext(he),r=()=>{T.get(`${dn}/all`).then(a=>{const i=a.data.sort((o,l)=>{const d=o.date?new Date(o.date).getTime():null,h=l.date?new Date(l.date).getTime():null;return!d&&!h?0:d?h?h-d:1:-1});n(i)}).catch(a=>{console.log(a)})};return c.useEffect(()=>{r()},[]),e.jsxs(te,{fluid:"xxl",children:[e.jsx("div",{className:"d-flex justify-content-end mt-2",children:e.jsx(D,{variant:"outline-primary",onClick:r,children:"Refresh"})}),e.jsxs(ee,{size:"sm",bordered:!0,className:"text-capitalize text-center my-3",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Accountant"}),e.jsx("th",{children:"Status"}),s&&s.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(a=>e.jsxs("tr",{children:[e.jsx("td",{children:a.date}),e.jsx("td",{children:a.name}),e.jsx("td",{children:a.accountant}),e.jsx("td",{children:a.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Me,{to:`/register/${a._id}`,style:{textDecoration:"none"},children:e.jsx(D,{variant:"outline-primary",size:"sm",children:"V"})}),t.length>1&&a.status==="current"&&s&&s.role==="admin"&&e.jsx(rB,{shiftId:a._id,getShifts:r})]})]},a._id))})]})]})}function iB(){return c.useEffect(()=>{document.title="Yussman - Register"},[]),e.jsx(te,{className:"my-5",fluid:!0,children:e.jsxs(Ft,{defaultActiveKey:"stock",justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsx(YA,{})}),e.jsx(X,{eventKey:"expence",title:"Expence",children:e.jsx(QA,{})}),e.jsx(X,{eventKey:"final",title:"Final",children:e.jsx(sB,{})}),e.jsx(X,{eventKey:"all",title:"All",children:e.jsx(aB,{})})]})})}const Hd=c.createContext(),oB=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},lB=({children:t})=>{const[n,s]=c.useReducer(oB,{shift:null}),[r,a]=c.useState({});c.useEffect(()=>{T.get(un).then(o=>{i(o.data)})},[]),c.useEffect(()=>{En(mt).on("chinsaliregister",l=>{s({type:"SET_SHIFT",payload:l})})},[]);const i=o=>{o!==null&&a(o)};return c.useEffect(()=>{i(n.shift)},[n.shift]),r===null?null:e.jsx(Hd.Provider,{value:{RegisterShift:r,dispatch:s},children:t})};function cB({id:t}){const{storeShift:n}=c.useContext(ei),{shift:s}=c.useContext(Kr),[r,a]=c.useState([]);c.useEffect(()=>{const ne=Array.isArray(s.stock)?s.stock:[],M=Array.isArray(n.stock)?n.stock:[];a([...ne,...M])},[s,n]);const[i,o]=c.useState(!1),[l,d]=c.useState(!1),[h,u]=c.useState(""),[m,j]=c.useState([]),[y,f]=c.useState(null),[x,S]=c.useState(""),[N,b]=c.useState(""),[E,v]=c.useState(""),[k,$]=c.useState(""),[C,w]=c.useState(""),[A,B]=c.useState(""),H=()=>{o(!1),G()},I=()=>o(!0),L=ne=>{const M=ne.target.value.toLowerCase();u(M);const K=r.filter(F=>{const xe=F.code.toString().includes(M),ge=F.name.toLowerCase().includes(M);return xe||ge});j(K)},R=ne=>{f(ne),S(ne.name),b(ne.code),v(ne.price)},G=()=>{f(null),S(""),b(""),v(""),w(""),$(""),B(""),u("")},Z=ne=>{if(ne.preventDefault(),d(!0),l)return;const M={name:x.toLowerCase(),code:Number(N),unitPrice:Number(E),quantity:Number(k),priceBought:Number(C),section:A.toLowerCase()};T.post(`${un}/${t}/addtostock`,M).then(()=>{H(),d(!1)}).catch(K=>{console.log(K),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"primary",onClick:I,size:"sm",children:"New"}),e.jsxs(g,{show:i,onHide:H,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New "})}),e.jsxs(g.Body,{children:[!y&&e.jsxs(e.Fragment,{children:[e.jsxs(p.Group,{className:" mb-3",children:[e.jsx(p.Label,{children:"Name or Code"}),e.jsx(p.Control,{autoFocus:!0,type:"text",placeholder:"Name or Code",value:h,onChange:ne=>L(ne)})]}),h&&e.jsx(et,{children:m.map(ne=>e.jsxs(et.Item,{action:!0,className:" text-capitalize",onClick:()=>{R(ne)},children:[ne.code," - ",ne.name," - ",`K${ne.price}`]},ne._id))})]}),y&&e.jsx(e.Fragment,{children:e.jsxs(p,{onSubmit:Z,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{readOnly:!0,value:x})]}),e.jsxs(Ne,{className:"mb-3",children:[e.jsxs(Y,{children:[e.jsx(p.Label,{children:"Code"}),e.jsx(p.Control,{readOnly:!0,value:N})]}),e.jsxs(Y,{children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{readOnly:!0,value:E})]})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Quantity"}),e.jsx(p.Control,{autoFocus:!0,required:!0,type:"number",placeholder:"Quantity",min:0,value:k,onChange:ne=>$(ne.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price Bought"}),e.jsx(p.Control,{required:!0,type:"number",placeholder:"Price Bought",min:0,value:C,onChange:ne=>w(ne.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"From"}),e.jsxs(p.Select,{required:!0,value:A,onChange:ne=>B(ne.target.value),children:[e.jsx("option",{value:"",children:"Open this select menu"}),e.jsx("option",{value:"local",children:"Local"}),e.jsx("option",{value:"mearaj",children:"Mearaj"}),e.jsx("option",{value:"ilyas",children:"Ilyas"}),e.jsx("option",{value:"outside",children:"Outside"}),e.jsx("option",{value:"chansa",children:"Chansa"})]})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:l,children:l?"Submitting...":"Submit"})]})})]})]})]})}function Ao({id:t,shiftId:n}){const[s,r]=c.useState(!1),[a,i]=c.useState(!1),o=()=>r(!1),l=()=>r(!0),d=()=>{i(!0),!a&&T.post(`${un}/${n}/deletestock/${t}`).then(()=>{o(),i(!1)}).catch(h=>{console.log(h),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:l,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:a,onClick:()=>{d()},children:a?"Deleting...":"Yes"})]})]})]})}function Bo({id:t,item:n}){const[s,r]=c.useState(!1),[a,i]=c.useState(!1),[o,l]=c.useState(""),[d,h]=c.useState(""),[u,m]=c.useState(""),[j,y]=c.useState(""),[f,x]=c.useState(""),[S,N]=c.useState("");c.useEffect(()=>{l(n.name),h(n.code),m(n.unitPrice),x(n.priceBought),y(n.quantity),N(n.section)},[n]);const b=()=>{r(!1)},E=()=>r(!0),v=k=>{if(k.preventDefault(),i(!0),a)return;const $={unitPrice:Number(u),quantity:Number(j),priceBought:Number(f),section:S.toLowerCase()};T.post(`${un}/${t}/updatestock/${n._id}`,$).then(()=>{i(!1),b()}).catch(C=>{console.log(C),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-primary",size:"sm",onClick:E,className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:s,onHide:b,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New "})}),e.jsx(g.Body,{children:e.jsx(e.Fragment,{children:e.jsxs(p,{onSubmit:v,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{readOnly:!0,value:o})]}),e.jsxs(Ne,{className:"mb-3",children:[e.jsxs(Y,{children:[e.jsx(p.Label,{children:"Code"}),e.jsx(p.Control,{readOnly:!0,value:d})]}),e.jsxs(Y,{children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{readOnly:!0,value:u})]})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Quantity"}),e.jsx(p.Control,{autoFocus:!0,required:!0,type:"number",placeholder:"Quantity",min:0,value:j,onChange:k=>y(k.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price Bought"}),e.jsx(p.Control,{required:!0,type:"number",placeholder:"Price Bought",min:0,value:f,onChange:k=>x(k.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"From"}),e.jsxs(p.Select,{required:!0,value:S,onChange:k=>N(k.target.value),children:[e.jsx("option",{value:"",children:"Open this select menu"}),e.jsx("option",{value:"local",children:"Local"}),e.jsx("option",{value:"mearaj",children:"Mearaj"}),e.jsx("option",{value:"ilyas",children:"Ilyas"}),e.jsx("option",{value:"outside",children:"Outside"}),e.jsx("option",{value:"chansa",children:"Chansa"})]})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:a,children:a?"Submitting...":"Submit"})]})})})]})]})}function dB(){const{storeShift:t}=c.useContext(ei),{shift:n}=c.useContext(Kr),[s,r]=c.useState([]);c.useEffect(()=>{const B=Array.isArray(n.stock)?n.stock.map(I=>({...I,source:"restaurant",shiftId:n._id})):[],H=Array.isArray(t.stock)?t.stock.map(I=>({...I,source:"store",shiftId:t._id})):[];r([...B,...H])},[n,t]);const[a,i]=c.useState(!1),[o,l]=c.useState(!1),[d,h]=c.useState(""),[u,m]=c.useState([]),[j,y]=c.useState(null),[f,x]=c.useState(""),[S,N]=c.useState(""),[b,E]=c.useState(""),v=()=>{i(!1),w()},k=()=>i(!0),$=B=>{const H=B.target.value.toLowerCase();h(H);const I=s.filter(L=>{const R=L.code.toString().includes(H),G=L.name.toLowerCase().includes(H);return R||G});m(I)},C=B=>{y(B),x(B.name),N(B.code),E(B.price)},w=()=>{y(null),x(""),N(""),E(""),h("")},A=B=>{if(B.preventDefault(),l(!0),!j){console.error("No product selected"),l(!1);return}const H={price:Number(b),name:f};let I;if(j.source==="store")I=`${mn}/${j.shiftId}/updatename/${j._id}`;else{let L;switch(j.source){case"restaurant":L=Ct;break;default:console.error("Invalid product source"),l(!1);return}I=`${L}/${j.shiftId}/editname/${j._id}`}T.post(I,H).then(()=>{w(),v(),l(!1)}).catch(L=>{console.error(L),l(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-primary",onClick:k,size:"sm",children:"Change Price"}),e.jsxs(g,{show:a,onHide:v,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New "})}),e.jsxs(g.Body,{children:[!j&&e.jsxs(e.Fragment,{children:[e.jsxs(p.Group,{className:" mb-3",children:[e.jsx(p.Label,{children:"Name or Code"}),e.jsx(p.Control,{autoFocus:!0,type:"text",placeholder:"Name or Code",value:d,onChange:B=>$(B)})]}),d&&e.jsx(et,{children:u.map(B=>e.jsxs(et.Item,{action:!0,className:" text-capitalize",onClick:()=>{C(B)},children:[B.code," - ",B.name," - ",`K${B.price}`]},B._id))})]}),j&&e.jsx(e.Fragment,{children:e.jsxs(p,{onSubmit:A,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{readOnly:!0,value:f})]}),e.jsxs(Ne,{className:"mb-3",children:[e.jsxs(Y,{children:[e.jsx(p.Label,{children:"Code"}),e.jsx(p.Control,{readOnly:!0,value:S})]}),e.jsxs(Y,{children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{value:b,onChange:B=>E(B.target.value),autoFocus:!0})]})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:o?"Submitting...":"Submit"})]})})]})]})]})}function uB(){const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,i]=c.useState([]),[o,l]=c.useState([]),[d,h]=c.useState([]),[u,m]=c.useState(0),[j,y]=c.useState(0),[f,x]=c.useState(0),[S,N]=c.useState(0),[b,E]=c.useState(0),[v,k]=c.useState(0),{RegisterShift:$}=c.useContext(Hd),{user:C}=c.useContext(he);return c.useEffect(()=>{if(Object.keys($).length!==0){const w=$.stock.filter(K=>K.section==="local"),A=$.stock.filter(K=>K.section==="outside"),B=$.stock.filter(K=>K.section==="mearaj"),H=$.stock.filter(K=>K.section==="ilyas"),I=$.stock.filter(K=>K.section==="chansa");n(w),r(A),i(B),l(H),h(I);const L=w.reduce((K,F)=>K+F.priceBought,0),R=A.reduce((K,F)=>K+F.priceBought,0),G=B.reduce((K,F)=>K+F.priceBought,0),Z=H.reduce((K,F)=>K+F.priceBought,0),ne=I.reduce((K,F)=>K+F.priceBought,0);m(L),y(R),x(G),N(Z),E(ne);const M=$.stock.reduce((K,F)=>K+(F.quantity*F.unitPrice-F.priceBought),0);k(M)}},[$]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-around   align-items-center py-2",children:[e.jsx(cB,{id:$._id}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(dB,{}),e.jsxs("h6",{children:["Total Profit: K",v.toLocaleString()]})]})]}),e.jsxs(ee,{size:"sm",bordered:!0,className:" text-capitalize text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Price Bought"}),e.jsx("th",{children:"Unit Price"}),e.jsx("th",{children:"Price Sold"}),C&&C.role==="admin"&&e.jsx("th",{children:"Profit"}),C&&C.role==="admin"&&e.jsx("th",{children:"Profit %"}),C&&C.role==="admin"&&e.jsx("th",{children:"Action"})]})}),t.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[t==null?void 0:t.map((w,A)=>e.jsxs("tr",{children:[e.jsx("td",{children:A+1}),e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsx("td",{children:w.quantity}),e.jsxs("td",{children:["K",w.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",w.unitPrice]}),e.jsxs("td",{children:["K",(w.quantity*w.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:w.quantity*w.unitPrice-w.priceBought<0?"text-danger":"",children:["K",(w.quantity*w.unitPrice-w.priceBought).toLocaleString()]}),e.jsxs("td",{className:(w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100<30?"text-danger":"",children:[((w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100).toFixed(2),"%"]})]}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(Bo,{id:$._id,item:w}),e.jsx(Ao,{id:w._id,shiftId:$._id})]})]},w._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",u.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),s.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[s==null?void 0:s.map((w,A)=>e.jsxs("tr",{children:[e.jsx("td",{children:A+1}),e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsx("td",{children:w.quantity}),e.jsxs("td",{children:["K",w.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",w.unitPrice]}),e.jsxs("td",{children:["K",(w.quantity*w.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:w.quantity*w.unitPrice-w.priceBought<0?"text-danger":"",children:["K",(w.quantity*w.unitPrice-w.priceBought).toLocaleString()]}),e.jsxs("td",{className:(w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100<30?"text-danger":"",children:[((w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:w.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(Bo,{id:$._id,item:w}),e.jsx(Ao,{id:w._id,shiftId:$._id})]})]},w._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",j.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),a.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[a==null?void 0:a.map((w,A)=>e.jsxs("tr",{children:[e.jsx("td",{children:A+1}),e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsx("td",{children:w.quantity}),e.jsxs("td",{children:["K",w.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",w.unitPrice]}),e.jsxs("td",{children:["K",(w.quantity*w.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:w.quantity*w.unitPrice-w.priceBought<0?"text-danger":"",children:["K",(w.quantity*w.unitPrice-w.priceBought).toLocaleString()]}),e.jsxs("td",{className:(w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100<30?"text-danger":"",children:[((w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:w.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(Bo,{id:$._id,item:w}),e.jsx(Ao,{id:w._id,shiftId:$._id})]})]},w._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",f.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),o.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[o==null?void 0:o.map((w,A)=>e.jsxs("tr",{children:[e.jsx("td",{children:A+1}),e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsx("td",{children:w.quantity}),e.jsxs("td",{children:["K",w.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",w.unitPrice]}),e.jsxs("td",{children:["K",(w.quantity*w.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:w.quantity*w.unitPrice-w.priceBought<0?"text-danger":"",children:["K",(w.quantity*w.unitPrice-w.priceBought).toLocaleString()]}),e.jsxs("td",{className:(w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100<30?"text-danger":"",children:[((w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:w.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(Bo,{id:$._id,item:w}),e.jsx(Ao,{id:w._id,shiftId:$._id})]})]},w._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",S.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),d.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[d==null?void 0:d.map((w,A)=>e.jsxs("tr",{children:[e.jsx("td",{children:A+1}),e.jsx("td",{children:w.code}),e.jsx("td",{children:w.name}),e.jsx("td",{children:w.quantity}),e.jsxs("td",{children:["K",w.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",w.unitPrice]}),e.jsxs("td",{children:["K",(w.quantity*w.unitPrice).toLocaleString()]}),C&&C.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:w.quantity*w.unitPrice-w.priceBought<0?"text-danger":"",children:["K",(w.quantity*w.unitPrice-w.priceBought).toLocaleString()]}),e.jsxs("td",{className:(w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100<30?"text-danger":"",children:[((w.quantity*w.unitPrice-w.priceBought)/w.priceBought*100).toFixed(2),"%"]})]}),e.jsx("td",{children:w.section}),C&&C.role==="admin"&&e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx(Bo,{id:$._id,item:w}),e.jsx(Ao,{id:w._id,shiftId:$._id})]})]},w._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",b.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]})]})]})}function hB({id:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(!1),h=()=>{s(!1),m()},u=()=>s(!0),m=()=>{a(""),o("")},j=y=>{y.preventDefault(),d(!0),!l&&T.post(`${un}/${t}/addtoexpense`,{description:r.toLowerCase(),amount:Number(i)}).then(()=>{h(),d(!1)}).catch(f=>{console.log(f),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"primary",onClick:u,children:"New"}),e.jsxs(g,{show:n,onHide:h,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Modal heading"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Description"}),e.jsx(p.Control,{type:"text",placeholder:"Description",autoFocus:!0,value:r,onChange:y=>a(y.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",placeholder:"Amount",min:0,value:i,onChange:y=>o(y.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:l,children:l?"Submitting...":"Submit"})]})})]})]})}function fB({id:t,shiftId:n}){const[s,r]=c.useState(!1),[a,i]=c.useState(!1),o=()=>r(!1),l=()=>r(!0),d=()=>{i(!0),!a&&T.post(`${un}/${n}/deleteexpense/${t}`).then(()=>{o(),i(!1)}).catch(h=>{console.log(h),i(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:l,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:a,onClick:()=>{d()},children:a?"Deleting...":"Yes"})]})]})]})}function mB(){const[t,n]=c.useState([]),{RegisterShift:s}=c.useContext(Hd),{user:r}=c.useContext(he);return c.useEffect(()=>{n(s.expense)},[s]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(hB,{id:s._id})}),e.jsxs(ee,{size:"sm",bordered:!0,className:"text-capitalize text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Decription"}),e.jsx("th",{children:"Amount"}),r&&r.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t==null?void 0:t.map((a,i)=>e.jsxs("tr",{children:[e.jsx("td",{children:i+1}),e.jsx("td",{children:a.description}),e.jsxs("td",{children:["K",a.amount]}),r&&r.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center ",children:e.jsx(fB,{id:a._id,shiftId:s._id})})]},a._id))})]})]})}function pB({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${un}/${t}/adddate`,{date:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:r?"Loading...":"Submit"})]})})]})]})}function xB({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${un}/${t}/addname`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function jB({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${un}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function gB({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${un}/${t}/addcash`,{amount:n}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function yB({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${un}/${t}/addchange`,{amount:n}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function vB(){const[t,n]=c.useState(!1),[s,r]=c.useState(!1),a=()=>n(!1),i=()=>n(!0),o=l=>{l.preventDefault(),r(!0),!s&&T.post(`${un}/newshift`).then(()=>{a(),r(!1)}).catch(d=>{console.log(d),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"lg",variant:"primary",onClick:i,children:"Next"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(D,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(D,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading...":"Yes"})]})]})]})}function SB(){const[t,n]=c.useState(!0),{RegisterShift:s}=c.useContext(Hd);let r=0,a=0;Object.keys(s).length>0&&(r=s.stock.reduce((m,j)=>m+j.priceBought,0),a=s.expense.reduce((m,j)=>m+j.amount,0));const i=c.useCallback(()=>{if(s!=null&&Object.keys(s).length>0){const m=s.name.length,j=s.accountant.length,y=s.date.length,f=s.cash;m>0&&j>0&&y>0&&f>0?n(!1):n(!0)}},[s]);c.useEffect(()=>{i()},[i]);const o=()=>{T.post(`${un}/${s._id}/deletedate`).then(()=>{i()})},l=()=>{T.post(`${un}/${s._id}/deletename`).then(()=>{i()})},d=()=>{T.post(`${un}/${s._id}/deleteaccountant`).then(()=>{i()})},h=()=>{T.post(`${un}/${s._id}/deletecash`).then(()=>{i()})},u=()=>{T.post(`${un}/${s._id}/deletechange`).then(()=>{i()})};return e.jsx(e.Fragment,{children:Object.keys(s).length>0&&e.jsxs(Ne,{className:"m-3 text-capitalize prevent-select",children:[e.jsxs(Y,{className:"border mx-2 p-3",children:[e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:o,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Date :"}),s.date.length>0?e.jsx("h5",{children:s.date}):e.jsx(pB,{id:s._id})]}),e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:l,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Name :"}),s.name.length>0?e.jsx("h5",{children:s.name}):e.jsx(xB,{id:s._id})]}),e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:d,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Accountant :"}),s.accountant.length>0?e.jsx("h5",{children:s.accountant}):e.jsx(jB,{id:s._id})]}),t?"":e.jsx("div",{className:"d-flex align-items-center justify-content-center h-50",children:e.jsx(vB,{id:s._id})})]}),e.jsxs(Y,{className:"border mx-2 p-3",children:[e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:h,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Cash :"}),s.cash>0?e.jsxs("h5",{children:["K",s.cash.toLocaleString()]}):e.jsx(gB,{id:s._id})]}),e.jsxs("div",{style:{cursor:"pointer"},onDoubleClick:u,className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Change :"}),s.change>0?e.jsxs("h5",{children:["K",s.change.toLocaleString()]}):e.jsx(yB,{id:s._id})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Total Bought :"}),e.jsxs("h5",{children:["K",r.toLocaleString()]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Expense :"}),e.jsxs("h5",{children:["K",a.toLocaleString()]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("h5",{children:"Total :"}),e.jsxs("h5",{children:["K",(r+a).toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("p",{className:r+a-s.cash+s.change<0?"text-danger display-6 text-center":"display-6 text-center",children:["Result : K",(r+a-s.cash+s.change).toLocaleString()]})]})]})})}function bB({shiftId:t,getShifts:n}){const[s,r]=c.useState(!1),[a,i]=c.useState(!1),o=()=>r(!1),l=()=>r(!0),d=()=>{i(!0),!a&&T.delete(`${un}/${t}`).then(()=>{o(),i(!1),n()}).catch(h=>{console.log(h),i(!1),o()})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:l,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:s,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:a,onClick:()=>{d()},children:a?"Deleting...":"Yes"})]})]})]})}function CB(){const[t,n]=c.useState([]),{user:s}=c.useContext(he),r=()=>{T.get(`${un}/all`).then(a=>{const i=a.data.sort((o,l)=>{const d=o.date?new Date(o.date).getTime():null,h=l.date?new Date(l.date).getTime():null;return!d&&!h?0:d?h?h-d:1:-1});n(i)}).catch(a=>{console.log(a)})};return c.useEffect(()=>{r()},[]),e.jsxs(te,{fluid:"xxl",children:[e.jsx("div",{className:"d-flex justify-content-end mt-2",children:e.jsx(D,{variant:"outline-primary",onClick:r,children:"Refresh"})}),e.jsxs(ee,{size:"sm",bordered:!0,className:"text-capitalize text-center my-3",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Accountant"}),e.jsx("th",{children:"Status"}),s&&s.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(a=>e.jsxs("tr",{children:[e.jsx("td",{children:a.date}),e.jsx("td",{children:a.name}),e.jsx("td",{children:a.accountant}),e.jsx("td",{children:a.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Me,{to:`/chinsaliregister/${a._id}`,style:{textDecoration:"none"},children:e.jsx(D,{variant:"outline-primary",size:"sm",children:"V"})}),t.length>1&&a.status==="current"&&s&&s.role==="admin"&&e.jsx(bB,{shiftId:a._id,getShifts:r})]})]},a._id))})]})]})}function wB(){return c.useEffect(()=>{document.title="Yussman -Chinsali Register"},[]),e.jsx(te,{className:"my-5",fluid:!0,children:e.jsxs(Ft,{defaultActiveKey:"stock",justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsx(uB,{})}),e.jsx(X,{eventKey:"expence",title:"Expence",children:e.jsx(mB,{})}),e.jsx(X,{eventKey:"final",title:"Final",children:e.jsx(SB,{})}),e.jsx(X,{eventKey:"all",title:"All",children:e.jsx(CB,{})})]})})}function NB(){var o,l;c.useEffect(()=>{document.title="Yussman  - Register - Details"},[]);const[t,n]=c.useState({}),{id:s}=is(),r=c.useCallback(()=>{T.get(`${un}/${s}`).then(d=>{n(d.data)}).catch(d=>{console.log(d)})},[s]);let a=0,i=0;return Object.keys(t).length>0&&(a=t.stock.reduce((d,h)=>d+h.priceBought,0),i=t.expense.reduce((d,h)=>d+h.amount,0)),c.useEffect(()=>{r()},[r]),e.jsx(te,{fluid:!0,className:"my-3",children:Object.keys(t).length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-between text-capitalize",children:[e.jsxs("h5",{children:["Date : ",t.date]}),e.jsxs("h5",{children:["Name : ",t.name]}),e.jsxs("h5",{children:["Accountant : ",t.accountant]}),e.jsxs("h5",{children:["Cash : K",t.cash.toLocaleString()]}),e.jsxs("h5",{children:[" Change : K",t.change.toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-center gap-5  text-capitalize",children:[e.jsxs("h5",{children:["Total Bought : K",a.toLocaleString()]}),e.jsxs("h5",{children:["Total Expense : K",i.toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("p",{className:a+i-t.cash+t.change<0?"text-danger display-6 text-center":"display-6 text-center",children:["Result : K",(a+i-t.cash+t.change).toLocaleString()]}),e.jsxs(Ft,{justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsxs(ee,{size:"sm",bordered:!0,className:" text-capitalize text-center mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Price Bought"}),e.jsx("th",{children:"Unit Price"}),e.jsx("th",{children:"Price Sold"}),e.jsx("th",{children:"Profit"})]})}),e.jsx("tbody",{className:"table-group-divider",children:(o=t.stock)==null?void 0:o.map((d,h)=>e.jsxs("tr",{children:[e.jsx("td",{children:h+1}),e.jsx("td",{children:d.code}),e.jsx("td",{children:d.name}),e.jsx("td",{children:d.quantity}),e.jsxs("td",{children:["K",d.priceBought]}),e.jsxs("td",{children:["K",d.unitPrice]}),e.jsxs("td",{children:["K",d.quantity*d.unitPrice]}),e.jsxs("td",{children:["K",d.quantity*d.unitPrice-d.priceBought]})]},d._id))})]})}),e.jsx(X,{eventKey:"expense",title:"Expenses",children:e.jsxs(ee,{size:"sm",bordered:!0,className:"text-capitalize text-center mt-2 ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Decription"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:(l=t.expense)==null?void 0:l.map((d,h)=>e.jsxs("tr",{children:[e.jsx("td",{children:h+1}),e.jsx("td",{children:d.description}),e.jsxs("td",{children:["K",d.amount]})]},d._id))})]})})]})]})})}function kB(){const[t,n]=c.useState(!1),s=()=>{n(!1),b()},r=()=>n(!0),[a,i]=c.useState(!1),[o,l]=c.useState(""),[d,h]=c.useState(""),[u,m]=c.useState(""),[j,y]=c.useState(""),[f,x]=c.useState(""),[S,N]=c.useState(""),b=()=>{l(""),h(""),m(""),y(""),x(""),N("")},E=v=>{v.preventDefault(),!a&&(isNaN(parseFloat(f))||(i(!0),T.post(`${pr}/newemployee`,{nrc:o,firstName:d.toLowerCase().trim(),lastName:u.toLowerCase().trim(),number:j,dailySalary:Number(f),section:S}).then(()=>{s(),i(!1)}).catch(k=>{console.log(k),i(!1)})))};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:r,className:"d-flex justify-content-center align-items-center",children:"Add New Employee"}),e.jsxs(g,{show:t,onHide:s,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Employee"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:E,children:[e.jsxs(p.Group,{className:"mb-3",controlId:"formBasicNrc",children:[e.jsx(p.Label,{children:"NRC"}),e.jsx(p.Control,{type:"text",placeholder:"Enter NRC",required:!0,autoComplete:"off",onChange:v=>l(v.target.value),value:o,autoFocus:!0})]}),e.jsxs(p.Group,{className:"mb-3",controlId:"formBasicFirstName",children:[e.jsx(p.Label,{children:"First Name"}),e.jsx(p.Control,{type:"text",placeholder:"Enter first name",required:!0,autoComplete:"off",onChange:v=>h(v.target.value),value:d})]}),e.jsxs(p.Group,{className:"mb-3",controlId:"formBasicLastName",children:[e.jsx(p.Label,{children:"Last Name"}),e.jsx(p.Control,{type:"text",placeholder:"Enter last name",required:!0,autoComplete:"off",onChange:v=>m(v.target.value),value:u})]}),e.jsxs(p.Group,{className:"mb-3",controlId:"formBasicNumber",children:[e.jsx(p.Label,{children:"Number"}),e.jsx(p.Control,{type:"text",placeholder:"Enter number",required:!0,autoComplete:"off",maxLength:10,minLength:10,onChange:v=>y(v.target.value),value:j})]}),e.jsxs(p.Group,{className:"mb-3",controlId:"formBasicSalry",children:[e.jsx(p.Label,{children:"Daily Salary"}),e.jsx(p.Control,{type:"text",placeholder:"Enter salary",required:!0,autoComplete:"off",onChange:v=>x(v.target.value),value:f})]}),e.jsxs(p.Group,{className:"mb-3",id:"formBasicSection",children:[e.jsx(p.Label,{children:"Section"}),e.jsxs(p.Select,{onChange:v=>N(v.target.value),value:S,required:!0,children:[e.jsx("option",{value:"",children:"Select section"}),e.jsx("option",{value:"restaurant",children:"Restaurant"}),e.jsx("option",{value:"shops",children:"Shops"}),e.jsx("option",{value:"booths",children:"Booths"}),e.jsx("option",{value:"blocks",children:"Blocks"}),e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"construction",children:"Construction"})]})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:a,children:a?"Submitting...":"Submit"})]})})]})]})}const Rl=c.createContext(),EB=(t,n)=>{switch(n.type){case"SET_EMPLOYEES":return{employees:n.payload};default:return t}},LB=(t,n)=>{switch(n.type){case"SET_TRANSACTIONS":return{transactions:n.payload};default:return t}},DB=(t,n)=>t.map(s=>{const r=n.filter(l=>l.employeeId._id===s._id),a=r.filter(l=>l.status==="credit").reduce((l,d)=>l+d.amount,0),i=r.filter(l=>l.status==="shortage").reduce((l,d)=>l+d.amount,0),o=r.filter(l=>l.status==="salary").reduce((l,d)=>l+d.deduction,0);return{...s,creditOwed:a+i-o}}),$B=({children:t})=>{const[n,s]=c.useReducer(EB,{employees:null}),[r,a]=c.useReducer(LB,{transactions:null});c.useEffect(()=>{(async()=>{const{data:u}=await T.get(`${pr}/getemployees`);s({type:"SET_EMPLOYEES",payload:u})})()},[]),c.useEffect(()=>{(async()=>{const{data:u}=await T.get(`${pr}/gettransactions`);a({type:"SET_TRANSACTIONS",payload:u})})()},[]),c.useEffect(()=>{En(mt).on("employees",u=>{s({type:"SET_EMPLOYEES",payload:u})})},[]),c.useEffect(()=>{En(mt).on("employeeTransactions",u=>{a({type:"SET_TRANSACTIONS",payload:u})})},[]);const i=h=>{h=h||[];const u=[],m=[];h.forEach(f=>{f.paid?u.push(f):m.push(f)});const j=u.sort((f,x)=>{const S={benefit:1,credit:2,allowance:3,salary:4,shortage:5};return S[f.status]-S[x.status]}),y=m.sort((f,x)=>{const S={benefit:1,credit:2,allowance:3,salary:4,shortage:5};return S[f.status]-S[x.status]});return{groupedPaidTransactions:j,unpaidTransactions:y}},{groupedPaidTransactions:o,unpaidTransactions:l}=i(r.transactions),d=n.employees?DB(n.employees,r.transactions||[]):[];return e.jsx(Rl.Provider,{value:{employees:d,paidTransactions:o,unpaidTransactions:l},children:t})};function OB(){const[t,n]=c.useState([]),[s,r]=c.useState([]),{employees:a,paidTransactions:i,unpaidTransactions:o}=c.useContext(Rl),{user:l}=c.useContext(he),d=h=>{const u=s.filter(j=>j.employeeId._id===h),m=t.map(j=>(j._id===h&&(j.transactions=u),j));n(m)};if(c.useEffect(()=>{n(a),t&&t.length>0&&t.map(h=>{d(h._id)}),r([...i,...o])},[a,i,o]),c.useEffect(()=>{if(!a||!o||!i)return;const h=a.map(u=>{const m=s.filter(x=>x.employeeId._id===u._id),j=m.filter(x=>x.status==="credit").reduce((x,S)=>x+S.amount,0),y=(u.transactions||[]).filter(x=>x.status==="shortage").reduce((x,S)=>x+S.amount,0),f=m.filter(x=>x.status==="salary").reduce((x,S)=>x+S.deduction,0);return{...u,creditOwed:j+y-f}});n(h)},[a,o,i,s]),c.useEffect(()=>{if(!a||!o||!i)return;const h=a.map(u=>{const m=s.filter(x=>x.employeeId._id===u._id),j=m.filter(x=>x.status==="credit").reduce((x,S)=>x+S.amount,0),y=m.filter(x=>x.status==="shortage").reduce((x,S)=>x+S.amount,0),f=m.filter(x=>x.status==="salary").reduce((x,S)=>x+S.deduction,0);return{...u,creditOwed:j+y-f}});n(h)},[a,o,i,s]),t!==null)return e.jsxs(te,{children:[l&&l.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center align-items-center mt-3",children:e.jsx(kB,{})}),e.jsxs(ee,{className:"my-3 text-center text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"NRC"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Salary"}),e.jsx("th",{children:"Credit"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Section"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t&&t.length>0&&t.sort((h,u)=>h.status==="inactive"?1:u.status==="inactive"?-1:0).map(h=>e.jsxs("tr",{className:h.status==="inactive"?"border border-3 border-secondary-subtle text-decoration-line-through text-muted":"",children:[e.jsx("td",{children:h.code}),e.jsx("td",{children:h.nrc}),e.jsx("td",{children:h.number}),e.jsx("td",{children:h.firstName}),e.jsx("td",{children:h.lastName}),e.jsxs("td",{children:["K",(h.dailySalary!==null&&h.dailySalary!==void 0?h.dailySalary.toFixed(2):"0.00").replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),e.jsxs("td",{className:`border-2 ${h.creditOwed>0?"border border-3 border-info-subtle":h.creditOwed<0?"text-danger":""}`,children:["K",(h.creditOwed!==null&&h.creditOwed!==void 0?h.creditOwed.toFixed(2):"0.00").replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),e.jsx("td",{children:h.status}),e.jsx("td",{children:h.section}),e.jsx("td",{className:"d-flex justify-content-center",children:e.jsx(Me,{to:`/employees/${h._id}`,style:{textDecoration:"none"},children:e.jsx(D,{variant:"outline-primary me-1",size:"sm",children:"V"})})})]},h._id))})]})]})}function TB(){const[t,n]=c.useState({}),{paidTransactions:s}=c.useContext(Rl);c.useEffect(()=>{const o=[...s].sort((l,d)=>new Date(d.date)-new Date(l.date)).reduce((l,d)=>{const h=d.date;return l[h]?l[h].push(d):l[h]=[d],l},{});n(o)},[s]);const r=i=>e.jsx("ul",{style:{listStyleType:"none",padding:"0",margin:"0"},children:i.map((o,l)=>{const d=new Date(o).toLocaleDateString();return e.jsx("li",{children:d},l)})}),a=(i,o)=>{if(o==="credit"||o==="benefit"||i.length===0)return"";const l=i.map(j=>new Date(j)).sort((j,y)=>j-y),d=l[0],h=l[l.length-1],u=d.toLocaleDateString(void 0,{day:"2-digit",month:"short"}),m=h.toLocaleDateString(void 0,{day:"2-digit",month:"short"});return l.length>1?`${u} - ${m}`:u};return e.jsx(te,{children:e.jsx("div",{children:e.jsxs(ee,{className:"my-3 text-capitalize text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Dates Worked"}),e.jsx("th",{children:"Days"}),e.jsx("th",{children:"Salary"}),e.jsx("th",{children:"Deduction"}),e.jsx("th",{children:"Total"}),e.jsx("th",{children:"Status"})]})}),Object.entries(t).map(([i,o])=>e.jsxs("tbody",{className:"table-group-divider",children:[e.jsxs("tr",{className:"border-bottom border-2",children:[e.jsx("td",{colSpan:6,className:"text-capitalize",children:i}),e.jsx("td",{children:"Total :"}),e.jsxs("td",{children:["K",o.reduce((l,d)=>d.status==="shortage"?l:l+(d.status==="benefit"||d.status==="credit"||d.status==="shortage"||d.status==="allowance"?d.amount:d.days*d.dailySalary-d.deduction),0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]})]}),o.map(l=>e.jsxs("tr",{children:[e.jsx("td",{children:l.date}),e.jsx("td",{children:l.employeeCode}),e.jsx("td",{children:l.firstName}),e.jsx("td",{children:l.lastName}),l.status==="shortage"?e.jsx("td",{colSpan:4,children:l.comment}):e.jsxs(e.Fragment,{children:[e.jsx("td",{children:l.datesWorked&&l.datesWorked.length>0?e.jsx(jb,{placement:"top",overlay:e.jsx(Rm,{id:`tooltip-${l._id}`,children:r(l.datesWorked)}),children:e.jsx("span",{className:"initialism",children:a(l.datesWorked,l.status)})}):""}),e.jsx("td",{children:l.days}),e.jsx("td",{children:l.dailySalary>0?`K${l.dailySalary}`:""}),e.jsx("td",{children:l.deduction>-1?`K${l.deduction}`:""})]}),e.jsxs("td",{children:["K",l.amount>0?l.amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):(l.days*l.dailySalary-l.deduction).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),e.jsx("td",{className:l.status==="benefit"?"border-2 border-warning-subtle":l.status==="credit"?"border-2 border-info-subtle":l.status==="shortage"?"border-2 border-success-subtle":l.status==="allowance"?"border-2 border-primary-subtle":"",children:l.status})]},l._id))]},i))]})})})}var f0={},m0={exports:{}};(function(t,n){(function(s,r){t.exports=r(sm,c)})(D0,function(s,r){function a(S){return S&&typeof S=="object"&&"default"in S?S:{default:S}}var i=a(r);function o(S,N){var b=Object.keys(S);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(S);N&&(E=E.filter(function(v){return Object.getOwnPropertyDescriptor(S,v).enumerable})),b.push.apply(b,E)}return b}function l(S){for(var N=1;N<arguments.length;N++){var b=arguments[N]!=null?arguments[N]:{};N%2?o(Object(b),!0).forEach(function(E){d(S,E,b[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(b)):o(Object(b)).forEach(function(E){Object.defineProperty(S,E,Object.getOwnPropertyDescriptor(b,E))})}return S}function d(S,N,b){return N in S?Object.defineProperty(S,N,{value:b,enumerable:!0,configurable:!0,writable:!0}):S[N]=b,S}function h(S,N){return function(b){if(Array.isArray(b))return b}(S)||function(b,E){var v=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(v!=null){var k,$,C=[],w=!0,A=!1;try{for(v=v.call(b);!(w=(k=v.next()).done)&&(C.push(k.value),!E||C.length!==E);w=!0);}catch(B){A=!0,$=B}finally{try{w||v.return==null||v.return()}finally{if(A)throw $}}return C}}(S,N)||function(b,E){if(b){if(typeof b=="string")return u(b,E);var v=Object.prototype.toString.call(b).slice(8,-1);if(v==="Object"&&b.constructor&&(v=b.constructor.name),v==="Map"||v==="Set")return Array.from(b);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return u(b,E)}}(S,N)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u(S,N){(N==null||N>S.length)&&(N=S.length);for(var b=0,E=new Array(N);b<N;b++)E[b]=S[b];return E}function m(S,N){var b=S.element,E=S.popper,v=S.position,k=v===void 0?"bottom-center":v,$=S.containerStyle,C=S.containerClassName,w=C===void 0?"":C,A=S.arrow,B=S.arrowStyle,H=B===void 0?{}:B,I=S.arrowClassName,L=I===void 0?"":I,R=S.fixMainPosition,G=S.fixRelativePosition,Z=S.offsetY,ne=S.offsetX,M=S.animations,K=S.zIndex,F=K===void 0?0:K,xe=S.popperShadow,ge=S.onChange,_e=S.active,je=_e===void 0||_e,le=S.portal,Ve=S.portalTarget,Qe=typeof window<"u",Je=Qe&&Ve instanceof HTMLElement,zt=A===!0,Ht=E&&je===!0,ye=r.useRef(),Tt=r.useRef(),At=r.useRef(),He=r.useRef(),De=r.useMemo(function(){return{position:k,fixMainPosition:R,fixRelativePosition:G,offsetY:Z,offsetX:ne,defaultArrow:zt,animations:M,zIndex:F,onChange:ge}},[k,R,G,Z,ne,zt,M,ge,F]),en=r.useCallback(function(){At.current&&(At.current.style.transition=""),Tt.current&&(Tt.current.parentNode.style.transition="")},[]),wt={element:l({display:"inline-block",height:"max-content"},$),arrow:l({visibility:"hidden",left:"0",top:"0",position:"absolute"},H),popper:{position:"absolute",left:"0",top:"0",willChange:"transform",visibility:"hidden",zIndex:F}};Qe&&!He.current&&(He.current=document.createElement("div"),He.current.data={portal:le,isValidPortalTarget:Je}),r.useEffect(function(){if(le&&!Je){var ot=He.current;return document.body.appendChild(ot),function(){document.body.contains(ot)&&document.body.removeChild(ot)}}},[le,Je]),r.useEffect(function(){if(!Ht)return en(),Tt.current.parentNode.style.visibility="hidden",void(At.current&&(At.current.style.visibility="hidden"));function ot(Kt){Kt&&Kt.type!=="resize"&&!Kt.target.contains(ye.current)||(Kt&&en(),j(ye,Tt,At,De,Kt))}return ot(),document.addEventListener("scroll",ot,!0),window.addEventListener("resize",ot),function(){document.removeEventListener("scroll",ot,!0),window.removeEventListener("resize",ot)}},[Ht,De,en]),r.useEffect(function(){var ot={portal:le,isValidPortalTarget:Je},Kt=He.current.data;JSON.stringify(ot)!==JSON.stringify(Kt)&&(He.current.data=ot,ye.current.refreshPosition())},[le,Je]);var Tn=i.default.createElement(i.default.Fragment,null,function(){if(!A||!Ht)return null;var ot=i.default.createElement("div",{ref:At,style:wt.arrow}),Kt=r.isValidElement(A)?{children:A}:{className:"ep-arrow ".concat(xe?"ep-shadow":""," ").concat(L)};return r.cloneElement(ot,Kt)}(),i.default.createElement("div",{className:xe?"ep-popper-shadow":"",style:wt.popper},i.default.createElement("div",{ref:Tt},E)));return i.default.createElement("div",{ref:function(ot){if(ot&&(ot.removeTransition=en,ot.refreshPosition=function(){return setTimeout(function(){return j(ye,Tt,At,De,{})},10)}),ye.current=ot,N instanceof Function)return N(ot);N&&(N.current=ot)},className:w,style:wt.element},b,le&&Qe?s.createPortal(Tn,Je?Ve:He.current):Tn)}function j(S,N,b,E,v){var k=E.position,$=E.fixMainPosition,C=E.fixRelativePosition,w=E.offsetY,A=w===void 0?0:w,B=E.offsetX,H=B===void 0?0:B,I=E.defaultArrow,L=E.animations,R=L===void 0?[]:L,G=E.zIndex,Z=E.onChange;if(S.current&&N.current){var ne,M,K,F,xe=(M=window.pageXOffset!==void 0,K=(document.compatMode||"")==="CSS1Compat",{scrollLeft:M?window.pageXOffset:K?document.documentElement.scrollLeft:document.body.scrollLeft,scrollTop:M?window.pageYOffset:K?document.documentElement.scrollTop:document.body.scrollTop}),ge=xe.scrollLeft,_e=xe.scrollTop,je=y(S.current,ge,_e),le=je.top,Ve=je.left,Qe=je.height,Je=je.width,zt=je.right,Ht=je.bottom,ye=y(N.current,ge,_e),Tt=ye.top,At=ye.left,He=ye.height,De=ye.width,en=document.documentElement,wt=en.clientHeight,Tn=en.clientWidth,ot=N.current.parentNode,Kt=function(Te){if(!Te)return[0,0];var Ee=h((Te.style.transform.match(/translate\((.*?)px,\s(.*?)px\)/)||[]).map(function(Fe){return Number(Fe)}),3),Se=Ee[1],$e=Se===void 0?0:Se,Ie=Ee[2];return[$e,Ie===void 0?0:Ie]}(ot),Is=h(Kt,2),qr=Is[0],Ps=Is[1],Fs=function(Te){var Ee=h(Te.split("-"),2),Se=Ee[0],$e=Se===void 0?"bottom":Se,Ie=Ee[1],Fe=Ie===void 0?"center":Ie;$e==="auto"&&($e="bottom"),Fe==="auto"&&(Fe="center");var xn=$e==="top"||$e==="bottom",Jt=$e==="left"||$e==="right";return Jt&&(Fe==="start"&&(Fe="top"),Fe==="end"&&(Fe="bottom")),xn&&(Fe==="start"&&(Fe="left"),Fe==="end"&&(Fe="right")),[$e,Fe,xn,Jt]}(k),O=h(Fs,4),_=O[0],P=O[1],q=O[2],V=O[3],W=_,ce=function(Te,Ee){return"translate(".concat(Te,"px, ").concat(Ee,"px)")},de=Je-De,fe=Qe-He,pe=P==="left"?0:P==="right"?de:de/2,se=de-pe,be=P==="top"?0:P==="bottom"?fe:fe/2,re=fe-be,Le=Ve-At+qr,Ke=le-Tt+Ps,Re=0,Ae=0,qe=f(S.current),dt=[],lt=b.current,pt=y(lt,ge,_e)||{},ut=pt.height,Be=ut===void 0?0:ut,yt=pt.width,Ue=yt===void 0?0:yt,Ce=Le,ve=Ke,we={top:"bottom",bottom:"top",left:"right",right:"left"};for(q&&(Le+=pe,Ke+=_==="top"?-He:Qe,I&&(Be=11,Ue=20)),V&&(Le+=_==="left"?-De:Je,Ke+=be,I&&(Be=20,Ue=11));qe;)dt.push(qe),Pe(y(qe,ge,_e)),qe=f(qe.parentNode);Pe({top:_e,bottom:_e+wt,left:ge,right:ge+Tn,height:wt,width:Tn}),q&&(Ke+=W==="bottom"?A:-A),V&&(Le+=W==="right"?H:-H),Le-=Re,Ke-=Ae,ne=we[W],lt&&(q&&((F=Je<De)?Ce+=Je/2:Ce=Le+De/2,Ce-=Ue/2,W==="bottom"&&(ve=Ke,Ke+=Be),W==="top"&&(ve=(Ke-=Be)+He),Re<0&&Re-pe<0&&(F?Ce+=(pe-Re)/2:Je-pe+Re<De&&(Ce+=(Je-pe+Re-De)/2)),Re>0&&Re+se>0&&(F?Ce-=(Re+se)/2:Je-Re-se<De&&(Ce-=(Je-Re-se-De)/2))),V&&((F=Qe<He)?ve+=Qe/2:ve=Ke+He/2,ve-=Be/2,W==="left"&&(Ce=(Le-=Ue)+De),W==="right"&&(Ce=Le,Le+=Ue),Ae<0&&Ae-be<0&&(F?ve+=(be-Ae)/2:Qe-be+Ae<He&&(ve+=(Qe-be+Ae-He)/2)),Ae>0&&Ae+re>0&&(F?ve-=(Ae+re)/2:Qe-Ae-re<He&&(ve-=(Qe-Ae-re-He)/2))),lt.setAttribute("direction",ne),lt.style.height=Be+"px",lt.style.width=Ue+"px",lt.style.transform=ce(Ce,ve),lt.style.visibility="visible",lt.style.zIndex=G+1),ot.style.transform=ce(Le,Ke);var ke={popper:{top:Ke,bottom:Ke+He,left:Le,right:Le+De,height:He,width:De},element:{top:le,bottom:Ht,left:Ve,right:zt,height:Qe,width:Je},arrow:{top:ve,bottom:ve+Be,left:Ce,right:Ce+Ue,height:Be,width:Ue,direction:ne},position:W+"-"+(Re!==0?"auto":P),scroll:{scrollLeft:ge,scrollTop:_e},scrollableParents:dt,event:v};v||R.forEach(function(Te){Te({popper:ot,arrow:lt,data:l(l({},ke),{},{getTransform:ce,mirror:we})})}),ot.style.visibility="visible",typeof Z=="function"&&Z(ke)}function Pe(Te){var Ee=Te.top,Se=Te.bottom,$e=Te.left,Ie=Te.right,Fe=Te.height,xn=Te.width;if(q){var Jt=Math.round(le-Ee+Qe/2),ys=Math.round(Fe/2);$||(le-(He+A+Be)<Ee&&Jt<=ys&&W==="top"?(Ke+=He+Qe,W="bottom"):Ht+He+A+Be>Fe+Ee&&Jt>=ys&&W==="bottom"&&(Ke-=He+Qe,W="top")),C||(Ve+pe<$e&&(Re=x(zt-Ue>$e?Ve+pe-$e:-Je+pe+Ue,Re)),zt-se>Ie&&(Re=x(Ve+Ue<Ie?zt-se-Ie:Je-se-Ue,Re)))}if(V){var We=Math.round(Ve-$e+Je/2),Ze=Math.round(xn/2);$||(Ve-(De+H+Ue)<$e&&We<Ze&&W==="left"?(Le+=Je+De,W="right"):zt+De+H+Ue>Ie&&We>Ze&&W==="right"&&(Le-=Je+De,W="left")),C||(le+be<Ee&&(Ae=x(Ht-Be>Ee?le+be-Ee:-Qe+be+Be,Ae)),Ht-re>Se&&(Ae=x(le+Be<Se?Ht-re-Se:Qe-re-Be,Ae)))}}}function y(S,N,b){if(S){var E=S.getBoundingClientRect(),v=E.top,k=E.left,$=E.width,C=E.height,w=v+b,A=k+N;return{top:w,bottom:w+C,left:A,right:A+$,width:$,height:C}}}function f(S){if(S&&S.tagName!=="HTML"){var N=window.getComputedStyle(S),b=function(E){return["auto","scroll"].includes(E)};return S.clientHeight<S.scrollHeight&&b(N.overflowX)||S.clientWidth<S.scrollWidth&&b(N.overflowY)?S:f(S.parentNode)}}function x(S,N){return Math.round(Math.abs(S))>Math.round(Math.abs(N))?S:N}return r.forwardRef(m)})})(m0);var AB=m0.exports;function $i(t){return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$i(t)}function BB(t){return function(n){if(Array.isArray(n))return lf(n)}(t)||p0(t)||Kd(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p0(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gj(t,n){var s=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=Kd(t))||n&&t&&typeof t.length=="number"){s&&(t=s);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){s=s.call(t)},n:function(){var d=s.next();return o=d.done,d},e:function(d){l=!0,i=d},f:function(){try{o||s.return==null||s.return()}finally{if(l)throw i}}}}function yj(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,r)}return s}function vj(t){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?yj(Object(s),!0).forEach(function(r){_B(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):yj(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function _B(t,n,s){return(n=g0(n))in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}function Da(t,n){return j0(t)||function(s,r){var a=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(a!=null){var i,o,l,d,h=[],u=!0,m=!1;try{if(l=(a=a.call(s)).next,r===0){if(Object(a)!==a)return;u=!1}else for(;!(u=(i=l.call(a)).done)&&(h.push(i.value),h.length!==r);u=!0);}catch(j){m=!0,o=j}finally{try{if(!u&&a.return!=null&&(d=a.return(),Object(d)!==d))return}finally{if(m)throw o}}return h}}(t,n)||Kd(t,n)||x0()}function x0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kd(t,n){if(t){if(typeof t=="string")return lf(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?lf(t,n):void 0}}function lf(t,n){(n==null||n>t.length)&&(n=t.length);for(var s=0,r=new Array(n);s<n;s++)r[s]=t[s];return r}function j0(t){if(Array.isArray(t))return t}function RB(t,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g0(r.key),r)}}function g0(t){var n=function(s,r){if($i(s)!=="object"||s===null)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var i=a.call(s,r||"default");if($i(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}(t,"string");return $i(n)==="symbol"?n:String(n)}function gn(t,n,s){(function(r,a){if(a.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.set(t,s)}function z(t,n){return function(s,r){return r.get?r.get.call(s):r.value}(t,y0(t,n,"get"))}function ie(t,n,s){return function(r,a,i){if(a.set)a.set.call(r,i);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=i}}(t,y0(t,n,"set"),s),s}function y0(t,n,s){if(!n.has(t))throw new TypeError("attempted to "+s+" private field on non-instance");return n.get(t)}function IB(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function PB(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sj={name:"gregorian_en",months:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]],weekDays:[["Saturday","Sat"],["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"]],digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]},cc={name:"gregorian",startYear:1,yearLength:365,epoch:1721424,century:20,weekStartDayIndex:1,getMonthLengths:function(t){return[31,t?29:28,31,30,31,30,31,31,30,31,30,31]},isLeap:function(t){return t%4==0&&t%100!=0||t%400==0},getLeaps:function(t){if(t!==0){for(var n=t>0?1:-1,s=[];t>0?n<=t:t<=n;)this.isLeap(n)&&s.push(n),t>0?n++:n--;return s}},getDayOfYear:function(t){for(var n=t.year,s=t.month,r=t.day,a=this.getMonthLengths(this.isLeap(n)),i=0;i<s.index;i++)r+=a[i];return r},getAllDays:function(t){var n=t.year;return this.yearLength*(n-1)+this.leapsLength(n)+this.getDayOfYear(t)},leapsLength:function(t){return((t-1)/4|0)+(-(t-1)/100|0)+((t-1)/400|0)},guessYear:function(t,n){return~~(t/365.24)+(n>0?1:-1)}};function Qr(t){return t&&t.constructor===Object}function Cs(t){if(!isNaN(t))return parseInt(t)}function $a(t){return Array.isArray(t)}function oi(t,n,s){return t===void 0||t<n||t>s}var yn=new WeakMap,Ut=new WeakMap,kt=new WeakMap,ws=new WeakMap,Sr=new WeakMap,br=new WeakMap,sn=new WeakMap,Cr=new WeakMap,Ln=new WeakMap,Gt=new WeakMap,li=new WeakMap,Ns=new WeakMap,bj=new WeakMap,ci=new WeakMap,di=new WeakMap,Cj=new WeakMap,Ru=new WeakMap,ks=new WeakMap,Iu=new WeakMap,FB=function(){function t(r){var a=this;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,t),gn(this,yn,{writable:!0,value:void 0}),gn(this,Ut,{writable:!0,value:void 0}),gn(this,kt,{writable:!0,value:void 0}),gn(this,ws,{writable:!0,value:void 0}),gn(this,Sr,{writable:!0,value:void 0}),gn(this,br,{writable:!0,value:void 0}),gn(this,sn,{writable:!0,value:void 0}),gn(this,Cr,{writable:!0,value:void 0}),gn(this,Ln,{writable:!0,value:Sj}),gn(this,Gt,{writable:!0,value:cc}),gn(this,li,{writable:!0,value:!1}),gn(this,Ns,{writable:!0,value:{}}),gn(this,bj,{writable:!0,value:/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ$/}),gn(this,ci,{writable:!0,value:[]}),gn(this,di,{writable:!0,value:!0}),gn(this,Cj,{writable:!0,value:function(d,h){switch(d){case"YYYY":return["year",h];case"YY":return["year","".concat(z(a,Gt).century).concat(h)];case"MMMM":case"MMM":return["month",a.months.findIndex(function(m){var j=m.name,y=m.shortName;return new RegExp(h,"i").test(j+y)})+1];case"MM":case"M":return["month",h];case"DD":case"D":return["day",h];case"HH":case"H":return["hour",h];case"hh":case"h":var u=Cs(h);return["hour",u>12?u-12:u];case"mm":case"m":return["minute",h];case"ss":case"s":return["second",h];case"SSS":case"SS":case"S":return["millisecond",h];default:return[]}}}),gn(this,Ru,{writable:!0,value:function(){return z(a,yn)===0&&z(a,Gt).startYear!==0}}),gn(this,ks,{writable:!0,value:function(){if(z(a,di)&&a.isValid){var d=Math.floor,h=function(x,S){return[(E=x,(E<0?-1:1)*Math.abs(d(x/S))),(N=x,b=S,(N<0&&d(N%b)!==-0?b:0)+d(x%S))];var N,b,E},u=function(){if(z(a,Ut)<0||z(a,Ut)>11){var x=z(a,Ut)<0?-1:1,S=Da(h(z(a,Ut),12),2),N=S[0],b=S[1];ie(a,yn,z(a,yn)+N),ie(a,Ut,b),z(a,Ru).call(a)&&ie(a,yn,x)}};for(ie(a,di,!1),[["millisecond","second",1e3],["second","minute",60],["minute","hour",60],["hour","day",24]].forEach(function(x){var S=Da(x,3),N=S[0],b=S[1],E=S[2];if(function(C,w){return C>=w||C<0}(a[N],E)){var v=Da(h(a[N],E),2),k=v[0],$=v[1];a[b]+=k,a[N]=$}}),ie(a,di,!0),u();z(a,kt)<-z(a,Gt).yearLength||z(a,kt)>z(a,Gt).yearLength;){if(z(a,Ut)>0){for(var m=z(a,Gt).getMonthLengths(a.isLeap),j=0;j<z(a,Ut);j++)ie(a,kt,z(a,kt)+m[j]);ie(a,Ut,0)}var y=a.isLeap?a.calendar.yearLength+1:a.calendar.yearLength;ie(a,kt,z(a,kt)+y*(z(a,kt)<0?1:-1)),ie(a,yn,z(a,yn)+(z(a,kt)<0?-1:1))}for(;;){var f;for(u();z(a,kt)<1;)ie(a,Ut,z(a,Ut)-1),u(),ie(a,kt,a.month.length+z(a,kt));if(z(a,kt)<=a.month.length||isNaN(z(a,kt)))break;ie(a,kt,z(a,kt)-a.month.length),ie(a,Ut,(f=z(a,Ut),f++,f))}z(a,ws)||ie(a,ws,0),z(a,Sr)||ie(a,Sr,0),z(a,br)||ie(a,br,0),z(a,sn)||ie(a,sn,0)}}}),gn(this,Iu,{writable:!0,value:function(){return(z(a,Ns).weekDays||z(a,Ln).weekDays).map(function(d,h){var u=Da(d,2),m=u[0],j=u[1],y=h-a.weekStartDayIndex;return y<0&&(y+=7),{name:m,shortName:j,index:y,number:y+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}})}});var i=Qr(r)?vj({},r):r,o=!0;if(i&&typeof i!="boolean"||(i={date:new Date}),Qr(i)||(i={date:i}),Object.keys(i).length!==0){for(var l in Qr(i.calendar)&&ie(this,Gt,i.calendar),Qr(i.locale)&&ie(this,Ln,i.locale),isNaN(i.year)&&isNaN(i.month)&&isNaN(i.day)&&!i.date&&(i.date=new Date),i.date&&(typeof i.date=="string"&&i.format&&ie(this,Cr,i.format),this.setDate(i.date),i.calendar&&this.convert(i.calendar),o=!1),delete i.calendar,delete i.locale,delete i.date,i)this.set(l,i[l]);z(this,Ru).call(this)&&ie(this,yn,-1),o&&z(this,ks).call(this)}}var n,s;return n=t,s=[{key:"parse",value:function(r){if(!r)return this;var a,i,o=z(this,Cr),l=z(this,Ln).digits,d=gj(l);try{for(d.s();!(a=d.n()).done;){var h=a.value;r=r.replace(new RegExp(h,"g"),l.indexOf(h))}}catch(H){d.e(H)}finally{d.f()}if(o)for(var u=o.split(/[^\w\u0600-\u06FF]/),m=r.split(/[^\w\u0600-\u06FF]/),j=0;j<u.length;j++)this.set.apply(this,BB(z(this,Cj).call(this,u[j],m[j])));else{var y=r.match(/(-?\d{2,4})?\W?([A-z]{3,9}|\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,3})?\W?(am|pm)?/),f=(j0(i=y)||p0(i)||Kd(i)||x0()).slice(1),x=f[1];x&&(x=/\d+/.test(x)?Cs(x)-1:this.months.findIndex(function(H){return new RegExp(x,"i").test(H.name)})),f[1]=x;var S=Da(f.map(Cs),7),N=S[0],b=S[1],E=S[2],v=S[3],k=S[4],$=S[5],C=S[6];ie(this,yn,N),ie(this,Ut,b),ie(this,kt,E),ie(this,ws,v),ie(this,Sr,k),ie(this,br,$),ie(this,sn,C)}var w=Da(z(this,Ln).meridiems[1],2),A=w[0],B=w[1];return z(this,ws)<12&&(r.includes(A)||r.includes(B))&&ie(this,ws,z(this,ws)+12),z(this,ks).call(this),this}},{key:"convert",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cc,a=arguments.length>1?arguments[1]:void 0;if(Qr(a)&&ie(this,Ln,a),!Qr(r)||r.name===z(this,Gt).name)return this;var i=this.toJulianDay()-r.epoch,o=new t({calendar:r,year:r.guessYear(i,z(this,yn)),month:1,day:1});return o.day+=i-o.toDays(),ie(this,yn,o.year),ie(this,Ut,o.month.index),ie(this,kt,o.day),ie(this,Gt,r),this}},{key:"format",value:function(r,a){if(!this.isValid||r&&typeof r!="string")return"";r||(r=z(this,Cr)||"YYYY/MM/DD"),$a(a)||(a=[]),a=(a=a.concat(z(this,ci))).filter(function(j){return typeof j=="string"||(console.warn("type of all items in the ignore list must be string, found",$i(j)),!1)}).map(function(j){return j.replace(/[*/+\-()[\]{}\s$^]/g,function(y){return"\\"+y})});var i,o=new RegExp("".concat(a.join("|")).concat(a.length>0?"|":"","YYYY|YY|MMMM|MMM|MM|M|WW|W|DDDD|DDD|DD|D|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|SSS|SS|S|A|a|."),"g"),l="",d=gj(r.match(o)||[]);try{for(d.s();!(i=d.n()).done;){var h=i.value,u=this.getValue(h);l+=a.includes(h)?h:u===0?u:u||h}}catch(j){d.e(j)}finally{d.f()}var m=this.digits;return l.replace(/[0-9]/g,function(j){return m[j]})}},{key:"getProperty",value:function(r){return this.getValue(r)}},{key:"getValue",value:function(r){var a=function(i){return i<10?"0"+i:i};switch(r){case"YYYY":return this.year;case"YY":return this.year.toString().substring(2,4);case"MMMM":return this.month.name;case"MMM":return this.month.shortName;case"MM":return a(this.month.number);case"M":return this.month.number;case"WW":return a(this.weekOfYear);case"W":return this.weekOfYear;case"DDDD":case"DDD":return this.dayOfYear;case"DD":return a(this.day);case"D":return this.day;case"HH":return a(this.hour);case"H":return this.hour;case"dddd":return this.weekDay.name;case"ddd":return this.weekDay.shortName;case"dd":return a(this.weekDay.number);case"d":return this.weekDay.number;case"hh":return a(this.hour>12?this.hour-12:this.hour||12);case"h":return this.hour>12?this.hour-12:this.hour||12;case"mm":return a(this.minute);case"m":return this.minute;case"ss":return a(this.second);case"s":return this.second;case"SSS":return z(this,sn)<10?"00".concat(z(this,sn)):z(this,sn)<100?"0".concat(z(this,sn)):z(this,sn);case"SS":return z(this,sn)<10?"00":z(this,sn)<100?("0"+z(this,sn)).substring(2,0):z(this,sn).toString().substring(0,2);case"S":return z(this,sn)<10||z(this,sn)<100?"0":z(this,sn).toString().substring(0,1);case"a":return this.hour>=12?z(this,Ln).meridiems[1][1]:z(this,Ln).meridiems[0][1];case"A":return this.hour>=12?z(this,Ln).meridiems[1][0]:z(this,Ln).meridiems[0][0];default:return""}}},{key:"setYear",value:function(r){return this.year=r,this}},{key:"setMonths",value:function(r){return this.months=r,this}},{key:"setMonth",value:function(r){return this.month=r,this}},{key:"setWeekDays",value:function(r){return this.weekDays=r,this}},{key:"setDigits",value:function(r){return this.digits=r,this}},{key:"setDay",value:function(r){return this.day=r,this}},{key:"setHour",value:function(r){return this.hour=r,this}},{key:"setMinute",value:function(r){return this.minute=r,this}},{key:"setSecond",value:function(r){return this.second=r,this}},{key:"setMillisecond",value:function(r){return this.millisecond=r,this}},{key:"setFormat",value:function(r){return ie(this,Cr,r),this}},{key:"setLocale",value:function(r){return this.locale=r,this}},{key:"setCalendar",value:function(r){return this.calendar=r,this}},{key:"setDate",value:function(r){if(typeof r=="string"){if(!z(this,bj).test(r))return this.parse(r);r=new Date(r)}return typeof r=="number"&&(r=new Date(r)),r instanceof Date&&(ie(this,Gt,cc),ie(this,yn,r.getFullYear()),ie(this,Ut,r.getMonth()),ie(this,kt,r.getDate()),ie(this,ws,r.getHours()),ie(this,Sr,r.getMinutes()),ie(this,br,r.getSeconds()),ie(this,sn,r.getMilliseconds()),ie(this,li,!1)),r instanceof t&&(ie(this,yn,r.year),ie(this,Ut,r.month.index),ie(this,kt,r.day),ie(this,ws,r.hour),ie(this,Sr,r.minute),ie(this,br,r.second),ie(this,sn,r.millisecond),ie(this,Ln,r.locale),ie(this,Cr,r._format),ie(this,Gt,r.calendar),ie(this,li,r.isUTC),ie(this,ci,r.ignoreList),ie(this,Ns,r.custom)),this}},{key:"setIgnoreList",value:function(r){return this.ignoreList=r,this}},{key:"set",value:function(r,a){if(r==null)return this;if(Qr(r)){var i=vj({},r);for(var o in i.date&&(this.setDate(i.date),delete i.date),i.calendar&&(this.convert(i.calendar),delete i.calendar),i.locale&&(this.setLocale(i.locale),delete i.locale),ie(this,di,!1),i)this.set(o,i[o]);return ie(this,di,!0),z(this,ks).call(this),this}r==="format"&&(r="_format");try{this[r]=a}catch{}return this}},{key:"add",value:function(r,a){if(!(r=Cs(r))||!a)return this;switch(a){case"years":case"y":a="year";break;case"months":case"M":a="month";break;case"days":case"d":a="day";break;case"hours":case"h":a="hour";break;case"minutes":case"m":a="minute";break;case"seconds":case"s":a="second";break;case"milliseconds":case"ms":a="millisecond"}return this[a]+=r,this}},{key:"subtract",value:function(r,a){return this.add(-r,a)}},{key:"toFirstOfYear",value:function(){return this.month=1,this.day=1,this}},{key:"toLastOfYear",value:function(){return this.day>=29&&(this.day=29),this.month=12,this.toLastOfMonth(),this}},{key:"toFirstOfMonth",value:function(){return ie(this,kt,1),this}},{key:"toLastOfMonth",value:function(){return ie(this,kt,0),ie(this,Ut,z(this,Ut)+1),z(this,ks).call(this),this}},{key:"toFirstOfWeek",value:function(){return this.day-=this.weekDay.index,this}},{key:"toLastOfWeek",value:function(){return this.day+=6-this.weekDay.index,this}},{key:"toFirstWeekOfYear",value:function(){return this.toFirstOfYear(),this.weekDay.index===0?this:this.toLastOfWeek().setDay(this.day+1)}},{key:"toLastWeekOfYear",value:function(){return this.toLastOfYear().toFirstOfWeek()}},{key:"toString",value:function(){return this.format()}},{key:"toDate",value:function(){var r=new t(this);return z(this,Gt).name!=="gregorian"&&r.convert(cc),new Date(r.year,r.month.index,r.day,r.hour,r.minute,r.second,r.millisecond)}},{key:"toUTC",value:function(){return z(this,li)||(this.minute+=this.toDate().getTimezoneOffset(),ie(this,li,!0)),this}},{key:"toUnix",value:function(){return this.unix}},{key:"toJulianDay",value:function(){return this.toDays()+z(this,Gt).epoch}},{key:"toObject",value:function(){return{year:z(this,yn),month:this.month,day:z(this,kt),weekDay:this.weekDay,hour:z(this,ws),minute:z(this,Sr),second:z(this,br),millisecond:z(this,sn),weekOfYear:this.weekOfYear,dayOfYear:this.dayOfYear,daysLeft:this.daysLeft,calendar:z(this,Gt),locale:z(this,Ln),format:z(this,Cr)||"YYYY/MM/DD",ignoreList:z(this,ci)}}},{key:"toJSON",value:function(){return this.valueOf()}},{key:"valueOf",value:function(){return this.toDate().valueOf()}},{key:"toDays",value:function(){if(this.isValid)return z(this,Gt).getAllDays(this)}},{key:"dayOfBeginning",get:function(){return this.toDays()}},{key:"dayOfYear",get:function(){if(this.isValid)return z(this,Gt).getDayOfYear(this)}},{key:"weekOfYear",get:function(){if(this.isValid)return 1+~~(this.dayOfYear/7)}},{key:"daysLeft",get:function(){if(this.isValid){var r=z(this,Gt).yearLength;return(this.isLeap?r+1:r)-this.dayOfYear}}},{key:"year",get:function(){return z(this,yn)},set:function(r){ie(this,yn,Cs(r)),z(this,ks).call(this)}},{key:"month",get:function(){return this.months[z(this,Ut)]||{}},set:function(r){var a;r=(a=Cs(r.valueOf())-1)!==null&&a!==void 0?a:void 0,ie(this,Ut,r),oi(r,0,11)&&z(this,ks).call(this)}},{key:"monthIndex",get:function(){return z(this,Ut)}},{key:"day",get:function(){return z(this,kt)},set:function(r){r=Cs(r),ie(this,kt,r),oi(r,1,28)&&z(this,ks).call(this)}},{key:"weekDay",get:function(){if(!this.isValid)return{};var r=(this.toJulianDay()+3)%7;return z(this,Iu).call(this)[r]}},{key:"hour",get:function(){return z(this,ws)},set:function(r){r=Cs(r),ie(this,ws,r),oi(r,0,23)&&z(this,ks).call(this)}},{key:"minute",get:function(){return z(this,Sr)},set:function(r){r=Cs(r),ie(this,Sr,r),oi(r,0,59)&&z(this,ks).call(this)}},{key:"second",get:function(){return z(this,br)},set:function(r){r=Cs(r),ie(this,br,r),oi(r,0,59)&&z(this,ks).call(this)}},{key:"millisecond",get:function(){return z(this,sn)},set:function(r){r=Cs(r),ie(this,sn,r),oi(r,0,999)&&z(this,ks).call(this)}},{key:"months",get:function(){var r=z(this,Gt).getMonthLengths(this.isLeap),a=(z(this,Ns).months||z(this,Ln).months).map(function(i,o){var l=Da(i,2);return{name:l[0],shortName:l[1],length:r[o],index:o,number:o+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}});return a},set:function(r){if(!r)return delete z(this,Ns).months;$a(r)&&r.length===12&&r.every(function(a){return $a(a)&&a.length===2&&a.every(function(i){return typeof i=="string"})})&&(z(this,Ns).months=r)}},{key:"weekDays",get:function(){return z(this,Iu).call(this).sort(function(r,a){return r.index-a.index})},set:function(r){if(!r)return delete z(this,Ns).weekDays;$a(r)&&r.length===7&&r.every(function(a){return $a(a)&&a.length===2&&a.every(function(i){return typeof i=="string"})})&&(z(this,Ns).weekDays=r)}},{key:"leaps",get:function(){return z(this,Gt).getLeaps(z(this,yn))}},{key:"calendar",get:function(){return z(this,Gt)},set:function(r){this.convert(r)}},{key:"locale",get:function(){return z(this,Ln)},set:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sj;Qr(r)&&ie(this,Ln,r)}},{key:"custom",get:function(){return z(this,Ns)}},{key:"meridiems",get:function(){return z(this,Ln).meridiems}},{key:"digits",get:function(){return z(this,Ns).digits||z(this,Ln).digits},set:function(r){if(!r)return delete z(this,Ns).digits;$a(r)&&r.length===10&&(z(this,Ns).digits=r)}},{key:"_format",get:function(){return z(this,Cr)},set:function(r){typeof r=="string"&&ie(this,Cr,r)}},{key:"isLeap",get:function(){return z(this,Gt).isLeap(z(this,yn))}},{key:"isValid",get:function(){return!isNaN(z(this,yn))&&!isNaN(z(this,Ut))&&!isNaN(z(this,kt))}},{key:"isUTC",get:function(){return z(this,li)}},{key:"unix",get:function(){return(this.valueOf()-this.millisecond)/1e3}},{key:"ignoreList",get:function(){return z(this,ci)},set:function(r){$a(r)&&ie(this,ci,r)}},{key:"weekStartDayIndex",get:function(){return z(this,Gt).weekStartDayIndex},set:function(r){(r=Cs(r))!==void 0&&(z(this,Gt).weekStartDayIndex=Math.abs(r)%7)}},{key:"date",set:function(r){this.setDate(r)}}],s&&RB(n.prototype,s),Object.defineProperty(n,"prototype",{writable:!1}),t}(),MB=IB(PB(FB));const zB=Object.freeze(Object.defineProperty({__proto__:null,default:MB},Symbol.toStringTag,{value:"Module"})),HB=$0(zB);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var n=c,s=AB,r=HB;function a(O){return O&&typeof O=="object"&&"default"in O?O:{default:O}}var i=a(n),o=a(s),l=a(r);function d(O,_){var P=Object.keys(O);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(O);_&&(q=q.filter(function(V){return Object.getOwnPropertyDescriptor(O,V).enumerable})),P.push.apply(P,q)}return P}function h(O){for(var _=1;_<arguments.length;_++){var P=arguments[_]!=null?arguments[_]:{};_%2?d(Object(P),!0).forEach(function(q){u(O,q,P[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(P)):d(Object(P)).forEach(function(q){Object.defineProperty(O,q,Object.getOwnPropertyDescriptor(P,q))})}return O}function u(O,_,P){return(_=function(q){var V=function(W,ce){if(typeof W!="object"||W===null)return W;var de=W[Symbol.toPrimitive];if(de!==void 0){var fe=de.call(W,ce||"default");if(typeof fe!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ce==="string"?String:Number)(W)}(q,"string");return typeof V=="symbol"?V:String(V)}(_))in O?Object.defineProperty(O,_,{value:P,enumerable:!0,configurable:!0,writable:!0}):O[_]=P,O}function m(){return m=Object.assign?Object.assign.bind():function(O){for(var _=1;_<arguments.length;_++){var P=arguments[_];for(var q in P)Object.prototype.hasOwnProperty.call(P,q)&&(O[q]=P[q])}return O},m.apply(this,arguments)}function j(O,_){if(O==null)return{};var P,q,V=function(ce,de){if(ce==null)return{};var fe,pe,se={},be=Object.keys(ce);for(pe=0;pe<be.length;pe++)fe=be[pe],de.indexOf(fe)>=0||(se[fe]=ce[fe]);return se}(O,_);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(O);for(q=0;q<W.length;q++)P=W[q],_.indexOf(P)>=0||Object.prototype.propertyIsEnumerable.call(O,P)&&(V[P]=O[P])}return V}function y(O,_){return function(P){if(Array.isArray(P))return P}(O)||function(P,q){var V=P==null?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(V!=null){var W,ce,de,fe,pe=[],se=!0,be=!1;try{if(de=(V=V.call(P)).next,q===0){if(Object(V)!==V)return;se=!1}else for(;!(se=(W=de.call(V)).done)&&(pe.push(W.value),pe.length!==q);se=!0);}catch(re){be=!0,ce=re}finally{try{if(!se&&V.return!=null&&(fe=V.return(),Object(fe)!==fe))return}finally{if(be)throw ce}}return pe}}(O,_)||x(O,_)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(O){return function(_){if(Array.isArray(_))return S(_)}(O)||function(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}(O)||x(O)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x(O,_){if(O){if(typeof O=="string")return S(O,_);var P=Object.prototype.toString.call(O).slice(8,-1);return P==="Object"&&O.constructor&&(P=O.constructor.name),P==="Map"||P==="Set"?Array.from(O):P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P)?S(O,_):void 0}}function S(O,_){(_==null||_>O.length)&&(_=O.length);for(var P=0,q=new Array(_);P<_;P++)q[P]=O[P];return q}function N(O,_){var P=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!P){if(Array.isArray(O)||(P=x(O))||_&&O&&typeof O.length=="number"){P&&(O=P);var q=0,V=function(){};return{s:V,n:function(){return q>=O.length?{done:!0}:{done:!1,value:O[q++]}},e:function(fe){throw fe},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W,ce=!0,de=!1;return{s:function(){P=P.call(O)},n:function(){var fe=P.next();return ce=fe.done,fe},e:function(fe){de=!0,W=fe},f:function(){try{ce||P.return==null||P.return()}finally{if(de)throw W}}}}function b(O){return Array.isArray(O)}function E(O){var _=O.state.date,P=_.calendar,q=_.locale,V=O.customWeekDays,W=O.weekStartDayIndex,ce=O.displayWeekNumbers,de=O.weekNumber,fe=n.useMemo(function(){var pe=V;return b(pe)&&pe.length>=7?(pe.length=7,pe=pe.map(function(se){return b(se)&se.length>1?se=se[1]:b(se)&&(se=se[0]),se})):pe=new l.default({year:1,calendar:P,locale:q}).weekDays.map(function(se){return se.shortName}),pe},[P,q,V]);return fe=f(fe).slice(W).concat(f(fe).splice(0,W)),i.default.createElement("div",{className:"rmdp-week"},ce&&i.default.createElement("div",{className:"rmdp-week-day"},de),fe.map(function(pe,se){return i.default.createElement("div",{key:se,className:"rmdp-week-day"},pe)}))}function v(O,_){var P=arguments.length>2&&arguments[2]!==void 0&&arguments[2],q=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!O||!_)return!1;if(O.year===_.year){if(q)return!0;if(O.monthIndex===_.monthIndex)return!!P||O.day===_.day}}function k(O){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY/MM/DD";return O.format(_)}function $(O,_,P){var q=P.multiple,V=P.range,W=P.selectedDate,ce=P.onlyMonthPicker,de=P.onlyYearPicker,fe=P.format,pe=P.focused,se=P.weekPicker;O.setFormat(fe);var be=new l.default(O);return W=q&&V?function(){var re=!0;b(W)||(W=[[W]]);var Le=W.find(function(qe){return qe.length===1}),Ke=ce?"YYYY/MM":"YYYY/MM/DD",Re=W;if(Le){var Ae=Le[0];Re=Re.filter(function(qe){if(qe.length===1)return!0;var dt=y(qe,2),lt=dt[0],pt=dt[1],ut=y([Ae,be].sort(function(ke,Pe){return ke-Pe}),2),Be=[lt,pt,ut[0],ut[1]].map(function(ke){return k(ke,Ke)}),yt=y(Be,4),Ue=yt[0],Ce=yt[1],ve=yt[2],we=yt[3];return!(ve<=Ue&&we>=Ce||ve>=Ue&&we>=Ce&&ve<=Ce||ve<=Ue&&we<=Ce&&we>=Ue)})}else Re=Re.filter(function(qe){if(!b(qe))return!0;if(qe.length===0)return!1;var dt=y(qe,2),lt=[dt[0],dt[1],be].map(function(Ue){return k(Ue,Ke)}),pt=y(lt,3),ut=pt[0],Be=pt[1],yt=pt[2];return!(yt>=ut&&yt<=Be)});return Re=Re.map(function(qe){var dt;return b(qe)?qe.length===1?(re=!1,dt=qe.concat(be)):dt=qe:(re=!1,dt=[qe,be]),dt.sort(function(lt,pt){return lt-pt})}),re&&(Re=[].concat(f(Re),[[be]])),Re}():q?function(){var re=W.filter(function(Le){return!v(O,Le,ce,de)});return re.length===W.length?re.push(be):be=re.find(function(Le){return v(Le,pe)}),_&&re.sort(function(Le,Ke){return Le-Ke}),re}():V?function(){if(se)return[new l.default(be).toFirstOfWeek(),new l.default(be).toLastOfWeek()];if(W.length===2||W.length===0)return[be];if(W.length===1)return[W[0],be].sort(function(re,Le){return re-Le})}():be,[W,be]}function C(O,_,P,q){var V=[],W=P?"YYYY/MM":"YYYY/MM/DD",ce=k(O,W);function de(fe){var pe=fe[0],se=fe[1];if(fe.length===1)v(O,pe,P)&&V.push("rmdp-range");else if(fe.length===2){var be=[pe,se].map(function(Re){return k(Re,W)}),re=y(be,2),Le=re[0],Ke=re[1];ce>=Le&&ce<=Ke&&V.push("rmdp-range"),ce===Le&&V.push("start"),ce===Ke&&V.push("end")}}return q?(b(_)?_:[[_]]).forEach(de):de(_),V.join(" ")}function w(O,_,P,q){var V=arguments.length>5?arguments[5]:void 0,W=[];if(q&&P){var ce,de=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:"day")==="day"?"YYYY/MM/DD":"YYYY/MM",fe=P.format(de),pe=O.format(de);if(V||(_==null?void 0:_.length)!==1){if(V&&b(_)){var se,be=N(_);try{for(be.s();!(se=be.n()).done;){var re=se.value;if(b(re)&&re.length===1){ce=re[0].format(de);break}}}catch(Le){be.e(Le)}finally{be.f()}}}else ce=_[0].format(de);(pe>ce&&pe<=fe||pe<ce&&pe>=fe)&&(W.push("rmdp-range-hover"),pe===fe&&W.push(fe>ce?"end":"start"),b(_)&&_.flat().some(function(Le){return Le.format(de)===pe})&&W.push("force"))}return W}function A(O,_,P){if(O){var q=B(O);return P?Array.from(q.querySelectorAll(_)):q.querySelector(_)}}function B(O){return O.closest(".rmdp-calendar")}var H=["selected","today","day:not(.rmdp-day-hidden):not(.rmdp-disabled)"];function I(O,_,P){var q=P.type,V=q===void 0?"day":q,W=P.format;O.preventDefault();var ce=O.currentTarget,de=O.key,fe=O.code,pe=V==="day"?7:3,se=B(ce),be=se&&se.classList.contains("rmdp-rtl"),re={ArrowRight:be?-1:1,ArrowLeft:be?1:-1,ArrowUp:-pe,ArrowDown:pe};if(fe==="Space"||de===" ")ce.click();else if(Object.keys(re).includes(de)){var Le=function(){if(V==="month")return L(se,[H[2]]);var qe=A(ce,Ke<0?".rmdp-left":".rmdp-right");qe&&(qe.click(),L(se))},Ke=re[de],Re=new l.default(_.date).add(Ke,V);(function(qe){if(!qe)return Le();var dt=qe.getAttribute("class");dt.includes("hidden")||dt.includes("disabled")?I(O,h(h({},_),{},{date:Re}),{type:V,format:W}):qe.focus()})(A(ce,'[aria-label*="'.concat(_.year?"year ".concat(_.year+Ke):Re.format(W),'"]')))}else{var Ae=A(ce,".rmdp-arrow-container");Ae&&Ae.focus()}}function L(O){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H,P=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],q="[data-active='true']";O.querySelectorAll("".concat(q," [tabindex='0']")).forEach(function(V){return V.setAttribute("tabindex","-1")}),setTimeout(function(){var V,W=N(_);try{for(W.s();!(V=W.n()).done;){var ce=V.value,de=O.querySelector("".concat(q," .rmdp-").concat(ce));if(de){de.setAttribute("tabindex","0"),P&&de.focus();break}}}catch(fe){W.e(fe)}finally{W.f()}},10)}var R="dddd MMMM DD of YYYY";function G(O){var _=O.state,P=O.onChange,q=O.showOtherDays,V=q!==void 0&&q,W=O.mapDays,ce=O.onlyShowInRangeDates,de=O.customWeekDays,fe=O.sort,pe=O.numberOfMonths,se=O.isRTL,be=O.weekStartDayIndex,re=O.handleFocusedDate,Le=O.hideWeekDays,Ke=O.fullYear,Re=y(O.monthAndYears,1)[0],Ae=O.displayWeekNumbers,qe=O.weekNumber,dt=qe===void 0?"":qe,lt=O.rangeHover,pt=O.highlightToday,ut=n.useRef({}),Be=n.useRef(),yt=_.today,Ue=_.minDate,Ce=_.maxDate,ve=_.range,we=_.multiple,ke=_.date,Pe=_.selectedDate,Te=_.onlyMonthPicker,Ee=_.onlyYearPicker,Se=_.mustShowMonthPicker,$e=_.mustShowYearPicker,Ie=!Te&&!Ee,Fe=y(n.useState(),2),xn=Fe[0],Jt=Fe[1];ut.current.date=ke;var ys=n.useMemo(function(){return Ie?function(Ze,qt,Nt,Kn){if(!Ze)return[];for(var xt=[],vs=0;vs<Nt;vs++){var An=(Ze=new l.default(Ze).toFirstOfMonth()).monthIndex,Qn=[];Ze.toFirstOfWeek().add(Kn,"day"),Ze.monthIndex===An&&Ze.day>1&&Ze.subtract(7,"days");for(var bn=0;bn<6;bn++){for(var Bn=[],on=0;on<7;on++)Bn.push({date:new l.default(Ze),day:Ze.format("D"),current:Ze.monthIndex===An}),Ze.day+=1;if(Qn.push(Bn),bn>2&&Ze.monthIndex!==An)break}xt.push(Qn)}return xt}(ut.current.date,0,pe,be):[]},[ke.monthIndex,ke.year,ke.calendar,ke.locale,Ie,V,pe,be]);return Ie&&i.default.createElement("div",{ref:Be,className:"rmdp-day-picker ".concat(Ke?"rmdp-full-year":""),style:{display:Ke?"grid":"flex"},onMouseLeave:function(){return lt&&Jt()},"data-active":Ie&&!Se&&!$e},ys.map(function(Ze,qt){return i.default.createElement("div",{key:qt,style:u({},se?"marginLeft":"marginRight",qt+(Ke?0:1)<pe?"10px":"")},Ke&&i.default.createElement("div",{className:"rmdp-month-name"},Re[qt]),!Le&&i.default.createElement(E,{state:_,customWeekDays:de,weekStartDayIndex:be,displayWeekNumbers:Ae,weekNumber:dt}),Ze.map(function(Nt,Kn){return i.default.createElement("div",{key:Kn,className:"rmdp-week"},Ae&&i.default.createElement("div",{className:"rmdp-day rmdp-disabled"},i.default.createElement("span",null,Nt[0].date.format("WW"))),Nt.map(function(xt,vs){var An=function(jt){if(!jt.current&&!V)return{};var vt={};return W.forEach(function(tn){var jn,nn=tn({date:jt.date,today:yt,currentMonth:_.date.month,selectedDate:_.selectedDate,isSameDate:v});((jn=nn)===null||jn===void 0?void 0:jn.constructor)!==Object&&(nn={}),(nn.disabled||nn.hidden)&&(jt.disabled=!0),nn.hidden&&(jt.hidden=!0),vt=h(h({},vt),nn)}),delete vt.disabled,delete vt.hidden,vt}(xt={date:xt.date,day:xt.day,current:xt.current}),Qn=We(xt)&&!xt.disabled,bn="".concat(Qn?"sd":""),Bn=An.children;Qn&&(bn="".concat(bn," ").concat(An.className||"")),delete An.className,delete An.children;var on=function(jt,vt){var tn=["rmdp-day"],jn=jt.date,nn=jt.hidden,Ms=jt.current;if(!We(jt)||nn)tn.push("rmdp-day-hidden");else{(Ue&&jn<Ue||Ce&&jn>Ce||jt.disabled)&&(tn.push("rmdp-disabled"),jt.disabled||(jt.disabled=!0)),Ms||tn.push("rmdp-deactive");var Ss=vt>1&&Ms||vt===1;jt.disabled&&ce||(v(jn,yt)&&pt&&tn.push("rmdp-today"),bs=jn,[].concat(Pe).some(function(os){return v(os,bs)})&&Ss&&!ve&&tn.push("rmdp-selected")),ve&&!jt.disabled&&Ss&&(tn.push(C(jn,Pe,void 0,we)),tn=tn.concat(w(jn,Pe,xn,lt,void 0,we)))}var bs;return tn.join(" ")}(xt,pe);return(xt.hidden||xt.disabled)&&(bn=bn.replace("sd","")),i.default.createElement("div",{key:vs,tabIndex:-1,"aria-label":"Choose ".concat(xt.date.format(R)),className:on,onMouseEnter:function(){return lt&&Jt(xt.date)},onKeyDown:function(jt){return I(jt,xt,{format:R})},onClick:function(){We(xt)&&!xt.disabled&&function(jt,vt,tn){var jn,nn,Ms,Ss=jt.date,bs=jt.current,os=_.selectedDate,Ur=_.focused,Jn=_.date,Gr=Jn,ka=Gr.hour,io=Gr.minute,Ea=Gr.second;Ss.set({hour:((jn=os)===null||jn===void 0?void 0:jn.hour)||ka,minute:((nn=os)===null||nn===void 0?void 0:nn.minute)||io,second:((Ms=os)===null||Ms===void 0?void 0:Ms.second)||Ea}),tn!==1||bs?tn>1&&!bs&&(vt===0&&Ss<Jn&&(Jn=new l.default(Jn).toFirstOfMonth()),vt>0&&Ss.monthIndex>Jn.monthIndex+vt&&vt+1===tn&&(Jn=new l.default(Jn).toFirstOfMonth().add(1,"month"))):Jn=new l.default(Jn).toFirstOfMonth();var Yr=y($(Ss,fe,_),2);os=Yr[0],Ur=Yr[1],P(os,h(h({},_),{},{date:Jn,focused:Ur,selectedDate:os})),re(Ur,Ss)}(xt,qt,pe)}},i.default.createElement("span",m({className:bn},An),We(xt)&&!xt.hidden?Bn??xt.day:""))}))}))}));function We(Ze){return!!Ze.current||V}}function Z(O){var _=O.direction,P=O.onClick,q=O.disabled,V=O.onKeyDown;return i.default.createElement("button",{type:"button",className:"rmdp-arrow-container ".concat(_," ").concat(q?"disabled":""),onClick:P,onKeyDown:V,"aria-roledescription":"button to navigate ".concat(_.replace("rmdp-",""))},i.default.createElement("i",{className:"rmdp-arrow"}))}function ne(O){var _=O.state,P=O.setState,q=O.disableYearPicker,V=O.disableMonthPicker,W=O.buttons,ce=O.renderButton,de=O.handleMonthChange,fe=O.disabled,pe=O.hideMonth,se=O.hideYear,be=O.isRTL,re=O.fullYear,Le=y(O.monthAndYears,2),Ke=Le[0],Re=Le[1],Ae=O.monthYearSeparator,qe=O.formatMonth,dt=O.formatYear,lt=O.headerOrder,pt=O.onYearChange,ut={},Be=_.date,yt=_.onlyMonthPicker,Ue=_.onlyYearPicker,Ce=_.mustShowYearPicker,ve=_.minDate,we=_.maxDate,ke=_.year,Pe=_.today,Te=ve&&Be.year<=ve.year&&ve.monthIndex>Be.monthIndex-1,Ee=we&&Be.year>=we.year&&we.monthIndex<Be.monthIndex+1,Se=Pe.year+7;if(Se-=12*Math.floor((Se-ke)/12),(pe||re)&&se&&!W)return null;if((yt||re)&&(ve&&ve.year>=Be.year&&(Te=!0),we&&we.year<=Be.year&&(Ee=!0)),Ce||Ue){var $e=Se-11;Te=ve&&ve.year>$e,Ee=we&&we.year<Se}return fe&&(Te=!0,Ee=!0),i.default.createElement("div",{className:"rmdp-header"},i.default.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},Array.from(new Set(lt)).map(function(We,Ze){return i.default.createElement(n.Fragment,{key:Ze},function(qt){switch(qt){case"LEFT_BUTTON":return W&&xn("left");case"RIGHT_BUTTON":return W&&xn("right");case"MONTH_YEAR":case"YEAR_MONTH":if(re)return i.default.createElement("div",{className:"rmdp-header-values",style:ut},!se&&Be.format("YYYY"));var Nt=qt.split("_").filter(function(Kn){return Kn==="MONTH"&&!pe||Kn==="YEAR"&&!se});return Nt.length>1&&(Nt=[Nt[0],Fe(),Nt[1]]),Ke.map(function(Kn,xt){return i.default.createElement("div",{key:xt,className:"rmdp-header-values",style:ut},Nt.map(function(vs,An){return i.default.createElement(n.Fragment,{key:An},function(Qn,bn,Bn){switch(Qn){case"MONTH":return i.default.createElement("span",{tabIndex:0,onKeyDown:Ie,style:{cursor:fe||V||yt?"default":"pointer"},onClick:function(on){return!V&&ys("mustShowMonthPicker",on)}},function(on,jt){return typeof qe=="function"?qe(on,jt):on}(bn,Re[Bn]));case"YEAR":return i.default.createElement("span",{tabIndex:0,onKeyDown:Ie,style:{cursor:fe||q||Ue?"default":"pointer"},onClick:function(on){return!q&&ys("mustShowYearPicker",on)}},function(on,jt){return typeof qe=="function"?dt(on,jt):on}(Re[Bn],bn));default:return Qn}}(vs,Kn,xt))}))});default:return}}(We))})));function Ie(We){var Ze=We.currentTarget,qt=We.key,Nt=We.code;Nt==="Space"||qt===" "?(We.preventDefault(),Ze.click()):Nt==="ArrowDown"&&(We.preventDefault(),L(B(We.target)))}function Fe(){return Ae?i.default.createElement("span",null,Ae):be?"،":","}function xn(We){var Ze=function(Nt){Nt.preventDefault(),Jt(We==="right"?1:-1,Nt)},qt=We==="left"&&Te||We==="right"&&Ee;return ce instanceof Function?ce(We,Ze,qt,Ie):n.isValidElement(ce)?n.cloneElement(ce,{direction:We,handleClick:Ze,disabled:qt,onKeyDown:Ie}):i.default.createElement(Z,{direction:"rmdp-".concat(We),onClick:Ze,onKeyDown:Ie,disabled:qt})}function Jt(We,Ze){fe||We<0&&Te||We>0&&Ee||(re?(Be.year+=We,pt==null||pt(new l.default(Be))):Ce||Ue?(ke+=12*We,We<0&&ve&&ke<ve.year&&(ke=ve.year),We>0&&we&&ke>we.year&&(ke=we.year)):(Be.toFirstOfMonth(),yt?Be.year+=We:(Be.month+=We,de(Be))),P(h(h({},_),{},{date:Be,year:ke})),L(B(Ze.target),void 0,!1))}function ys(We,Ze){if(!fe){var qt={mustShowMonthPicker:!1,mustShowYearPicker:!1};qt[We]=!_[We],P(h(h({},_),qt)),L(B(Ze.target),void 0,!1)}}}function M(O){return b(O)||(O=[]),JSON.stringify(O)}var K="MMMM of YYYY";function F(O){var _=O.state,P=O.onChange,q=O.customMonths,V=O.sort,W=O.handleMonthChange,ce=O.handleFocusedDate,de=O.rangeHover,fe=O.highlightToday,pe=O.numberOfMonths,se=_.date,be=_.today,re=_.minDate,Le=_.maxDate,Ke=_.calendar,Re=_.locale,Ae=_.onlyMonthPicker,qe=_.onlyYearPicker,dt=_.range,lt=_.onlyShowInRangeDates,pt=(_.mustShowMonthPicker||Ae)&&!qe,ut=y(n.useState(),2),Be=ut[0],yt=ut[1];q=q&&M(q);var Ue=n.useMemo(function(){var we=[],ke=Ae?pe:1,Pe=q&&JSON.parse(q),Te=new l.default({calendar:Ke,locale:Re,format:_.date._format,year:_.date.year,month:1,day:1});b(Pe)&&Pe.length>=12?(Pe.length=12,Pe=Pe.map(function(Jt){return b(Jt)?Jt[0]:Jt})):Pe=Te.locale.months.map(function(Jt){return y(Jt,1)[0]});for(var Ee=0;Ee<ke;Ee++){for(var Se=[],$e=0,Ie=0;Ie<4;Ie++){for(var Fe=[],xn=0;xn<3;xn++)Fe.push({date:new l.default(Te),name:Pe[$e]}),$e++,Te.add(1,"month");Se.push(Fe)}we.push(Se)}return we},[Ke,Re,q,_.date.year,_.date._format,pe,Ae]);return i.default.createElement("div",{className:"".concat(Ae?"only ":"","rmdp-month-picker"),style:{display:pt?"flex":"none"},"data-active":pt,onMouseLeave:function(){return de&&yt()}},Ue.map(function(we,ke){return i.default.createElement("div",{key:ke,style:{margin:"0 5px",flex:1}},we.map(function(Pe,Te){return i.default.createElement("div",{key:Te,className:"rmdp-ym"},Pe.map(function(Ee,Se){var $e=Ee.date,Ie=Ee.name;return i.default.createElement("div",{key:Se,"aria-label":"Select ".concat($e.format(K)),tabIndex:-1,onKeyDown:function(Fe){return I(Fe,{date:$e},{format:K,type:"month"})},className:ve($e),onClick:function(Fe){return Ce($e,Fe)},onMouseEnter:function(){return de&&yt($e)}},i.default.createElement("span",{className:Ae?"sd":""},Ie))}))}))}));function Ce(we,ke){var Pe=_.selectedDate,Te=_.focused,Ee=we.year,Se=we.monthIndex;if(!(re&&Ee<=re.year&&Se<re.monthIndex||Le&&Ee>=Le.year&&Se>Le.monthIndex)){if(se.setMonth(Se+1),Ae){var $e=y($(we,V,_),2);Pe=$e[0],Te=$e[1]}else W(se),L(B(ke.target));P(Ae?Pe:void 0,h(h({},_),{},{date:se,focused:Te,selectedDate:Pe,mustShowMonthPicker:!1})),Ae&&ce(Te,we)}}function ve(we){var ke=["rmdp-day"],Pe=we.year,Te=we.monthIndex,Ee=_.selectedDate,Se=_.multiple;if((re&&(Pe<re.year||Pe===re.year&&Te<re.monthIndex)||Le&&(Pe>Le.year||Pe===Le.year&&Te>Le.monthIndex))&&ke.push("rmdp-disabled"),!ke.includes("rmdp-disabled")||!lt)return v(be,we,!0)&&fe&&ke.push("rmdp-today"),Ae?dt?(ke.push(C(we,Ee,!0,Se)),ke=ke.concat(w(we,Ee,Be,de,"month",Se))):[].concat(Ee).some(function($e){return v($e,we,!0)})&&ke.push("rmdp-selected"):se.monthIndex===Te&&ke.push("rmdp-selected"),ke.join(" ")}}function xe(O,_){return O.replace(/[0-9]/g,function(P){return _[P]})}var ge="YYYY";function _e(O){var _=O.state,P=O.onChange,q=O.sort,V=O.handleFocusedDate,W=O.onYearChange,ce=O.rangeHover,de=O.highlightToday,fe=_.date,pe=_.today,se=_.minDate,be=_.maxDate,re=_.onlyYearPicker,Le=_.range,Ke=_.onlyShowInRangeDates,Re=_.year,Ae=_.mustShowYearPicker||re,qe=fe.digits,dt=y(n.useState(),2),lt=dt[0],pt=dt[1],ut=pe.year-4;ut-=12*Math.ceil((ut-Re)/12);var Be=n.useMemo(function(){for(var Ce=[],ve=ut,we=0;we<4;we++){for(var ke=[],Pe=0;Pe<3;Pe++)ke.push(ve),ve++;Ce.push(ke)}return Ce},[ut]);return i.default.createElement("div",{className:"".concat(re?"only ":"","rmdp-year-picker"),style:{display:Ae?"block":"none"},"data-active":Ae},Be.map(function(Ce,ve){return i.default.createElement("div",{key:ve,className:"rmdp-ym",onMouseLeave:function(){return ce&&pt()}},Ce.map(function(we,ke){return i.default.createElement("div",{key:ke,"aria-label":"Select year ".concat(we),tabIndex:-1,onKeyDown:function(Pe){return I(Pe,{year:we,date:fe},{format:ge,type:"year"})},className:yt(we),onClick:function(Pe){return function(Te,Ee){if(!Ue(Te)){var Se=new l.default(_.date).setYear(Te),$e=_.selectedDate,Ie=_.focused;if(re){var Fe=y($(Se,q,_),2);$e=Fe[0],Ie=Fe[1]}else se&&Se.monthIndex<se.monthIndex?Se=Se.setMonth(se.monthIndex+1):be&&Se.monthIndex>be.monthIndex&&(Se=Se.setMonth(be.monthIndex+1)),W==null||W(Se),L(B(Ee.target));P(re?$e:void 0,h(h({},_),{},{date:Se,focused:Ie,selectedDate:$e,mustShowYearPicker:!1})),re&&V(Ie,Se)}}(we,Pe)},onMouseEnter:function(){return ce&&pt(we)}},i.default.createElement("span",{className:re?"sd":""},xe(we.toString(),qe)))}))}));function yt(Ce){var ve=["rmdp-day"],we=_.date,ke=_.selectedDate,Pe=_.multiple;if(Ue(Ce)&&ve.push("rmdp-disabled"),!ve.includes("rmdp-disabled")||!Ke){if(pe.year===Ce&&de&&ve.push("rmdp-today"),re)if(Le){var Te=function(Ee){var Se=Ee[0],$e=Ee[1];if(Ee.length===1){if(Ce===Se.year&&ve.push("rmdp-range"),ce){var Ie=Ee[0].year;(Ce>Ie&&Ce<=lt||Ce<Ie&&Ce>=lt)&&(ve.push("rmdp-range-hover"),Ce===lt&&ve.push(lt>Ie?"end":"start"))}}else Ee.length===2&&(Ce>=Se.year&&Ce<=$e.year&&ve.push("rmdp-range"),Ce===Se.year&&ve.push("start"),Ce===$e.year&&ve.push("end"))};Pe?(b(ke)?ke:[[ke]]).forEach(function(Ee){return Te(Ee)}):Te(ke)}else[].concat(ke).some(function(Ee){return Ee&&Ee.year===Ce})&&ve.push("rmdp-selected");else Ce===we.year&&ve.push("rmdp-selected");return ve.join(" ")}}function Ue(Ce){return se&&Ce<se.year||be&&Ce>be.year}}function je(O,_,P){return P||(O?"MM/YYYY":_?"YYYY":"YYYY/MM/DD")}function le(O,_){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY/MM/DD";return O instanceof l.default?O.set({calendar:_,format:P}):O=new l.default({date:O,calendar:_,format:P}),O}function Ve(O){"_self"in i.default.createElement("div")&&console.warn(O.join(`
`))}var Qe=new l.default,Je=Qe.calendar,zt=Qe.locale;function Ht(O,_){return O&&O.constructor!==Object&&(Ve(ye("calendar")),O=void 0),_&&_.constructor!==Object&&(Ve(ye("locale")),_=void 0),[O||Je,_||zt]}function ye(O){return["".concat(O," must be an object"),"https://shahabyazdi.github.io/react-multi-date-picker/calendars/"]}function Tt(O){return O&&O.name?O.name.split("_")[1]:""}function At(O){return["fa","ar"].includes(Tt(O))}function He(O,_){_===void 0&&(_={});var P=_.insertAt;if(O&&typeof document<"u"){var q=document.head||document.getElementsByTagName("head")[0],V=document.createElement("style");V.type="text/css",P==="top"&&q.firstChild?q.insertBefore(V,q.firstChild):q.appendChild(V),V.styleSheet?V.styleSheet.cssText=O:V.appendChild(document.createTextNode(O))}}He(".rmdp-wrapper{background-color:#fff;border-radius:5px;direction:ltr;text-align:center;width:max-content}.rmdp-shadow{box-shadow:0 0 5px #8798ad}.rmdp-border{border:1px solid #cfd8e2}.rmdp-calendar{height:max-content;padding:4px}.rmdp-border-top{border-top:1px solid #cfd8e2}.rmdp-border-bottom{border-bottom:1px solid #cfd8e2}.rmdp-border-left{border-left:1px solid #cfd8e2}.rmdp-border-right{border-right:1px solid #cfd8e2}.rmdp-week,.rmdp-ym{display:flex;justify-content:space-between}.rmdp-ym{height:25%}.rmdp-day,.rmdp-week-day{color:#000;cursor:pointer;height:34px;position:relative;width:34px}.rmdp-calendar :focus{outline-color:#00539c}.rmdp-day:not(.rmdp-range):focus{border-radius:50%}.rmdp-ym .rmdp-day:not(.rmdp-range):focus{border-radius:15px}.rmdp-week-day{color:#0074d9;cursor:default;font-size:13px;font-weight:500}.rmdp-day span,.rmdp-week-day{display:flex;flex-direction:column;justify-content:center}.rmdp-day span{border-radius:50%;bottom:3px;font-size:14px;left:3px;position:absolute;right:3px;top:3px}.rmdp-day.rmdp-today span{background-color:#7fdbff;color:#fff}.rmdp-day.rmdp-selected span:not(.highlight){background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-day.rmdp-deactive,.rmdp-day.rmdp-disabled{color:#8798ad}.rmdp-day.rmdp-deactive.rmdp-selected span{background-color:#4ca6f5;box-shadow:0 0 3px #bac5d3}.rmdp-ym .rmdp-day{flex:1;margin:auto}.rmdp-ym .rmdp-day span{border-radius:12px;padding:2px 0}.rmdp-range{background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-range-hover{background-color:#7ea6f0;color:#fff}.rmdp-range-hover.start:not(.force),.rmdp-range.start:not(.force){border-bottom-left-radius:50%;border-top-left-radius:50%}.rmdp-range-hover.end:not(.force),.rmdp-range.end:not(.force){border-bottom-right-radius:50%;border-top-right-radius:50%}.rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-ym .rmdp-range.start:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-ym .rmdp-range.end:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}@media (hover:hover){.rmdp-day:not(.rmdp-disabled,.rmdp-day-hidden) span:hover{background-color:#7ea6f0;color:#fff}}.rmdp-day-picker{padding:5px}.rmdp-header{font-size:14px;margin-top:5px;padding:9px 0}.rmdp-month-picker,.rmdp-year-picker{background-color:#fff;border-radius:0 0 5px 5px;bottom:2px;left:2px;position:absolute;right:2px;top:2px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:240px;position:static;width:240px}.rmdp-header-values{color:#000;margin:auto}.rmdp-header-values span{padding:0 0 0 5px}.rmdp-arrow{border:solid #0074d9;border-width:0 2px 2px 0;display:inline-block;height:3px;margin-top:5px;padding:2px;width:3px}.rmdp-right i{margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-left i{margin-left:3px;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-left{left:0}.rmdp-right{right:0}.rmdp-arrow-container{background:transparent;border:none;border-radius:50%;cursor:pointer;display:flex;height:20px;justify-content:center;margin:0 5px;padding:0;width:20px}.rmdp-arrow-container:hover{background-color:#0074d9;box-shadow:0 0 3px #8798ad}.rmdp-arrow-container:hover .rmdp-arrow{border:solid #fff;border-width:0 2px 2px 0}.rmdp-arrow-container.disabled{cursor:default}.rmdp-arrow-container.disabled:hover{background-color:inherit;box-shadow:inherit}.rmdp-arrow-container.disabled .rmdp-arrow,.rmdp-arrow-container.disabled:hover .rmdp-arrow{border:solid gray;border-width:0 2px 2px 0}.rmdp-rtl{direction:rtl}.rmdp-rtl .rmdp-left i{margin-left:0;margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-rtl .rmdp-right i{margin-left:3px;margin-right:0;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-rtl .rmdp-right{left:0;right:auto}.rmdp-rtl .rmdp-left{left:auto;right:0}.rmdp-rtl .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-range.start:not(.force){border-bottom-left-radius:unset;border-bottom-right-radius:50%;border-top-left-radius:unset;border-top-right-radius:50%}.rmdp-rtl .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-range.end:not(.force){border-bottom-left-radius:50%;border-bottom-right-radius:unset;border-top-left-radius:50%;border-top-right-radius:unset}.rmdp-rtl .rmdp-range.start.end:not(.force){border-radius:50%}.rmdp-rtl .rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.start:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-rtl .rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.end:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-day-hidden,.rmdp-day.rmdp-disabled{cursor:default}.rmdp-selected .highlight{box-shadow:0 0 3px #8798ad}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-red:hover{background-color:#ff6687}.rmdp-day:not(.rmdp-deactive) .highlight-red{color:#cc0303}.rmdp-day.rmdp-deactive .highlight-red{color:#e08e8e}.rmdp-day.rmdp-selected .highlight-red{background-color:#ea0034;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-red{background-color:#e4b0ba;color:#fff}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-green:hover{background-color:#4db6ac}.rmdp-day:not(.rmdp-deactive) .highlight-green{color:#00796b}.rmdp-day.rmdp-deactive .highlight-green{color:#7ab3ac}.rmdp-day.rmdp-selected .highlight-green{background-color:#009688;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-green{background-color:#749c98;color:#fff}.rmdp-day-hidden,.rmdp-day-hidden:hover span{background-color:unset;color:transparent}.rmdp-month-name{cursor:default;font-size:14px;margin:3px 0}.rmdp-full-year{grid-template-columns:1fr 1fr 1fr}@media (max-height:450px),(max-width:450px){.rmdp-day,.rmdp-week-day{height:28px;width:28px}.rmdp-day span{font-size:12px;padding-left:.5px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:200px;width:230px}.rmdp-header{padding:3px 0 0}.rmdp-header,.rmdp-month-name{font-size:12px}.rmdp-full-year{grid-template-columns:1fr 1fr}}");var De=["datePickerProps","DatePicker"];function en(O,_){var P,q=O.value,V=O.calendar,W=O.locale,ce=O.format,de=O.onlyMonthPicker,fe=O.onlyYearPicker,pe=O.range,se=pe!==void 0&&pe,be=O.multiple,re=be!==void 0&&be,Le=O.className,Ke=O.role,Re=O.weekDays,Ae=O.months,qe=O.children,dt=O.onChange,lt=O.showOtherDays,pt=O.minDate,ut=O.maxDate,Be=O.mapDays,yt=O.disableMonthPicker,Ue=O.disableYearPicker,Ce=O.formattingIgnoreList,ve=O.onReady,we=O.onlyShowInRangeDates,ke=we===void 0||we,Pe=O.zIndex,Te=Pe===void 0?100:Pe,Ee=O.plugins,Se=Ee===void 0?[]:Ee,$e=O.sort,Ie=O.numberOfMonths,Fe=Ie===void 0?1:Ie,xn=O.currentDate,Jt=O.digits,ys=O.buttons,We=ys===void 0||ys,Ze=O.renderButton,qt=O.weekStartDayIndex,Nt=qt===void 0?0:qt,Kn=O.disableDayPicker,xt=O.onPropsChange,vs=O.onMonthChange,An=O.onYearChange,Qn=O.onFocusedDateChange,bn=O.readOnly,Bn=O.disabled,on=O.hideMonth,jt=O.hideYear,vt=O.hideWeekDays,tn=O.shadow,jn=tn===void 0||tn,nn=O.fullYear,Ms=O.displayWeekNumbers,Ss=O.weekNumber,bs=O.weekPicker,os=O.rangeHover,Ur=O.monthYearSeparator,Jn=O.formatMonth,Gr=O.formatYear,ka=O.highlightToday,io=ka===void 0||ka,Ea=O.headerOrder,Yr=Ea===void 0?["LEFT_BUTTON","MONTH_YEAR","RIGHT_BUTTON"]:Ea,oo=O.style,Ud=oo===void 0?{}:oo,lo=O.autoFocus,co=lo!==void 0&&lo;!xn||xn instanceof l.default||(console.warn("currentDate must be instance of DateObject"),xn=void 0),(typeof Nt!="number"||Nt<0||Nt>6)&&(Nt=0),(typeof Fe!="number"||Fe<1||fe)&&(Fe=1),!(re||se||b(q))||se||re||(re=!0),bs&&(se=!0,re=!1),nn&&(Fe=12,de=!1,fe=!1),fe&&!on&&(on=!0);var La=y(Ht(V,W),2);V=La[0],W=La[1],ce=je(de,fe,ce),Ce=M(Ce),Be=[].concat(Be).filter(Boolean),Se=[].concat.apply([],Se);var uo=y(n.useState({}),2),Xn=uo[0],zs=uo[1],tr={},qn=n.useRef({mustCallOnReady:!0,currentDate:xn});n.useEffect(function(){zs(function(oe){var Xe=qn.current.currentDate,Ye=oe.date,Ge=oe.selectedDate,ln=oe.initialValue,Xt=oe.focused,St=oe.mustSortDates;function Cn(Q){if(Q)return Q.calendar.name!==V.name&&Q.setCalendar(V),Q.locale.name!==W.name&&Q.setLocale(W),Q._format!==ce&&Q.setFormat(ce),Q.digits=Jt,Q.ignoreList=JSON.parse(Ce),Q}function Un(Q){return new l.default(Xe||Q)}if(q)if(b(Ge=Tn(q,V,W,ce)))Ye||(Ye=Un(Ge.flat()[0]));else if(Ye&&Fe!==1){var qs=new l.default(Ye).toFirstOfMonth(),sr=new l.default(Ye).add(Fe-1,de?"years":"months").toLastOfMonth();(Ge<qs||Ge>sr)&&(Ye=new l.default(Ge))}else Ye=Un(Ge);else Ye||(Ye=Un({calendar:V,locale:W,format:ce})),ln&&(Ge=void 0);if([].concat(Ge).flat().forEach(Cn),Cn(Ye),re||se||b(q)){if(Ge||(Ge=[]),b(Ge)||(Ge=re&&se?[[Ge]]:[Ge]),se&&!re&&Ge.length>2){var Us=Ge[Ge.length-1];Ge=[Ge[0],Us],Xt=Us}re&&!se&&$e&&!St?(St=!0,Ge.sort(function(Q,Oe){return Q-Oe})):se&&!re&&Ge.sort(function(Q,Oe){return Q-Oe})}else b(Ge)&&(Ge=Ge.flat()[Ge.length-1]);return nn&&Ye.toFirstOfYear(),delete qn.current.currentDate,h(h({},oe),{},{date:Ye,selectedDate:Ge,multiple:re,range:se,onlyMonthPicker:de,onlyYearPicker:fe,initialValue:oe.initialValue||q,value:q,focused:Xt,calendar:V,locale:W,format:ce,mustSortDates:St,year:Ye.year,today:Cn(oe.today)||new l.default({calendar:V}),weekPicker:bs})})},[q,V,W,ce,de,fe,se,re,$e,Fe,Jt,Ce,nn,bs]),n.useEffect(function(){(pt||ut)&&zs(function(oe){var Xe=oe.calendar,Ye=oe.locale,Ge=oe.format,ln=function(qs,sr,Us,Q,Oe){return sr&&(sr=le(sr,Q,Oe).set({hour:0,minute:0,second:0,millisecond:0})),Us&&(Us=le(Us,Q,Oe).set({hour:23,minute:59,second:59,millisecond:999})),b(qs)&&(qs=qs.filter(function(ft){return!(sr&&ft<sr)&&!(Us&&ft>Us)})),[qs,sr,Us]}(Tn(q,Xe,Ye,Ge),pt,ut,Xe,Ge),Xt=y(ln,3),St=Xt[0],Cn=Xt[1],Un=Xt[2];return h(h({},oe),{},{inRangeDates:ke?St:oe.selectedDate,minDate:Cn,maxDate:Un})})},[pt,ut,ke,q]),Xn.today&&!qn.current.isReady&&(qn.current.isReady=!0),n.useEffect(function(){qn.current.isReady&&qn.current.mustCallOnReady&&ve instanceof Function&&(qn.current.mustCallOnReady=!1,ve())},[qn.current.isReady,ve]);var gr="rmdp-top-class "+Ks(["top","bottom"]),ls={top:[],bottom:[],left:[],right:[]},ho=At((P=Xn.date)===null||P===void 0?void 0:P.locale),Hs={state:Xn,setState:zs,onChange:yr,sort:$e,handleFocusedDate:vr,isRTL:ho,fullYear:nn,monthAndYears:function(){var oe=Xn.date;if(!oe)return[];for(var Xe=[],Ye=[],Ge=oe.digits,ln=0;ln<Fe;ln++){var Xt=void 0,St=oe.year,Cn=oe.monthIndex+ln;if(de&&(St+=ln),Cn>11&&(Cn-=12,de||St++),b(Ae)&&Ae.length>=12){var Un=Ae[Cn];Xt=b(Un)?Un[0]:Un}else Xt=oe.months[Cn].name;St=xe(St.toString(),Ge),Xe.push(Xt),Ye.push(St)}return[Xe,Ye]}(),rangeHover:os,highlightToday:io,numberOfMonths:Fe},ni=arguments[0],fo=ni.datePickerProps,si=ni.DatePicker,mo=j(ni,De);return n.useEffect(function(){var oe=qn.current.Calendar;oe&&L(oe,void 0,co&&!si)},[co,Xn.today,si]),function(){if(!(!qn.current.isReady||!b(Se))){var oe={state:Xn,setState:zs,registerListener:po,calendarProps:mo,datePickerProps:fo,handleChange:yr,Calendar:qn.current.Calendar,DatePicker:si,handlePropsChange:nr,handleFocusedDate:function(Ye){return vr(Ye)},minDate:pt,maxDate:ut},Xe=function(Ye){return Kn?"bottom":Ye.props.position||"right"};Se.forEach(function(Ye,Ge){if(typeof Ye.type!="string"){var ln={},Xt=Xe(Ye);if(ls[Xt]&&!Ye.props.disabled){for(var St=0;St<Se.length;St++)if(typeof Se[St].type!="string"&&!Se[St].props.disabled){if(Object.keys(ln).length===4)break;var Cn=Xe(Se[St]);["top","bottom"].includes(Xt)?(Cn===Xt&&St>Ge&&(ln.bottom=!0),Cn===Xt&&St<Ge&&(ln.top=!0)):(gr.includes("border-top")&&(ln.top=!0),gr.includes("border-bottom")&&(ln.bottom=!0),Cn===Xt&&St>Ge&&(ln.right=!0),Cn===Xt&&St<Ge&&(ln.left=!0))}ls[Xt].push(n.cloneElement(Ye,h({key:Ge,position:Xt,nodes:ln},oe)))}}else Ye.type==="mapDays"&&Be.push(Ye.fn(oe))})}}(),Xn.today?i.default.createElement("div",{ref:function(oe){if(oe&&(oe.date=Xn.date,oe.set=function(Xe,Ye){Bn||zs(h(h({},Xn),{},{date:new l.default(Xn.date.set(Xe,Ye))}))}),qn.current.Calendar=oe,_ instanceof Function)return _(oe);_&&(_.current=oe)},role:Ke||"dialog",className:"rmdp-wrapper rmdp-".concat(jn?"shadow":"border"," ").concat(Le||""),style:h({zIndex:Te},Ud)},ls.top,i.default.createElement("div",{style:{display:"flex"},className:gr},ls.left,!Kn&&i.default.createElement("div",{className:"rmdp-calendar ".concat(ho?"rmdp-rtl":""," ").concat(Ks(["left","right"]))},i.default.createElement(ne,h(h({},Hs),{},{disableYearPicker:Ue,disableMonthPicker:yt,buttons:We,renderButton:Ze,handleMonthChange:at,disabled:Bn,hideMonth:on,hideYear:jt,monthYearSeparator:Ur,formatMonth:Jn,formatYear:Gr,headerOrder:Yr,onYearChange:An})),i.default.createElement("div",{style:{position:"relative"}},i.default.createElement(G,h(h({},Hs),{},{showOtherDays:lt,mapDays:Be,onlyShowInRangeDates:ke,customWeekDays:Re,weekStartDayIndex:Nt,hideWeekDays:vt,displayWeekNumbers:Ms,weekNumber:Ss})),!nn&&i.default.createElement(i.default.Fragment,null,!yt&&i.default.createElement(F,m({},Hs,{customMonths:Ae,handleMonthChange:at})),!Ue&&i.default.createElement(_e,m({},Hs,{onYearChange:An}))))),ls.right),ls.bottom,qe):null;function yr(oe,Xe){if(oe instanceof l.default&&(oe=new l.default(oe)),!Bn){if(oe||oe===null){if(bn)return;tr.change&&tr.change.forEach(function(Ge){return Ge(oe)})}if(oe||oe===null){var Ye=dt==null?void 0:dt(oe);Xe&&Ye!==!1&&zs(Xe)}else Xe&&zs(Xe);nr({value:oe})}}function nr(){var oe,Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!bn&&!Bn){var Ye=h(h(h(h({},mo),fo),Xe),{},{value:(oe=Xe.value)!==null&&oe!==void 0?oe:Xn.selectedDate});delete Ye.onPropsChange,xt==null||xt(Ye)}}function vr(oe,Xe){bn||Bn||Qn==null||Qn(oe,Xe)}function at(oe){vs==null||vs(oe)}function Ks(oe){return Kn||!b(Se)?"":Array.from(new Set(Se.map(function(Xe){if(!Xe.props)return"";var Ye=Xe.props.position||"right";return oe.includes(Ye)&&!Xe.props.disabled?"rmdp-border-"+Ye:""}))).join(" ")}function po(oe,Xe){tr[oe]||(tr[oe]=[]),tr[oe].push(Xe)}}var wt=n.forwardRef(en);function Tn(O,_,P,q){var V=[].concat(O).map(function(de){return b(de)?de.map(W).filter(ce):W(de)}).filter(ce);return b(O)?V:V.flat()[0];function W(de){return de?de instanceof l.default?de:new l.default({date:de,calendar:_,locale:P,format:q}):{}}function ce(de){return b(de)||de.isValid}}He('.rmdp-visible{visibility:visible}.rmdp-invisible{visibility:hidden}.rmdp-input{border:1px solid #c0c4d6;border-radius:5px;height:22px;margin:1px 0;padding:2px 5px}.rmdp-input:focus{border:1px solid #a4b3c5;box-shadow:0 0 2px #a4b3c5;outline:none!important}.rmdp-button{background-color:#0074d9;border:none;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;padding:7px 16px;text-align:center;text-decoration:none;transition:.3s}.rmdp-button:hover{background-color:#143ac5;transition:.4s}.rmdp-button:disabled{background-color:#8798ad}.rmdp-action-button{border-radius:unset;color:#2682d3;float:right;font-weight:700;margin:15px 10px 15px 0}.rmdp-action-button,.rmdp-action-button:hover{background-color:transparent}.rmdp-ep-arrow{overflow:hidden;will-change:transform}.rmdp-ep-arrow:after{background-color:#fff;content:"";height:12px;position:absolute;transform:rotate(45deg);width:12px}.rmdp-ep-shadow:after{box-shadow:0 0 6px #8798ad}.rmdp-ep-border:after{border:1px solid #cfd8e2}.rmdp-ep-arrow[direction=top]{border-bottom:1px solid #fff}.rmdp-ep-arrow[direction=left]{border-right:1px solid #fff}.rmdp-ep-arrow[direction=right]{border-left:1px solid #fff;margin-left:-1px}.rmdp-ep-arrow[direction=bottom]{border-top:1px solid #fff;margin-top:-1.5px}.rmdp-ep-arrow[direction=top]:after{left:4px;top:5px}.rmdp-ep-arrow[direction=bottom]:after{left:4px;top:-6px}.rmdp-ep-arrow[direction=left]:after{left:5px;top:3px}.rmdp-ep-arrow[direction=right]:after{left:-6px;top:3px}');var ot=["value","calendar","locale","format","onlyMonthPicker","onlyYearPicker","onChange","range","multiple","name","id","title","placeholder","required","style","className","inputClass","disabled","render","weekDays","months","children","inputMode","scrollSensitive","hideOnScroll","minDate","maxDate","formattingIgnoreList","containerClassName","calendarPosition","editable","onOpen","onClose","arrowClassName","zIndex","arrow","fixMainPosition","onPositionChange","onPropsChange","digits","readOnly","shadow","onFocusedDateChange","type","weekPicker","mobileLabels","onOpenPickNewDate","mobileButtons","dateSeparator","multipleRangeSeparator","typingTimeout"],Kt=["label"];function Is(O,_){var P=O.value,q=O.calendar,V=O.locale,W=O.format,ce=O.onlyMonthPicker,de=O.onlyYearPicker,fe=O.onChange,pe=O.range,se=pe!==void 0&&pe,be=O.multiple,re=be!==void 0&&be,Le=O.name,Ke=O.id,Re=O.title,Ae=O.placeholder,qe=O.required,dt=O.style,lt=dt===void 0?{}:dt,pt=O.className,ut=pt===void 0?"":pt,Be=O.inputClass,yt=O.disabled,Ue=O.render,Ce=O.weekDays,ve=O.months,we=O.children,ke=O.inputMode,Pe=O.scrollSensitive,Te=Pe===void 0||Pe,Ee=O.hideOnScroll,Se=O.minDate,$e=O.maxDate,Ie=O.formattingIgnoreList,Fe=O.containerClassName,xn=Fe===void 0?"":Fe,Jt=O.calendarPosition,ys=Jt===void 0?"bottom-left":Jt,We=O.editable,Ze=We===void 0||We,qt=O.onOpen,Nt=O.onClose,Kn=O.arrowClassName,xt=Kn===void 0?"":Kn,vs=O.zIndex,An=vs===void 0?100:vs,Qn=O.arrow,bn=Qn===void 0||Qn,Bn=O.fixMainPosition,on=O.onPositionChange,jt=O.onPropsChange,vt=O.digits,tn=O.readOnly,jn=O.shadow,nn=jn===void 0||jn,Ms=O.onFocusedDateChange,Ss=O.type,bs=O.weekPicker,os=O.mobileLabels,Ur=O.onOpenPickNewDate,Jn=Ur===void 0||Ur,Gr=O.mobileButtons,ka=Gr===void 0?[]:Gr,io=O.dateSeparator,Ea=O.multipleRangeSeparator,Yr=Ea===void 0?",":Ea,oo=O.typingTimeout,Ud=oo===void 0?700:oo,lo=j(O,ot),co=y(n.useState(),2),La=co[0],uo=co[1],Xn=y(n.useState(),2),zs=Xn[0],tr=Xn[1],qn=y(n.useState(""),2),gr=qn[0],ls=qn[1],ho=y(n.useState(!1),2),Hs=ho[0],ni=ho[1],fo=y(n.useState(!1),2),si=fo[0],mo=fo[1],yr=n.useRef(),nr=n.useRef(),vr=n.useRef(),at=n.useRef({isTyping:!1}),Ks=io||(se||bs?" ~ ":", "),po=arguments[0],oe=typeof ut=="string"&&ut.includes("rmdp-mobile"),Xe=n.useCallback(function(){if((Nt==null?void 0:Nt())!==!1){var Q=Fs(nr);if(Q&&Q.forEach(function(ft){return ft.blur()}),at.current.mobile){var Oe=vr.current.parentNode.parentNode;Oe.classList.remove("rmdp-calendar-container-mobile"),Oe.style.position="absolute",Oe.style.visibility="hidden"}at.current.validInputValue!==void 0&&(ls(at.current.validInputValue),at.current.validInputValue=void 0),ni(!1),mo(!1)}},[Nt]),Ye=[{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){tr(void 0),Xe()},label:Xt("CANCEL")},{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){zs&&(Un(zs,!0),tr(void 0)),Xe()},label:Xt("OK")}];oe&&!at.current.mobile&&(at.current=h(h({},at.current),{},{mobile:!0})),!oe&&at.current.mobile&&(at.current=h(h({},at.current),{},{mobile:!1})),Ie=M(Ie),W=je(ce,de,W);var Ge,ln=y(Ht(q,V),2);return q=ln[0],V=ln[1],n.useEffect(function(){function Q(ft){if(Hs&&!at.current.mobile){var _n=[];if([nr.current,vr.current].forEach(function(cs){var wn,ds;!cs||cs.contains(ft.target)||ft.target.classList.contains("b-deselect")||(wn=ft.target.parentNode)!==null&&wn!==void 0&&(wn=wn.classList)!==null&&wn!==void 0&&(ds=wn.contains)!==null&&ds!==void 0&&ds.call(wn,"b-deselect")||_n.push(cs)}),_n.length===2)return Xe();vr.current&&vr.current.contains(ft.target)&&(yr.current.removeTransition(),yr.current.refreshPosition())}}function Oe(){Ee&&Hs&&Xe()}return document.addEventListener("click",Q,!1),document.addEventListener("scroll",Oe,!0),function(){document.removeEventListener("click",Q,!1),document.removeEventListener("scroll",Oe,!0)}},[Xe,_,Hs,Ee]),n.useEffect(function(){var Q=P,Oe=at.current,ft=Oe.date,_n=Oe.initialValue,cs=function(){return Q[Q.length-1]};function wn(bt){if(bt)return bt instanceof l.default||(bt=new l.default({date:bt,calendar:q,locale:V,format:W})),bt.calendar!==q&&bt.setCalendar(q),bt.set({weekDays:Ce,months:ve,digits:vt,locale:V,format:W,ignoreList:JSON.parse(Ie)}),bt}P||_n||!ft?_n&&!P&&(_n=void 0):Q=ft;var ds="";if(se||re||b(Q)){var xo=function(bt){return bt=bt.map(wn).filter(function(go){return go!==void 0}),se&&bt.length>2&&(bt=[bt[0],cs()]),[bt,Ps(bt,Ks)]};if(b(Q)||(Q=se&&re?Q?[[Q]]:[]:[Q]),re&&se)Q=Q.map(function(bt,go){var ep=y(xo(b(bt)?bt:[bt]),2),k0=ep[0],E0=ep[1];return ds+=E0+(go<Q.length-1?" ".concat(Yr," "):""),k0});else{var jo=y(xo(Q),2);Q=jo[0],ds=jo[1]}ds=ds.toString().replace(/\s,\s$/,"")}else b(Q)&&(Q=cs()),(Q=wn(Q))&&(ds=Q.format());at.current.isTyping||ls(ds),at.current=h(h({},at.current),{},{date:Q,separator:Ks,initialValue:_n||P}),at.current.mobile&&yr.current.isOpen?tr(Q):(at.current.validInputValue=void 0,uo(Q))},[P,q,V,W,se,re,Ks,ce,de,Ce,ve,vt,Ie]),n.useEffect(function(){var Q=at.current.selection;if(Q){var Oe=Fs(nr);Oe.length!==0&&(Oe.forEach(function(ft){document.activeElement===ft&&(ft.setSelectionRange(Q,Q),at.current.selection=void 0)}),yr.current.refreshPosition())}},[gr]),(re||se||b(La)||!Ze)&&(ke="none"),i.default.createElement(o.default,m({ref:function(Q){if(Q&&(Q.openCalendar=function(){return setTimeout(function(){return St()},10)},Q.closeCalendar=Xe,Q.isOpen=Hs&&si),yr.current=Q,_ instanceof Function)return _(Q);_&&(_.current=Q)},element:Ue?i.default.createElement("div",{ref:nr},n.isValidElement(Ue)?n.cloneElement(Ue,{value:gr,openCalendar:St,onFocus:St,handleValueChange:qs,onChange:qs,locale:V,separator:Ks}):Ue instanceof Function?Ue(gr,St,qs,V,Ks):null):i.default.createElement("input",{ref:nr,type:Ss||"text",name:Le,id:Ke,title:Re,required:qe,onFocus:St,className:Be||"rmdp-input",placeholder:Ae,value:gr,onChange:qs,style:lt,autoComplete:"off",disabled:!!yt,inputMode:ke||(oe?"none":void 0),readOnly:tn}),popper:Hs&&i.default.createElement(wt,m({ref:vr,value:zs||La,onChange:Un,range:se,multiple:re,calendar:q,locale:V,format:W,onlyMonthPicker:ce,onlyYearPicker:de,className:ut+(oe?" rmdp-mobile":""),weekDays:Ce,months:ve,digits:vt,minDate:Se,maxDate:$e,formattingIgnoreList:JSON.parse(Ie),onPropsChange:jt,shadow:nn,onReady:sr,DatePicker:yr.current,datePickerProps:po,onFocusedDateChange:Us,weekPicker:bs},lo),we,oe&&(Ge=[].concat.apply([],po.plugins||[]).some(function(Q){var Oe=Q.props;return!(Oe===void 0?{}:Oe).disabled}),b(ka)&&i.default.createElement("div",{className:"rmdp-action-buttons ".concat(At(V)?"rmdp-rtl":""," ").concat(Ge?"rmdp-border-top":"")},ka.concat(Ye).map(function(Q,Oe){var ft=Q.label,_n=j(Q,Kt);return i.default.createElement("button",m({key:Oe},_n),ft)})))),active:!oe&&si,position:ys,arrow:!oe&&bn,fixMainPosition:!Te||Bn,zIndex:An,onChange:!oe&&on,containerClassName:"rmdp-container ".concat(xn),arrowClassName:["rmdp-ep-arrow","rmdp-ep-".concat(nn?"shadow":"border"),ut,xt].join(" ")},lo));function Xt(Q){var Oe,ft=V||new l.default().locale;return typeof ft.name!="string"?Q:(os==null?void 0:os[Q])||((Oe={en:{OK:"OK",CANCEL:"CANCEL"},fa:{OK:"تأیید",CANCEL:"لغو"},ar:{OK:"تأكيد",CANCEL:"الغاء"},hi:{OK:"पुष्टि",CANCEL:"रद्द करें"}}[Tt(ft)])===null||Oe===void 0?void 0:Oe[Q])||Q}function St(){if(!yt&&!tn&&(qt==null?void 0:qt())!==!1){if(Jn&&!P&&!at.current.date&&!se&&!re&&!oe){var Q=new l.default({calendar:q,locale:V,format:W,months:ve,weekDays:Ce,digits:vt,ignoreList:JSON.parse(Ie)});(!Se||Q>le(Se,q,W))&&(!$e||Q<le($e,q,W))&&(Un(Q),jt==null||jt(h(h({},po),{},{value:Q})),at.current.date=Q)}var Oe=Fs(nr);oe&&Oe.length>0&&Oe.forEach(function(ft){return ft.blur()}),Oe.length>0||!Hs?ni(!0):Xe()}}function Cn(Q){var Oe="";return Q&&(Oe=re&&se&&b(Q)?Q.map(function(ft){return Ps(ft,Ks)}).join(" ".concat(Yr," ")):Ps(Q,Ks)),Oe}function Un(Q,Oe,ft){if(oe&&!Oe)return tr(Q);var _n=Cn(Q),cs=ft||_n.toString().replace(/\s,\s$/,"");return Q&&[].concat(Q).flat().some(function(wn){return Se&&wn<le(Se,q,W)||$e&&wn>le($e,q,W)})?(at.current.validInputValue=Cn(P||at.current.date),ls(cs)):(at.current.validInputValue=_n,(fe==null?void 0:fe(Q,{validatedValue:_n,input:nr.current,isTyping:!!ft}))===!1?(ls(gr),!1):(uo(Q),ls(cs),void(at.current=h(h({},at.current),{},{date:Q}))))}function qs(Q){if(Ze){at.current.isTyping=!0,setTimeout(function(){at.current.isTyping=!1},Ud),at.current.selection=Q.target.selectionStart;var Oe=Q.target.value,ft={calendar:q,locale:V,format:W,ignoreList:JSON.parse(Ie)};if(vt=b(vt)?vt:V.digits,!Oe)return ls(""),Un(null);if(vt){var _n,cs,wn=N(vt);try{for(wn.s();!(_n=wn.n()).done;){var ds=_n.value;Oe=Oe.replace(new RegExp(ds,"g"),vt.indexOf(ds))}}catch(bt){wn.e(bt)}finally{wn.f()}cs=b(La)?re&&se?(Oe||"").split(Yr).filter(Boolean).map(jo):jo(Oe):xo(Oe),Un(b(La)||cs.isValid?cs:null,void 0,xe(Oe,vt))}}function xo(bt){return/(?=.*Y)(?=.*M)(?=.*D)/.test(W)?new l.default(h(h({},ft),{},{date:bt})):new l.default(ft).parse(bt)}function jo(bt){return(bt||"").split(Ks).filter(Boolean).map(function(go){return xo(go.trim())})}}function sr(){if(mo(!0),oe){var Q=vr.current.parentNode.parentNode;Q.className="rmdp-calendar-container-mobile",Q.style.position="fixed",Q.style.transform="",setTimeout(function(){Q.style.visibility="visible"},50)}}function Us(Q,Oe){b(at.current.date)||!Oe||oe||Xe(),Ms==null||Ms(Q,Oe)}}var qr=n.forwardRef(Is);function Ps(O,_){var P=[].concat(O).map(function(q){return q!=null&&q.isValid?q.format():""});return P.toString=function(){return this.filter(Boolean).join(_)},P}function Fs(O){return O.current?O.current.tagName==="INPUT"?[O.current]:Array.from(O.current.querySelectorAll("input")):[]}Object.defineProperty(t,"DateObject",{enumerable:!0,get:function(){return l.default}}),t.Calendar=wt,t.default=qr,t.getAllDatesInRange=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(O))return[];var P=O[0],q=O[O.length-1],V=[];if(!(P instanceof l.default&&q instanceof l.default&&P.isValid&&q.isValid&&!(P>q)))return[];for(P=new l.default(P),q=new l.default(q);P<=q;P.day++)V.push(_?P.toDate():new l.default(P));return V},t.toDateObject=le})(f0);const wj=Ki(f0);function KB(){const[t,n]=c.useState(!1),[s,r]=c.useState(!1),[a,i]=c.useState(""),[o,l]=c.useState(""),[d,h]=c.useState([]),[u,m]=c.useState({}),[j,y]=c.useState(""),[f,x]=c.useState(""),[S,N]=c.useState("salary"),[b,E]=c.useState(""),[v,k]=c.useState(""),[$,C]=c.useState(0),[w,A]=c.useState(""),[B,H]=c.useState(""),[I,L]=c.useState(0),[R,G]=c.useState([]),[Z,ne]=c.useState(""),[M,K]=c.useState([]),[F,xe]=c.useState(""),[ge,_e]=c.useState(""),je=()=>{n(!1),Ht()},le=()=>n(!0),{employees:Ve}=c.useContext(Rl),Qe=ye=>{const Tt=ye.target.value.toLowerCase();l(Tt);const At=Ve.filter(He=>{const De=He.code.toString().includes(Tt),en=He.firstName.toLowerCase().includes(Tt),wt=He.lastName.toLowerCase().includes(Tt),Tn=He.status.toLowerCase()==="active";return(De||en||wt)&&Tn});h(At)},Je=ye=>{if(ye.preventDefault(),S==="salary"&&R.length===0){i("Please select at least one in dates worked.");return}if(i(""),s)return;r(!0);const Tt=R.map(wt=>new Date(wt).toISOString().split("T")[0]),At=M.map(wt=>new Date(wt).toISOString().split("T")[0]),en=S==="salary"?{datesWorked:Tt,date:b,employeeId:ge,employeeCode:F,status:S,dailySalary:w,days:B,deduction:I}:{date:b,employeeId:ge,employeeCode:F,status:S,amount:v,comment:Z,months:At};T.post(`${pr}/transaction`,en).then(()=>{je()}).catch(wt=>{console.error("Error submitting form:",wt)}).finally(()=>{r(!1)})},zt=ye=>{m(ye),y(ye.firstName),x(ye.lastName),xe(ye.code),_e(ye._id),A(ye.dailySalary),C(ye.creditOwed),l("")},Ht=()=>{y(""),x(""),xe(""),_e(""),A(""),l(""),k(""),E(""),H(""),L(0),ne(""),h([]),m({}),r(!1),N("salary"),G([]),i("")};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"primary",onClick:le,children:"New"}),e.jsxs(g,{show:t,centered:!0,onHide:je,backdrop:"static",keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Payment"})}),e.jsxs(g.Body,{children:[u&&Object.keys(u).length!==0?"":e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Search"}),e.jsx(p.Control,{type:"text",placeholder:"Enter code or name",autoComplete:"off",onChange:ye=>Qe(ye),value:o,autoFocus:!0})]}),o&&e.jsx(et,{className:"w-75",style:{position:"absolute",top:"90px",left:"15px",right:"0",zIndex:"1000"},children:d.map(ye=>e.jsxs(et.Item,{action:!0,className:"text-capitalize",onClick:()=>zt(ye),children:[ye.firstName," ",ye.lastName," - ",ye.code]},ye._id))}),Object.keys(u).length!==0&&e.jsxs(p,{onSubmit:Je,children:[a&&e.jsx("div",{className:"text-danger",children:a}),e.jsxs(Ne,{className:"mb-3",children:[e.jsx(Y,{children:e.jsx(p.Control,{type:"text",placeholder:"First name",readOnly:!0,value:j})}),e.jsx(Y,{children:e.jsx(p.Control,{type:"text",placeholder:"Last name",readOnly:!0,value:f})})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Status"}),e.jsxs(p.Select,{value:S,onChange:ye=>N(ye.target.value),children:[e.jsx("option",{value:"salary",children:"Salary"}),e.jsx("option",{value:"credit",children:"Credit"}),e.jsx("option",{value:"benefit",children:"Benefit"}),e.jsx("option",{value:"shortage",children:"Shortage"}),e.jsx("option",{value:"allowance",children:"Housing . A"})]})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Date"}),e.jsx(p.Control,{type:"date",value:b,required:!0,onChange:ye=>E(ye.target.value)})]}),(S==="benefit"||S==="credit"||S==="shortage"||S==="allowance")&&e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",placeholder:"amount",value:v,required:!0,onChange:ye=>k(ye.target.value)})]}),S==="salary"?e.jsxs(e.Fragment,{children:[$>0?e.jsxs(Ne,{children:[e.jsx(Y,{children:e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Credit"}),e.jsx(p.Control,{type:"number",readOnly:!0,value:$})]})}),e.jsx(Y,{children:e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Credit Balance"}),e.jsx(p.Control,{type:"number",readOnly:!0,value:$-I})]})})]}):null,e.jsxs(Ne,{children:[e.jsxs(Y,{children:[e.jsx(p.Label,{children:"Dates Worked"}),e.jsx(p.Group,{className:"mb-3",children:e.jsx(wj,{multiple:!0,value:R,onChange:ye=>{G(ye),H(ye.length)},format:"YYYY/MM/DD",inputClass:"form-control",className:"bg-gray"})})]}),e.jsx(Y,{children:e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Salary"}),e.jsx(p.Control,{type:"number",placeholder:"salary",readOnly:!0,value:w})]})})]}),e.jsxs(Ne,{children:[e.jsx(Y,{children:e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Days"}),e.jsx(p.Control,{type:"number",placeholder:"Days",value:B,readOnly:!0,required:!0,onChange:ye=>H(ye.target.value)})]})}),e.jsx(Y,{children:e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Days × Salary"}),e.jsx(p.Control,{type:"text",readOnly:!0,value:w*B})]})})]}),e.jsxs(Ne,{children:[e.jsx(Y,{children:e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Deduction"}),e.jsx(p.Control,{type:"number",placeholder:"Deduction",value:I,max:w*B,onChange:ye=>L(ye.target.value)})]})}),e.jsxs(Y,{children:[e.jsx(p.Label,{children:"Final Total"}),e.jsx(p.Group,{className:"mb-3",children:e.jsx(p.Control,{type:"text",readOnly:!0,value:w*B-I})})]})]})]}):S==="shortage"?e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Comment"}),e.jsx(p.Control,{as:"textarea",value:Z,onChange:ye=>ne(ye.target.value)})]}):S==="allowance"?e.jsx(Ne,{children:e.jsxs(Y,{children:[e.jsx(p.Label,{children:"Months"}),e.jsx(p.Group,{className:"mb-3",children:e.jsx(wj,{multiple:!0,onlyMonthPicker:!0,format:"YYYY/MM/DD",inputClass:"form-control",value:M,onChange:ye=>{K(ye)}})})]})}):null,e.jsx(D,{variant:"primary",type:"submit",disabled:s,children:s?"Submitting...":"Submit"})]})]})]})]})}function qB({id:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(!1),i=()=>s(!1),o=()=>s(!0),l=()=>{a(!0),T.delete(`${pr}/deletetransaction/${t}`).then(()=>{i(),a(!1)}).catch(d=>{console.log(d),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:o,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:n,onHide:i,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:r,onClick:()=>{l()},children:r?"Loading...":"Yes"})]})]})]})}function UB({unpaidTransactions:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(!1),i=()=>s(!1),o=()=>s(!0),l=async()=>{a(!0);try{const d=t.map(h=>h._id);await T.post(`${pr}/updatetransaction/paid`,{transactionIds:d}).then(()=>{i(),a(!1)})}catch(d){console.error("Error updating paid status:",d),a(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-primary",onClick:o,disabled:t.length<1,className:"d-flex justify-content-center align-items-center",children:"Pay"}),e.jsxs(g,{show:n,onHide:i,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Pay"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to proceed ?"}),e.jsx(D,{variant:"outline-success",disabled:r,onClick:()=>{l()},children:r?"Loading...":"Confirm"})]})]})]})}function GB(){const{unpaidTransactions:t}=c.useContext(Rl),[n,s]=c.useState(0),{user:r}=c.useContext(he);c.useEffect(()=>{const l=t.reduce((d,h)=>h.status==="benefit"||h.status==="credit"||h.status==="allowance"?d+h.amount:h.status==="salary"?d+h.days*h.dailySalary-h.deduction:d,0);s(l)},[t]);const a=l=>e.jsx("ul",{style:{listStyleType:"none",padding:"0",margin:"0"},children:l.map((d,h)=>{const u=new Date(d).toLocaleDateString();return e.jsx("li",{children:u},h)})}),i=(l,d)=>{if(d==="credit"||d==="benefit"||l.length===0)return"";const h=l.map(f=>new Date(f)).sort((f,x)=>f-x),u=h[0],m=h[h.length-1],j=u.toLocaleDateString(void 0,{day:"2-digit",month:"short"}),y=m.toLocaleDateString(void 0,{day:"2-digit",month:"short"});return h.length>1?`${j} - ${y}`:j};function o(l){return l.map(h=>new Date(h).toLocaleString("default",{month:"short",year:"numeric"})).join(", ")}return e.jsxs(te,{children:[e.jsxs("div",{className:"my-2 d-flex justify-content-around align-items-center ",children:[e.jsx(KB,{}),r&&r.role==="admin"&&e.jsx(UB,{unpaidTransactions:t})]}),e.jsxs(ee,{bordered:!0,className:"my-3 text-capitalize text-center",children:[e.jsxs("thead",{children:[e.jsx("tr",{children:e.jsxs("th",{colSpan:10,className:"text-info",children:["K",n.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]})}),e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Dates Worked"}),e.jsx("th",{children:"Days"}),e.jsx("th",{children:"Salary"}),e.jsx("th",{children:"Deduction"}),e.jsx("th",{children:"Total"}),e.jsx("th",{children:"Status"}),r&&r.role==="admin"&&e.jsx("th",{children:"Actions"})]})]}),e.jsx("tbody",{className:"table-group-divider",children:t.length>0?t.map(l=>e.jsxs("tr",{className:l.status==="shortage"?"border border-3 border-primary-subtle":"",children:[e.jsx("td",{children:l.date}),e.jsx("td",{children:l.employeeCode}),e.jsx("td",{children:l.firstName}),e.jsx("td",{children:l.lastName}),l.status==="shortage"?e.jsx("td",{colSpan:4,children:l.comment}):l.status==="allowance"?e.jsx("td",{colSpan:4,children:o(l.months)}):l.status==="credit"||l.status==="benefit"?e.jsx("td",{colSpan:4}):e.jsxs(e.Fragment,{children:[e.jsx("td",{children:l.datesWorked.length>0&&l.status!=="credit"&&l.status!=="benefit"?e.jsx(jb,{placement:"top",overlay:e.jsx(Rm,{id:`tooltip-${l._id}`,children:a(l.datesWorked)}),children:e.jsx("span",{className:"initialism",children:i(l.datesWorked)})}):""}),e.jsx("td",{children:l.days}),e.jsx("td",{children:l.dailySalary>0?`K${l.dailySalary}`:""}),e.jsx("td",{children:l.deduction>-1?`K${l.deduction}`:""})]}),e.jsxs("td",{children:["K",l.amount>0?l.amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):(l.days*l.dailySalary-l.deduction).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),e.jsx("td",{className:l.status==="benefit"?"border-2 border-warning-subtle":l.status==="credit"?"border-2 border-info-subtle":l.status==="allowance"?"border-2 border-primary-subtle":"",children:l.status==="allowance"?"H .Allowance":l.status}),r&&r.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center gap-2 align-items-center",children:e.jsx(qB,{id:l._id})})]},l._id)):null})]})]})}function YB(){return c.useEffect(()=>{document.title="Yussman - Employees"},[]),e.jsx(te,{fluid:!0,className:"py-3",children:e.jsxs(Ft,{justify:!0,children:[e.jsx(X,{eventKey:"salary",title:"Salary",children:e.jsx(GB,{})}),e.jsx(X,{eventKey:"paid",title:"Paid",children:e.jsx(TB,{})}),e.jsx(X,{eventKey:"employeeList",title:"Employee List",children:e.jsx(OB,{})})]})})}function WB({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(!1),[l,d]=c.useState(!1),h=()=>d(!1),u=()=>d(!0),m=()=>{s(""),a("")},j=y=>{y.preventDefault(),o(!0);const f={name:n.trim(),price:Number(r)};T.post(`${Lt}/${t}/addtostock`,f).then(()=>{m(),h(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:u,children:"New Product"}),e.jsxs(g,{show:l,onHide:()=>{h(),m()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:y=>s(y.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:y=>a(y.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function VB({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Lt}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex mx-2  justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Loading…":"Yes"})]})]})]})}function QB({id:t,stock:n}){const[s,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState(!1);c.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[d,h]=c.useState(!1),u=()=>h(!1),m=()=>h(!0),j=()=>{r(""),i("")},y=f=>{f.preventDefault(),l(!0);const x={price:Number(s),name:a};T.post(`${Lt}/${t}/editname/${n._id}`,x).then(()=>{j(),u(),l(!1)}).catch(S=>{console.error(S),l(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:m,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:d,onHide:()=>{u()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:y,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:o?"Loading…":"Submit"})]})})]})]})}const JB="deletestock";function XB(){const[t,n]=c.useState(null),[s,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState(""),[d,h]=c.useState(!1),[u,m]=c.useState(1),j=70,y=c.useRef(null),{shopA1Shift:f}=c.useContext(Ca),{user:x}=c.useContext(he),S=u*j,N=S-j;let b;Object.keys(f).length!==0&&(b=f.stock.slice(N,S)),c.useEffect(()=>{y.current&&(y.current.focus(),y.current.select())},[t]);const E=C=>{n(C);let w=f.stock.find(A=>A._id===C);r(w.ostock.toString()),i(w.damage.toString()),l(w.cstock.toString())},v=(C,w)=>{if(C.preventDefault(),!w)return;h(!0);const A={ostock:Number(s),damage:Number(a),cstock:Number(o)};T.post(`${Lt}/${f._id}/editstock/${w}`,A).then(()=>{n(null),r(""),i(""),l("");const H=f.stock.findIndex(I=>I._id===w)+1;if(H<S){const I=f.stock[H];n(I._id),r(I.ostock.toString()),i(I.damage.toString()),l(I.cstock.toString())}else H<f.stock.length&&(m(I=>I+1),setTimeout(()=>{const I=S,L=f.stock[I];n(L._id),r(L.ostock.toString()),i(L.damage.toString()),l(L.cstock.toString())},0));h(!1)}).catch(B=>{console.log(B),h(!1)})},k=c.useRef(!0);c.useEffect(()=>{if(k.current){k.current=!1;return}t!==null&&y.current&&(y.current.focus(),y.current.select())},[t]);const $=()=>{n(null),r(""),i(""),l(""),h(!1)};return f===null?null:e.jsxs(e.Fragment,{children:[x!==null&&x.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(WB,{id:f._id})}),e.jsx(p,{onSubmit:C=>v(C,t),children:e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),e.jsx("th",{style:{width:"8rem"},children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:Object.keys(f).length!==0&&b.map(C=>e.jsxs("tr",{id:C.code,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsxs("td",{children:["K",C.price>0&&C.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:t===C._id?e.jsx(p.Control,{type:"number",size:"sm",readOnly:x.role!=="admin",value:s,className:"text-center",onChange:w=>r(w.target.value)}):C.ostock}),e.jsx("td",{className:C.received>0?"text-info":"",children:C.received}),e.jsx("td",{style:{width:"8rem"},className:C.damage>0?"text-primary":"",children:t===C._id?e.jsx(p.Control,{type:"number",size:"sm",value:a,className:"text-center",onChange:w=>i(w.target.value)}):C.damage}),e.jsx("td",{style:{width:"8rem"},className:C.cstock<0?"text-danger":"",children:t===C._id?e.jsx(p.Control,{ref:y,type:"number",size:"sm",autoFocus:!0,value:o,className:"text-center",onChange:w=>l(w.target.value)}):C.cstock}),e.jsxs("td",{className:C.ostock+C.received-C.damage-C.cstock<0?"text-danger":C.ostock+C.received-C.damage-C.cstock===0?"text-muted":"",children:["K",C.code>0&&((C.ostock+C.received-C.damage-C.cstock)*C.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:t===C._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(D,{size:"sm",disabled:d,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(D,{size:"sm",variant:"outline-danger",onClick:()=>$(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"sm",variant:"outline-secondary",onClick:()=>E(C._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),x!==null&&x.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(VB,{endpoint:JB,id:C._id,shiftId:f._id}),e.jsx(QB,{stock:C,id:f._id})]})]})})]},C.code))})]})}),Object.keys(f).length!==0&&e.jsx(Hn,{className:"justify-content-center",children:Array.from({length:Math.ceil(f.stock.length/j)},(C,w)=>e.jsx(Hn.Item,{active:w+1===u,onClick:()=>m(w+1),children:w+1},w+1))})]})}function ZB({show:t,handleClose:n,result:s,id:r}){const[a,i]=c.useState({code:"",name:"",amount:""}),[o,l]=c.useState(!1);c.useEffect(()=>{s&&i({code:s.code,name:s.name,amount:""})},[s]);const d=j=>{const{name:y,value:f}=j.target;i(x=>({...x,[y]:f}))},u=e_(()=>{o||(l(!0),T.post(`${Lt}/${r}/addtoreceived`,a).then(()=>{n(),l(!1)}).catch(j=>{console.log(j),l(!1)}))},200),m=j=>{j.preventDefault(),u()};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:n,disabled:!0,children:"New"}),e.jsxs(g,{show:t,onHide:n,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Received"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:m,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Code"}),e.jsx(p.Control,{type:"number",autoComplete:"off",name:"code",value:a.code,onChange:d,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",name:"name",value:a.name,onChange:d,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Quantity"}),e.jsx(p.Control,{autoFocus:!0,type:"number",autoComplete:"off",name:"amount",value:a.amount,onChange:d,required:!0})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:o?"Loading…":"Submit"})]})})]})]})}function e_(t,n){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{t(...r)},n)}}function v0({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Lt}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Loading…":"Yes"})]})]})]})}const t_="deletereceived";function n_({activeTab:t}){const[n,s]=c.useState([]),[r,a]=c.useState([]),[i,o]=c.useState([]),[l,d]=c.useState(!1),[h,u]=c.useState(null),[m,j]=c.useState(""),[y,f]=c.useState(!1),[x,S]=c.useState(-1),{shopA1Shift:N}=c.useContext(Ca);c.useEffect(()=>{Object.keys(N).length!==0&&(s(N.received),a(N.stock),o(N.stock),f(!0))},[N]),c.useEffect(()=>{const C=w=>{const A=document.getElementById("searchInput"),B=document.getElementById("resultsList");A&&B&&!A.contains(w.target)&&!B.contains(w.target)&&d(!1)};return document.addEventListener("click",C),()=>{document.removeEventListener("click",C)}},[]);const b=C=>{const w=C.target.value.toLowerCase(),A=r.filter(B=>B.name.toLowerCase().includes(w)||B.code.toString().includes(w));o(A),d(!0),d(!!w)},E=C=>{C.key==="ArrowDown"&&x<i.length-1?S(x+1):C.key==="ArrowUp"&&x>0?S(x-1):C.key==="Enter"&&x>=0&&(C.preventDefault(),v(i[x]))},v=C=>{u(C),d(!1),S(-1)},k=()=>{u(null),j(""),f(!0)},$=c.useCallback(()=>{const C=document.getElementById("searchInput");t==="received"&&C&&C.focus(),y&&t==="received"&&C&&(C.focus(),f(!1))},[t,y]);return c.useEffect(()=>{$()},[t,$]),c.useEffect(()=>{$()},[t,y,$]),e.jsxs(te,{children:[e.jsx("div",{className:"w-50",children:e.jsxs(p,{onSubmit:C=>C.preventDefault(),children:[e.jsxs(Ja,{className:"mb-3",children:[e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,placeholder:"Code",name:"search",id:"searchInput",onChange:C=>{b(C),j(C.target.value)},onKeyDown:E,value:m}),e.jsx(ZB,{show:h!==null,result:h,handleClose:k,id:N._id})]}),l&&e.jsx("ul",{id:"resultsList",className:"list-group",style:{position:"absolute",zIndex:1,width:"50%",cursor:"pointer"},children:i.map((C,w)=>e.jsxs("li",{className:`list-group-item text-capitalize ${w===x?"active":""}`,onClick:()=>v(C),children:[C.code," - ",C.name]},C.code))})]})}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:n.map(C=>e.jsxs("tr",{id:C._id,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsx("td",{children:C.amount}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(v0,{endpoint:t_,id:C._id,shiftId:N._id})})]},C._id))})]})]})}function s_({shift:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(!1),h=()=>s(!1),u=()=>s(!0),m=async j=>{j.preventDefault(),d(!0),await T.post(`${Lt}/${t._id}/addtocredit`,{description:r,amount:i}).then(()=>{a(""),o(""),h(),d(!1)}).catch(y=>{console.log(y),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",size:"sm",onClick:u,children:"New"}),e.jsxs(g,{show:n,onHide:()=>{h(),a(""),o("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Credit"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j=>m(j),children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Description"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:j=>o(j.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:l,children:l?"Loading…":"Submit"})]})})]})]})}const r_="deletecredit";function a_(){const[t,n]=c.useState([]),{shopA1Shift:s}=c.useContext(Ca);return c.useEffect(()=>{Object.keys(s).length!==0&&n(s.credit)},[s]),e.jsxs(te,{children:[e.jsxs("div",{className:"d-flex justify-content-between py-2",children:[e.jsx("h6",{children:"Credit"}),e.jsx(s_,{shift:s})]}),e.jsxs(ee,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(r=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:r.description}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(v0,{endpoint:r_,id:r._id,shiftId:s._id})})]},Math.floor(Math.random()*1e5)))})]})]})}function i_({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Lt}/${t}/addtocash`,{amount:n}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:d,size:"sm",children:"New"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function o_({endpoint:t,id:n,amount:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Lt}/${n}/${t}/${s}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Loading…":"Yes"})]})]})]})}const l_="deletecash";function c_(){const[t,n]=c.useState([]),{shopA1Shift:s}=c.useContext(Ca);return c.useEffect(()=>{Object.keys(s).length!==0&&n(s.cash)},[s]),e.jsx(te,{children:e.jsx(Ne,{children:e.jsxs(Y,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Cash"}),e.jsxs("h5",{children:["Total: K ",t.reduce((r,a)=>r+a,0).toLocaleString()]}),e.jsx(i_,{id:s._id})]}),e.jsx(Fn,{children:e.jsx(et,{variant:"flush",children:t.map(r=>e.jsxs(et.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",r.toLocaleString(),e.jsx(o_,{endpoint:l_,id:s._id,amount:r})]},Math.floor(Math.random()*1e5)))})})]})})})}function d_({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Lt}/${t}/addcashier`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function u_({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Lt}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function h_({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Lt}/${t}/addcheckedby`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Chcke By"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading...":"Submit"})]})})]})]})}function f_(){const[t,n]=c.useState(!1),[s,r]=c.useState(!1),a=()=>n(!1),i=()=>n(!0),o=l=>{l.preventDefault(),r(!0),T.post(`${Lt}/newshift`).then(()=>{r(!1),a()}).catch(d=>{console.log(d),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(D,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(D,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading…":"Yes"})]})]})]})}function m_({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${Lt}/${t}/adddatein`,{date:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:r?"Loading…":"Submit"})]})})]})]})}function p_({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${Lt}/${t}/adddateout`,{date:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:r?"Loading…":"Submit"})]})})]})]})}function x_(){const[t,n]=c.useState([]),[s,r]=c.useState(!0),[a,i]=c.useState({}),{shopA1Shift:o}=c.useContext(Ca),{user:l}=c.useContext(he);c.useEffect(()=>{i(o)},[o]);let d=0;if(Object.keys(a).length>0){const x=S=>(S.ostock+S.received-S.damage-S.cstock)*S.price;d=a.stock.reduce((S,N)=>S+x(N),0)}const h=c.useCallback(()=>{if(Object.keys(a).length>0){const x=a.cashier.length,S=a.acountant.length,N=a.dateIn.length,b=a.dateOut.length,E=a.checkedBy.length;x>0&&S>0&&N>0&&b>0&&E>0?r(!1):r(!0)}},[a]);c.useEffect(()=>{Object.keys(a).length>0&&n(a.cash.reduce((x,S)=>x+S,0)+a.credit.reduce((x,S)=>x+S.amount,0)-d),h()},[a,d,h]);const u=x=>{T.post(`${Lt}/${a._id}/removecashier`,{name:x.toLowerCase()}).then(()=>{h()})},m=()=>{T.post(`${Lt}/${a._id}/removeaccountant`).then(()=>{h()})},j=()=>{T.post(`${Lt}/${a._id}/removecheckedby`).then(()=>{h()})},y=()=>{T.post(`${Lt}/${a._id}/deletedatein`).then(()=>{h()})},f=()=>{T.post(`${Lt}/${a._id}/deletedateout`).then(()=>{h()})};return Object.keys(a).length===0?null:e.jsx(te,{children:Object.keys(a).length!==0&&e.jsxs(Ne,{className:"mx-1",children:[e.jsxs(Y,{className:"d-flex flex-column align-items-center border pt-3 me-1 ",children:[e.jsxs("p",{children:["Cash : K",a.cash.reduce((x,S)=>x+S,0).toLocaleString()]}),e.jsxs("p",{children:["Credit: K",a.credit.reduce((x,S)=>x+S.amount,0).toLocaleString()]}),l!==null&&l.role==="admin"&&e.jsxs("p",{children:["Sales Total : K",d.toLocaleString()]}),l&&l.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"w-100"}),e.jsxs("p",{className:"display-6",children:["Result : K",e.jsx("span",{className:t<0?"text-danger":"",children:t.toLocaleString()})]})]})]}),e.jsxs(Y,{className:"border py-3 ms-1 ",children:[e.jsx("p",{className:"text-center text-muted ",children:"Double click on any of the fields below to delete"}),e.jsxs("div",{className:"d-flex justify-content-around",children:[e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date In :"}),a.dateIn.length>0?e.jsxs("h6",{onDoubleClick:y,style:{cursor:"pointer"},children:[" ",a.dateIn]}):e.jsx(m_,{id:a._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date Out :"}),a.dateOut.length>0?e.jsxs("h6",{onDoubleClick:f,style:{cursor:"pointer"},children:[" ",a.dateOut]}):e.jsx(p_,{id:a._id})]})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex justify-content-evenly",children:[e.jsx("h6",{className:"d-flex align-items-center",children:"Cashier : "}),a.cashier.map(x=>e.jsx("h6",{className:"pt-1 prevent-select text-capitalize ",style:{cursor:"pointer"},onDoubleClick:()=>u(x),children:x},x)),a.cashier.length>=0&&a.cashier.length<1&&e.jsx(d_,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Accountant : "}),a.acountant.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>m(),children:a.acountant})}):e.jsx(u_,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Checked By : "}),a.checkedBy.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>j(),children:a.checkedBy})}):l&&l.role==="admin"&&e.jsx(h_,{id:a._id})]}),e.jsx("div",{className:"d-flex justify-content-center mt-5 ",children:!s&&e.jsx(f_,{id:a._id})})]})]})})}function j_({shiftId:t,fetchData:n,disableDeleteBtn:s,setDisableDeleteBtn:r}){const[a,i]=c.useState(!1),[o,l]=c.useState(!1),d=()=>i(!1),h=()=>i(!0),u=()=>{l(!0),T.delete(`${Lt}/${t}`).then(()=>{window.location.reload(),d()}).catch(m=>{console.error(m),l(!1),d()}),setTimeout(()=>{n(),l(!1),d()},50)};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:()=>{h(),r(!0)},disabled:s,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:a,onHide:d,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:o,onClick:()=>{u()},children:o?"Loading…":"Yes"})]})]})]})}function g_(){const[t,n]=c.useState([]),[s,r]=c.useState(!1),a=()=>{T.get(`${Lt}/shifts`).then(h=>{n(h.data),r(!1)}).catch(h=>{console.log(h)})};c.useEffect(()=>{a()},[]);const i=()=>{const h={};t.forEach(m=>{const j=m.date?m.date.split("-")[1]:"undefined";h[j]||(h[j]=[]),h[j].push(m)});const u=Object.keys(h).sort((m,j)=>{var N,b;if(m==="undefined")return-1;if(j==="undefined")return 1;const y=(N=h[m][0])==null?void 0:N.date,f=(b=h[j][0])==null?void 0:b.date;if(!y||!f)return 0;const x=new Date(y);return new Date(f)-x});return u.forEach(m=>{h[m].sort((j,y)=>{const f=j.date?new Date(j.date).getTime():null,x=y.date?new Date(y.date).getTime():null;return!f&&!x?0:f?x?x-f:1:-1})}),{sortedMonths:u,groupedShifts:h}},{sortedMonths:o,groupedShifts:l}=i(),d=h=>{let u=0;return Object.keys(l).length>0&&(u=l[h].map(m=>m.cash.reduce((j,y)=>j+y,0)),u=u.reduce((m,j)=>m+j,0)),u.toLocaleString()};return e.jsxs(te,{children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(D,{variant:"outline-primary",onClick:a,className:"mb-3",children:"Refetch"})}),e.jsxs(ee,{bordered:!0,className:"text-center text-capitalize",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date In"}),e.jsx("th",{style:{width:"15%"},children:"Date Out"}),e.jsx("th",{style:{width:"15%"},children:"Checked By"}),e.jsx("th",{style:{width:"15%"},children:"Acountant"}),e.jsx("th",{children:"Cashier"}),e.jsx("th",{style:{width:"15%"},children:"Cash"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),o.map(h=>e.jsxs("tbody",{className:"table-group-divider",children:[l[h].map(u=>e.jsxs("tr",{children:[e.jsx("td",{children:u.dateIn}),e.jsx("td",{children:u.dateOut}),e.jsx("td",{children:u.checkedBy}),e.jsx("td",{children:u.acountant}),e.jsx("td",{className:"d-flex flex-row gap-1 justify-content-center",children:u.cashier.map(m=>e.jsxs("span",{className:"d-block ",children:[m," "]},m))}),e.jsxs("td",{children:["K",u.cash.reduce((m,j)=>m+j,0).toLocaleString()]}),e.jsx("td",{children:u.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Me,{to:`/shopa1/${u._id}`,style:{textDecoration:"none"},children:e.jsx(D,{variant:"outline-primary me-1",size:"sm",children:"V"})}),u.status==="current"&&e.jsx(j_,{shiftId:u._id,fetchData:a,disableDeleteBtn:s,setDisableDeleteBtn:r})]})]},u._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4}),e.jsx("th",{children:"Total"}),e.jsxs("th",{colSpan:1,children:["K",d(h)]}),e.jsx("td",{colSpan:2})]})]},h))]})]})}function y_(){const[t,n]=c.useState("stock"),{user:s}=c.useContext(he);c.useEffect(()=>{document.title="Yussman - Shop A1"},[]);const r=i=>{n(i)},a=()=>{const i=document.getElementById("searchInput");i&&i.focus()};return e.jsx(e.Fragment,{children:e.jsx(te,{fluid:!0,className:"py-3",children:e.jsxs(Ft,{activeKey:t,onSelect:r,id:"shopA1",className:"mb-3",justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsx(XB,{})}),e.jsx(X,{eventKey:"received",title:"Received",children:e.jsx(n_,{activeTab:t,onModalClose:a})}),e.jsx(X,{eventKey:"credit",title:"Cash / Credit",children:e.jsxs(Ne,{children:[e.jsx(Y,{children:e.jsx(c_,{})}),e.jsx(Y,{children:e.jsx(a_,{})})]})}),e.jsx(X,{eventKey:"final",title:"Final",children:e.jsx(x_,{})}),s!==null&&s.role==="admin"&&e.jsx(X,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(g_,{})})]})})})}function v_({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(!1),[l,d]=c.useState(!1),h=()=>d(!1),u=()=>d(!0),m=()=>{s(""),a("")},j=y=>{y.preventDefault(),o(!0);const f={name:n.trim(),price:Number(r)};T.post(`${Dt}/${t}/addtostock`,f).then(()=>{m(),h(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:u,children:"New Product"}),e.jsxs(g,{show:l,onHide:()=>{h(),m()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:y=>s(y.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:y=>a(y.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function S_({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Dt}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex mx-2  justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Loading…":"Yes"})]})]})]})}function b_({id:t,stock:n}){const[s,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState(!1);c.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[d,h]=c.useState(!1),u=()=>h(!1),m=()=>h(!0),j=()=>{r(""),i("")},y=f=>{f.preventDefault(),l(!0);const x={price:Number(s),name:a};T.post(`${Dt}/${t}/editname/${n._id}`,x).then(()=>{j(),u(),l(!1)}).catch(S=>{console.error(S),l(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:m,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:d,onHide:()=>{u()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:y,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:o?"Loading…":"Submit"})]})})]})]})}const C_="deletestock";function w_(){const[t,n]=c.useState(null),[s,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState(""),[d,h]=c.useState(!1),[u,m]=c.useState(1),j=70,y=c.useRef(null),{shopA2Shift:f}=c.useContext(wa),{user:x}=c.useContext(he),S=u*j,N=S-j;let b;Object.keys(f).length!==0&&(b=f.stock.slice(N,S)),c.useEffect(()=>{y.current&&(y.current.focus(),y.current.select())},[t]);const E=C=>{n(C);let w=f.stock.find(A=>A._id===C);r(w.ostock.toString()),i(w.damage.toString()),l(w.cstock.toString())},v=c.useRef(!0);c.useEffect(()=>{if(v.current){v.current=!1;return}t!==null&&y.current&&(y.current.focus(),y.current.select())},[t]);const k=(C,w)=>{if(C.preventDefault(),!w)return;h(!0);const A={ostock:Number(s),damage:Number(a),cstock:Number(o)};T.post(`${Dt}/${f._id}/editstock/${w}`,A).then(()=>{n(null),r(""),i(""),l("");const H=f.stock.findIndex(I=>I._id===w)+1;if(H<S){const I=f.stock[H];n(I._id),r(I.ostock.toString()),i(I.damage.toString()),l(I.cstock.toString())}else H<f.stock.length&&(m(I=>I+1),setTimeout(()=>{const I=S,L=f.stock[I];n(L._id),r(L.ostock.toString()),i(L.damage.toString()),l(L.cstock.toString())},0));h(!1)}).catch(B=>{console.log(B),h(!1)})},$=()=>{n(null),r(""),i(""),l(""),h(!1)};return f===null?null:e.jsxs(e.Fragment,{children:[x!==null&&x.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(v_,{id:f._id})}),e.jsx(p,{onSubmit:C=>k(C,t),children:e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),e.jsx("th",{style:{width:"8rem"},children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:Object.keys(f).length!==0&&b.map(C=>e.jsxs("tr",{id:C.code,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsxs("td",{children:["K",C.price>0&&C.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:t===C._id?e.jsx(p.Control,{type:"number",size:"sm",readOnly:x.role!=="admin",value:s,className:"text-center",onChange:w=>r(w.target.value)}):C.ostock}),e.jsx("td",{className:C.received>0?"text-info":"",children:C.received}),e.jsx("td",{style:{width:"8rem"},className:C.damage>0?"text-primary":"",children:t===C._id?e.jsx(p.Control,{type:"number",size:"sm",value:a,className:"text-center",onChange:w=>i(w.target.value)}):C.damage}),e.jsx("td",{style:{width:"8rem"},className:C.cstock<0?"text-danger":"",children:t===C._id?e.jsx(p.Control,{ref:y,type:"number",size:"sm",autoFocus:!0,value:o,className:"text-center",onChange:w=>l(w.target.value)}):C.cstock}),e.jsxs("td",{className:C.ostock+C.received-C.damage-C.cstock<0?"text-danger":C.ostock+C.received-C.damage-C.cstock===0?"text-muted":"",children:["K",C.code>0&&((C.ostock+C.received-C.damage-C.cstock)*C.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:t===C._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(D,{size:"sm",disabled:d,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(D,{size:"sm",variant:"outline-danger",onClick:()=>$(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"sm",variant:"outline-secondary",onClick:()=>E(C._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),x!==null&&x.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(S_,{endpoint:C_,id:C._id,shiftId:f._id}),e.jsx(b_,{stock:C,id:f._id})]})]})})]},C.code))})]})}),Object.keys(f).length!==0&&e.jsx(Hn,{className:"justify-content-center",children:Array.from({length:Math.ceil(f.stock.length/j)},(C,w)=>e.jsx(Hn.Item,{active:w+1===u,onClick:()=>m(w+1),children:w+1},w+1))})]})}function N_({show:t,handleClose:n,result:s,id:r}){const[a,i]=c.useState({code:"",name:"",amount:""}),[o,l]=c.useState(!1);c.useEffect(()=>{s&&i({code:s.code,name:s.name,amount:""})},[s]);const d=j=>{const{name:y,value:f}=j.target;i(x=>({...x,[y]:f}))},u=k_(()=>{o||(l(!0),T.post(`${Dt}/${r}/addtoreceived`,a).then(()=>{n(),l(!1)}).catch(j=>{console.log(j),l(!1)}))},200),m=j=>{j.preventDefault(),u()};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:n,disabled:!0,children:"New"}),e.jsxs(g,{show:t,onHide:n,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Received"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:m,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Code"}),e.jsx(p.Control,{type:"number",autoComplete:"off",name:"code",value:a.code,onChange:d,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",name:"name",value:a.name,onChange:d,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Quantity"}),e.jsx(p.Control,{autoFocus:!0,type:"number",autoComplete:"off",name:"amount",value:a.amount,onChange:d,required:!0})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:o?"Loading…":"Submit"})]})})]})]})}function k_(t,n){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{t(...r)},n)}}function S0({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Dt}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Loading…":"Yes"})]})]})]})}const E_="deletereceived";function L_({activeTab:t}){const[n,s]=c.useState([]),[r,a]=c.useState([]),[i,o]=c.useState([]),[l,d]=c.useState(!1),[h,u]=c.useState(null),[m,j]=c.useState(""),[y,f]=c.useState(!1),[x,S]=c.useState(-1),{shopA2Shift:N}=c.useContext(wa);c.useEffect(()=>{Object.keys(N).length!==0&&(s(N.received),a(N.stock),o(N.stock),f(!0))},[N]),c.useEffect(()=>{const C=w=>{const A=document.getElementById("searchInput"),B=document.getElementById("resultsList");A&&B&&!A.contains(w.target)&&!B.contains(w.target)&&d(!1)};return document.addEventListener("click",C),()=>{document.removeEventListener("click",C)}},[]);const b=C=>{const w=C.target.value.toLowerCase(),A=r.filter(B=>B.name.toLowerCase().includes(w)||B.code.toString().includes(w));o(A),d(!0),d(!!w)},E=C=>{C.key==="ArrowDown"&&x<i.length-1?S(x+1):C.key==="ArrowUp"&&x>0?S(x-1):C.key==="Enter"&&x>=0&&(C.preventDefault(),v(i[x]))},v=C=>{u(C),d(!1),S(-1)},k=()=>{u(null),j(""),f(!0)},$=c.useCallback(()=>{const C=document.getElementById("searchInput");t==="received"&&C&&C.focus(),y&&t==="received"&&C&&(C.focus(),f(!1))},[t,y]);return c.useEffect(()=>{$()},[t,$]),c.useEffect(()=>{$()},[t,y,$]),e.jsxs(te,{children:[e.jsx("div",{className:"w-50",children:e.jsxs(p,{onSubmit:C=>C.preventDefault(),children:[e.jsxs(Ja,{className:"mb-3",children:[e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,placeholder:"Code",name:"search",id:"searchInput",onChange:C=>{b(C),j(C.target.value)},onKeyDown:E,value:m}),e.jsx(N_,{show:h!==null,result:h,handleClose:k,id:N._id})]}),l&&e.jsx("ul",{id:"resultsList",className:"list-group",style:{position:"absolute",zIndex:1,width:"50%",cursor:"pointer"},children:i.map((C,w)=>e.jsxs("li",{className:`list-group-item text-capitalize ${w===x?"active":""}`,onClick:()=>v(C),children:[C.code," - ",C.name]},C.code))})]})}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:n.map(C=>e.jsxs("tr",{id:C._id,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsx("td",{children:C.amount}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(S0,{endpoint:E_,id:C._id,shiftId:N._id})})]},C._id))})]})]})}function D_({shift:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(!1),h=()=>s(!1),u=()=>s(!0),m=async j=>{j.preventDefault(),d(!0),await T.post(`${Dt}/${t._id}/addtocredit`,{description:r,amount:i}).then(()=>{a(""),o(""),h(),d(!1)}).catch(y=>{console.log(y),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",size:"sm",onClick:u,children:"New"}),e.jsxs(g,{show:n,onHide:()=>{h(),a(""),o("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Credit"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j=>m(j),children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Description"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:j=>o(j.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:l,children:l?"Loading…":"Submit"})]})})]})]})}const $_="deletecredit";function O_(){const[t,n]=c.useState([]),{shopA2Shift:s}=c.useContext(wa);return c.useEffect(()=>{Object.keys(s).length!==0&&n(s.credit)},[s]),e.jsxs(te,{children:[e.jsxs("div",{className:"d-flex justify-content-between py-2",children:[e.jsx("h6",{children:"Credit"}),e.jsx(D_,{shift:s})]}),e.jsxs(ee,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(r=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:r.description}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(S0,{endpoint:$_,id:r._id,shiftId:s._id})})]},Math.floor(Math.random()*1e5)))})]})]})}function T_({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Dt}/${t}/addtocash`,{amount:n}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:d,size:"sm",children:"New"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function A_({endpoint:t,id:n,amount:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Dt}/${n}/${t}/${s}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:i?"Loading…":"Yes"})]})]})]})}const B_="deletecash";function __(){const[t,n]=c.useState([]),{shopA2Shift:s}=c.useContext(wa);return c.useEffect(()=>{Object.keys(s).length!==0&&n(s.cash)},[s]),e.jsx(te,{children:e.jsx(Ne,{children:e.jsxs(Y,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Cash"}),e.jsxs("h5",{children:["Total: K ",t.reduce((r,a)=>r+a,0).toLocaleString()]}),e.jsx(T_,{id:s._id})]}),e.jsx(Fn,{children:e.jsx(et,{variant:"flush",children:t.map(r=>e.jsxs(et.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",r.toLocaleString(),e.jsx(A_,{endpoint:B_,id:s._id,amount:r})]},Math.floor(Math.random()*1e5)))})})]})})})}function R_({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Dt}/${t}/addcashier`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function I_({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Dt}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function P_({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Dt}/${t}/addcheckedby`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Chcke By"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Loading…":"Submit"})]})})]})]})}function F_(){const[t,n]=c.useState(!1),[s,r]=c.useState(!1),a=()=>n(!1),i=()=>n(!0),o=l=>{l.preventDefault(),r(!0),T.post(`${Dt}/newshift`).then(()=>{r(!1),a()}).catch(d=>{console.log(d),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(D,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(D,{variant:"primary",type:"submit",onClick:o,disabled:s,children:s?"Loading…":"Yes"})]})]})]})}function M_({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${Dt}/${t}/adddatein`,{date:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:r?"Loading…":"Submit"})]})})]})]})}function z_({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${Dt}/${t}/adddateout`,{date:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:r?"Loading…":"Submit"})]})})]})]})}function H_(){const[t,n]=c.useState([]),[s,r]=c.useState(!0),[a,i]=c.useState({}),{shopA2Shift:o}=c.useContext(wa),{user:l}=c.useContext(he);c.useEffect(()=>{i(o)},[o]);let d=0;if(Object.keys(a).length>0){const x=S=>(S.ostock+S.received-S.damage-S.cstock)*S.price;d=a.stock.reduce((S,N)=>S+x(N),0)}const h=c.useCallback(()=>{if(Object.keys(a).length>0){const x=a.cashier.length,S=a.acountant.length,N=a.dateIn.length,b=a.dateOut.length,E=a.checkedBy.length;x>0&&S>0&&N>0&&b>0&&E>0?r(!1):r(!0)}},[a]);c.useEffect(()=>{Object.keys(a).length>0&&n(a.cash.reduce((x,S)=>x+S,0)+a.credit.reduce((x,S)=>x+S.amount,0)-d),h()},[a,d,h]);const u=x=>{T.post(`${Dt}/${a._id}/removecashier`,{name:x.toLowerCase()}).then(()=>{h()})},m=()=>{T.post(`${Dt}/${a._id}/removeaccountant`).then(()=>{h()})},j=()=>{T.post(`${Dt}/${a._id}/removecheckedby`).then(()=>{h()})},y=()=>{T.post(`${Dt}/${a._id}/deletedatein`).then(()=>{h()})},f=()=>{T.post(`${Dt}/${a._id}/deletedateout`).then(()=>{h()})};return Object.keys(a).length===0?null:e.jsx(te,{children:Object.keys(a).length!==0&&e.jsxs(Ne,{className:"mx-1",children:[e.jsxs(Y,{className:"d-flex flex-column align-items-center border pt-3 me-1 ",children:[e.jsxs("p",{children:["Cash : K",a.cash.reduce((x,S)=>x+S,0).toLocaleString()]}),e.jsxs("p",{children:["Credit: K",a.credit.reduce((x,S)=>x+S.amount,0).toLocaleString()]}),l!==null&&l.role==="admin"&&e.jsxs("p",{children:["Sales Total : K",d.toLocaleString()]}),l&&l.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:" w-100 "}),e.jsxs("p",{className:"display-6",children:["Result : K",e.jsx("span",{className:t<0?"text-danger":"",children:t.toLocaleString()})]})]})]}),e.jsxs(Y,{className:"border py-3 ms-1 ",children:[e.jsx("p",{className:"text-center text-muted ",children:"Double click on any of the fields below to delete"}),e.jsxs("div",{className:"d-flex justify-content-around",children:[e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date In :"}),a.dateIn.length>0?e.jsxs("h6",{onDoubleClick:y,style:{cursor:"pointer"},children:[" ",a.dateIn]}):e.jsx(M_,{id:a._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date Out :"}),a.dateOut.length>0?e.jsxs("h6",{onDoubleClick:f,style:{cursor:"pointer"},children:[" ",a.dateOut]}):e.jsx(z_,{id:a._id})]})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex justify-content-evenly",children:[e.jsx("h6",{className:"d-flex align-items-center",children:"Cashier : "}),a.cashier.map(x=>e.jsx("h6",{className:"pt-1 prevent-select text-capitalize ",style:{cursor:"pointer"},onDoubleClick:()=>u(x),children:x},x)),a.cashier.length>=0&&a.cashier.length<1&&e.jsx(R_,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Accountant : "}),a.acountant.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>m(),children:a.acountant})}):e.jsx(I_,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Checked By : "}),a.checkedBy.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>j(),children:a.checkedBy})}):l&&l.role==="admin"&&e.jsx(P_,{id:a._id})]}),e.jsx("div",{className:"d-flex justify-content-center mt-5 ",children:!s&&e.jsx(F_,{id:a._id})})]})]})})}function K_({shiftId:t,fetchData:n,disableDeleteBtn:s,setDisableDeleteBtn:r}){const[a,i]=c.useState(!1),[o,l]=c.useState(!1),d=()=>i(!1),h=()=>i(!0),u=()=>{l(!0),T.delete(`${Dt}/${t}`).then(()=>{window.location.reload(),d()}).catch(m=>{console.error(m),d(),l(!1)}),setTimeout(()=>{n(),l(!1),d()},50)};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:()=>{h(),r(!0)},disabled:s,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:a,onHide:d,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:o,onClick:()=>{u()},children:"Yes"})]})]})]})}function q_(){const[t,n]=c.useState([]),[s,r]=c.useState(!1),a=()=>{T.get(`${Dt}/shifts`).then(h=>{n(h.data),r(!1)}).catch(h=>{console.log(h)})};c.useEffect(()=>{a()},[]);const i=()=>{const h={};t.forEach(m=>{const j=m.date?m.date.split("-")[1]:"undefined";h[j]||(h[j]=[]),h[j].push(m)});const u=Object.keys(h).sort((m,j)=>{var N,b;if(m==="undefined")return-1;if(j==="undefined")return 1;const y=(N=h[m][0])==null?void 0:N.date,f=(b=h[j][0])==null?void 0:b.date;if(!y||!f)return 0;const x=new Date(y);return new Date(f)-x});return u.forEach(m=>{h[m].sort((j,y)=>{const f=j.date?new Date(j.date).getTime():null,x=y.date?new Date(y.date).getTime():null;return!f&&!x?0:f?x?x-f:1:-1})}),{sortedMonths:u,groupedShifts:h}},{sortedMonths:o,groupedShifts:l}=i(),d=h=>{let u=0;return Object.keys(l).length>0&&(u=l[h].map(m=>m.cash.reduce((j,y)=>j+y,0)),u=u.reduce((m,j)=>m+j,0)),u.toLocaleString()};return e.jsxs(te,{children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(D,{variant:"outline-primary",onClick:a,className:"mb-3",children:"Refetch"})}),e.jsxs(ee,{bordered:!0,className:"text-center text-capitalize",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date In"}),e.jsx("th",{style:{width:"15%"},children:"Date Out"}),e.jsx("th",{style:{width:"15%"},children:"Checked By"}),e.jsx("th",{style:{width:"15%"},children:"Acountant"}),e.jsx("th",{children:"Cashier"}),e.jsx("th",{style:{width:"15%"},children:"Cash"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),o.map(h=>e.jsxs("tbody",{className:"table-group-divider",children:[l[h].map(u=>e.jsxs("tr",{children:[e.jsx("td",{children:u.dateIn}),e.jsx("td",{children:u.dateOut}),e.jsx("td",{children:u.checkedBy}),e.jsx("td",{children:u.acountant}),e.jsx("td",{className:"d-flex flex-row gap-1 justify-content-center",children:u.cashier.map(m=>e.jsxs("span",{className:"d-block ",children:[m," "]},m))}),e.jsxs("td",{children:["K",u.cash.reduce((m,j)=>m+j,0).toLocaleString()]}),e.jsx("td",{children:u.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Me,{to:`/shopa2/${u._id}`,style:{textDecoration:"none"},children:e.jsx(D,{variant:"outline-primary me-1",size:"sm",children:"V"})}),u.status==="current"&&e.jsx(K_,{shiftId:u._id,fetchData:a,disableDeleteBtn:s,setDisableDeleteBtn:r})]})]},u._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4}),e.jsx("th",{children:"Total"}),e.jsxs("th",{colSpan:1,children:["K",d(h)]}),e.jsx("td",{colSpan:2})]})]},h))]})]})}function U_(){const[t,n]=c.useState("stock"),{user:s}=c.useContext(he);c.useEffect(()=>{document.title="Yussman - Shop A2"},[]);const r=i=>{n(i)},a=()=>{const i=document.getElementById("searchInput");i&&i.focus()};return e.jsx(e.Fragment,{children:e.jsx(te,{fluid:!0,className:"py-3",children:e.jsxs(Ft,{activeKey:t,onSelect:r,id:"shopA1",className:"mb-3",justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsx(w_,{})}),e.jsx(X,{eventKey:"received",title:"Received",children:e.jsx(L_,{activeTab:t,onModalClose:a})}),e.jsx(X,{eventKey:"credit",title:"Cash / Credit",children:e.jsxs(Ne,{children:[e.jsx(Y,{children:e.jsx(__,{})}),e.jsx(Y,{children:e.jsx(O_,{})})]})}),e.jsx(X,{eventKey:"final",title:"Final",children:e.jsx(H_,{})}),s!==null&&s.role==="admin"&&e.jsx(X,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(q_,{})})]})})})}function G_({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(!1),[l,d]=c.useState(!1),h=()=>d(!1),u=()=>d(!0),m=()=>{s(""),a("")},j=y=>{y.preventDefault(),o(!0);const f={name:n.trim(),price:Number(r)};T.post(`${$t}/${t}/addtostock`,f).then(()=>{m(),h(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:u,children:"New Product"}),e.jsxs(g,{show:l,onHide:()=>{h(),m()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:y=>s(y.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:y=>a(y.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function Y_({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${$t}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex mx-2  justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}function W_({id:t,stock:n}){const[s,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState(!1);c.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[d,h]=c.useState(!1),u=()=>h(!1),m=()=>h(!0),j=()=>{r(""),i("")},y=f=>{f.preventDefault(),l(!0);const x={price:Number(s),name:a};T.post(`${$t}/${t}/editname/${n._id}`,x).then(()=>{j(),u(),l(!1)}).catch(S=>{console.error(S),l(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:m,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:d,onHide:()=>{u()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:y,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:"Submit"})]})})]})]})}const V_="deletestock";function Q_(){const[t,n]=c.useState(null),[s,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState(""),[d,h]=c.useState(!1),[u,m]=c.useState(1),j=70,y=c.useRef(null),{shopBShift:f}=c.useContext(Na),{user:x}=c.useContext(he),S=u*j,N=S-j;let b;Object.keys(f).length!==0&&(b=f.stock.slice(N,S)),c.useEffect(()=>{y.current&&(y.current.focus(),y.current.select())},[t]);const E=C=>{n(C);let w=f.stock.find(A=>A._id===C);r(w.ostock.toString()),i(w.damage.toString()),l(w.cstock.toString())},v=c.useRef(!0);c.useEffect(()=>{if(v.current){v.current=!1;return}t!==null&&y.current&&(y.current.focus(),y.current.select())},[t]);const k=(C,w)=>{if(C.preventDefault(),!w)return;h(!0);const A={ostock:Number(s),damage:Number(a),cstock:Number(o)};T.post(`${$t}/${f._id}/editstock/${w}`,A).then(()=>{n(null),r(""),i(""),l("");const H=f.stock.findIndex(I=>I._id===w)+1;if(H<S){const I=f.stock[H];n(I._id),r(I.ostock.toString()),i(I.damage.toString()),l(I.cstock.toString())}else H<f.stock.length&&(m(I=>I+1),setTimeout(()=>{const I=S,L=f.stock[I];n(L._id),r(L.ostock.toString()),i(L.damage.toString()),l(L.cstock.toString())},0));h(!1)}).catch(B=>{console.log(B),h(!1)})},$=()=>{n(null),r(""),i(""),l(""),h(!1)};return f===null?null:e.jsxs(e.Fragment,{children:[x!==null&&x.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(G_,{id:f._id})}),e.jsx(p,{onSubmit:C=>k(C,t),children:e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),e.jsx("th",{style:{width:"8rem"},children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:Object.keys(f).length!==0&&b.map(C=>e.jsxs("tr",{id:C.code,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsxs("td",{children:["K",C.price>0&&C.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:t===C._id?e.jsx(p.Control,{type:"number",size:"sm",readOnly:x.role!=="admin",value:s,className:"text-center",onChange:w=>r(w.target.value)}):C.ostock}),e.jsx("td",{className:C.received>0?"text-info":"",children:C.received}),e.jsx("td",{style:{width:"8rem"},className:C.damage>0?"text-primary":"",children:t===C._id?e.jsx(p.Control,{type:"number",size:"sm",value:a,className:"text-center",onChange:w=>i(w.target.value)}):C.damage}),e.jsx("td",{style:{width:"8rem"},className:C.cstock<0?"text-danger":"",children:t===C._id?e.jsx(p.Control,{ref:y,type:"number",size:"sm",autoFocus:!0,value:o,className:"text-center",onChange:w=>l(w.target.value)}):C.cstock}),e.jsxs("td",{className:C.ostock+C.received-C.damage-C.cstock<0?"text-danger":C.ostock+C.received-C.damage-C.cstock===0?"text-muted":"",children:["K",C.code>0&&((C.ostock+C.received-C.damage-C.cstock)*C.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:t===C._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(D,{size:"sm",disabled:d,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(D,{size:"sm",variant:"outline-danger",onClick:()=>$(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"sm",variant:"outline-secondary",onClick:()=>E(C._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),x!==null&&x.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Y_,{endpoint:V_,id:C._id,shiftId:f._id}),e.jsx(W_,{stock:C,id:f._id})]})]})})]},C.code))})]})}),Object.keys(f).length!==0&&e.jsx(Hn,{className:"justify-content-center",children:Array.from({length:Math.ceil(f.stock.length/j)},(C,w)=>e.jsx(Hn.Item,{active:w+1===u,onClick:()=>m(w+1),children:w+1},w+1))})]})}function J_({show:t,handleClose:n,result:s,id:r}){const[a,i]=c.useState({code:"",name:"",amount:""}),[o,l]=c.useState(!1);c.useEffect(()=>{s&&i({code:s.code,name:s.name,amount:""})},[s]);const d=j=>{const{name:y,value:f}=j.target;i(x=>({...x,[y]:f}))},u=X_(()=>{o||(l(!0),T.post(`${$t}/${r}/addtoreceived`,a).then(()=>{n(),l(!1)}).catch(j=>{console.log(j),l(!1)}))},200),m=j=>{j.preventDefault(),u()};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:n,disabled:!0,children:"New"}),e.jsxs(g,{show:t,onHide:n,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Received"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:m,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Code"}),e.jsx(p.Control,{type:"number",autoComplete:"off",name:"code",value:a.code,onChange:d,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",name:"name",value:a.name,onChange:d,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Quantity"}),e.jsx(p.Control,{autoFocus:!0,type:"number",autoComplete:"off",name:"amount",value:a.amount,onChange:d,required:!0})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:"Submit"})]})})]})]})}function X_(t,n){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{t(...r)},n)}}function b0({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${$t}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}const Z_="deletereceived";function eR({activeTab:t}){const[n,s]=c.useState([]),[r,a]=c.useState([]),[i,o]=c.useState([]),[l,d]=c.useState(!1),[h,u]=c.useState(null),[m,j]=c.useState(""),[y,f]=c.useState(!1),[x,S]=c.useState(-1),{shopBShift:N}=c.useContext(Na);c.useEffect(()=>{Object.keys(N).length!==0&&(s(N.received),a(N.stock),o(N.stock),f(!0))},[N]),c.useEffect(()=>{const C=w=>{const A=document.getElementById("searchInput"),B=document.getElementById("resultsList");A&&B&&!A.contains(w.target)&&!B.contains(w.target)&&d(!1)};return document.addEventListener("click",C),()=>{document.removeEventListener("click",C)}},[]);const b=C=>{const w=C.target.value.toLowerCase(),A=r.filter(B=>B.name.toLowerCase().includes(w)||B.code.toString().includes(w));o(A),d(!0),d(!!w)},E=C=>{C.key==="ArrowDown"&&x<i.length-1?S(x+1):C.key==="ArrowUp"&&x>0?S(x-1):C.key==="Enter"&&x>=0&&(C.preventDefault(),v(i[x]))},v=C=>{u(C),d(!1),S(-1)},k=()=>{u(null),j(""),f(!0)},$=c.useCallback(()=>{const C=document.getElementById("searchInput");t==="received"&&C&&C.focus(),y&&t==="received"&&C&&(C.focus(),f(!1))},[t,y]);return c.useEffect(()=>{$()},[t,$]),c.useEffect(()=>{$()},[t,y,$]),e.jsxs(te,{children:[e.jsx("div",{className:"w-50",children:e.jsxs(p,{onSubmit:C=>C.preventDefault(),children:[e.jsxs(Ja,{className:"mb-3",children:[e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,placeholder:"Code",name:"search",id:"searchInput",onChange:C=>{b(C),j(C.target.value)},onKeyDown:E,value:m}),e.jsx(J_,{show:h!==null,result:h,handleClose:k,id:N._id})]}),l&&e.jsx("ul",{id:"resultsList",className:"list-group",style:{position:"absolute",zIndex:1,width:"50%",cursor:"pointer"},children:i.map((C,w)=>e.jsxs("li",{className:`list-group-item text-capitalize ${w===x?"active":""}`,onClick:()=>v(C),children:[C.code," - ",C.name]},C.code))})]})}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:n.map(C=>e.jsxs("tr",{id:C._id,children:[e.jsx("td",{children:C.code}),e.jsx("td",{className:"text-capitalize",children:C.name}),e.jsx("td",{children:C.amount}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(b0,{endpoint:Z_,id:C._id,shiftId:N._id})})]},C._id))})]})]})}function tR({shift:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(!1),h=()=>s(!1),u=()=>s(!0),m=async j=>{j.preventDefault(),d(!0),await T.post(`${$t}/${t._id}/addtocredit`,{description:r,amount:i}).then(()=>{a(""),o(""),h(),d(!1)}).catch(y=>{console.log(y),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",size:"sm",onClick:u,children:"New"}),e.jsxs(g,{show:n,onHide:()=>{h(),a(""),o("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Credit"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j=>m(j),children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Description"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:j=>o(j.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:l,children:"Submit"})]})})]})]})}const nR="deletecredit";function sR(){const[t,n]=c.useState([]),{shopBShift:s}=c.useContext(Na);return c.useEffect(()=>{Object.keys(s).length!==0&&n(s.credit)},[s]),e.jsxs(te,{children:[e.jsxs("div",{className:"d-flex justify-content-between py-2",children:[e.jsx("h6",{children:"Credit"}),e.jsx(tR,{shift:s})]}),e.jsxs(ee,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(r=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:r.description}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(b0,{endpoint:nR,id:r._id,shiftId:s._id})})]},Math.floor(Math.random()*1e5)))})]})]})}function rR({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${$t}/${t}/addtocash`,{amount:n}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:d,size:"sm",children:"New"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function aR({endpoint:t,id:n,amount:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${$t}/${n}/${t}/${s}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}const iR="deletecash";function oR(){const[t,n]=c.useState([]),{shopBShift:s}=c.useContext(Na);return c.useEffect(()=>{Object.keys(s).length!==0&&n(s.cash)},[s]),e.jsx(te,{children:e.jsx(Ne,{children:e.jsxs(Y,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Cash"}),e.jsxs("h5",{children:["Total: K ",t.reduce((r,a)=>r+a,0).toLocaleString()]}),e.jsx(rR,{id:s._id})]}),e.jsx(Fn,{children:e.jsx(et,{variant:"flush",children:t.map(r=>e.jsxs(et.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",r.toLocaleString(),e.jsx(aR,{endpoint:iR,id:s._id,amount:r})]},Math.floor(Math.random()*1e5)))})})]})})})}function lR({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${$t}/${t}/addcashier`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function cR({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${$t}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function dR({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${$t}/${t}/addcheckedby`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Chcke By"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function uR(){const[t,n]=c.useState(!1),[s,r]=c.useState(!1),a=()=>n(!1),i=()=>n(!0),o=l=>{l.preventDefault(),r(!0),T.post(`${$t}/newshift`).then(()=>{r(!1),a()}).catch(d=>{console.log(d),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(D,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(D,{variant:"primary",type:"submit",onClick:o,disabled:s,children:"Yes"})]})]})]})}function hR({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${$t}/${t}/adddatein`,{date:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:"Submit"})]})})]})]})}function fR({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${$t}/${t}/adddateout`,{date:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:"Submit"})]})})]})]})}function mR(){const[t,n]=c.useState([]),[s,r]=c.useState(!0),[a,i]=c.useState({}),{shopBShift:o}=c.useContext(Na),{user:l}=c.useContext(he);c.useEffect(()=>{i(o)},[o]);let d=0;if(Object.keys(a).length>0){const x=S=>(S.ostock+S.received-S.damage-S.cstock)*S.price;d=a.stock.reduce((S,N)=>S+x(N),0)}const h=c.useCallback(()=>{if(Object.keys(a).length>0){const x=a.cashier.length,S=a.acountant.length,N=a.dateIn.length,b=a.dateOut.length,E=a.checkedBy.length;x>0&&S>0&&N>0&&b>0&&E>0?r(!1):r(!0)}},[a]);c.useEffect(()=>{Object.keys(a).length>0&&n(a.cash.reduce((x,S)=>x+S,0)+a.credit.reduce((x,S)=>x+S.amount,0)-d),h()},[a,d,h]);const u=x=>{T.post(`${$t}/${a._id}/removecashier`,{name:x.toLowerCase()}).then(()=>{h()})},m=()=>{T.post(`${$t}/${a._id}/removeaccountant`).then(()=>{h()})},j=()=>{T.post(`${$t}/${a._id}/removecheckedby`).then(()=>{h()})},y=()=>{T.post(`${$t}/${a._id}/deletedatein`).then(()=>{h()})},f=()=>{T.post(`${$t}/${a._id}/deletedateout`).then(()=>{h()})};return Object.keys(a).length===0?null:e.jsx(te,{children:Object.keys(a).length!==0&&e.jsxs(Ne,{className:"mx-1",children:[e.jsxs(Y,{className:"d-flex flex-column align-items-center border pt-3 me-1 ",children:[e.jsxs("p",{children:["Cash : K",a.cash.reduce((x,S)=>x+S,0).toLocaleString()]}),e.jsxs("p",{children:["Credit: K",a.credit.reduce((x,S)=>x+S.amount,0).toLocaleString()]}),l!==null&&l.role==="admin"&&e.jsxs("p",{children:["Sales Total : K",d.toLocaleString()]}),l&&l.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:" w-100 "}),e.jsxs("p",{className:"display-6",children:["Result : K",e.jsx("span",{className:t<0?"text-danger":"",children:t.toLocaleString()})]})]})]}),e.jsxs(Y,{className:"border py-3 ms-1 ",children:[e.jsx("p",{className:"text-center text-muted ",children:"Double click on any of the fields below to delete"}),e.jsxs("div",{className:"d-flex justify-content-around",children:[e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date In :"}),a.dateIn.length>0?e.jsxs("h6",{onDoubleClick:y,style:{cursor:"pointer"},children:[" ",a.dateIn]}):e.jsx(hR,{id:a._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date Out :"}),a.dateOut.length>0?e.jsxs("h6",{onDoubleClick:f,style:{cursor:"pointer"},children:[" ",a.dateOut]}):e.jsx(fR,{id:a._id})]})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex justify-content-evenly",children:[e.jsx("h6",{className:"d-flex align-items-center",children:"Cashier : "}),a.cashier.map(x=>e.jsx("h6",{className:"pt-1 prevent-select text-capitalize ",style:{cursor:"pointer"},onDoubleClick:()=>u(x),children:x},x)),a.cashier.length>=0&&a.cashier.length<1&&e.jsx(lR,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Accountant : "}),a.acountant.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>m(),children:a.acountant})}):e.jsx(cR,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Checked By : "}),a.checkedBy.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>j(),children:a.checkedBy})}):l&&l.role==="admin"&&e.jsx(dR,{id:a._id})]}),e.jsx("div",{className:"d-flex justify-content-center mt-5 ",children:!s&&e.jsx(uR,{id:a._id})})]})]})})}function pR({shiftId:t,fetchData:n,disableDeleteBtn:s,setDisableDeleteBtn:r}){const[a,i]=c.useState(!1),[o,l]=c.useState(!1),d=()=>i(!1),h=()=>i(!0),u=()=>{l(!0),T.delete(`${$t}/${t}`).then(()=>{window.location.reload(),d()}).catch(m=>{console.error(m),l(!1),d()}),setTimeout(()=>{n(),l(!1),d()},50)};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:()=>{h(),r(!0)},disabled:s,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:a,onHide:d,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:o,onClick:()=>{u()},children:"Yes"})]})]})]})}function xR(){const[t,n]=c.useState([]),[s,r]=c.useState(!1),a=()=>{T.get(`${$t}/shifts`).then(h=>{n(h.data),r(!1)}).catch(h=>{console.log(h)})};c.useEffect(()=>{a()},[]);const i=()=>{const h={};t.forEach(m=>{const j=m.date?m.date.split("-")[1]:"undefined";h[j]||(h[j]=[]),h[j].push(m)});const u=Object.keys(h).sort((m,j)=>{var N,b;if(m==="undefined")return-1;if(j==="undefined")return 1;const y=(N=h[m][0])==null?void 0:N.date,f=(b=h[j][0])==null?void 0:b.date;if(!y||!f)return 0;const x=new Date(y);return new Date(f)-x});return u.forEach(m=>{h[m].sort((j,y)=>{const f=j.date?new Date(j.date).getTime():null,x=y.date?new Date(y.date).getTime():null;return!f&&!x?0:f?x?x-f:1:-1})}),{sortedMonths:u,groupedShifts:h}},{sortedMonths:o,groupedShifts:l}=i(),d=h=>{let u=0;return Object.keys(l).length>0&&(u=l[h].map(m=>m.cash.reduce((j,y)=>j+y,0)),u=u.reduce((m,j)=>m+j,0)),u.toLocaleString()};return e.jsxs(te,{children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(D,{variant:"outline-primary",onClick:a,className:"mb-3",children:"Refetch"})}),e.jsxs(ee,{bordered:!0,className:"text-center text-capitalize",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date In"}),e.jsx("th",{style:{width:"15%"},children:"Date Out"}),e.jsx("th",{style:{width:"15%"},children:"Checked By"}),e.jsx("th",{style:{width:"15%"},children:"Acountant"}),e.jsx("th",{children:"Cashier"}),e.jsx("th",{style:{width:"15%"},children:"Cash"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),o.map(h=>e.jsxs("tbody",{className:"table-group-divider",children:[l[h].map(u=>e.jsxs("tr",{children:[e.jsx("td",{children:u.dateIn}),e.jsx("td",{children:u.dateOut}),e.jsx("td",{children:u.checkedBy}),e.jsx("td",{children:u.acountant}),e.jsx("td",{className:"d-flex flex-row gap-1 justify-content-center",children:u.cashier.map(m=>e.jsxs("span",{className:"d-block ",children:[m," "]},m))}),e.jsxs("td",{children:["K",u.cash.reduce((m,j)=>m+j,0).toLocaleString()]}),e.jsx("td",{children:u.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Me,{to:`/shopb/${u._id}`,style:{textDecoration:"none"},children:e.jsx(D,{variant:"outline-primary me-1",size:"sm",children:"V"})}),u.status==="current"&&e.jsx(pR,{shiftId:u._id,fetchData:a,disableDeleteBtn:s,setDisableDeleteBtn:r})]})]},u._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4}),e.jsx("th",{children:"Total"}),e.jsxs("th",{colSpan:1,children:["K",d(h)]}),e.jsx("td",{colSpan:2})]})]},h))]})]})}function jR(){const[t,n]=c.useState("stock"),{user:s}=c.useContext(he);c.useEffect(()=>{document.title="Yussman - Shop B"},[]);const r=i=>{n(i)},a=()=>{const i=document.getElementById("searchInput");i&&i.focus()};return e.jsx(e.Fragment,{children:e.jsx(te,{fluid:!0,className:"py-3",children:e.jsxs(Ft,{activeKey:t,onSelect:r,id:"shopB",className:"mb-3",justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsx(Q_,{})}),e.jsx(X,{eventKey:"received",title:"Received",children:e.jsx(eR,{activeTab:t,onModalClose:a})}),e.jsx(X,{eventKey:"credit",title:"Cash / Credit",children:e.jsxs(Ne,{children:[e.jsx(Y,{children:e.jsx(oR,{})}),e.jsx(Y,{children:e.jsx(sR,{})})]})}),e.jsx(X,{eventKey:"final",title:"Final",children:e.jsx(mR,{})}),s!==null&&s.role==="admin"&&e.jsx(X,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(xR,{})})]})})})}function gR({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(!1),[l,d]=c.useState(!1),h=()=>d(!1),u=()=>d(!0),m=()=>{s(""),a("")},j=y=>{y.preventDefault(),o(!0);const f={name:n.trim(),price:Number(r)};T.post(`${Rt}/${t}/addtostock`,f).then(()=>{m(),h(),o(!1)}).catch(x=>{console.log(x),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:u,children:"New Product"}),e.jsxs(g,{show:l,onHide:()=>{h(),m()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:y=>s(y.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:y=>a(y.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function yR({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Rt}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex mx-2  justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}function vR({id:t,stock:n}){const[s,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState(!1);c.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[d,h]=c.useState(!1),u=()=>h(!1),m=()=>h(!0),j=()=>{r(""),i("")},y=f=>{f.preventDefault(),l(!0);const x={price:Number(s),name:a};T.post(`${Rt}/${t}/editname/${n._id}`,x).then(()=>{j(),u(),l(!1)}).catch(S=>{console.error(S),l(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:m,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:d,onHide:()=>{u()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:y,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:"Submit"})]})})]})]})}const ao=c.createContext(),SR=(t,n)=>{switch(n.type){case"SET_SHIFT":return{shift:n.payload};default:return t}},bR=({children:t})=>{const[n,s]=c.useReducer(SR,{shift:null}),[r,a]=c.useState({});c.useEffect(()=>{T.get(Rt).then(o=>{i(o.data)})},[]),c.useEffect(()=>{En(mt).on("shopc",l=>{s({type:"SET_SHIFT",payload:l})})},[]);const i=o=>{if(o!==null){const l={};o.received&&Array.isArray(o.received)&&o.received.forEach(h=>{const u=h.code,m=h.amount;l[u]===void 0?l[u]=m:l[u]+=m});const d={...o,stock:o.stock.map(h=>{const u=h.code;return l[u]!==void 0?{...h,received:l[u]}:h})};d.stock.sort((h,u)=>h.name.localeCompare(u.name)),a(d)}};return c.useEffect(()=>{i(n.shift)},[n.shift]),e.jsx(ao.Provider,{value:{shopCShift:r,dispatch:s},children:t})},CR="deletestock";function wR(){const[t,n]=c.useState(null),[s,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState(""),[d,h]=c.useState(!1),[u,m]=c.useState(1),j=80,y=c.useRef(null),{shopCShift:f}=c.useContext(ao),{user:x}=c.useContext(he),S=u*j,N=S-j;let b;Object.keys(f).length!==0&&(b=f.stock.slice(N,S)),c.useEffect(()=>{y.current&&(y.current.focus(),y.current.select())},[t]);const E=$=>{n($);let C=f.stock.find(w=>w._id===$);r(C.ostock.toString()),i(C.damage.toString()),l(C.cstock.toString())},v=($,C)=>{if($.preventDefault(),!C)return;h(!0);const w={ostock:Number(s),damage:Number(a),cstock:Number(o)};T.post(`${Rt}/${f._id}/editstock/${C}`,w).then(()=>{n(null),r(""),i(""),l(""),h(!1)}).catch(A=>{console.log(A),h(!1)})},k=()=>{n(null),r(""),i(""),l(""),h(!1)};return f===null?null:e.jsxs(e.Fragment,{children:[x!==null&&x.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(gR,{id:f._id})}),e.jsx(p,{onSubmit:$=>v($,t),children:e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),e.jsx("th",{style:{width:"8rem"},children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:Object.keys(f).length!==0&&b.map($=>e.jsxs("tr",{id:$.code,children:[e.jsx("td",{children:$.code}),e.jsx("td",{className:"text-capitalize",children:$.name}),e.jsxs("td",{children:["K",$.price>0&&$.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:t===$._id?e.jsx(p.Control,{type:"number",size:"sm",readOnly:x.role!=="admin",value:s,className:"text-center",onChange:C=>r(C.target.value)}):$.ostock}),e.jsx("td",{className:$.received>0?"text-info":"",children:$.received}),e.jsx("td",{style:{width:"8rem"},className:$.damage>0?"text-primary":"",children:t===$._id?e.jsx(p.Control,{type:"number",size:"sm",value:a,className:"text-center",onChange:C=>i(C.target.value)}):$.damage}),e.jsx("td",{style:{width:"8rem"},className:$.cstock<0?"text-danger":"",children:t===$._id?e.jsx(p.Control,{ref:y,type:"number",size:"sm",autoFocus:!0,value:o,className:"text-center",onChange:C=>l(C.target.value)}):$.cstock}),e.jsxs("td",{className:$.ostock+$.received-$.damage-$.cstock<0?"text-danger":$.ostock+$.received-$.damage-$.cstock===0?"text-muted":"",children:["K",$.code>0&&(($.ostock+$.received-$.damage-$.cstock)*$.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:t===$._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(D,{size:"sm",disabled:d,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(D,{size:"sm",variant:"outline-danger",onClick:()=>k(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"sm",variant:"outline-secondary",onClick:()=>E($._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),x!==null&&x.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(yR,{endpoint:CR,id:$._id,shiftId:f._id}),e.jsx(vR,{stock:$,id:f._id})]})]})})]},$.code))})]})}),Object.keys(f).length!==0&&e.jsx(Hn,{className:"justify-content-center",children:Array.from({length:Math.ceil(f.stock.length/j)},($,C)=>e.jsx(Hn.Item,{active:C+1===u,onClick:()=>m(C+1),children:C+1},C+1))})]})}function NR({show:t,handleClose:n,result:s,id:r}){const[a,i]=c.useState({code:"",name:"",amount:""}),[o,l]=c.useState(!1);c.useEffect(()=>{s&&i({code:s.code,name:s.name,amount:""})},[s]);const d=j=>{const{name:y,value:f}=j.target;i(x=>({...x,[y]:f}))},u=kR(()=>{o||(l(!0),T.post(`${Rt}/${r}/addtoreceived`,a).then(()=>{n(),l(!1)}).catch(j=>{console.log(j),l(!1)}))},200),m=j=>{j.preventDefault(),u()};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:n,disabled:!0,children:"New"}),e.jsxs(g,{show:t,onHide:n,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Received"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:m,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Code"}),e.jsx(p.Control,{type:"number",autoComplete:"off",name:"code",value:a.code,onChange:d,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",name:"name",value:a.name,onChange:d,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Quantity"}),e.jsx(p.Control,{autoFocus:!0,type:"number",autoComplete:"off",name:"amount",value:a.amount,onChange:d,required:!0})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:"Submit"})]})})]})]})}function kR(t,n){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{t(...r)},n)}}function C0({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Rt}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}const ER="deletereceived";function LR({activeTab:t}){const[n,s]=c.useState([]),[r,a]=c.useState([]),[i,o]=c.useState([]),[l,d]=c.useState(!1),[h,u]=c.useState(null),[m,j]=c.useState(""),[y,f]=c.useState(!1),{shopCShift:x}=c.useContext(ao);c.useEffect(()=>{Object.keys(x).length!==0&&(s(x.received),a(x.stock),o(x.stock),f(!0))},[x]),c.useEffect(()=>{const v=k=>{const $=document.getElementById("searchInput"),C=document.getElementById("resultsList");$&&C&&!$.contains(k.target)&&!C.contains(k.target)&&d(!1)};return document.addEventListener("click",v),()=>{document.removeEventListener("click",v)}},[]);const S=v=>{const k=v.target.value.toLowerCase(),$=r.filter(C=>C.name.toLowerCase().includes(k)||C.code.toString().includes(k));o($),d(!0),d(!!k)},N=v=>{u(v),d(!1)},b=()=>{u(null),j(""),f(!0)},E=c.useCallback(()=>{const v=document.getElementById("searchInput");t==="received"&&v&&v.focus(),y&&t==="received"&&v&&(v.focus(),f(!1))},[t,y]);return c.useEffect(()=>{E()},[t,E]),c.useEffect(()=>{E()},[t,y,E]),e.jsxs(te,{children:[e.jsx("div",{className:"w-50",children:e.jsxs(p,{onSubmit:v=>v.preventDefault(),children:[e.jsxs(Ja,{className:"mb-3",children:[e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,placeholder:"Code",name:"search",id:"searchInput",onChange:v=>{S(v),j(v.target.value)},value:m}),e.jsx(NR,{show:h!==null,result:h,handleClose:b,id:x._id})]}),l&&e.jsx("ul",{id:"resultsList",className:"list-group",style:{position:"absolute",zIndex:1,width:"50%",cursor:"pointer"},children:i.map(v=>e.jsxs("li",{className:"list-group-item text-capitalize",onClick:()=>N(v),children:[v.code," - ",v.name]},v.code))})]})}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:n.map(v=>e.jsxs("tr",{id:v._id,children:[e.jsx("td",{children:v.code}),e.jsx("td",{className:"text-capitalize",children:v.name}),e.jsx("td",{children:v.amount}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(C0,{endpoint:ER,id:v._id,shiftId:x._id})})]},v._id))})]})]})}function DR({shift:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(!1),h=()=>s(!1),u=()=>s(!0),m=async j=>{j.preventDefault(),d(!0),await T.post(`${Rt}/${t._id}/addtocredit`,{description:r,amount:i}).then(()=>{a(""),o(""),h(),d(!1)}).catch(y=>{console.log(y),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",size:"sm",onClick:u,children:"New"}),e.jsxs(g,{show:n,onHide:()=>{h(),a(""),o("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Credit"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j=>m(j),children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Description"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:j=>o(j.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:l,children:"Submit"})]})})]})]})}const $R="deletecredit";function OR(){const[t,n]=c.useState([]),{shopCShift:s}=c.useContext(ao);return c.useEffect(()=>{Object.keys(s).length!==0&&n(s.credit)},[s]),e.jsxs(te,{children:[e.jsxs("div",{className:"d-flex justify-content-between py-2",children:[e.jsx("h6",{children:"Credit"}),e.jsx(DR,{shift:s})]}),e.jsxs(ee,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(r=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:r.description}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(C0,{endpoint:$R,id:r._id,shiftId:s._id})})]},Math.floor(Math.random()*1e5)))})]})]})}function TR({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Rt}/${t}/addtocash`,{amount:n}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:d,size:"sm",children:"New"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function AR({endpoint:t,id:n,amount:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Rt}/${n}/${t}/${s}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}const BR="deletecash";function _R(){const[t,n]=c.useState([]),{shopCShift:s}=c.useContext(ao);return c.useEffect(()=>{Object.keys(s).length!==0&&n(s.cash)},[s]),e.jsx(te,{children:e.jsx(Ne,{children:e.jsxs(Y,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Cash"}),e.jsxs("h5",{children:["Total: K ",t.reduce((r,a)=>r+a,0).toLocaleString()]}),e.jsx(TR,{id:s._id})]}),e.jsx(Fn,{children:e.jsx(et,{variant:"flush",children:t.map(r=>e.jsxs(et.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",r.toLocaleString(),e.jsx(AR,{endpoint:BR,id:s._id,amount:r})]},Math.floor(Math.random()*1e5)))})})]})})})}function RR({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Rt}/${t}/addcashier`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function IR({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Rt}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function PR({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Rt}/${t}/addcheckedby`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Chcke By"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function FR(){const[t,n]=c.useState(!1),[s,r]=c.useState(!1),a=()=>n(!1),i=()=>n(!0),o=l=>{l.preventDefault(),r(!0),T.post(`${Rt}/newshift`).then(()=>{r(!1),a()}).catch(d=>{console.log(d),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(D,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(D,{variant:"primary",type:"submit",onClick:o,disabled:s,children:"Yes"})]})]})]})}function MR({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${Rt}/${t}/adddatein`,{date:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:"Submit"})]})})]})]})}function zR({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${Rt}/${t}/adddateout`,{date:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:"Submit"})]})})]})]})}function HR(){const[t,n]=c.useState([]),[s,r]=c.useState(!0),[a,i]=c.useState({}),{shopCShift:o}=c.useContext(ao),{user:l}=c.useContext(he);c.useEffect(()=>{i(o)},[o]);let d=0;if(Object.keys(a).length>0){const x=S=>(S.ostock+S.received-S.damage-S.cstock)*S.price;d=a.stock.reduce((S,N)=>S+x(N),0)}const h=c.useCallback(()=>{if(Object.keys(a).length>0){const x=a.cashier.length,S=a.acountant.length,N=a.dateIn.length,b=a.dateOut.length,E=a.checkedBy.length;x>0&&S>0&&N>0&&b>0&&E>0?r(!1):r(!0)}},[a]);c.useEffect(()=>{Object.keys(a).length>0&&n(a.cash.reduce((x,S)=>x+S,0)+a.credit.reduce((x,S)=>x+S.amount,0)-d),h()},[a,d,h]);const u=x=>{T.post(`${Rt}/${a._id}/removecashier`,{name:x.toLowerCase()}).then(()=>{h()})},m=()=>{T.post(`${Rt}/${a._id}/removeaccountant`).then(()=>{h()})},j=()=>{T.post(`${Rt}/${a._id}/removecheckedby`).then(()=>{h()})},y=()=>{T.post(`${Rt}/${a._id}/deletedatein`).then(()=>{h()})},f=()=>{T.post(`${Rt}/${a._id}/deletedateout`).then(()=>{h()})};return Object.keys(a).length===0?null:e.jsx(te,{children:Object.keys(a).length!==0&&e.jsxs(Ne,{className:"mx-1",children:[e.jsxs(Y,{className:"d-flex flex-column align-items-center border pt-3 me-1 ",children:[e.jsxs("p",{children:["Cash : K",a.cash.reduce((x,S)=>x+S,0).toLocaleString()]}),e.jsxs("p",{children:["Credit: K",a.credit.reduce((x,S)=>x+S.amount,0).toLocaleString()]}),l!==null&&l.role==="admin"&&e.jsxs("p",{children:["Sales Total : K",d.toLocaleString()]}),l&&l.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:" w-100 "}),e.jsxs("p",{className:"display-6",children:["Result : K",e.jsx("span",{className:t<0?"text-danger":"",children:t.toLocaleString()})]})]})]}),e.jsxs(Y,{className:"border py-3 ms-1 ",children:[e.jsx("p",{className:"text-center text-muted ",children:"Double click on any of the fields below to delete"}),e.jsxs("div",{className:"d-flex justify-content-around",children:[e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date In :"}),a.dateIn.length>0?e.jsxs("h6",{onDoubleClick:y,style:{cursor:"pointer"},children:[" ",a.dateIn]}):e.jsx(MR,{id:a._id})]}),e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date Out :"}),a.dateOut.length>0?e.jsxs("h6",{onDoubleClick:f,style:{cursor:"pointer"},children:[" ",a.dateOut]}):e.jsx(zR,{id:a._id})]})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex justify-content-evenly",children:[e.jsx("h6",{className:"d-flex align-items-center",children:"Cashier : "}),a.cashier.map(x=>e.jsx("h6",{className:"pt-1 prevent-select text-capitalize ",style:{cursor:"pointer"},onDoubleClick:()=>u(x),children:x},x)),a.cashier.length>=0&&a.cashier.length<1&&e.jsx(RR,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Accountant : "}),a.acountant.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>m(),children:a.acountant})}):e.jsx(IR,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Checked By : "}),a.checkedBy.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>j(),children:a.checkedBy})}):l&&l.role==="admin"&&e.jsx(PR,{id:a._id})]}),e.jsx("div",{className:"d-flex justify-content-center mt-5 ",children:!s&&e.jsx(FR,{id:a._id})})]})]})})}function KR({shiftId:t,fetchData:n,disableDeleteBtn:s,setDisableDeleteBtn:r}){const[a,i]=c.useState(!1),[o,l]=c.useState(!1),d=()=>i(!1),h=()=>i(!0),u=()=>{l(!0),T.delete(`${Rt}/${t}`).then(()=>{window.location.reload(),d()}).catch(m=>{console.error(m),l(!1),d()}),setTimeout(()=>{n(),l(!1),d()},50)};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:()=>{h(),r(!0)},disabled:s,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:a,onHide:d,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:o,onClick:()=>{u()},children:"Yes"})]})]})]})}function qR(){const[t,n]=c.useState([]),[s,r]=c.useState(!1),a=()=>{T.get(`${Rt}/shifts`).then(h=>{n(h.data),r(!1)}).catch(h=>{console.log(h)})};c.useEffect(()=>{a()},[]);const i=()=>{const h={};t.forEach(m=>{const j=m.date?m.date.split("-")[1]:"undefined";h[j]||(h[j]=[]),h[j].push(m)});const u=Object.keys(h).sort((m,j)=>{var N,b;if(m==="undefined")return-1;if(j==="undefined")return 1;const y=(N=h[m][0])==null?void 0:N.date,f=(b=h[j][0])==null?void 0:b.date;if(!y||!f)return 0;const x=new Date(y);return new Date(f)-x});return u.forEach(m=>{h[m].sort((j,y)=>{const f=j.date?new Date(j.date).getTime():null,x=y.date?new Date(y.date).getTime():null;return!f&&!x?0:f?x?x-f:1:-1})}),{sortedMonths:u,groupedShifts:h}},{sortedMonths:o,groupedShifts:l}=i(),d=h=>{let u=0;return Object.keys(l).length>0&&(u=l[h].map(m=>m.cash.reduce((j,y)=>j+y,0)),u=u.reduce((m,j)=>m+j,0)),u.toLocaleString()};return e.jsxs(te,{children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(D,{variant:"outline-primary",onClick:a,className:"mb-3",children:"Refetch"})}),e.jsxs(ee,{bordered:!0,className:"text-center text-capitalize",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date In"}),e.jsx("th",{style:{width:"15%"},children:"Date Out"}),e.jsx("th",{style:{width:"15%"},children:"Checked By"}),e.jsx("th",{style:{width:"15%"},children:"Acountant"}),e.jsx("th",{children:"Cashier"}),e.jsx("th",{style:{width:"15%"},children:"Cash"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),o.map(h=>e.jsxs("tbody",{className:"table-group-divider",children:[l[h].map(u=>e.jsxs("tr",{children:[e.jsx("td",{children:u.dateIn}),e.jsx("td",{children:u.dateOut}),e.jsx("td",{children:u.checkedBy}),e.jsx("td",{children:u.acountant}),e.jsx("td",{className:"d-flex flex-row gap-1 justify-content-center",children:u.cashier.map(m=>e.jsxs("span",{className:"d-block ",children:[m," "]},m))}),e.jsxs("td",{children:["K",u.cash.reduce((m,j)=>m+j,0).toLocaleString()]}),e.jsx("td",{children:u.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Me,{to:`/shopc/${u._id}`,style:{textDecoration:"none"},children:e.jsx(D,{variant:"outline-primary me-1",size:"sm",children:"V"})}),u.status==="current"&&e.jsx(KR,{shiftId:u._id,fetchData:a,disableDeleteBtn:s,setDisableDeleteBtn:r})]})]},u._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4}),e.jsx("th",{children:"Total"}),e.jsxs("th",{colSpan:1,children:["K",d(h)]}),e.jsx("td",{colSpan:2})]})]},h))]})]})}function UR(){const[t,n]=c.useState("stock"),{user:s}=c.useContext(he);c.useEffect(()=>{document.title="Yussman - Shop C"},[]);const r=i=>{n(i)},a=()=>{const i=document.getElementById("searchInput");i&&i.focus()};return e.jsx(e.Fragment,{children:e.jsx(te,{fluid:!0,className:"py-3",children:e.jsxs(Ft,{activeKey:t,onSelect:r,id:"shopC",className:"mb-3",justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsx(wR,{})}),e.jsx(X,{eventKey:"received",title:"Received",children:e.jsx(LR,{activeTab:t,onModalClose:a})}),e.jsx(X,{eventKey:"credit",title:"Cash / Credit",children:e.jsxs(Ne,{children:[e.jsx(Y,{children:e.jsx(_R,{})}),e.jsx(Y,{children:e.jsx(OR,{})})]})}),e.jsx(X,{eventKey:"final",title:"Final",children:e.jsx(HR,{})}),s!==null&&s.role==="admin"&&e.jsx(X,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(qR,{})})]})})})}function GR({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(!1),[h,u]=c.useState(!1),m=()=>u(!1),j=()=>u(!0),y=()=>{s(""),a(""),o("")},f=x=>{x.preventDefault(),d(!0);const S={name:n.trim(),price:Number(r),section:i.toLowerCase()};T.post(`${Wt}/${t}/addtostock`,S).then(()=>{y(),m(),d(!1)}).catch(N=>{console.log(N),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:j,children:"New Product"}),e.jsxs(g,{show:h,onHide:()=>{m(),y()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Product"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:f,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:n,onChange:x=>s(x.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:x=>a(x.target.value)})]}),e.jsx(p.Label,{children:"Section"}),e.jsxs(p.Select,{className:"mb-3",required:!0,value:i,onChange:x=>o(x.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select section"}),e.jsx("option",{value:"wholesale",children:"Wholesale"}),e.jsx("option",{value:"retail",children:"Retail"})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:l,children:"Submit"})]})})]})]})}function Nj({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Wt}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex mx-2  justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}function kj({id:t,stock:n}){const[s,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState(!1);c.useEffect(()=>{Object.keys(n).length>0&&(r(n.price),i(n.name))},[n]);const[d,h]=c.useState(!1),u=()=>h(!1),m=()=>h(!0),j=()=>{r(""),i("")},y=f=>{f.preventDefault(),l(!0);const x={price:Number(s),name:a};T.post(`${Wt}/${t}/editname/${n._id}`,x).then(()=>{j(),u(),l(!1)}).catch(S=>{console.error(S),l(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:m,variant:"outline-info",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:d,onHide:()=>{u()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:y,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Price"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:s,onChange:f=>r(f.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:a,onChange:f=>i(f.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:"Submit"})]})})]})]})}const Ej="deletestock";function YR(){const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,i]=c.useState(null),[o,l]=c.useState(""),[d,h]=c.useState(""),[u,m]=c.useState(""),[j,y]=c.useState(!1),f=c.useRef(null),{shopWShift:x}=c.useContext(ti),{user:S}=c.useContext(he);c.useEffect(()=>{if(Object.keys(x).length!==0){const v=x.stock.filter($=>$.section==="wholesale"),k=x.stock.filter($=>$.section==="retail");n(v),r(k)}},[x]),c.useEffect(()=>{f.current&&(f.current.focus(),f.current.select())},[a]);const N=v=>{i(v);let k=x.stock.find($=>$._id===v);l(k.ostock.toString()),h(k.damage.toString()),m(k.cstock.toString())},b=(v,k)=>{if(v.preventDefault(),!k)return;y(!0);const $={ostock:Number(o),damage:Number(d),cstock:Number(u)};T.post(`${Wt}/${x._id}/editstock/${k}`,$).then(()=>{i(null),l(""),h(""),m(""),y(!1)}).catch(C=>{console.log(C),y(!1)})},E=()=>{i(null),l(""),h(""),m(""),y(!1)};return x===null?null:e.jsxs(p,{onSubmit:v=>b(v,a),children:[S!==null&&S.role==="admin"&&e.jsx("div",{className:"d-flex justify-content-center py-2",children:e.jsx(GR,{id:x._id})}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),e.jsx("th",{style:{width:"8rem"},children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:Object.keys(x).length!==0&&t.map(v=>e.jsxs("tr",{id:v.code,children:[e.jsx("td",{children:v.code}),e.jsx("td",{className:"text-capitalize",children:v.name}),e.jsxs("td",{children:["K",v.price>0&&v.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:a===v._id?e.jsx(p.Control,{type:"number",size:"sm",readOnly:S.role!=="admin",value:o,className:"text-center",onChange:k=>l(k.target.value)}):v.ostock}),e.jsx("td",{className:v.received>0?"text-info":"",children:v.received}),e.jsx("td",{style:{width:"8rem"},className:v.damage>0?"text-primary":"",children:a===v._id?e.jsx(p.Control,{type:"number",size:"sm",value:d,className:"text-center",onChange:k=>h(k.target.value)}):v.damage}),e.jsx("td",{style:{width:"8rem"},className:v.cstock<0?"text-danger":"",children:a===v._id?e.jsx(p.Control,{ref:f,type:"number",size:"sm",autoFocus:!0,value:u,className:"text-center",onChange:k=>m(k.target.value)}):v.cstock}),e.jsxs("td",{className:v.ostock+v.received-v.damage-v.cstock<0?"text-danger":v.ostock+v.received-v.damage-v.cstock===0?"text-muted":"",children:["K",v.code>0&&((v.ostock+v.received-v.damage-v.cstock)*v.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:a===v._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(D,{size:"sm",disabled:j,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(D,{size:"sm",variant:"outline-danger",onClick:()=>E(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"sm",variant:"outline-secondary",onClick:()=>N(v._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),S!==null&&S.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Nj,{endpoint:Ej,id:v._id,shiftId:x._id}),e.jsx(kj,{stock:v,id:x._id})]})]})})]},v.code))}),e.jsx("tbody",{className:"table-group-divider",children:Object.keys(x).length!==0&&s.map(v=>e.jsxs("tr",{id:v.code,children:[e.jsx("td",{children:v.code}),e.jsx("td",{className:"text-capitalize",children:v.name}),e.jsxs("td",{children:["K",v.price>0&&v.price.toLocaleString()]}),e.jsx("td",{style:{width:"8rem"},children:a===v._id?e.jsx(p.Control,{type:"number",size:"sm",readOnly:S.role!=="admin",value:o,className:"text-center",onChange:k=>l(k.target.value)}):v.ostock}),e.jsx("td",{className:v.received>0?"text-info":"",children:v.received}),e.jsx("td",{style:{width:"8rem"},children:a===v._id?e.jsx(p.Control,{type:"number",size:"sm",value:d,className:"text-center",onChange:k=>h(k.target.value)}):v.damage}),e.jsx("td",{style:{width:"8rem"},className:v.cstock<0?"text-danger":"",children:a===v._id?e.jsx(p.Control,{ref:f,type:"number",size:"sm",autoFocus:!0,value:u,className:"text-center",onChange:k=>m(k.target.value)}):v.cstock}),e.jsxs("td",{className:v.ostock+v.received-v.damage-v.cstock<0?"text-danger":v.ostock+v.received-v.damage-v.cstock===0?"text-muted":"",children:["K",v.code>0&&((v.ostock+v.received-v.damage-v.cstock)*v.price).toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",style:{width:"10rem"},children:a===v._id?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(D,{size:"sm",disabled:j,variant:"outline-success",type:"submit",children:e.jsx("span",{children:"✓"})}),e.jsx(D,{size:"sm",variant:"outline-danger",onClick:()=>E(),children:e.jsx("span",{children:"✕"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"sm",variant:"outline-secondary",onClick:()=>N(v._id),className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),S!==null&&S.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Nj,{endpoint:Ej,id:v._id,shiftId:x._id}),e.jsx(kj,{stock:v,id:x._id})]})]})})]},v.code))})]})]})}function WR({show:t,handleClose:n,result:s,id:r}){const[a,i]=c.useState({code:"",name:"",amount:""}),[o,l]=c.useState(!1);c.useEffect(()=>{s&&i({code:s.code,name:s.name,amount:""})},[s]);const d=j=>{const{name:y,value:f}=j.target;i(x=>({...x,[y]:f}))},u=VR(()=>{o||(l(!0),T.post(`${Wt}/${r}/addtoreceived`,a).then(()=>{n(),l(!1)}).catch(j=>{console.log(j),l(!1)}))},200),m=j=>{j.preventDefault(),u()};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:n,disabled:!0,children:"New"}),e.jsxs(g,{show:t,onHide:n,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Received"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:m,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Code"}),e.jsx(p.Control,{type:"number",autoComplete:"off",name:"code",value:a.code,onChange:d,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",name:"name",value:a.name,onChange:d,readOnly:!0})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Quantity"}),e.jsx(p.Control,{autoFocus:!0,type:"number",autoComplete:"off",name:"amount",value:a.amount,onChange:d,required:!0})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:o,children:"Submit"})]})})]})]})}function VR(t,n){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{t(...r)},n)}}function w0({endpoint:t,id:n,shiftId:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Wt}/${s}/${t}/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}const QR="deletereceived";function JR({activeTab:t}){const[n,s]=c.useState([]),[r,a]=c.useState([]),[i,o]=c.useState([]),[l,d]=c.useState(!1),[h,u]=c.useState(null),[m,j]=c.useState(""),[y,f]=c.useState(!1),{shopWShift:x}=c.useContext(ti);c.useEffect(()=>{Object.keys(x).length!==0&&(s(x.received),a(x.stock),o(x.stock),f(!0))},[x]),c.useEffect(()=>{const v=k=>{const $=document.getElementById("searchInput"),C=document.getElementById("resultsList");$&&C&&!$.contains(k.target)&&!C.contains(k.target)&&d(!1)};return document.addEventListener("click",v),()=>{document.removeEventListener("click",v)}},[]);const S=v=>{const k=v.target.value.toLowerCase(),$=r.filter(C=>C.name.toLowerCase().includes(k)||C.code.toString().includes(k));o($),d(!0),d(!!k)},N=v=>{u(v),d(!1)},b=()=>{u(null),j(""),f(!0)},E=c.useCallback(()=>{const v=document.getElementById("searchInput");t==="received"&&v&&v.focus(),y&&t==="received"&&v&&(v.focus(),f(!1))},[t,y]);return c.useEffect(()=>{E()},[t,E]),c.useEffect(()=>{E()},[t,y,E]),e.jsxs(te,{children:[e.jsx("div",{className:"w-50",children:e.jsxs(p,{onSubmit:v=>v.preventDefault(),children:[e.jsxs(Ja,{className:"mb-3",children:[e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,placeholder:"Code",name:"search",id:"searchInput",onChange:v=>{S(v),j(v.target.value)},value:m}),e.jsx(WR,{show:h!==null,result:h,handleClose:b,id:x._id})]}),l&&e.jsx("ul",{id:"resultsList",className:"list-group",style:{position:"absolute",zIndex:1,width:"50%",cursor:"pointer"},children:i.map(v=>e.jsxs("li",{className:"list-group-item text-capitalize",onClick:()=>N(v),children:[v.code," - ",v.name]},v.code))})]})}),e.jsxs(ee,{className:"text-center",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:n.map(v=>e.jsxs("tr",{id:v._id,children:[e.jsx("td",{children:v.code}),e.jsx("td",{className:"text-capitalize",children:v.name}),e.jsx("td",{children:v.amount}),e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(w0,{endpoint:QR,id:v._id,shiftId:x._id})})]},v._id))})]})]})}function XR({shift:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(!1),h=()=>s(!1),u=()=>s(!0),m=async j=>{j.preventDefault(),d(!0),await T.post(`${Wt}/${t._id}/addtocredit`,{description:r,amount:i}).then(()=>{a(""),o(""),h(),d(!1)}).catch(y=>{console.log(y),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",size:"sm",onClick:u,children:"New"}),e.jsxs(g,{show:n,onHide:()=>{h(),a(""),o("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Credit"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j=>m(j),children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Description"}),e.jsx(p.Control,{type:"text",autoFocus:!0,autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:j=>o(j.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:l,children:"Submit"})]})})]})]})}const ZR="deletecredit";function e2(){const[t,n]=c.useState([]),{shopWShift:s}=c.useContext(ti);return c.useEffect(()=>{Object.keys(s).length!==0&&n(s.credit)},[s]),e.jsxs(te,{children:[e.jsxs("div",{className:"d-flex justify-content-between py-2",children:[e.jsx("h6",{children:"Credit"}),e.jsx(XR,{shift:s})]}),e.jsxs(ee,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"A"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map(r=>e.jsxs("tr",{id:Math.floor(Math.random()*1e5),children:[e.jsx("td",{className:"text-capitalize",children:r.description}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),e.jsx("td",{className:"d-flex justify-content-center align-items-center ",children:e.jsx(w0,{endpoint:ZR,id:r._id,shiftId:s._id})})]},Math.floor(Math.random()*1e5)))})]})]})}function t2({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Wt}/${t}/addtocash`,{amount:n}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-info",onClick:d,size:"sm",children:"New"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cash"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function n2({endpoint:t,id:n,amount:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),T.delete(`${Wt}/${n}/${t}/${s}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}const s2="deletecash";function r2(){const[t,n]=c.useState([]),{shopWShift:s}=c.useContext(ti);return c.useEffect(()=>{Object.keys(s).length!==0&&n(s.cash)},[s]),e.jsx(te,{children:e.jsx(Ne,{children:e.jsxs(Y,{children:[e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("h5",{children:"Cash"}),e.jsxs("h5",{children:["Total: K ",t.reduce((r,a)=>r+a,0).toLocaleString()]}),e.jsx(t2,{id:s._id})]}),e.jsx(Fn,{children:e.jsx(et,{variant:"flush",children:t.map(r=>e.jsxs(et.Item,{id:Math.floor(Math.random()*1e5),className:"d-flex justify-content-between ",children:["K",r.toLocaleString(),e.jsx(n2,{endpoint:s2,id:s._id,amount:r})]},Math.floor(Math.random()*1e5)))})})]})})})}function a2({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Wt}/${t}/addcashier`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Cashier"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function i2({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Wt}/${t}/addaccountant`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Acountant"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function o2({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=u=>{u.preventDefault(),o(!0),T.post(`${Wt}/${t}/addcheckedby`,{name:n.toLowerCase()}).then(()=>{s(""),l(),o(!1)}).catch(m=>{console.log(m),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-secondary",onClick:d,size:"sm",children:"+"}),e.jsxs(g,{show:r,onHide:()=>{l(),s("")},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Chcke By"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",autoComplete:"off",required:!0,autoFocus:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function l2(){const[t,n]=c.useState(!1),[s,r]=c.useState(!1),a=()=>n(!1),i=()=>n(!0),o=l=>{l.preventDefault(),r(!0),T.post(`${Wt}/newshift`).then(()=>{r(!1),a()}).catch(d=>{console.log(d),r(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"lg",variant:"primary",onClick:i,children:"Next Shift"}),e.jsxs(g,{show:t,onHide:a,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Next Shift"})}),e.jsx(g.Body,{children:e.jsx("p",{className:"display-6 text-center ",children:"Are you sure you want the next shift ?"})}),e.jsxs(g.Footer,{children:[e.jsx(D,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(D,{variant:"primary",type:"submit",onClick:o,disabled:s,children:"Yes"})]})]})]})}function c2({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>o(!1),d=()=>o(!0),h=u=>{u.preventDefault(),a(!0),T.post(`${Wt}/${t}/adddatein`,{date:n}).then(()=>{s(""),l(),a(!1)}).catch(m=>{console.log(m),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:d,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center ms-2 ",children:"+"}),e.jsxs(g,{show:i,onHide:()=>{l()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:h,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:u=>s(u.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:r,children:"Submit"})]})})]})]})}function d2(){const[t,n]=c.useState([]),[s,r]=c.useState(!0),[a,i]=c.useState({}),{shopWShift:o}=c.useContext(ti),{user:l}=c.useContext(he);c.useEffect(()=>{i(o)},[o]);let d=0;if(Object.keys(a).length>0){const f=x=>(x.ostock+x.received-x.damage-x.cstock)*x.price;d=a.stock.reduce((x,S)=>x+f(S),0)}const h=c.useCallback(()=>{if(Object.keys(a).length>0){const f=a.cashier.length,x=a.acountant.length,S=a.dateIn.length,N=a.checkedBy.length;f>0&&x>0&&S>0&&N>0?r(!1):r(!0)}},[a]);c.useEffect(()=>{Object.keys(a).length>0&&n(a.cash.reduce((f,x)=>f+x,0)+a.credit.reduce((f,x)=>f+x.amount,0)-d),h()},[a,d,h]);const u=f=>{T.post(`${Wt}/${a._id}/removecashier`,{name:f.toLowerCase()}).then(()=>{h()})},m=()=>{T.post(`${Wt}/${a._id}/removeaccountant`).then(()=>{h()})},j=()=>{T.post(`${Wt}/${a._id}/removecheckedby`).then(()=>{h()})},y=()=>{T.post(`${Wt}/${a._id}/deletedatein`).then(()=>{h()})};return Object.keys(a).length===0?null:e.jsx(te,{children:Object.keys(a).length!==0&&e.jsxs(Ne,{className:"mx-1",children:[e.jsxs(Y,{className:"d-flex flex-column align-items-center border pt-3 me-1 ",children:[e.jsxs("p",{children:["Cash : K",a.cash.reduce((f,x)=>f+x,0).toLocaleString()]}),e.jsxs("p",{children:["Credit: K",a.credit.reduce((f,x)=>f+x.amount,0).toLocaleString()]}),l!==null&&l.role==="admin"&&e.jsxs("p",{children:["Sales Total : K",d.toLocaleString()]}),e.jsx("hr",{className:" w-100 "}),l&&l.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:" w-100 "}),e.jsxs("p",{className:"display-6",children:["Result : K",e.jsx("span",{className:t<0?"text-danger":"",children:t.toLocaleString()})]})]})]}),e.jsxs(Y,{className:"border py-3 ms-1 ",children:[e.jsx("p",{className:"text-center text-muted ",children:"Double click on any of the fields below to delete"}),e.jsx("div",{className:"d-flex justify-content-around",children:e.jsxs("div",{className:"d-flex align-items-center prevent-select",children:[e.jsx("h6",{className:"me-1",children:"Date :"}),a.dateIn.length>0?e.jsxs("h6",{onDoubleClick:y,style:{cursor:"pointer"},children:[" ",a.dateIn]}):e.jsx(c2,{id:a._id})]})}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex justify-content-evenly",children:[e.jsx("h6",{className:"d-flex align-items-center",children:"Cashier : "}),a.cashier.map(f=>e.jsx("h6",{className:"pt-1 prevent-select text-capitalize ",style:{cursor:"pointer"},onDoubleClick:()=>u(f),children:f},f)),a.cashier.length>=0&&a.cashier.length<1&&e.jsx(a2,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Accountant : "}),a.acountant.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>m(),children:a.acountant})}):e.jsx(i2,{id:a._id})]}),e.jsx("hr",{className:" w-100 "}),e.jsxs("div",{className:"d-flex align-items-center justify-content-evenly",children:[e.jsx("h6",{children:"Checked By : "}),a.checkedBy.length>0?e.jsx(e.Fragment,{children:e.jsx("h6",{className:"ms-2 pt-1 prevent-select text-capitalize",style:{cursor:"pointer"},onDoubleClick:()=>j(),children:a.checkedBy})}):l&&l.role==="admin"&&e.jsx(o2,{id:a._id})]}),e.jsx("div",{className:"d-flex justify-content-center mt-5 ",children:!s&&e.jsx(l2,{id:a._id})})]})]})})}function u2({shiftId:t,fetchData:n,disableDeleteBtn:s,setDisableDeleteBtn:r}){const[a,i]=c.useState(!1),[o,l]=c.useState(!1),d=()=>i(!1),h=()=>i(!0),u=()=>{l(!0),T.delete(`${Wt}/${t}`).then(()=>{window.location.reload(),d()}).catch(m=>{console.error(m),l(!1),d()}),setTimeout(()=>{n(),l(!1),d()},50)};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:()=>{h(),r(!0)},disabled:s,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:a,onHide:d,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:o,onClick:()=>{u()},children:"Yes"})]})]})]})}function h2(){const[t,n]=c.useState([]),[s,r]=c.useState(!1),a=()=>{T.get(`${Wt}/shifts`).then(h=>{n(h.data),r(!1)}).catch(h=>{console.log(h)})};c.useEffect(()=>{a()},[]);const i=()=>{const h={};t.forEach(m=>{const j=m.date?m.date.split("-")[1]:"undefined";h[j]||(h[j]=[]),h[j].push(m)});const u=Object.keys(h).sort((m,j)=>{var N,b;if(m==="undefined")return-1;if(j==="undefined")return 1;const y=(N=h[m][0])==null?void 0:N.dateIn,f=(b=h[j][0])==null?void 0:b.dateIn;if(!y||!f)return 0;const x=new Date(y);return new Date(f)-x});return u.forEach(m=>{h[m].sort((j,y)=>{const f=j.dateIn?new Date(j.dateIn).getTime():null,x=y.dateIn?new Date(y.dateIn).getTime():null;return!f&&!x?0:f?x?x-f:1:-1})}),{sortedMonths:u,groupedShifts:h}},{sortedMonths:o,groupedShifts:l}=i(),d=h=>{let u=0;return Object.keys(l).length>0&&(u=l[h].map(m=>m.cash.reduce((j,y)=>j+y,0)),u=u.reduce((m,j)=>m+j,0)),u.toLocaleString()};return e.jsxs(te,{children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(D,{variant:"outline-primary",onClick:a,className:"mb-3",children:"Refetch"})}),e.jsxs(ee,{bordered:!0,className:"text-center text-capitalize",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"15%"},children:"Date"}),e.jsx("th",{style:{width:"15%"},children:"Checked By"}),e.jsx("th",{style:{width:"15%"},children:"Acountant"}),e.jsx("th",{children:"Cashier"}),e.jsx("th",{style:{width:"15%"},children:"Cash"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),o.map(h=>e.jsxs("tbody",{className:"table-group-divider",children:[l[h].map(u=>e.jsxs("tr",{children:[e.jsx("td",{children:u.dateIn}),e.jsx("td",{children:u.checkedBy}),e.jsx("td",{children:u.acountant}),e.jsx("td",{className:"d-flex flex-row gap-1 justify-content-center",children:u.cashier.map(m=>e.jsxs("span",{className:"d-block ",children:[m," "]},m))}),e.jsxs("td",{children:["K",u.cash.reduce((m,j)=>m+j,0).toLocaleString()]}),e.jsx("td",{children:u.status}),e.jsxs("td",{className:"d-flex flex-row gap-1 justify-content-center",children:[e.jsx(Me,{to:`/shopw/${u._id}`,style:{textDecoration:"none"},children:e.jsx(D,{variant:"outline-primary me-1",size:"sm",children:"V"})}),u.status==="current"&&e.jsx(u2,{shiftId:u._id,fetchData:a,disableDeleteBtn:s,setDisableDeleteBtn:r})]})]},u._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3}),e.jsx("th",{children:"Total"}),e.jsxs("th",{colSpan:1,children:["K",d(h)]}),e.jsx("td",{colSpan:2})]})]},h))]})]})}function f2(){const[t,n]=c.useState("stock"),{user:s}=c.useContext(he);c.useEffect(()=>{document.title="Yussman - Shop W"},[]);const r=i=>{n(i)},a=()=>{const i=document.getElementById("searchInput");i&&i.focus()};return e.jsx(e.Fragment,{children:e.jsx(te,{fluid:!0,className:"py-3",children:e.jsxs(Ft,{activeKey:t,onSelect:r,id:"shopW",className:"mb-3",justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsx(YR,{})}),e.jsx(X,{eventKey:"received",title:"Received",children:e.jsx(JR,{activeTab:t,onModalClose:a})}),e.jsx(X,{eventKey:"credit",title:"Cash / Credit",children:e.jsxs(Ne,{children:[e.jsx(Y,{children:e.jsx(r2,{})}),e.jsx(Y,{children:e.jsx(e2,{})})]})}),e.jsx(X,{eventKey:"final",title:"Final",children:e.jsx(d2,{})}),s!==null&&s.role==="admin"&&e.jsx(X,{eventKey:"allShifts",title:"All Shifts",children:e.jsx(h2,{})})]})})})}function m2({employee:t}){const[n,s]=c.useState(!1),r=()=>{s(!1),$()},a=()=>s(!0),[i,o]=c.useState(!1),[l,d]=c.useState(""),[h,u]=c.useState(""),[m,j]=c.useState(""),[y,f]=c.useState(""),[x,S]=c.useState(""),[N,b]=c.useState(""),[E,v]=c.useState(""),k=c.useCallback(()=>{Object.keys(t).length>0&&(d(t.nrc),u(t.firstName),j(t.lastName),f(t.number),S(t.dailySalary),b(t.section))},[t]);c.useEffect(()=>{k()},[t,k]);const $=()=>{k()},C=w=>{if(w.preventDefault(),!i){if(isNaN(parseFloat(x))){v("Salary must be a valid number.");return}o(!0),T.put(`${pr}/updateemployee/${t._id}`,{nrc:l,firstName:h.toLowerCase(),lastName:m.toLowerCase(),number:y,dailySalary:Number(x),section:N}).then(()=>{r(),o(!1)}).catch(A=>{v(A.message),o(!1)})}};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:a,variant:"outline-primary",className:"d-flex justify-content-center align-items-center",children:"Edit Employee"}),e.jsxs(g,{show:n,onHide:r,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Employee"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:C,children:[e.jsxs(p.Group,{className:"mb-3",controlId:"formBasicNrc",children:[e.jsx("p",{className:"text-danger",children:E}),e.jsx(p.Label,{children:"NRC"}),e.jsx(p.Control,{type:"text",placeholder:"Enter NRC",required:!0,autoComplete:"off",onChange:w=>d(w.target.value),value:l,autoFocus:!0})]}),e.jsxs(p.Group,{className:"mb-3",controlId:"formBasicFirstName",children:[e.jsx(p.Label,{children:"First Name"}),e.jsx(p.Control,{type:"text",placeholder:"Enter first name",required:!0,autoComplete:"off",onChange:w=>u(w.target.value),value:h})]}),e.jsxs(p.Group,{className:"mb-3",controlId:"formBasicLastName",children:[e.jsx(p.Label,{children:"Last Name"}),e.jsx(p.Control,{type:"text",placeholder:"Enter last name",required:!0,autoComplete:"off",onChange:w=>j(w.target.value),value:m})]}),e.jsxs(p.Group,{className:"mb-3",controlId:"formBasicNumber",children:[e.jsx(p.Label,{children:"Number"}),e.jsx(p.Control,{type:"text",placeholder:"Enter number",required:!0,autoComplete:"off",maxLength:10,minLength:10,onChange:w=>f(w.target.value),value:y})]}),e.jsxs(p.Group,{className:"mb-3",controlId:"formBasicSalry",children:[e.jsx(p.Label,{children:"Daily Salary"}),e.jsx(p.Control,{type:"text",placeholder:"Enter salary",required:!0,autoComplete:"off",onChange:w=>S(w.target.value),value:x})]}),e.jsxs(p.Group,{className:"mb-3",id:"formBasicSection",children:[e.jsx(p.Label,{children:"Section"}),e.jsxs(p.Select,{onChange:w=>b(w.target.value),value:N,required:!0,children:[e.jsx("option",{value:"",children:"Select section"}),e.jsx("option",{value:"restaurant",children:"Restaurant"}),e.jsx("option",{value:"shops",children:"Shops"}),e.jsx("option",{value:"booths",children:"Booths"}),e.jsx("option",{value:"blocks",children:"Blocks"}),e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"construction",children:"Construction"})]})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:i?"Submitting...":"Submit"})]})})]})]})}function p2({employee:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(!1),i=eo(),o=()=>s(!1),l=()=>s(!0),d=t.status==="active"?"outline-danger":"outline-primary",h=t.status==="active"?"Deactivate":"Activate";function u(){a(!0),T.post(`${pr}/togglestatus/${t._id}`).then(()=>{o(),a(!1),i("/employees")}).catch(m=>{console.log(m),a(!1)})}return e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"sm",variant:d,onClick:l,children:h}),e.jsxs(g,{show:n,onHide:o,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Deactivate Employee"})}),e.jsx(g.Body,{children:"Are you sure you want to Deactivate this employee?"}),e.jsxs(g.Footer,{children:[e.jsx(D,{variant:"outline-secondary",onClick:o,disabled:r,children:"Close"}),e.jsx(D,{variant:d,onClick:u,disabled:r,children:r?"Loading...":h})]})]})]})}function x2({employee:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(!1),h=eo(),u=()=>{s(!1),a("")},m=()=>s(!0);function j(y){y.preventDefault(),d(!0),T.post(`${pr}/togglecontract/${t._id}`,{contractStart:r,contractEnd:i}).then(()=>{u(),d(!1),h("/employees")}).catch(f=>{console.log(f),d(!1)})}return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-primary",onClick:m,children:"Sign Contract"}),e.jsxs(g,{show:n,onHide:u,backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Deactivate Employee"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:j,children:[e.jsxs(p.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[e.jsx(p.Label,{children:"Start Date"}),e.jsx(p.Control,{type:"date",required:!0,value:r,onChange:y=>a(y.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[e.jsx(p.Label,{children:"End Date"}),e.jsx(p.Control,{type:"date",required:!0,value:i,onChange:y=>o(y.target.value)})]}),e.jsx(D,{variant:"outline-primary",type:"submit",disabled:l,children:l?"Loading...":"Submit"})]})})]})]})}function j2(){const[t,n]=c.useState({}),[s,r]=c.useState(null),{id:a}=is(),{user:i}=c.useContext(he);c.useEffect(()=>{T.get(`${pr}/getemployee/${a}`).then(l=>{n(l.data.employee)}).catch(l=>{console.log(l)})},[a]),c.useEffect(()=>{if(!t.transactions||t.transactions===s)return;const l=t.transactions.filter(u=>u.status==="credit").reduce((u,m)=>u+m.amount,0),d=t.transactions.filter(u=>u.status==="shortage").reduce((u,m)=>u+m.amount,0),h=t.transactions.filter(u=>u.status==="salary").reduce((u,m)=>u+m.deduction,0);n(u=>({...u,creditOwed:l+d-h})),r(t.transactions)},[t.transactions,s]);const o=()=>{if(!t.transactions)return"";const l=t.transactions.filter(d=>d.status==="benefit");return l.length>0?l.reduce((h,u)=>new Date(h.date)>new Date(u.date)?h:u).date:""};return e.jsxs(te,{children:[e.jsxs("div",{className:"d-flex justify-content-evenly  mt-3",children:[e.jsx(Me,{to:"/employees",children:e.jsx(D,{variant:"outline-primary",children:"Go Back"})}),i&&i.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(m2,{employee:t}),t.status==="active"&&t.contract?e.jsx(x2,{employee:t}):"",e.jsx(p2,{employee:t})]})]}),e.jsxs(Ne,{className:"text-capitalize",children:[e.jsxs(Y,{className:"border my-3 me-2 p-3",xs:4,children:[e.jsxs(Ne,{xs:2,children:[e.jsx(Y,{className:"border-bottom",children:e.jsx("h6",{children:"Code "})}),e.jsx(Y,{className:"border-bottom border-start ",children:e.jsx("h6",{children:t.code})})]}),e.jsxs(Ne,{xs:2,children:[e.jsx(Y,{className:"border-bottom",children:e.jsx("h6",{children:"NRC"})}),e.jsx(Y,{className:"border-bottom border-start ",children:e.jsx("h6",{children:t.nrc})})]}),e.jsxs(Ne,{xs:2,children:[e.jsx(Y,{className:"border-bottom",children:e.jsx("h6",{children:"Full Name"})}),e.jsx(Y,{className:"border-bottom border-start ",children:e.jsx("h6",{children:t.firstName+" "+t.lastName})})]}),e.jsxs(Ne,{xs:2,children:[e.jsx(Y,{className:"border-bottom",children:e.jsx("h6",{children:"Number"})}),e.jsx(Y,{className:"border-bottom border-start ",children:e.jsx("h6",{children:t.number})})]}),e.jsxs(Ne,{xs:2,children:[e.jsx(Y,{className:"border-bottom",children:e.jsx("h6",{children:"Salary"})}),e.jsx(Y,{className:"border-bottom border-start ",children:e.jsxs("h6",{children:["K",t.dailySalary]})})]}),e.jsxs(Ne,{xs:2,children:[e.jsx(Y,{className:"border-bottom",children:e.jsx("h6",{children:"Credit"})}),e.jsx(Y,{className:"border-bottom border-start ",children:e.jsxs("h6",{children:["K",t.creditOwed]})})]}),e.jsxs(Ne,{xs:2,children:[e.jsx(Y,{className:"border-bottom",children:e.jsx("h6",{children:"Contract"})}),e.jsx(Y,{className:"border-bottom border-start ",children:e.jsx("h6",{children:t.contract==="true"?"Yes":"No"})})]}),t.contract==="true"&&e.jsxs(e.Fragment,{children:[e.jsxs(Ne,{xs:2,children:[e.jsx(Y,{className:"border-bottom",children:e.jsx("h6",{children:"Contract Start"})}),e.jsx(Y,{className:"border-bottom border-start ",children:e.jsx("h6",{children:t.contractStart})})]}),e.jsxs(Ne,{xs:2,children:[e.jsx(Y,{className:"border-bottom",children:e.jsx("h6",{children:"Contract End"})}),e.jsx(Y,{className:"border-bottom border-start ",children:e.jsx("h6",{children:t.contractEnd})})]})]}),o()!==""&&e.jsxs(Ne,{xs:2,children:[e.jsx(Y,{className:"border-bottom",children:e.jsx("h6",{children:"Benefit Collected on"})}),e.jsx(Y,{className:"border-bottom border-start ",children:e.jsx("h6",{children:o()})})]}),e.jsxs(Ne,{xs:2,children:[e.jsx(Y,{className:"border-bottom",children:e.jsx("h6",{children:"Full Time"})}),e.jsx(Y,{className:"border-bottom border-start",children:e.jsx("h6",{children:t.fullTime===!0?"Yes":"No"})})]}),t.section&&t.section!==""&&e.jsxs(Ne,{xs:2,children:[e.jsx(Y,{children:e.jsx("h6",{children:"Section"})}),e.jsx(Y,{className:"border-start ",children:e.jsx("h6",{children:t.section})})]})]}),e.jsx(Y,{className:"border my-3 me-2 p-2",children:e.jsxs(ee,{size:"sm text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Deducted"}),e.jsx("th",{children:"Collected"}),e.jsx("th",{children:"Status"})]})}),e.jsx("tbody",{children:t.transactions&&t.transactions.map(l=>e.jsxs("tr",{children:[e.jsx("td",{children:l.date}),l.status==="credit"|l.status==="benefit"|l.status==="shortage"|l.status==="allowance"?e.jsxs(e.Fragment,{children:[e.jsx("td",{}),e.jsx("td",{}),e.jsxs("td",{children:["K",l.amount]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("td",{children:["K",(l.days*l.dailySalary).toFixed(2)]}),e.jsxs("td",{children:["K",l.deduction]}),e.jsxs("td",{children:["K",(l.days*l.dailySalary-l.deduction).toFixed(2)]})]}),e.jsx("td",{children:l.status})]},l._id))})]})})]})]})}function g2(){const[t,n]=c.useState(null),[s,r]=c.useState({}),[a,i]=c.useState([]),[o,l]=c.useState([]),[d,h]=c.useState([]),[u,m]=c.useState([]),[j,y]=c.useState([]),[f,x]=c.useState([]),[S,N]=c.useState([]),{id:b}=is();c.useEffect(()=>{T.get(`${fn}/${b}`).then(v=>{n(v.data)}).catch(v=>{console.log(v)})},[b]),c.useEffect(()=>{E(t)},[t]),c.useEffect(()=>{t!==null&&(x(t.issued),N(t.received))},[t]);const E=v=>{if(v!==null){const k={},$={};v.received&&Array.isArray(v.received)&&v.received.forEach(w=>{const{code:A,quantity:B}=w;k[A]=(k[A]||0)+B}),v.issued&&Array.isArray(v.issued)&&v.issued.forEach(w=>{const{code:A,quantity:B}=w;$[A]=($[A]||0)+B});let C={...v,stock:v.stock.map(w=>{const{code:A,ostock:B,damage:H}=w,I=k[A]||0,L=$[A]||0,R=B+I-H-L;return{...w,received:I,issued:L,cstock:R}})};C.stock.sort((w,A)=>w.name.localeCompare(A.name)),r(C)}};return c.useEffect(()=>{if(Object.keys(s).length!==0){const v=s.stock.filter(A=>A.section==="drinks"),k=s.stock.filter(A=>A.section==="food"),$=s.stock.filter(A=>A.section==="other"),C=s.stock.filter(A=>A.section==="shopa1"),w=s.stock.filter(A=>A.section==="shopa2");i(v),l(k),h($),m(C),y(w)}},[s]),e.jsxs(te,{className:"my-3",children:[e.jsxs("div",{className:"text-capitalize d-flex justify-content-between p-3",children:[e.jsxs("h5",{className:"text-center",children:["Date: ",t==null?void 0:t.date]}),e.jsxs("h5",{className:"text-center",children:["Accountant: ",t==null?void 0:t.accountant]}),e.jsxs("h5",{className:"text-center",children:["Checked By: ",t==null?void 0:t.checkedBy]}),e.jsxs("h5",{className:"text-center",children:["Keeper: ",t==null?void 0:t.keeper]})]}),e.jsx("hr",{}),e.jsxs(Ft,{justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsxs(ee,{className:"text-center text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"OStock"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Issued"}),e.jsx("th",{children:"CStock"})]})}),e.jsx("tbody",{className:"table-group-divider",children:a.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:v.code}),e.jsx("td",{children:v.name}),e.jsx("td",{className:v.ostock===0?"text-muted":"",children:v.ostock.toFixed(2)}),e.jsx("td",{className:v.damage===0?"text-muted":v.damage<0?"text-danger":"",children:v.damage}),e.jsx("td",{className:v.received>0?"text-info":v.received===0?"text-muted":"",children:v.received}),e.jsx("td",{className:v.issued>0?"text-info":v.issued===0?"text-muted":"",children:v.issued}),e.jsx("td",{className:v.cstock<0?"text-danger":v.cstock===0?"text-muted":"",children:v.cstock.toFixed(2)})]},v._id))}),e.jsx("tbody",{className:"table-group-divider",children:o.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:v.code}),e.jsx("td",{children:v.name}),e.jsx("td",{className:v.ostock===0?"text-muted":"",children:v.ostock.toFixed(2)}),e.jsx("td",{className:v.damage===0?"text-muted":v.damage<0?"text-danger":"",children:v.damage}),e.jsx("td",{className:v.received>0?"text-info":v.received===0?"text-muted":"",children:v.received}),e.jsx("td",{className:v.issued>0?"text-info":v.issued===0?"text-muted":"",children:v.issued}),e.jsx("td",{className:v.cstock<0?"text-danger":v.cstock===0?"text-muted":"",children:v.cstock.toFixed(2)})]},v._id))}),e.jsx("tbody",{className:"table-group-divider",children:d.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:v.code}),e.jsx("td",{children:v.name}),e.jsx("td",{className:v.ostock===0?"text-muted":"",children:v.ostock.toFixed(2)}),e.jsx("td",{className:v.damage===0?"text-muted":v.damage<0?"text-danger":"",children:v.damage}),e.jsx("td",{className:v.received>0?"text-info":v.received===0?"text-muted":"",children:v.received}),e.jsx("td",{className:v.issued>0?"text-info":v.issued===0?"text-muted":"",children:v.issued}),e.jsx("td",{className:v.cstock<0?"text-danger":v.cstock===0?"text-muted":"",children:v.cstock.toFixed(2)})]},v._id))}),e.jsx("tbody",{className:"table-group-divider",children:u.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:v.code}),e.jsx("td",{children:v.name}),e.jsx("td",{className:v.ostock===0?"text-muted":"",children:v.ostock.toFixed(2)}),e.jsx("td",{className:v.damage===0?"text-muted":v.damage<0?"text-danger":"",children:v.damage}),e.jsx("td",{className:v.received>0?"text-info":v.received===0?"text-muted":"",children:v.received}),e.jsx("td",{className:v.issued>0?"text-info":v.issued===0?"text-muted":"",children:v.issued}),e.jsx("td",{className:v.cstock<0?"text-danger":v.cstock===0?"text-muted":"",children:v.cstock.toFixed(2)})]},v._id))}),e.jsx("tbody",{className:"table-group-divider",children:j.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:v.code}),e.jsx("td",{children:v.name}),e.jsx("td",{className:v.ostock===0?"text-muted":"",children:v.ostock.toFixed(2)}),e.jsx("td",{className:v.damage===0?"text-muted":v.damage<0?"text-danger":"",children:v.damage}),e.jsx("td",{className:v.received>0?"text-info":v.received===0?"text-muted":"",children:v.received}),e.jsx("td",{className:v.issued>0?"text-info":v.issued===0?"text-muted":"",children:v.issued}),e.jsx("td",{className:v.cstock<0?"text-danger":v.cstock===0?"text-muted":"",children:v.cstock.toFixed(2)})]},v._id))})]})}),e.jsx(X,{eventKey:"issued",title:"Issued / Out",children:e.jsxs(ee,{bordered:!0,size:"sm",className:"text-center mt-3",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"To"})]})}),e.jsx("tbody",{className:"table-group-divider",children:f.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:v.code}),e.jsx("td",{className:"text-capitalize",children:v.name}),e.jsx("td",{children:v.quantity}),e.jsx("td",{className:"text-capitalize",children:v.to})]},v._id))})]})}),e.jsx(X,{eventKey:"received",title:"Received / In",children:e.jsxs(ee,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:S.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:v.code}),e.jsx("td",{className:"text-capitalize",children:v.name}),e.jsx("td",{children:v.quantity})]},v._id))})]})})]})]})}function y2(){const[t,n]=c.useState(null),[s,r]=c.useState({}),[a,i]=c.useState([]),[o,l]=c.useState([]),[d,h]=c.useState([]),[u,m]=c.useState([]),[j,y]=c.useState([]),[f,x]=c.useState([]),[S,N]=c.useState([]),{id:b}=is();c.useEffect(()=>{T.get(`${mn}/${b}`).then(v=>{n(v.data)}).catch(v=>{console.log(v)})},[b]),c.useEffect(()=>{E(t)},[t]),c.useEffect(()=>{t!==null&&(x(t.issued),N(t.received))},[t]);const E=v=>{if(v!==null){const k={},$={};v.received&&Array.isArray(v.received)&&v.received.forEach(w=>{const{code:A,quantity:B}=w;k[A]=(k[A]||0)+B}),v.issued&&Array.isArray(v.issued)&&v.issued.forEach(w=>{const{code:A,quantity:B}=w;$[A]=($[A]||0)+B});let C={...v,stock:v.stock.map(w=>{const{code:A,ostock:B,damage:H}=w,I=k[A]||0,L=$[A]||0,R=B+I-H-L;return{...w,received:I,issued:L,cstock:R}})};C.stock.sort((w,A)=>w.name.localeCompare(A.name)),r(C)}};return c.useEffect(()=>{if(Object.keys(s).length!==0){const v=s.stock.filter(A=>A.section==="drinks"),k=s.stock.filter(A=>A.section==="food"),$=s.stock.filter(A=>A.section==="other"),C=s.stock.filter(A=>A.section==="shopa1"),w=s.stock.filter(A=>A.section==="shopa2");i(v),l(k),h($),m(C),y(w)}},[s]),e.jsxs(te,{className:"my-3",children:[e.jsxs("div",{className:"text-capitalize d-flex justify-content-between p-3",children:[e.jsxs("h5",{className:"text-center",children:["Date: ",t==null?void 0:t.date]}),e.jsxs("h5",{className:"text-center",children:["Accountant: ",t==null?void 0:t.accountant]}),e.jsxs("h5",{className:"text-center",children:["Checked By: ",t==null?void 0:t.checkedBy]}),e.jsxs("h5",{className:"text-center",children:["Keeper: ",t==null?void 0:t.keeper]})]}),e.jsx("hr",{}),e.jsxs(Ft,{justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsxs(ee,{className:"text-center text-capitalize",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"OStock"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Issued"}),e.jsx("th",{children:"CStock"})]})}),e.jsx("tbody",{className:"table-group-divider",children:a.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:v.code}),e.jsx("td",{children:v.name}),e.jsx("td",{className:v.ostock===0?"text-muted":"",children:v.ostock.toFixed(2)}),e.jsx("td",{className:v.damage===0?"text-muted":v.damage<0?"text-danger":"",children:v.damage}),e.jsx("td",{className:v.received>0?"text-info":v.received===0?"text-muted":"",children:v.received}),e.jsx("td",{className:v.issued>0?"text-info":v.issued===0?"text-muted":"",children:v.issued}),e.jsx("td",{className:v.cstock<0?"text-danger":v.cstock===0?"text-muted":"",children:v.cstock.toFixed(2)})]},v._id))}),e.jsx("tbody",{className:"table-group-divider",children:o.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:v.code}),e.jsx("td",{children:v.name}),e.jsx("td",{className:v.ostock===0?"text-muted":"",children:v.ostock.toFixed(2)}),e.jsx("td",{className:v.damage===0?"text-muted":v.damage<0?"text-danger":"",children:v.damage}),e.jsx("td",{className:v.received>0?"text-info":v.received===0?"text-muted":"",children:v.received}),e.jsx("td",{className:v.issued>0?"text-info":v.issued===0?"text-muted":"",children:v.issued}),e.jsx("td",{className:v.cstock<0?"text-danger":v.cstock===0?"text-muted":"",children:v.cstock.toFixed(2)})]},v._id))}),e.jsx("tbody",{className:"table-group-divider",children:d.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:v.code}),e.jsx("td",{children:v.name}),e.jsx("td",{className:v.ostock===0?"text-muted":"",children:v.ostock.toFixed(2)}),e.jsx("td",{className:v.damage===0?"text-muted":v.damage<0?"text-danger":"",children:v.damage}),e.jsx("td",{className:v.received>0?"text-info":v.received===0?"text-muted":"",children:v.received}),e.jsx("td",{className:v.issued>0?"text-info":v.issued===0?"text-muted":"",children:v.issued}),e.jsx("td",{className:v.cstock<0?"text-danger":v.cstock===0?"text-muted":"",children:v.cstock.toFixed(2)})]},v._id))}),e.jsx("tbody",{className:"table-group-divider",children:u.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:v.code}),e.jsx("td",{children:v.name}),e.jsx("td",{className:v.ostock===0?"text-muted":"",children:v.ostock.toFixed(2)}),e.jsx("td",{className:v.damage===0?"text-muted":v.damage<0?"text-danger":"",children:v.damage}),e.jsx("td",{className:v.received>0?"text-info":v.received===0?"text-muted":"",children:v.received}),e.jsx("td",{className:v.issued>0?"text-info":v.issued===0?"text-muted":"",children:v.issued}),e.jsx("td",{className:v.cstock<0?"text-danger":v.cstock===0?"text-muted":"",children:v.cstock.toFixed(2)})]},v._id))}),e.jsx("tbody",{className:"table-group-divider",children:j.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:v.code}),e.jsx("td",{children:v.name}),e.jsx("td",{className:v.ostock===0?"text-muted":"",children:v.ostock.toFixed(2)}),e.jsx("td",{className:v.damage===0?"text-muted":v.damage<0?"text-danger":"",children:v.damage}),e.jsx("td",{className:v.received>0?"text-info":v.received===0?"text-muted":"",children:v.received}),e.jsx("td",{className:v.issued>0?"text-info":v.issued===0?"text-muted":"",children:v.issued}),e.jsx("td",{className:v.cstock<0?"text-danger":v.cstock===0?"text-muted":"",children:v.cstock.toFixed(2)})]},v._id))})]})}),e.jsx(X,{eventKey:"issued",title:"Issued / Out",children:e.jsxs(ee,{bordered:!0,size:"sm",className:"text-center mt-3",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"To"})]})}),e.jsx("tbody",{className:"table-group-divider",children:f.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:v.code}),e.jsx("td",{className:"text-capitalize",children:v.name}),e.jsx("td",{children:v.quantity}),e.jsx("td",{className:"text-capitalize",children:v.to})]},v._id))})]})}),e.jsx(X,{eventKey:"received",title:"Received / In",children:e.jsxs(ee,{bordered:!0,size:"sm",className:"text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:S.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:v.code}),e.jsx("td",{className:"text-capitalize",children:v.name}),e.jsx("td",{children:v.quantity})]},v._id))})]})})]})]})}function v2(){var I;c.useEffect(()=>{document.title="Yussman  - Register - Details"},[]);const[t,n]=c.useState({}),[s,r]=c.useState([]),[a,i]=c.useState([]),[o,l]=c.useState([]),[d,h]=c.useState([]),[u,m]=c.useState([]),[j,y]=c.useState(0),[f,x]=c.useState(0),[S,N]=c.useState(0),[b,E]=c.useState(0),[v,k]=c.useState(0),[$,C]=c.useState(0),{id:w}=is(),A=c.useCallback(()=>{T.get(`${dn}/${w}`).then(L=>{n(L.data)}).catch(L=>{console.log(L)})},[w]);let B=0,H=0;return Object.keys(t).length>0&&(B=t.stock.reduce((L,R)=>L+R.priceBought,0),H=t.expense.reduce((L,R)=>L+R.amount,0)),c.useEffect(()=>{A()},[A]),c.useEffect(()=>{if(Object.keys(t).length!==0){const L=t.stock.filter(je=>je.section==="local"),R=t.stock.filter(je=>je.section==="outside"),G=t.stock.filter(je=>je.section==="mearaj"),Z=t.stock.filter(je=>je.section==="ilyas"),ne=t.stock.filter(je=>je.section==="chansa");r(L),i(R),l(G),h(Z),m(ne);const M=L.reduce((je,le)=>je+le.priceBought,0),K=R.reduce((je,le)=>je+le.priceBought,0),F=G.reduce((je,le)=>je+le.priceBought,0),xe=Z.reduce((je,le)=>je+le.priceBought,0),ge=ne.reduce((je,le)=>je+le.priceBought,0);y(M),x(K),N(F),E(xe),k(ge);const _e=t.stock.reduce((je,le)=>je+(le.quantity*le.unitPrice-le.priceBought),0);C(_e)}},[t]),e.jsx(te,{fluid:"xxl",className:"my-3",children:Object.keys(t).length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-between text-capitalize",children:[e.jsxs("h5",{children:["Date : ",t.date]}),e.jsxs("h5",{children:["Name : ",t.name]}),e.jsxs("h5",{children:["Accountant : ",t.accountant]}),e.jsxs("h5",{children:["Cash : K",t.cash.toLocaleString()]}),e.jsxs("h5",{children:[" Change : K",t.change.toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-center gap-5  text-capitalize",children:[e.jsxs("h5",{children:["Total Bought : K",B.toLocaleString()]}),e.jsxs("h5",{children:["Total Expense : K",H.toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("div",{children:[e.jsxs("p",{className:B+H-t.cash+t.change<0?"text-danger display-6 text-center":"display-6 text-center",children:["Result : K",(B+H-t.cash+t.change).toLocaleString()]}),e.jsxs("p",{className:"text-center",children:["Faido : K",$.toLocaleString()]})]}),e.jsxs(Ft,{justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsxs(ee,{size:"sm",bordered:!0,className:" text-capitalize text-center mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Price Bought"}),e.jsx("th",{children:"Unit Price"}),e.jsx("th",{children:"Price Sold"}),e.jsx("th",{children:"Profit"}),e.jsx("th",{children:"From"})]})}),s.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[s==null?void 0:s.map((L,R)=>e.jsxs("tr",{children:[e.jsx("td",{children:R+1}),e.jsx("td",{children:L.code}),e.jsx("td",{children:L.name}),e.jsx("td",{children:L.quantity}),e.jsxs("td",{children:["K",L.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",L.unitPrice]}),e.jsxs("td",{children:["K",(L.quantity*L.unitPrice).toLocaleString()]}),e.jsxs("td",{className:L.quantity*L.unitPrice-L.priceBought<0?"text-danger":"",children:["K",(L.quantity*L.unitPrice-L.priceBought).toLocaleString()]}),e.jsxs("td",{className:(L.quantity*L.unitPrice-L.priceBought)/L.priceBought*100<30?"text-danger":"",children:[((L.quantity*L.unitPrice-L.priceBought)/L.priceBought*100).toFixed(2),"%"]}),e.jsx("td",{children:L.section})]},L._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",j.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),a.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[a==null?void 0:a.map((L,R)=>e.jsxs("tr",{children:[e.jsx("td",{children:R+1}),e.jsx("td",{children:L.code}),e.jsx("td",{children:L.name}),e.jsx("td",{children:L.quantity}),e.jsxs("td",{children:["K",L.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",L.unitPrice]}),e.jsxs("td",{children:["K",(L.quantity*L.unitPrice).toLocaleString()]}),e.jsxs("td",{className:L.quantity*L.unitPrice-L.priceBought<0?"text-danger":"",children:["K",(L.quantity*L.unitPrice-L.priceBought).toLocaleString()]}),e.jsxs("td",{className:(L.quantity*L.unitPrice-L.priceBought)/L.priceBought*100<30?"text-danger":"",children:[((L.quantity*L.unitPrice-L.priceBought)/L.priceBought*100).toFixed(2),"%"]}),e.jsx("td",{children:L.section})]},L._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",f.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),o.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[o==null?void 0:o.map((L,R)=>e.jsxs("tr",{children:[e.jsx("td",{children:R+1}),e.jsx("td",{children:L.code}),e.jsx("td",{children:L.name}),e.jsx("td",{children:L.quantity}),e.jsxs("td",{children:["K",L.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",L.unitPrice]}),e.jsxs("td",{children:["K",(L.quantity*L.unitPrice).toLocaleString()]}),e.jsxs("td",{className:L.quantity*L.unitPrice-L.priceBought<0?"text-danger":"",children:["K",(L.quantity*L.unitPrice-L.priceBought).toLocaleString()]}),e.jsxs("td",{className:(L.quantity*L.unitPrice-L.priceBought)/L.priceBought*100<30?"text-danger":"",children:[((L.quantity*L.unitPrice-L.priceBought)/L.priceBought*100).toFixed(2),"%"]}),e.jsx("td",{children:L.section})]},L._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",S.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),d.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[d==null?void 0:d.map((L,R)=>e.jsxs("tr",{children:[e.jsx("td",{children:R+1}),e.jsx("td",{children:L.code}),e.jsx("td",{children:L.name}),e.jsx("td",{children:L.quantity}),e.jsxs("td",{children:["K",L.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",L.unitPrice]}),e.jsxs("td",{children:["K",(L.quantity*L.unitPrice).toLocaleString()]}),e.jsxs("td",{className:L.quantity*L.unitPrice-L.priceBought<0?"text-danger":"",children:["K",(L.quantity*L.unitPrice-L.priceBought).toLocaleString()]}),e.jsxs("td",{className:(L.quantity*L.unitPrice-L.priceBought)/L.priceBought*100<30?"text-danger":"",children:[((L.quantity*L.unitPrice-L.priceBought)/L.priceBought*100).toFixed(2),"%"]}),e.jsx("td",{children:L.section})]},L._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",b.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]}),u.length>0&&e.jsxs("tbody",{className:"table-group-divider",children:[u==null?void 0:u.map((L,R)=>e.jsxs("tr",{children:[e.jsx("td",{children:R+1}),e.jsx("td",{children:L.code}),e.jsx("td",{children:L.name}),e.jsx("td",{children:L.quantity}),e.jsxs("td",{children:["K",L.priceBought.toLocaleString()]}),e.jsxs("td",{children:["K",L.unitPrice]}),e.jsxs("td",{children:["K",(L.quantity*L.unitPrice).toLocaleString()]}),e.jsxs("td",{className:L.quantity*L.unitPrice-L.priceBought<0?"text-danger":"",children:["K",(L.quantity*L.unitPrice-L.priceBought).toLocaleString()]}),e.jsxs("td",{className:(L.quantity*L.unitPrice-L.priceBought)/L.priceBought*100<30?"text-danger":"",children:[((L.quantity*L.unitPrice-L.priceBought)/L.priceBought*100).toFixed(2),"%"]}),e.jsx("td",{children:L.section})]},L._id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,children:"Total"}),e.jsxs("td",{children:["K",v.toLocaleString()]}),e.jsx("td",{colSpan:5})]})]})]})}),e.jsx(X,{eventKey:"expense",title:"Expenses",children:e.jsxs(ee,{size:"sm",bordered:!0,className:"text-capitalize text-center mt-2 ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Decription"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:(I=t.expense)==null?void 0:I.map((L,R)=>e.jsxs("tr",{children:[e.jsx("td",{children:R+1}),e.jsx("td",{children:L.description}),e.jsxs("td",{children:["K",L.amount]})]},L._id))})]})})]})]})})}function Pu({id:t,stock:n,getShift:s}){const[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(""),[h,u]=c.useState(!1),{user:m}=c.useContext(he);c.useEffect(()=>{Object.keys(n).length>0&&(a(n.ostock),o(n.damage),d(n.cstock))},[n]);const[j,y]=c.useState(!1),f=()=>y(!1),x=()=>y(!0),S=()=>{a(""),o(""),d("")},N=b=>{b.preventDefault(),u(!0);const E={ostock:Number(r),damage:Number(i),cstock:Number(l)};T.post(`${Ct}/${t}/editstock/${n._id}`,E).then(()=>{S(),f(),u(!1),s()}).catch(v=>{console.log(v),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:x,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:j,onHide:()=>{f()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:N,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Opening Stock"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,readOnly:m.role!=="admin",onChange:b=>a(b.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Damage"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:b=>o(b.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Closing Stock"}),e.jsx(p.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:l,onChange:b=>d(b.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:h,children:h?"Loading...":"Submit"})]})})]})]})}const S2=()=>{const[t,n]=c.useState({}),[s,r]=c.useState([]),[a,i]=c.useState([]),[o,l]=c.useState([]),[d,h]=c.useState([]),[u,m]=c.useState([]),[j,y]=c.useState([]),{id:f}=is(),{user:x}=c.useContext(he);let S=0,N=0;if(Object.keys(t).length>0){S=t.bus.filter($=>$.status==="collected").reduce(($,C)=>$+C.amount,0);const k=$=>($.ostock+$.received-$.damage-$.cstock)*$.price;N=s.stock.reduce(($,C)=>$+k(C),0)}c.useEffect(()=>{document.title="Yussman  - Restaurant - Details"},[]);const b=c.useCallback(()=>{T.get(`${Ct}/${f}`).then(k=>{n(k.data),E(k.data)}).catch(k=>{console.log(k)})},[f]);c.useEffect(()=>{b()},[b]),c.useEffect(()=>{Object.keys(t).length>0&&(m(t.cash.reduce((k,$)=>k+$,0)+S+t.credit.reduce((k,$)=>k+$.amount,0)-t.change.reduce((k,$)=>k+$,0)-N),y(t.received))},[t,S,N]);const E=k=>{if(k!==null){const $={};k.received&&Array.isArray(k.received)&&k.received.forEach(w=>{const A=w.code,B=w.amount;$[A]===void 0?$[A]=B:$[A]+=B});const C={...k,stock:k.stock.map(w=>{const A=w.code;return $[A]!==void 0?{...w,received:$[A]}:w})};C.stock.sort((w,A)=>w.name.localeCompare(A.name)),r(C)}};c.useEffect(()=>{if(Object.keys(t).length!==0){const k=s.stock.filter(w=>w.section==="drinks"),$=s.stock.filter(w=>w.section==="food"),C=s.stock.filter(w=>w.section==="bakery");i(k),l($),h(C)}},[s,t]);const v=k=>k.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return Object.keys(t).length===0?null:e.jsxs(te,{fluid:"xxl",children:[e.jsxs("div",{className:"d-flex justify-content-between mt-3 mx-3",children:[e.jsxs("p",{children:["Date : ",t.date]}),e.jsxs("p",{children:["Shift : ",t.shift]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("p",{children:"Cashiers : "}),t.cashier.map(k=>e.jsx("p",{className:"mx-2",children:k},Math.floor(Math.random()*1e4)))]}),e.jsxs("p",{children:["Accountant : ",t.acountant]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between mx-3",children:[e.jsxs("p",{children:["Cash : K",v(t.cash.reduce((k,$)=>k+$,0))]}),e.jsxs("p",{children:["Change : K",v(t.change.reduce((k,$)=>k+$,0))]}),e.jsxs("p",{children:["Bus : K",v(S)]}),e.jsxs("p",{children:["Credit : K",v(t.credit.reduce((k,$)=>k+$.amount,0))]}),e.jsxs("p",{children:["Sales : K",v(N)]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("p",{className:"display-6 text-center ",children:["Result : K",e.jsx("span",{className:u<0?"text-danger":"",children:v(u)})]})}),e.jsx("hr",{}),e.jsxs(Ft,{justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsxs(ee,{className:"text-center mt-3",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),x&&x.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:a.map(k=>e.jsxs("tr",{id:k.code,children:[e.jsx("td",{children:k.code}),e.jsx("td",{children:k.name}),e.jsxs("td",{children:["K",k.price]}),e.jsx("td",{children:k.ostock}),e.jsx("td",{className:k.received>0?"text-info":"",children:k.received}),e.jsx("td",{children:k.damage}),e.jsx("td",{className:k.cstock<0?"text-danger":"",children:k.cstock}),e.jsxs("td",{className:k.ostock+k.received-k.damage-k.cstock<0?"text-danger":"",children:["K",v((k.ostock+k.received-k.damage-k.cstock)*k.price)]}),x&&x.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Pu,{id:f,stock:k,getShift:b})})]},k.code))}),e.jsx("tbody",{className:"table-group-divider",children:o.map(k=>e.jsxs("tr",{id:k.code,children:[e.jsx("td",{children:k.code}),e.jsx("td",{children:k.name}),e.jsxs("td",{children:["K",k.price]}),e.jsx("td",{children:k.ostock}),e.jsx("td",{className:k.received>0?"text-info":"",children:k.received}),e.jsx("td",{children:k.damage}),e.jsx("td",{className:k.cstock<0?"text-danger":"",children:k.cstock}),e.jsxs("td",{className:k.ostock+k.received-k.damage-k.cstock<0?"text-danger":"",children:["K",v((k.ostock+k.received-k.damage-k.cstock)*k.price)]}),x&&x.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Pu,{id:f,stock:k,getShift:b})})]},k.code))}),e.jsx("tbody",{className:"table-group-divider",children:d.map(k=>e.jsxs("tr",{id:k.code,children:[e.jsx("td",{children:k.code}),e.jsx("td",{children:k.name}),e.jsxs("td",{children:["K",k.price]}),e.jsx("td",{children:k.ostock}),e.jsx("td",{className:k.received>0?"text-info":"",children:k.received}),e.jsx("td",{children:k.damage}),e.jsx("td",{className:k.cstock<0?"text-danger":"",children:k.cstock}),e.jsxs("td",{className:k.ostock+k.received-k.damage-k.cstock<0?"text-danger":"",children:["K",v((k.ostock+k.received-k.damage-k.cstock)*k.price)]}),x&&x.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(Pu,{id:f,stock:k,getShift:b})})]},k.code))})]})}),e.jsx(X,{eventKey:"received",title:"Received",children:e.jsxs(ee,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:j.map(k=>e.jsxs("tr",{id:k._id,children:[e.jsx("td",{children:k.code}),e.jsx("td",{className:"text-capitalize",children:k.name}),e.jsx("td",{children:k.amount})]},k._id))})]})}),e.jsx(X,{eventKey:"busses",title:"Busses",children:e.jsxs(Ne,{children:[e.jsxs(Y,{children:[e.jsx("h3",{className:"text-center",children:"Busses"}),e.jsxs(ee,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Bus Name"}),e.jsx("th",{children:"Driver"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.bus.map(k=>e.jsxs("tr",{children:[e.jsx("td",{children:k.name}),e.jsx("td",{children:k.driver}),e.jsx("td",{children:k.status}),e.jsxs("td",{children:["K",k.amount]})]},k._id))})]})]}),e.jsxs(Y,{children:[e.jsx("h3",{className:"text-center",children:"Topup"}),e.jsxs(ee,{className:"text-center",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.topup.map(k=>e.jsxs("tr",{children:[e.jsx("td",{children:k.name}),e.jsxs("td",{children:["K",k.amount]})]},k._id))})]})]})]})})]})]})};function b2({id:t,stock:n,getShift:s}){const[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(""),[h,u]=c.useState(!1),{user:m}=c.useContext(he);c.useEffect(()=>{Object.keys(n).length>0&&(a(n.ostock),o(n.damage),d(n.cstock))},[n]);const[j,y]=c.useState(!1),f=()=>y(!1),x=()=>y(!0),S=()=>{a(""),o(""),d("")},N=b=>{b.preventDefault(),u(!0);const E={ostock:Number(r),damage:Number(i),cstock:Number(l)};T.post(`${Lt}/${t}/editstock/${n._id}`,E).then(()=>{S(),f(),u(!1),s()}).catch(v=>{console.log(v),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:x,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:j,onHide:()=>{f()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:N,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Opening Stock"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,readOnly:m.role!=="admin",onChange:b=>a(b.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Damage"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:b=>o(b.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Closing Stock"}),e.jsx(p.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:l,onChange:b=>d(b.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:h,children:h?"Loading…":"Submit"})]})})]})]})}const C2=()=>{const[t,n]=c.useState({}),[s,r]=c.useState([]),[a,i]=c.useState([]),[o,l]=c.useState([]),{id:d}=is(),{user:h}=c.useContext(he);let u=0;if(t!=null&&Object.keys(t).length>0){const f=x=>(x.ostock+x.received-x.damage-x.cstock)*x.price;u=s.stock.reduce((x,S)=>x+f(S),0)}c.useEffect(()=>{document.title="Yussman  - Shop A1 - Details"},[]);const m=c.useCallback(()=>{T.get(`${Lt}/${d}`).then(f=>{n(f.data),j(f.data)}).catch(f=>{console.log(f)})},[d]);c.useEffect(()=>{m()},[m]),c.useEffect(()=>{t!=null&&Object.keys(t).length>0&&(i((t.cash.reduce((f,x)=>f+x,0)+t.credit.reduce((f,x)=>f+x.amount,0)-u).toFixed(2)),l(t.received))},[t,u]);const j=f=>{if(f!==null){const x={};f.received&&Array.isArray(f.received)&&f.received.forEach(N=>{const b=N.code,E=N.amount;x[b]===void 0?x[b]=E:x[b]+=E});const S={...f,stock:f.stock.map(N=>{const b=N.code;return x[b]!==void 0?{...N,received:x[b]}:N})};S.stock.sort((N,b)=>N.name.localeCompare(b.name)),r(S)}},y=f=>f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return t!=null&&Object.keys(t).length===0?null:e.jsxs(te,{fluid:"xxl",children:[e.jsxs("div",{className:"d-flex justify-content-between mt-3 mx-3",children:[e.jsxs("p",{children:["Date In: ",t.dateIn]}),e.jsxs("p",{children:["Date Out : ",t.dateOut]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("p",{children:"Cashier : "}),t.cashier.map(f=>e.jsx("p",{className:"mx-2",children:f},Math.floor(Math.random()*1e4)))]}),e.jsxs("p",{children:["Accountant : ",t.acountant]}),e.jsxs("p",{children:["Checked By : ",t.checkedBy]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between mx-3",children:[e.jsxs("p",{children:["Cash : K",y(t.cash.reduce((f,x)=>f+x,0))]}),e.jsxs("p",{children:["Credit : K",y(t.credit.reduce((f,x)=>f+x.amount,0))]}),e.jsxs("p",{children:["Sales : K",y(u)]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("p",{className:"display-6 text-center ",children:["Result : K",e.jsx("span",{className:Number(a)<0?"text-danger":"",children:y(a)})]})}),e.jsx("hr",{}),e.jsxs(Ft,{justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsxs(ee,{className:"text-center mt-3",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),h&&h.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.stock.map(f=>e.jsxs("tr",{id:f.code,children:[e.jsx("td",{children:f.code}),e.jsx("td",{children:f.name}),e.jsxs("td",{children:["K",f.price]}),e.jsx("td",{children:f.ostock}),e.jsx("td",{className:f.received>0?"text-info":"",children:f.received}),e.jsx("td",{children:f.damage}),e.jsx("td",{className:f.cstock<0?"text-danger":"",children:f.cstock}),e.jsxs("td",{className:f.ostock+f.received-f.damage-f.cstock<0?"text-danger":"",children:["K",y(((f.ostock+f.received-f.damage-f.cstock)*f.price).toFixed(2))]}),h&&h.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(b2,{id:d,stock:f,getShift:m})})]},f.code))})]})}),e.jsx(X,{eventKey:"received",title:"Received",children:e.jsxs(ee,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:o.map(f=>e.jsxs("tr",{id:f._id,children:[e.jsx("td",{children:f.code}),e.jsx("td",{className:"text-capitalize",children:f.name}),e.jsx("td",{children:f.amount})]},f._id))})]})})]})]})};function w2({id:t,stock:n,getShift:s}){const[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(""),[h,u]=c.useState(!1),{user:m}=c.useContext(he);c.useEffect(()=>{Object.keys(n).length>0&&(a(n.ostock),o(n.damage),d(n.cstock))},[n]);const[j,y]=c.useState(!1),f=()=>y(!1),x=()=>y(!0),S=()=>{a(""),o(""),d("")},N=b=>{b.preventDefault(),u(!0);const E={ostock:Number(r),damage:Number(i),cstock:Number(l)};T.post(`${Dt}/${t}/editstock/${n._id}`,E).then(()=>{S(),f(),u(!1),s()}).catch(v=>{console.log(v),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:x,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:j,onHide:()=>{f()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:N,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Opening Stock"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,readOnly:m.role!=="admin",onChange:b=>a(b.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Damage"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:b=>o(b.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Closing Stock"}),e.jsx(p.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:l,onChange:b=>d(b.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:h,children:h?"Loading…":"Submit"})]})})]})]})}const N2=()=>{const[t,n]=c.useState({}),[s,r]=c.useState([]),[a,i]=c.useState([]),[o,l]=c.useState([]),{id:d}=is(),{user:h}=c.useContext(he);let u=0;if(t!=null&&Object.keys(t).length>0){const f=x=>(x.ostock+x.received-x.damage-x.cstock)*x.price;u=s.stock.reduce((x,S)=>x+f(S),0)}c.useEffect(()=>{document.title="Yussman  - Shop A2 - Details"},[]);const m=c.useCallback(()=>{T.get(`${Dt}/${d}`).then(f=>{n(f.data),j(f.data)}).catch(f=>{console.log(f)})},[d]);c.useEffect(()=>{m()},[m]),c.useEffect(()=>{t!=null&&Object.keys(t).length>0&&(i((t.cash.reduce((f,x)=>f+x,0)+t.credit.reduce((f,x)=>f+x.amount,0)-u).toFixed(2)),l(t.received))},[t,u]);const j=f=>{if(f!==null){const x={};f.received&&Array.isArray(f.received)&&f.received.forEach(N=>{const b=N.code,E=N.amount;x[b]===void 0?x[b]=E:x[b]+=E});const S={...f,stock:f.stock.map(N=>{const b=N.code;return x[b]!==void 0?{...N,received:x[b]}:N})};S.stock.sort((N,b)=>N.name.localeCompare(b.name)),r(S)}},y=f=>f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return t!=null&&Object.keys(t).length===0?null:e.jsxs(te,{fluid:"xxl",children:[e.jsxs("div",{className:"d-flex justify-content-between mt-3 mx-3",children:[e.jsxs("p",{children:["Date In: ",t.dateIn]}),e.jsxs("p",{children:["Date Out : ",t.dateOut]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("p",{children:"Cashier : "}),t.cashier.map(f=>e.jsx("p",{className:"mx-2",children:f},Math.floor(Math.random()*1e4)))]}),e.jsxs("p",{children:["Accountant : ",t.acountant]}),e.jsxs("p",{children:["Checked By : ",t.checkedBy]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between mx-3",children:[e.jsxs("p",{children:["Cash : K",y(t.cash.reduce((f,x)=>f+x,0))]}),e.jsxs("p",{children:["Credit : K",y(t.credit.reduce((f,x)=>f+x.amount,0))]}),e.jsxs("p",{children:["Sales : K",y(u)]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("p",{className:"display-6 text-center ",children:["Result : K",e.jsx("span",{className:Number(a)<0?"text-danger":"",children:y(a)})]})}),e.jsx("hr",{}),e.jsxs(Ft,{justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsxs(ee,{className:"text-center mt-3",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),h&&h.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.stock.map(f=>e.jsxs("tr",{id:f.code,children:[e.jsx("td",{children:f.code}),e.jsx("td",{children:f.name}),e.jsxs("td",{children:["K",f.price]}),e.jsx("td",{children:f.ostock}),e.jsx("td",{className:f.received>0?"text-info":"",children:f.received}),e.jsx("td",{children:f.damage}),e.jsx("td",{className:f.cstock<0?"text-danger":"",children:f.cstock}),e.jsxs("td",{className:f.ostock+f.received-f.damage-f.cstock<0?"text-danger":"",children:["K",y(((f.ostock+f.received-f.damage-f.cstock)*f.price).toFixed(2))]}),h&&h.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(w2,{id:d,stock:f,getShift:m})})]},f.code))})]})}),e.jsx(X,{eventKey:"received",title:"Received",children:e.jsxs(ee,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:o.map(f=>e.jsxs("tr",{id:f._id,children:[e.jsx("td",{children:f.code}),e.jsx("td",{className:"text-capitalize",children:f.name}),e.jsx("td",{children:f.amount})]},f._id))})]})})]})]})};function k2({id:t,stock:n,getShift:s}){const[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(""),[h,u]=c.useState(!1),{user:m}=c.useContext(he);c.useEffect(()=>{Object.keys(n).length>0&&(a(n.ostock),o(n.damage),d(n.cstock))},[n]);const[j,y]=c.useState(!1),f=()=>y(!1),x=()=>y(!0),S=()=>{a(""),o(""),d("")},N=b=>{b.preventDefault(),u(!0);const E={ostock:Number(r),damage:Number(i),cstock:Number(l)};T.post(`${$t}/${t}/editstock/${n._id}`,E).then(()=>{S(),f(),u(!1),s()}).catch(v=>{console.log(v),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:x,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:j,onHide:()=>{f()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:N,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Opening Stock"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,readOnly:m.role!=="admin",onChange:b=>a(b.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Damage"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:b=>o(b.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Closing Stock"}),e.jsx(p.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:l,onChange:b=>d(b.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:h,children:"Submit"})]})})]})]})}const E2=()=>{const[t,n]=c.useState({}),[s,r]=c.useState([]),[a,i]=c.useState([]),[o,l]=c.useState([]),{id:d}=is(),{user:h}=c.useContext(he);let u=0;if(t!=null&&Object.keys(t).length>0){const f=x=>(x.ostock+x.received-x.damage-x.cstock)*x.price;u=s.stock.reduce((x,S)=>x+f(S),0)}c.useEffect(()=>{document.title="Yussman  - Shop B - Details"},[]);const m=c.useCallback(()=>{T.get(`${$t}/${d}`).then(f=>{n(f.data),j(f.data)}).catch(f=>{console.log(f)})},[d]);c.useEffect(()=>{m()},[m]),c.useEffect(()=>{t!=null&&Object.keys(t).length>0&&(i((t.cash.reduce((f,x)=>f+x,0)+t.credit.reduce((f,x)=>f+x.amount,0)-u).toFixed(2)),l(t.received))},[t,u]);const j=f=>{if(f!==null){const x={};f.received&&Array.isArray(f.received)&&f.received.forEach(N=>{const b=N.code,E=N.amount;x[b]===void 0?x[b]=E:x[b]+=E});const S={...f,stock:f.stock.map(N=>{const b=N.code;return x[b]!==void 0?{...N,received:x[b]}:N})};S.stock.sort((N,b)=>N.name.localeCompare(b.name)),r(S)}},y=f=>f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return t!=null&&Object.keys(t).length===0?null:e.jsxs(te,{fluid:"xxl",children:[e.jsxs("div",{className:"d-flex justify-content-between mt-3 mx-3",children:[e.jsxs("p",{children:["Date In: ",t.dateIn]}),e.jsxs("p",{children:["Date Out : ",t.dateOut]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("p",{children:"Cashier : "}),t.cashier.map(f=>e.jsx("p",{className:"mx-2",children:f},Math.floor(Math.random()*1e4)))]}),e.jsxs("p",{children:["Accountant : ",t.acountant]}),e.jsxs("p",{children:["Checked By : ",t.checkedBy]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between mx-3",children:[e.jsxs("p",{children:["Cash : K",y(t.cash.reduce((f,x)=>f+x,0))]}),e.jsxs("p",{children:["Credit : K",y(t.credit.reduce((f,x)=>f+x.amount,0))]}),e.jsxs("p",{children:["Sales : K",y(u)]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("p",{className:"display-6 text-center ",children:["Result : K",e.jsx("span",{className:Number(a)<0?"text-danger":"",children:y(a)})]})}),e.jsx("hr",{}),e.jsxs(Ft,{justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsxs(ee,{className:"text-center mt-3",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),h&&h.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.stock.map(f=>e.jsxs("tr",{id:f.code,children:[e.jsx("td",{children:f.code}),e.jsx("td",{children:f.name}),e.jsxs("td",{children:["K",f.price]}),e.jsx("td",{children:f.ostock}),e.jsx("td",{className:f.received>0?"text-info":"",children:f.received}),e.jsx("td",{children:f.damage}),e.jsx("td",{className:f.cstock<0?"text-danger":"",children:f.cstock}),e.jsxs("td",{className:f.ostock+f.received-f.damage-f.cstock<0?"text-danger":"",children:["K",y(((f.ostock+f.received-f.damage-f.cstock)*f.price).toFixed(2))]}),h&&h.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(k2,{id:d,stock:f,getShift:m})})]},f.code))})]})}),e.jsx(X,{eventKey:"received",title:"Received",children:e.jsxs(ee,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:o.map(f=>e.jsxs("tr",{id:f._id,children:[e.jsx("td",{children:f.code}),e.jsx("td",{className:"text-capitalize",children:f.name}),e.jsx("td",{children:f.amount})]},f._id))})]})})]})]})};function L2({id:t,stock:n,getShift:s}){const[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(""),[h,u]=c.useState(!1),{user:m}=c.useContext(he);c.useEffect(()=>{Object.keys(n).length>0&&(a(n.ostock),o(n.damage),d(n.cstock))},[n]);const[j,y]=c.useState(!1),f=()=>y(!1),x=()=>y(!0),S=()=>{a(""),o(""),d("")},N=b=>{b.preventDefault(),u(!0);const E={ostock:Number(r),damage:Number(i),cstock:Number(l)};T.post(`${Rt}/${t}/editstock/${n._id}`,E).then(()=>{S(),f(),u(!1),s()}).catch(v=>{console.log(v),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:x,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:j,onHide:()=>{f()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:N,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Opening Stock"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,readOnly:m.role!=="admin",onChange:b=>a(b.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Damage"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:b=>o(b.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Closing Stock"}),e.jsx(p.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:l,onChange:b=>d(b.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:h,children:"Submit"})]})})]})]})}const D2=()=>{const[t,n]=c.useState({}),[s,r]=c.useState([]),[a,i]=c.useState([]),[o,l]=c.useState([]),{id:d}=is(),{user:h}=c.useContext(he);let u=0;if(t!=null&&Object.keys(t).length>0){const f=x=>(x.ostock+x.received-x.damage-x.cstock)*x.price;u=s.stock.reduce((x,S)=>x+f(S),0)}c.useEffect(()=>{document.title="Yussman  - Shop C - Details"},[]);const m=c.useCallback(()=>{T.get(`${Rt}/${d}`).then(f=>{n(f.data),j(f.data)}).catch(f=>{console.log(f)})},[d]);c.useEffect(()=>{m()},[m]),c.useEffect(()=>{t!=null&&Object.keys(t).length>0&&(i((t.cash.reduce((f,x)=>f+x,0)+t.credit.reduce((f,x)=>f+x.amount,0)-u).toFixed(2)),l(t.received))},[t,u]);const j=f=>{if(f!==null){const x={};f.received&&Array.isArray(f.received)&&f.received.forEach(N=>{const b=N.code,E=N.amount;x[b]===void 0?x[b]=E:x[b]+=E});const S={...f,stock:f.stock.map(N=>{const b=N.code;return x[b]!==void 0?{...N,received:x[b]}:N})};S.stock.sort((N,b)=>N.name.localeCompare(b.name)),r(S)}},y=f=>f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return t!=null&&Object.keys(t).length===0?null:e.jsxs(te,{fluid:"xxl",children:[e.jsxs("div",{className:"d-flex justify-content-between mt-3 mx-3",children:[e.jsxs("p",{children:["Date In: ",t.dateIn]}),e.jsxs("p",{children:["Date Out : ",t.dateOut]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("p",{children:"Cashier : "}),t.cashier.map(f=>e.jsx("p",{className:"mx-2",children:f},Math.floor(Math.random()*1e4)))]}),e.jsxs("p",{children:["Accountant : ",t.acountant]}),e.jsxs("p",{children:["Checked By : ",t.checkedBy]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between mx-3",children:[e.jsxs("p",{children:["Cash : K",y(t.cash.reduce((f,x)=>f+x,0))]}),e.jsxs("p",{children:["Credit : K",y(t.credit.reduce((f,x)=>f+x.amount,0))]}),e.jsxs("p",{children:["Sales : K",y(u)]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("p",{className:"display-6 text-center ",children:["Result : K",e.jsx("span",{className:Number(a)<0?"text-danger":"",children:y(a)})]})}),e.jsx("hr",{}),e.jsxs(Ft,{justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsxs(ee,{className:"text-center mt-3",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),h&&h.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.stock.map(f=>e.jsxs("tr",{id:f.code,children:[e.jsx("td",{children:f.code}),e.jsx("td",{children:f.name}),e.jsxs("td",{children:["K",f.price]}),e.jsx("td",{children:f.ostock}),e.jsx("td",{className:f.received>0?"text-info":"",children:f.received}),e.jsx("td",{children:f.damage}),e.jsx("td",{className:f.cstock<0?"text-danger":"",children:f.cstock}),e.jsxs("td",{className:f.ostock+f.received-f.damage-f.cstock<0?"text-danger":"",children:["K",y(((f.ostock+f.received-f.damage-f.cstock)*f.price).toFixed(2))]}),h&&h.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx(L2,{id:d,stock:f,getShift:m})})]},f.code))})]})}),e.jsx(X,{eventKey:"received",title:"Received",children:e.jsxs(ee,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:o.map(f=>e.jsxs("tr",{id:f._id,children:[e.jsx("td",{children:f.code}),e.jsx("td",{className:"text-capitalize",children:f.name}),e.jsx("td",{children:f.amount})]},f._id))})]})})]})]})};function $2({id:t,stock:n,getShift:s}){const[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(""),[h,u]=c.useState(!1),{user:m}=c.useContext(he);c.useEffect(()=>{Object.keys(n).length>0&&(a(n.ostock),o(n.damage),d(n.cstock))},[n]);const[j,y]=c.useState(!1),f=()=>y(!1),x=()=>y(!0),S=()=>{a(""),o(""),d("")},N=b=>{b.preventDefault(),u(!0);const E={ostock:Number(r),damage:Number(i),cstock:Number(l)};T.post(`${Wt}/${t}/editstock/${n._id}`,E).then(()=>{S(),f(),u(!1),s()}).catch(v=>{console.log(v),u(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:x,variant:"outline-secondary",size:"sm",className:"d-flex justify-content-center align-items-center",children:e.jsx(ct,{})}),e.jsxs(g,{show:j,onHide:()=>{f()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Edit Stock"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:N,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Opening Stock"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,readOnly:m.role!=="admin",onChange:b=>a(b.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Damage"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:i,onChange:b=>o(b.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Closing Stock"}),e.jsx(p.Control,{type:"number",autoFocus:!0,autoComplete:"off",required:!0,value:l,onChange:b=>d(b.target.value)})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:h,children:"Submit"})]})})]})]})}const O2=()=>{const[t,n]=c.useState({}),[s,r]=c.useState([]),[a,i]=c.useState([]),[o,l]=c.useState([]),{id:d}=is(),{user:h}=c.useContext(he);let u=0;if(t!=null&&Object.keys(t).length>0){const f=x=>(x.ostock+x.received-x.damage-x.cstock)*x.price;u=s.stock.reduce((x,S)=>x+f(S),0)}c.useEffect(()=>{document.title="Yussman  - Shop W - Details"},[]);const m=c.useCallback(()=>{T.get(`${Wt}/${d}`).then(f=>{n(f.data),j(f.data)}).catch(f=>{console.log(f)})},[d]);c.useEffect(()=>{m()},[m]),c.useEffect(()=>{t!=null&&Object.keys(t).length>0&&(i((t.cash.reduce((f,x)=>f+x,0)+t.credit.reduce((f,x)=>f+x.amount,0)-u).toFixed(2)),l(t.received))},[t,u]);const j=f=>{if(f!==null){const x={};f.received&&Array.isArray(f.received)&&f.received.forEach(N=>{const b=N.code,E=N.amount;x[b]===void 0?x[b]=E:x[b]+=E});const S={...f,stock:f.stock.map(N=>{const b=N.code;return x[b]!==void 0?{...N,received:x[b]}:N})};S.stock.sort((N,b)=>N.name.localeCompare(b.name)),r(S)}},y=f=>f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return t!=null&&Object.keys(t).length===0?null:e.jsxs(te,{fluid:"xxl",children:[e.jsxs("div",{className:"d-flex justify-content-between mt-3 mx-3",children:[e.jsxs("p",{children:["Date In: ",t.dateIn]}),e.jsxs("p",{children:["Date Out : ",t.dateOut]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("p",{children:"Cashier : "}),t.cashier.map(f=>e.jsx("p",{className:"mx-2",children:f},Math.floor(Math.random()*1e4)))]}),e.jsxs("p",{children:["Accountant : ",t.acountant]}),e.jsxs("p",{children:["Checked By : ",t.checkedBy]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between mx-3",children:[e.jsxs("p",{children:["Cash : K",y(t.cash.reduce((f,x)=>f+x,0))]}),e.jsxs("p",{children:["Credit : K",y(t.credit.reduce((f,x)=>f+x.amount,0))]}),e.jsxs("p",{children:["Sales : K",y(u)]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("p",{className:"display-6 text-center ",children:["Result : K",e.jsx("span",{className:Number(a)<0?"text-danger":"",children:y(a)})]})}),e.jsx("hr",{}),e.jsxs(Ft,{justify:!0,children:[e.jsx(X,{eventKey:"stock",title:"Stock",children:e.jsxs(ee,{className:"text-center mt-3",bordered:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"O.Stock"}),e.jsx("th",{children:"Received"}),e.jsx("th",{children:"Damage"}),e.jsx("th",{children:"C.Stock"}),e.jsx("th",{children:"Total"}),h&&h.role==="admin"&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.stock.map(f=>e.jsxs("tr",{id:f.code,children:[e.jsx("td",{children:f.code}),e.jsx("td",{children:f.name}),e.jsxs("td",{children:["K",f.price]}),e.jsx("td",{children:f.ostock}),e.jsx("td",{className:f.received>0?"text-info":"",children:f.received}),e.jsx("td",{children:f.damage}),e.jsx("td",{className:f.cstock<0?"text-danger":"",children:f.cstock}),e.jsxs("td",{className:f.ostock+f.received-f.damage-f.cstock<0?"text-danger":"",children:["K",y(((f.ostock+f.received-f.damage-f.cstock)*f.price).toFixed(2))]}),h&&h.role==="admin"&&e.jsx("td",{className:"d-flex justify-content-center align-items-center",children:e.jsx($2,{id:d,stock:f,getShift:m})})]},f.code))})]})}),e.jsx(X,{eventKey:"received",title:"Received",children:e.jsxs(ee,{className:"text-center mt-3",size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{className:"table-group-divider",children:o.map(f=>e.jsxs("tr",{id:f._id,children:[e.jsx("td",{children:f.code}),e.jsx("td",{className:"text-capitalize",children:f.name}),e.jsx("td",{children:f.amount})]},f._id))})]})})]})]})},qd=c.createContext(),T2=(t,n)=>{switch(n.type){case"SET_CREDIT":return{credit:n.payload};default:return t}},A2=({children:t})=>{const[n,s]=c.useReducer(T2,{credit:null});return c.useEffect(()=>{T.get(ro).then(r=>{s({type:"SET_CREDIT",payload:r.data})})},[]),c.useEffect(()=>{En(mt).on("credit",a=>{s({type:"SET_CREDIT",payload:a})})},[]),e.jsx(qd.Provider,{value:{credit:n.credit,dispatch:s},children:t})};function B2(){const[t,n]=c.useState(!1),s=()=>{n(!1),j()},r=()=>n(!0),[a,i]=c.useState(!1),[o,l]=c.useState(""),[d,h]=c.useState(""),[u,m]=c.useState(""),j=()=>{l(""),h(""),m("")},y=f=>{f.preventDefault(),!a&&(isNaN(parseFloat(u))||(i(!0),T.post(`${ro}/newcredit`,{name:o.toLowerCase(),date:d,amount:Number(u)}).then(()=>{s(),i(!1)}).catch(x=>{console.log(x),i(!1)})))};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:r,variant:"outline-primary",className:"d-flex justify-content-center align-items-center",children:"Add Credit"}),e.jsxs(g,{show:t,onHide:s,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"New Credit"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:y,children:[e.jsxs(p.Group,{className:"mb-3",controlId:"formBasicNrc",children:[e.jsx(p.Label,{children:"Name"}),e.jsx(p.Control,{type:"text",placeholder:"Enter Name",required:!0,autoComplete:"off",onChange:f=>l(f.target.value),value:o,autoFocus:!0})]}),e.jsxs(p.Group,{className:"mb-3",controlId:"formBasicFirstName",children:[e.jsx(p.Label,{children:"Date"}),e.jsx(p.Control,{type:"date",required:!0,autoComplete:"off",onChange:f=>h(f.target.value),value:d})]}),e.jsxs(p.Group,{className:"mb-3",controlId:"formBasicLastName",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",placeholder:"Enter amount",required:!0,autoComplete:"off",onChange:f=>m(f.target.value),value:u})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:a,children:"Submit"})]})})]})]})}function N0({id:t}){const[n,s]=c.useState(!1),[r,a]=c.useState(!1),i=()=>s(!1),o=()=>s(!0),l=()=>{a(!0),!r&&T.delete(`${ro}/${t}`).then(()=>{i(),a(!1)}).catch(d=>{console.log(d),a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:o,className:"d-flex justify-content-center align-items-center",children:e.jsx(ze,{})}),e.jsxs(g,{show:n,onHide:i,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:r,onClick:()=>{l()},children:"Yes"})]})]})]})}function _2(){const[t,n]=c.useState([]),[s,r]=c.useState([]),{credit:a}=c.useContext(qd),{user:i}=c.useContext(he);if(c.useEffect(()=>{a!==null&&n(a.filter(o=>o.paid===!1))},[a]),c.useEffect(()=>{const l=t.map(d=>{const h=d.transactions.reduce((u,m)=>m.type==="add"?u+m.amount:m.type==="pay"?u-m.amount:u,d.amount);return{...d,balance:h}}).sort((d,h)=>new Date(h.date)-new Date(d.date));r(l)},[t]),a!==null)return e.jsxs(te,{className:"mt-3 text-capitalize text-center",children:[e.jsx("div",{className:"my-2 d-flex justify-content-center",children:e.jsx(B2,{})}),e.jsxs(ee,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:s.map((o,l)=>e.jsxs("tr",{children:[e.jsx("td",{children:l+1}),e.jsx("td",{children:o.date}),e.jsx("td",{children:o.name}),e.jsxs("td",{children:["K",o.amount.toLocaleString()]}),e.jsxs("td",{children:["K",o.balance.toLocaleString()]}),e.jsxs("td",{className:"d-flex gap-2 justify-content-center",children:[e.jsx(Me,{to:`/credit/${o._id}`,style:{textDecoration:"none"},children:e.jsx(D,{variant:"outline-primary me-1",size:"sm",children:"V"})}),i.role==="admin"&&e.jsx(N0,{id:o._id})]})]},o._id))})]})]})}function R2(){const[t,n]=c.useState([]),{credit:s}=c.useContext(qd),{user:r}=c.useContext(he);if(c.useEffect(()=>{s!==null&&n(s.filter(a=>a.paid===!0).sort((a,i)=>new Date(i.date)-new Date(a.date)))},[s]),s!==null)return e.jsx(te,{className:"mt-3 text-capitalize text-center",children:e.jsxs(ee,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{className:"table-group-divider",children:t.map((a,i)=>e.jsxs("tr",{children:[e.jsx("td",{children:i+1}),e.jsx("td",{children:a.date}),e.jsx("td",{children:a.name}),e.jsxs("td",{children:["K",a.amount.toLocaleString()]}),e.jsxs("td",{className:"d-flex justify-content-center gap-3",children:[e.jsx(Me,{to:`/credit/${a._id}`,className:"btn btn-outline-primary btn-sm",children:"V"}),r&&r.role==="admin"&&e.jsx(N0,{id:a._id})]})]},a._id))})]})})}function I2(){return c.useEffect(()=>{document.title="Yussman - Credit"},[]),e.jsx(te,{className:"py-4",children:e.jsxs(Ft,{justify:!0,children:[e.jsx(X,{eventKey:"unpaid",title:"Unpaid",children:e.jsx(_2,{})}),e.jsx(X,{eventKey:"paid",title:"Paid",children:e.jsx(R2,{})})]})})}function P2(t){return to({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"}}]})(t)}function Lj({creditId:t,id:n,disabled:s}){const[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=()=>a(!1),d=()=>a(!0),h=()=>{o(!0),!i&&T.delete(`${ro}/${t}/deletetransaction/${n}`).then(()=>{l(),o(!1)}).catch(u=>{console.log(u),o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline-danger",size:"sm",onClick:d,className:"d-flex justify-content-center align-items-center",disabled:!s,children:e.jsx(ze,{})}),e.jsxs(g,{show:r,onHide:l,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Delete!!"})}),e.jsxs(g.Body,{children:[e.jsx("p",{children:"Are you sure you want to delete ?"}),e.jsx(D,{variant:"outline-danger",disabled:i,onClick:()=>{h()},children:"Yes"})]})]})]})}function F2({disabled:t,id:n,balance:s}){const[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState(!1),[h,u]=c.useState(!1),m=()=>{u(!1),a(""),o("")},j=()=>u(!0),y=f=>{if(f.preventDefault(),l||isNaN(parseFloat(i)))return;const x=s===parseFloat(i);d(!0),T.post(`${ro}/${n}/newtransaction`,{date:r,type:"pay",amount:Number(i),paid:!!x}).then(()=>{m(),d(!1)}).catch(S=>{console.log(S),d(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:j,variant:"outline-info",className:"d-flex justify-content-center align-items-center ms-2",disabled:t,children:"Pay"}),e.jsxs(g,{show:h,onHide:()=>{m()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:y,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Date"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:r,onChange:f=>a(f.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:i,max:s,onChange:f=>o(f.target.value),autoFocus:!0})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:l,children:"Submit"})]})})]})]})}function M2({id:t}){const[n,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(!1),[l,d]=c.useState(!1),h=()=>{d(!1),s(""),a("")},u=()=>d(!0),m=j=>{j.preventDefault(),!i&&(isNaN(parseFloat(r))||(o(!0),T.post(`${ro}/${t}/newtransaction`,{date:n,type:"add",amount:Number(r),paid:!1}).then(()=>{h(),o(!1)}).catch(y=>{console.log(y),o(!1)})))};return e.jsxs(e.Fragment,{children:[e.jsx(D,{onClick:u,variant:"outline-primary",className:"d-flex justify-content-center align-items-center ms-2",children:"Add"}),e.jsxs(g,{show:l,onHide:()=>{h()},backdrop:"static",centered:!0,keyboard:!1,children:[e.jsx(g.Header,{closeButton:!0,children:e.jsx(g.Title,{children:"Add Date"})}),e.jsx(g.Body,{children:e.jsxs(p,{onSubmit:m,children:[e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Date"}),e.jsx(p.Control,{type:"date",autoComplete:"off",required:!0,value:n,onChange:j=>s(j.target.value)})]}),e.jsxs(p.Group,{className:"mb-3",children:[e.jsx(p.Label,{children:"Amount"}),e.jsx(p.Control,{type:"number",autoComplete:"off",required:!0,value:r,onChange:j=>a(j.target.value),autoFocus:!0})]}),e.jsx(D,{variant:"primary",type:"submit",disabled:i,children:"Submit"})]})})]})]})}function z2(){const{id:t}=is(),{credit:n}=c.useContext(qd),{user:s}=c.useContext(he);c.useEffect(()=>{if(document.title="Yussman - Credit Details",n!==null){const l=n.find(d=>d._id===t);a(l)}},[n,t]);const[r,a]=c.useState(null),[i,o]=c.useState(0);if(c.useEffect(()=>{if(r!==null){const l=r.transactions.reduce((d,h)=>h.type==="add"?d+h.amount:h.type==="pay"?d-h.amount:d,r.amount);o(l)}},[r]),r!==null)return e.jsxs(te,{className:"mt-3 text-capitalize text-center",children:[e.jsx("div",{className:"d-flex justify-content-start",children:e.jsxs(Me,{to:"/credit",className:"btn btn-outline-secondary btn-sm d-flex align-items-center",children:[e.jsx(P2,{}),"Back"]})}),e.jsxs("div",{className:"d-flex justify-content-around  align-items-center",children:[r!==null&&r.paid===!1&&e.jsx(M2,{id:r==null?void 0:r._id}),e.jsx("h2",{children:r.name}),r!==null&&r.paid===!1&&e.jsx(F2,{disabled:i<=0,id:r==null?void 0:r._id,balance:i})]}),e.jsx("hr",{}),e.jsxs(ee,{responsive:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Paid"}),e.jsx("th",{children:"Added"}),s&&s.role==="admin"&&r!==null&&r.paid===!1&&e.jsx("th",{children:"Actions"})]})}),e.jsxs("tbody",{className:"table-group-divider",children:[r!==null&&e.jsxs("tr",{children:[e.jsx("td",{children:r.date}),e.jsx("td",{children:"K0"}),e.jsxs("td",{children:["K",r.amount.toLocaleString()]}),s&&s.role==="admin"&&r!==null&&r.paid===!1&&e.jsx("td",{className:"d-flex justify-content-center",children:e.jsx(Lj,{disabled:!1})})]},r._id),r!==null&&r.transactions.map((l,d)=>e.jsxs("tr",{children:[e.jsx("td",{children:l.date}),l.type==="pay"?e.jsxs("td",{children:["K",l.amount.toLocaleString()]}):e.jsx("td",{children:"K0"}),l.type==="add"?e.jsxs("td",{children:["K",l.amount.toLocaleString()]}):e.jsx("td",{children:"K0"}),s&&s.role==="admin"&&r!==null&&r.paid===!1&&e.jsx("td",{className:"d-flex justify-content-center",children:e.jsx(Lj,{creditId:r._id,id:l._id,disabled:s.role==="admin"&&d===r.transactions.length-1})})]},l._id)),e.jsxs("tr",{children:[e.jsx("td",{className:"border",colSpan:s&&s.role==="admin"&&r!==null&&r.paid===!1?2:1,children:"Balance"}),e.jsxs("td",{className:"border",colSpan:2,children:["K",i.toLocaleString()]})]})]})]})]})}function H2(){const{user:t}=c.useContext(he);return e.jsxs(e.Fragment,{children:[e.jsx(kD,{}),e.jsxs(bS,{children:[e.jsx(st,{path:"/",element:t?e.jsx(ED,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/login",element:t?e.jsx(ht,{to:"/"}):e.jsx(GT,{})}),e.jsx(st,{path:"/goat/*",element:t?e.jsx(FO,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/restaurant",element:t?e.jsx(pT,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/chinsalirestaurant",element:t?e.jsx(UT,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/shopa1",element:t?e.jsx(y_,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/shopa2",element:t?e.jsx(U_,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/shopb",element:t?e.jsx(jR,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/shopc",element:t?e.jsx(UR,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/shopw",element:t?e.jsx(f2,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/store",element:t?e.jsx(pA,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/chinsalistore",element:t?e.jsx(BA,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/register",element:t?e.jsx(iB,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/chinsaliregister",element:t?e.jsx(wB,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/employees",element:t?e.jsx(YB,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/credit",element:t?e.jsx(I2,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/users",element:t&&t.role==="admin"?e.jsx(VT,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/restaurant/:id",element:t?e.jsx(QT,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/shopa1/:id",element:t?e.jsx(C2,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/shopa2/:id",element:t?e.jsx(N2,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/shopb/:id",element:t?e.jsx(E2,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/shopc/:id",element:t?e.jsx(D2,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/shopw/:id",element:t?e.jsx(O2,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/employees/:id",element:t?e.jsx(j2,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/store/:id",element:t?e.jsx(g2,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/chinsalistore/:id",element:t?e.jsx(y2,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/register/:id",element:t?e.jsx(v2,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/chinsaliregister/:id",element:t?e.jsx(NB,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/chinsalirestaurant/:id",element:t?e.jsx(S2,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"/credit/:id",element:t?e.jsx(z2,{}):e.jsx(ht,{to:"/login"})}),e.jsx(st,{path:"*",element:e.jsx(ht,{to:"/"})})]})]})}Fu.createRoot(document.getElementById("root")).render(e.jsx(It.StrictMode,{children:e.jsx(ND,{children:e.jsx(XT,{children:e.jsx(RA,{children:e.jsx(PA,{children:e.jsx(MA,{children:e.jsx(HA,{children:e.jsx(bR,{children:e.jsx(qA,{children:e.jsx(HO,{children:e.jsx(_O,{children:e.jsx($B,{children:e.jsx(A2,{children:e.jsx(gT,{children:e.jsx(jA,{children:e.jsx(lB,{children:e.jsx(cL,{children:e.jsx(H2,{})})})})})})})})})})})})})})})})})}));
